/**
 * Copyright (c) 2016-2019, The Cytoscape Consortium.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the “Software”), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
 * of the Software, and to permit persons to whom the Software is furnished to do
 * so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).cytoscape=t()}(this,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a="undefined"==typeof window?null:window,o=a?a.navigator:null,s=(a&&a.document,e("")),l=e({}),u=e(function(){}),c="undefined"==typeof HTMLElement?"undefined":e(HTMLElement),h=function(e){return e&&e.instanceString&&p(e.instanceString)?e.instanceString():null},d=function(t){return null!=t&&e(t)==s},p=function(t){return null!=t&&e(t)===u},f=function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},g=function(t){return null!=t&&e(t)===l&&!f(t)&&t.constructor===Object},v=function(t){return null!=t&&e(t)===e(1)&&!isNaN(t)},y=function(e){return"undefined"===c?void 0:null!=e&&e instanceof HTMLElement},m=function(e){return b(e)||x(e)},b=function(e){return"collection"===h(e)&&e._private.single},x=function(e){return"collection"===h(e)&&!e._private.single},w=function(e){return"core"===h(e)},E=function(e){return"stylesheet"===h(e)},k=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},C=function(t){return function(t){return null!=t&&e(t)===l}(t)&&p(t.then)},S=function(){return o&&o.userAgent.match(/msie|trident|edge/i)},D=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var r,i=arguments,a=t.apply(this,i),o=n.cache;return(r=o[a])||(r=o[a]=e.apply(this,i)),r};return n.cache={},n},P=D(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),T=D(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),M=D(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),B=function(e){return k(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},_="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",N=function(e,t){return e<t?-1:e>t?1:0},I=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var i=Object.keys(r),a=0;a<i.length;a++){var o=i[a];e[o]=r[o]}}return e},z=function(e){return(f(e)?e:null)||function(e){return L[e.toLowerCase()]}(e)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r;return 4===e.length?(t=parseInt(e[1]+e[1],16),n=parseInt(e[2]+e[2],16),r=parseInt(e[3]+e[3],16)):(t=parseInt(e[1]+e[2],16),n=parseInt(e[3]+e[4],16),r=parseInt(e[5]+e[6],16)),[t,n,r]}}(e)||function(e){var t,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(n){t=[];for(var r=[],i=1;i<=3;i++){var a=n[i];if("%"===a[a.length-1]&&(r[i]=!0),a=parseFloat(a),r[i]&&(a=a/100*255),a<0||a>255)return;t.push(Math.floor(a))}var o=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(o&&!s)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;t.push(l)}}return t}(e)||function(e){var t,n,r,i,a,o,s,l;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var c=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||r>100)return;if(r/=100,(i=parseFloat(c[3]))<0||i>100)return;if(i/=100,void 0!==(a=c[4])&&((a=parseFloat(a))<0||a>1))return;if(0===r)o=s=l=Math.round(255*i);else{var h=i<.5?i*(1+r):i+r-i*r,d=2*i-h;o=Math.round(255*u(d,h,n+1/3)),s=Math.round(255*u(d,h,n)),l=Math.round(255*u(d,h,n-1/3))}t=[o,s,l,a]}return t}(e)},L={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},A=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var a=n[i];if(g(a))throw Error("Tried to set map with object key");i<n.length-1?(null==t[a]&&(t[a]={}),t=t[a]):t[a]=e.value}},O=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var a=n[i];if(g(a))throw Error("Tried to get map with object key");if(null==(t=t[a]))return t}return t},R="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var F="Expected a function",V=NaN,q="[object Symbol]",j=/^\s+|\s+$/g,Y=/^[-+]0x[0-9a-f]+$/i,X=/^0b[01]+$/i,W=/^0o[0-7]+$/i,H=parseInt,K="object"==typeof R&&R&&R.Object===Object&&R,G="object"==typeof self&&self&&self.Object===Object&&self,Z=K||G||Function("return this")(),U=Object.prototype.toString,$=Math.max,Q=Math.min,J=function(){return Z.Date.now()};function ee(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function te(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&U.call(e)==q}(e))return V;if(ee(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ee(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(j,"");var n=X.test(e);return n||W.test(e)?H(e.slice(2),n?2:8):Y.test(e)?V:+e}var ne=function(e,t,n){var r,i,a,o,s,l,u=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError(F);function p(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=a}function g(){var e=J();if(f(e))return v(e);s=setTimeout(g,function(e){var n=t-(e-l);return h?Q(n,a-(e-u)):n}(e))}function v(e){return s=void 0,d&&r?p(e):(r=i=void 0,o)}function y(){var e=J(),n=f(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(g,t),c?p(e):o}(l);if(h)return s=setTimeout(g,t),p(l)}return void 0===s&&(s=setTimeout(g,t)),o}return t=te(t)||0,ee(n)&&(c=!!n.leading,a=(h="maxWait"in n)?$(te(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?o:v(J())},y},re=a?a.performance:null,ie=re&&re.now?function(){return re.now()}:function(){return Date.now()},ae=function(){if(a){if(a.requestAnimationFrame)return function(e){a.requestAnimationFrame(e)};if(a.mozRequestAnimationFrame)return function(e){a.mozRequestAnimationFrame(e)};if(a.webkitRequestAnimationFrame)return function(e){a.webkitRequestAnimationFrame(e)};if(a.msRequestAnimationFrame)return function(e){a.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(ie())},1e3/60)}}(),oe=function(e){return ae(e)},se=ie,le=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;!(t=e.next()).done;)n=33*n^t.value;return n>>>0},ue=function(e){return(33*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381)^e)>>>0},ce=function(e,t){var n={value:0,done:!1},r=0,i=e.length;return le({next:function(){return r<i?n.value=e[r++]:n.done=!0,n}},t)},he=function(e,t){var n={value:0,done:!1},r=0,i=e.length;return le({next:function(){return r<i?n.value=e.charCodeAt(r++):n.done=!0,n}},t)},de=function(){return pe(arguments)},pe=function(e){for(var t,n=0;n<e.length;n++){var r=e[n];t=0===n?he(r):he(r,t)}return t},fe=!0,ge=null!=console.warn,ve=null!=console.trace,ye=Number.MAX_SAFE_INTEGER||9007199254740991,me=function(){return!0},be=function(){return!1},xe=function(){return 0},we=function(){},Ee=function(e){throw new Error(e)},ke=function(e){if(void 0===e)return fe;fe=!!e},Ce=function(e){ke()&&(ge?console.warn(e):(console.log(e),ve&&console.trace()))},Se=function(e){return null==e?e:f(e)?e.slice():g(e)?function(e){return I({},e)}(e):e},De=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},Pe={},Te=function(){return Pe},Me=function(e){var t=Object.keys(e);return function(n){for(var r={},i=0;i<t.length;i++){var a=t[i],o=null==n?void 0:n[a];r[a]=void 0===o?e[a]:o}return r}},Be=function(e,t,n){for(var r=e.length;r>=0&&(e[r]!==t||(e.splice(r,1),n));r--);},_e=function(e){e.splice(0,e.length)},Ne=function(e,t,n){return n&&(t=M(n,t)),e[t]},Ie=function(e,t,n,r){n&&(t=M(n,t)),e[t]=r},ze="undefined"!=typeof Map?Map:function(){function e(){t(this,e),this._obj={}}return r(e,[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}]),e}(),Le=function(){function e(n){if(t(this,e),this._obj=Object.create(null),this.size=0,null!=n){var r;r=null!=n.instanceString&&n.instanceString()===this.instanceString()?n.toArray():n;for(var i=0;i<r.length;i++)this.add(r[i])}}return r(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}]),e}(),Ae="undefined"!==("undefined"==typeof Set?"undefined":e(Set))?Set:Le,Oe=function(e,t,n){if(n=!(void 0!==n&&!n),void 0!==e&&void 0!==t&&w(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,active:!1,classes:new Ae,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),t.renderedPosition){var a=t.renderedPosition,o=e.pan(),s=e.zoom();i.position={x:(a.x-o.x)/s,y:(a.y-o.y)/s}}var l=[];f(t.classes)?l=t.classes:d(t.classes)&&(l=t.classes.split(/\s+/));for(var u=0,c=l.length;u<c;u++){var h=l[u];h&&""!==h&&i.classes.add(h)}this.createEmitter();var p=t.style||t.css;p&&(Ce("Setting a `style` bypass at element creation is deprecated"),this.style(p)),(void 0===n||n)&&this.restore()}else Ee("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else Ee("An element must have a core reference and parameters set")},Re=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,r){var i;g(t)&&!m(t)&&(t=(i=t).roots||i.root,n=i.visit,r=i.directed),r=2!==arguments.length||p(n)?r:n,n=p(n)?n:function(){};for(var a,o=this._private.cy,s=t=d(t)?this.filter(t):t,l=[],u=[],c={},h={},f={},v=0,y=this.byGroup(),b=y.nodes,x=y.edges,w=0;w<s.length;w++){var E=s[w],k=E.id();E.isNode()&&(l.unshift(E),e.bfs&&(f[k]=!0,u.push(E)),h[k]=0)}var C=function(){var t=e.bfs?l.shift():l.pop(),i=t.id();if(e.dfs){if(f[i])return"continue";f[i]=!0,u.push(t)}var o,s=h[i],d=c[i],p=null!=d?d.source():null,g=null!=d?d.target():null,y=null==d?void 0:t.same(p)?g[0]:p[0];if(!0===(o=n(t,d,y,v++,s)))return a=t,"break";if(!1===o)return"break";for(var m=t.connectedEdges().filter(function(e){return(!r||e.source().same(t))&&x.has(e)}),w=0;w<m.length;w++){var E=m[w],k=E.connectedNodes().filter(function(e){return!e.same(t)&&b.has(e)}),C=k.id();0===k.length||f[C]||(k=k[0],l.push(k),e.bfs&&(f[C]=!0,u.push(k)),c[C]=E,h[C]=h[i]+1)}};e:for(;0!==l.length;){switch(C()){case"continue":continue;case"break":break e}}for(var S=o.collection(),D=0;D<u.length;D++){var P=u[D],T=c[P.id()];null!=T&&S.merge(T),S.merge(P)}return{path:o.collection(S),found:o.collection(a)}}},Fe={breadthFirstSearch:Re({bfs:!0}),depthFirstSearch:Re({dfs:!0})};Fe.bfs=Fe.breadthFirstSearch,Fe.dfs=Fe.depthFirstSearch;var Ve=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){(function(){var t,n,r,i,a,o,s,l,u,c,h,d,p,f,g;r=Math.floor,c=Math.min,n=function(e,t){return e<t?-1:e>t?1:0},u=function(e,t,i,a,o){var s;if(null==i&&(i=0),null==o&&(o=n),i<0)throw new Error("lo must be non-negative");for(null==a&&(a=e.length);i<a;)o(t,e[s=r((i+a)/2)])<0?a=s:i=s+1;return[].splice.apply(e,[i,i-i].concat(t)),t},o=function(e,t,r){return null==r&&(r=n),e.push(t),f(e,0,e.length-1,r)},a=function(e,t){var r,i;return null==t&&(t=n),r=e.pop(),e.length?(i=e[0],e[0]=r,g(e,0,t)):i=r,i},l=function(e,t,r){var i;return null==r&&(r=n),i=e[0],e[0]=t,g(e,0,r),i},s=function(e,t,r){var i;return null==r&&(r=n),e.length&&r(e[0],t)<0&&(t=(i=[e[0],t])[0],e[0]=i[1],g(e,0,r)),t},i=function(e,t){var i,a,o,s,l,u;for(null==t&&(t=n),l=[],a=0,o=(s=function(){u=[];for(var t=0,n=r(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)u.push(t);return u}.apply(this).reverse()).length;a<o;a++)i=s[a],l.push(g(e,i,t));return l},p=function(e,t,r){var i;if(null==r&&(r=n),-1!==(i=e.indexOf(t)))return f(e,0,i,r),g(e,i,r)},h=function(e,t,r){var a,o,l,u,c;if(null==r&&(r=n),!(o=e.slice(0,t)).length)return o;for(i(o,r),l=0,u=(c=e.slice(t)).length;l<u;l++)a=c[l],s(o,a,r);return o.sort(r).reverse()},d=function(e,t,r){var o,s,l,h,d,p,f,g,v;if(null==r&&(r=n),10*t<=e.length){if(!(l=e.slice(0,t).sort(r)).length)return l;for(s=l[l.length-1],h=0,p=(f=e.slice(t)).length;h<p;h++)r(o=f[h],s)<0&&(u(l,o,0,null,r),l.pop(),s=l[l.length-1]);return l}for(i(e,r),v=[],d=0,g=c(t,e.length);0<=g?d<g:d>g;0<=g?++d:--d)v.push(a(e,r));return v},f=function(e,t,r,i){var a,o,s;for(null==i&&(i=n),a=e[r];r>t&&i(a,o=e[s=r-1>>1])<0;)e[r]=o,r=s;return e[r]=a},g=function(e,t,r){var i,a,o,s,l;for(null==r&&(r=n),a=e.length,l=t,o=e[t],i=2*t+1;i<a;)(s=i+1)<a&&!(r(e[i],e[s])<0)&&(i=s),e[t]=e[i],i=2*(t=i)+1;return e[t]=o,f(e,l,t,r)},t=function(){function e(e){this.cmp=null!=e?e:n,this.nodes=[]}return e.push=o,e.pop=a,e.replace=l,e.pushpop=s,e.heapify=i,e.updateItem=p,e.nlargest=h,e.nsmallest=d,e.prototype.push=function(e){return o(this.nodes,e,this.cmp)},e.prototype.pop=function(){return a(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return s(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return i(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return p(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),e.exports=t}).call(R)}),qe=Me({root:null,weight:function(e){return 1},directed:!1}),je={dijkstra:function(e){if(!g(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=qe(e),r=n.root,i=n.weight,a=n.directed,o=this,s=i,l=d(r)?this.filter(r)[0]:r[0],u={},c={},h={},p=this.byGroup(),f=p.nodes,v=p.edges;v.unmergeBy(function(e){return e.isLoop()});for(var y=function(e){return u[e.id()]},m=function(e,t){u[e.id()]=t,b.updateItem(e)},b=new Ve(function(e,t){return y(e)-y(t)}),x=0;x<f.length;x++){var w=f[x];u[w.id()]=w.same(l)?0:1/0,b.push(w)}for(var E=function(e,t){for(var n,r=(a?e.edgesTo(t):e.edgesWith(t)).intersect(v),i=1/0,o=0;o<r.length;o++){var l=r[o],u=s(l);(u<i||!n)&&(i=u,n=l)}return{edge:n,dist:i}};b.size()>0;){var k=b.pop(),C=y(k),S=k.id();if(h[S]=C,C!==1/0)for(var D=k.neighborhood().intersect(f),P=0;P<D.length;P++){var T=D[P],M=T.id(),B=E(k,T),_=C+B.dist;_<y(T)&&(m(T,_),c[M]={node:k,edge:B.edge})}}return{distanceTo:function(e){var t=d(e)?f.filter(e)[0]:e[0];return h[t.id()]},pathTo:function(e){var t=d(e)?f.filter(e)[0]:e[0],n=[],r=t,i=r.id();if(t.length>0)for(n.unshift(t);c[i];){var a=c[i];n.unshift(a.edge),n.unshift(a.node),i=(r=a.node).id()}return o.spawn(n)}}}},Ye={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,r=t.edges,i=n.length,a=new Array(i),o=n,s=function(e){for(var t=0;t<a.length;t++){if(a[t].has(e))return t}},l=0;l<i;l++)a[l]=this.spawn(n[l]);for(var u=r.sort(function(t,n){return e(t)-e(n)}),c=0;c<u.length;c++){var h=u[c],d=h.source()[0],p=h.target()[0],f=s(d),g=s(p),v=a[f],y=a[g];f!==g&&(o.merge(h),v.merge(y),a.splice(g,1))}return o}},Xe=Me({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),We={aStar:function(e){var t=this.cy(),n=Xe(e),r=n.root,i=n.goal,a=n.heuristic,o=n.directed,s=n.weight;r=t.collection(r)[0],i=t.collection(i)[0];var l,u,c=r.id(),h=i.id(),d={},p={},f={},g=new Ve(function(e,t){return p[e.id()]-p[t.id()]}),v=new Ae,y={},m={},b=function(e,t){g.push(e),v.add(t)};b(r,c),d[c]=0,p[c]=a(r);for(var x,w=0;g.size()>0;){if(l=g.pop(),u=l.id(),v.delete(u),w++,u===h){for(var E=[],k=i,C=h,S=m[C];E.unshift(k),null!=S&&E.unshift(S),null!=(k=y[C]);)S=m[C=k.id()];return{found:!0,distance:d[u],path:this.spawn(E),steps:w}}f[u]=!0;for(var D=l._private.edges,P=0;P<D.length;P++){var T=D[P];if(this.hasElementWithId(T.id())&&(!o||T.data("source")===u)){var M=T.source(),B=T.target(),_=M.id()!==u?M:B,N=_.id();if(this.hasElementWithId(N)&&!f[N]){var I=d[u]+s(T);x=N,v.has(x)?I<d[N]&&(d[N]=I,p[N]=I+a(_),y[N]=l):(d[N]=I,p[N]=I+a(_),b(_,N),y[N]=l,m[N]=T)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},He=Me({weight:function(e){return 1},directed:!1}),Ke={floydWarshall:function(e){for(var t=this.cy(),n=He(e),r=n.weight,i=n.directed,a=r,o=this.byGroup(),s=o.nodes,l=o.edges,u=s.length,c=u*u,h=function(e){return s.indexOf(e)},p=function(e){return s[e]},f=new Array(c),g=0;g<c;g++){var v=g%u,y=(g-v)/u;f[g]=y===v?0:1/0}for(var m=new Array(c),b=new Array(c),x=0;x<l.length;x++){var w=l[x],E=w.source()[0],k=w.target()[0];if(E!==k){var C=h(E),S=h(k),D=C*u+S,P=a(w);if(f[D]>P&&(f[D]=P,m[D]=S,b[D]=w),!i){var T=S*u+C;!i&&f[T]>P&&(f[T]=P,m[T]=C,b[T]=w)}}}for(var M=0;M<u;M++)for(var B=0;B<u;B++)for(var _=B*u+M,N=0;N<u;N++){var I=B*u+N,z=M*u+N;f[_]+f[z]<f[I]&&(f[I]=f[_]+f[z],m[I]=m[_])}var L=function(e){return h(function(e){return(d(e)?t.filter(e):e)[0]}(e))};return{distance:function(e,t){var n=L(e),r=L(t);return f[n*u+r]},path:function(e,n){var r=L(e),i=L(n),a=p(r);if(r===i)return a.collection();if(null==m[r*u+i])return t.collection();var o,s=t.collection(),l=r;for(s.merge(a);r!==i;)l=r,r=m[r*u+i],o=b[l*u+r],s.merge(o),s.merge(p(r));return s}}}},Ge=Me({weight:function(e){return 1},directed:!1,root:null}),Ze={bellmanFord:function(e){var t=this,n=Ge(e),r=n.weight,i=n.directed,a=n.root,o=r,s=this,l=this.cy(),u=this.byGroup(),c=u.edges,h=u.nodes,p=h.length,f=new ze,g=!1;a=l.collection(a)[0],c.unmergeBy(function(e){return e.isLoop()});for(var v=c.length,y=function(e){var t=f.get(e.id());return t||(t={},f.set(e.id(),t)),t},m=function(e){return(d(e)?l.$(e):e)[0]},b=0;b<p;b++){var x=h[b],w=y(x);x.same(a)?w.dist=0:w.dist=1/0,w.pred=null,w.edge=null}for(var E=!1,k=function(e,t,n,r,i,a){var o=r.dist+a;o<i.dist&&!n.same(r.edge)&&(i.dist=o,i.pred=e,i.edge=n,E=!0)},C=1;C<p;C++){E=!1;for(var S=0;S<v;S++){var D=c[S],P=D.source(),T=D.target(),M=o(D),B=y(P),_=y(T);k(P,0,D,B,_,M),i||k(T,0,D,_,B,M)}if(!E)break}if(E)for(var N=0;N<v;N++){var I=c[N],z=I.source(),L=I.target(),A=o(I),O=y(z).dist,R=y(L).dist;if(O+A<R||!i&&R+A<O){Ce("Graph contains a negative weight cycle for Bellman-Ford"),g=!0;break}}return{distanceTo:function(e){return y(m(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,r=[],i=m(e);;){if(null==i)return t.spawn();var o=y(i),l=o.edge,u=o.pred;if(r.unshift(i[0]),i.same(n)&&r.length>0)break;null!=l&&r.unshift(l),i=u}return s.spawn(r)},hasNegativeWeightCycle:g,negativeWeightCycles:[]}}},Ue=Math.sqrt(2),$e=function(e,t,n){0===n.length&&Ee("Karger-Stein must be run on a connected (sub)graph");for(var r=n[e],i=r[1],a=r[2],o=t[i],s=t[a],l=n,u=l.length-1;u>=0;u--){var c=l[u],h=c[1],d=c[2];(t[h]===o&&t[d]===s||t[h]===s&&t[d]===o)&&l.splice(u,1)}for(var p=0;p<l.length;p++){var f=l[p];f[1]===s?(l[p]=f.slice(),l[p][1]=o):f[2]===s&&(l[p]=f.slice(),l[p][2]=o)}for(var g=0;g<t.length;g++)t[g]===s&&(t[g]=o);return l},Qe=function(e,t,n,r){for(;n>r;){var i=Math.floor(Math.random()*t.length);t=$e(i,e,t),n--}return t},Je={kargerStein:function(){var e=this.byGroup(),t=e.nodes,n=e.edges;n.unmergeBy(function(e){return e.isLoop()});var r=t.length,i=n.length,a=Math.ceil(Math.pow(Math.log(r)/Math.LN2,2)),o=Math.floor(r/Ue);if(!(r<2)){for(var s=[],l=0;l<i;l++){var u=n[l];s.push([l,t.indexOf(u.source()),t.indexOf(u.target())])}for(var c=1/0,h=[],d=new Array(r),p=new Array(r),f=new Array(r),g=function(e,t){for(var n=0;n<r;n++)t[n]=e[n]},v=0;v<=a;v++){for(var y=0;y<r;y++)p[y]=y;var m=Qe(p,s.slice(),r,o),b=m.slice();g(p,f);var x=Qe(p,m,o,2),w=Qe(f,b,o,2);x.length<=w.length&&x.length<c?(c=x.length,h=x,g(p,d)):w.length<=x.length&&w.length<c&&(c=w.length,h=w,g(f,d))}for(var E=this.spawn(h.map(function(e){return n[e[0]]})),k=this.spawn(),C=this.spawn(),S=d[0],D=0;D<d.length;D++){var P=d[D],T=t[D];P===S?k.merge(T):C.merge(T)}return{cut:E,partition1:k,partition2:C}}Ee("At least 2 nodes are required for Karger-Stein algorithm")}},et=function(e){return{x:e.x,y:e.y}},tt=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},nt=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},rt=function(e){return{x:e[0],y:e[1]}},it=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=1/0,i=t;i<n;i++){var a=e[i];isFinite(a)&&(r=Math.min(a,r))}return r},at=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=-1/0,i=t;i<n;i++){var a=e[i];isFinite(a)&&(r=Math.max(a,r))}return r},ot=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0,a=t;a<n;a++){var o=e[a];isFinite(o)&&(r+=o,i++)}return r/i},st=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];r?e=e.slice(t,n):(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t));for(var o=0,s=e.length-1;s>=0;s--){var l=e[s];a?isFinite(l)||(e[s]=-1/0,o++):e.splice(s,1)}i&&e.sort(function(e,t){return e-t});var u=e.length,c=Math.floor(u/2);return u%2!=0?e[c+1+o]:(e[c-1+o]+e[c+o])/2},lt=function(e){return Math.PI*e/180},ut=function(e,t){return Math.atan2(t,e)-Math.PI/2},ct=Math.log2||function(e){return Math.log(e)/Math.log(2)},ht=function(e){return e>0?1:e<0?-1:0},dt=function(e,t){return Math.sqrt(pt(e,t))},pt=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},ft=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var i=0;i<t;i++)e[i]=e[i]/n;return e},gt=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},vt=function(e,t,n,r){return{x:gt(e.x,t.x,n.x,r),y:gt(e.y,t.y,n.y,r)}},yt=function(e,t,n,r){var i=t.x-e.x,a=t.y-e.y,o=dt(e,t),s=i/o,l=a/o;return n=null==n?0:n,r=null!=r?r:n*o,{x:e.x+s*r,y:e.y+l*r}},mt=function(e,t,n){return Math.max(e,Math.min(n,t))},bt=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},xt=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},wt=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Et=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},kt=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},St=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Dt=function(e,t){e.x1+=t.x,e.x2+=t.x,e.y1+=t.y,e.y2+=t.y},Pt=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},Tt=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},Mt=function(e,t){return Tt(e,t.x,t.y)},Bt=function(e,t){return Tt(e,t.x1,t.y1)&&Tt(e,t.x2,t.y2)},_t=function(e,t,n,r,i,a,o){var s,l=Qt(i,a),u=i/2,c=a/2,h=r-c-o;if((s=Ht(e,t,n,r,n-u+l-o,h,n+u-l+o,h,!1)).length>0)return s;var d=n+u+o;if((s=Ht(e,t,n,r,d,r-c+l-o,d,r+c-l+o,!1)).length>0)return s;var p=r+c+o;if((s=Ht(e,t,n,r,n-u+l-o,p,n+u-l+o,p,!1)).length>0)return s;var f,g=n-u-o;if((s=Ht(e,t,n,r,g,r-c+l-o,g,r+c-l+o,!1)).length>0)return s;var v=n-u+l,y=r-c+l;if((f=Xt(e,t,n,r,v,y,l+o)).length>0&&f[0]<=v&&f[1]<=y)return[f[0],f[1]];var m=n+u-l,b=r-c+l;if((f=Xt(e,t,n,r,m,b,l+o)).length>0&&f[0]>=m&&f[1]<=b)return[f[0],f[1]];var x=n+u-l,w=r+c-l;if((f=Xt(e,t,n,r,x,w,l+o)).length>0&&f[0]>=x&&f[1]>=w)return[f[0],f[1]];var E=n-u+l,k=r+c-l;return(f=Xt(e,t,n,r,E,k,l+o)).length>0&&f[0]<=E&&f[1]>=k?[f[0],f[1]]:[]},Nt=function(e,t,n,r,i,a,o){var s=o,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,a),h=Math.max(r,a);return l-s<=e&&e<=u+s&&c-s<=t&&t<=h+s},It=function(e,t,n,r,i,a,o,s,l){var u=Math.min(n,o,i)-l,c=Math.max(n,o,i)+l,h=Math.min(r,s,a)-l,d=Math.max(r,s,a)+l;return!(e<u||e>c||t<h||t>d)},zt=function(e,t,n,r){var i=t*t-4*e*(n-=r);if(i<0)return[];var a=Math.sqrt(i),o=2*e;return[(-t+a)/o,(-t-a)/o]},Lt=function(e,t,n,r,i){var a,o,s,l,u,c,h,d;return s=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),a=(o=(3*n-t*t)/9)*o*o+(s/=54)*s,i[1]=0,h=t/3,a>0?(u=(u=s+Math.sqrt(a))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(a))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-h+u+c,h+=(u+c)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-c+u)/2,i[3]=h,void(i[5]=-h)):(i[5]=i[3]=0,0===a?(d=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*d-h,void(i[4]=i[2]=-(d+h))):(l=(o=-o)*o*o,l=Math.acos(s/Math.sqrt(l)),d=2*Math.sqrt(o),i[0]=-h+d*Math.cos(l/3),i[2]=-h+d*Math.cos((l+2*Math.PI)/3),void(i[4]=-h+d*Math.cos((l+4*Math.PI)/3))))},At=function(e,t,n,r,i,a,o,s){var l=[];Lt(1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+r*r-4*r*a+2*r*s+4*a*a-4*a*s+s*s,9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*r*a-3*r*r-3*r*s-6*a*a+3*a*s,3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*r*r-6*r*a+r*s-r*t+2*a*a+2*a*t-s*t,1*n*i-n*n+n*e-i*e+r*a-r*r+r*t-a*t,l);for(var u=[],c=0;c<6;c+=2)Math.abs(l[c+1])<1e-7&&l[c]>=0&&l[c]<=1&&u.push(l[c]);u.push(1),u.push(0);for(var h,d,p,f=-1,g=0;g<u.length;g++)h=Math.pow(1-u[g],2)*n+2*(1-u[g])*u[g]*i+u[g]*u[g]*o,d=Math.pow(1-u[g],2)*r+2*(1-u[g])*u[g]*a+u[g]*u[g]*s,p=Math.pow(h-e,2)+Math.pow(d-t,2),f>=0?p<f&&(f=p):f=p;return f},Ot=function(e,t,n,r,i,a){var o=[e-n,t-r],s=[i-n,a-r],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],h=c*c/l;return c<0?u:h>l?(e-i)*(e-i)+(t-a)*(t-a):u-h},Rt=function(e,t,n){for(var r,i,a,o,s=0,l=0;l<n.length/2;l++)if(r=n[2*l],i=n[2*l+1],l+1<n.length/2?(a=n[2*(l+1)],o=n[2*(l+1)+1]):(a=n[2*(l+1-n.length/2)],o=n[2*(l+1-n.length/2)+1]),r==e&&a==e);else{if(!(r>=e&&e>=a||r<=e&&e<=a))continue;(e-r)/(a-r)*(o-i)+i>t&&s++}return s%2!=0},Ft=function(e,t,n,r,i,a,o,s,l){var u,c=new Array(n.length);null!=s[0]?(u=Math.atan(s[1]/s[0]),s[0]<0?u+=Math.PI/2:u=-u-Math.PI/2):u=s;for(var h,d=Math.cos(-u),p=Math.sin(-u),f=0;f<c.length/2;f++)c[2*f]=a/2*(n[2*f]*d-n[2*f+1]*p),c[2*f+1]=o/2*(n[2*f+1]*d+n[2*f]*p),c[2*f]+=r,c[2*f+1]+=i;if(l>0){var g=qt(c,-l);h=Vt(g)}else h=c;return Rt(e,t,h)},Vt=function(e){for(var t,n,r,i,a,o,s,l,u=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],n=e[4*c+1],r=e[4*c+2],i=e[4*c+3],c<e.length/4-1?(a=e[4*(c+1)],o=e[4*(c+1)+1],s=e[4*(c+1)+2],l=e[4*(c+1)+3]):(a=e[0],o=e[1],s=e[2],l=e[3]);var h=Ht(t,n,r,i,a,o,s,l,!0);u[2*c]=h[0],u[2*c+1]=h[1]}return u},qt=function(e,t){for(var n,r,i,a,o=new Array(2*e.length),s=0;s<e.length/2;s++){n=e[2*s],r=e[2*s+1],s<e.length/2-1?(i=e[2*(s+1)],a=e[2*(s+1)+1]):(i=e[0],a=e[1]);var l=a-r,u=-(i-n),c=Math.sqrt(l*l+u*u),h=l/c,d=u/c;o[4*s]=n+h*t,o[4*s+1]=r+d*t,o[4*s+2]=i+h*t,o[4*s+3]=a+d*t}return o},jt=function(e,t,n,r,i,a){var o=n-e,s=r-t;o/=i,s/=a;var l=Math.sqrt(o*o+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-e)*c+e,(r-t)*c+t]},Yt=function(e,t,n,r,i,a,o){return e-=i,t-=a,(e/=n/2+o)*e+(t/=r/2+o)*t<=1},Xt=function(e,t,n,r,i,a,o){var s=[n-e,r-t],l=[e-i,t-a],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),h=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-o*o);if(h<0)return[];var d=(-c+Math.sqrt(h))/(2*u),p=(-c-Math.sqrt(h))/(2*u),f=Math.min(d,p),g=Math.max(d,p),v=[];if(f>=0&&f<=1&&v.push(f),g>=0&&g<=1&&v.push(g),0===v.length)return[];var y=v[0]*s[0]+e,m=v[0]*s[1]+t;return v.length>1?v[0]==v[1]?[y,m]:[y,m,v[1]*s[0]+e,v[1]*s[1]+t]:[y,m]},Wt=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Ht=function(e,t,n,r,i,a,o,s,l){var u=e-i,c=n-e,h=o-i,d=t-a,p=r-t,f=s-a,g=h*d-f*u,v=c*d-p*u,y=f*c-h*p;if(0!==y){var m=g/y,b=v/y;return-.001<=m&&m<=1.001&&-.001<=b&&b<=1.001?[e+m*c,t+m*p]:l?[e+m*c,t+m*p]:[]}return 0===g||0===v?Wt(e,n,o)===o?[o,s]:Wt(e,n,i)===i?[i,a]:Wt(i,o,n)===n?[n,r]:[]:[]},Kt=function(e,t,n,r,i,a,o,s){var l,u,c,h,d,p,f=[],g=new Array(n.length),v=!0;if(null==a&&(v=!1),v){for(var y=0;y<g.length/2;y++)g[2*y]=n[2*y]*a+r,g[2*y+1]=n[2*y+1]*o+i;if(s>0){var m=qt(g,-s);u=Vt(m)}else u=g}else u=n;for(var b=0;b<u.length/2;b++)c=u[2*b],h=u[2*b+1],b<u.length/2-1?(d=u[2*(b+1)],p=u[2*(b+1)+1]):(d=u[0],p=u[1]),0!==(l=Ht(e,t,r,i,c,h,d,p)).length&&f.push(l[0],l[1]);return f},Gt=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),a=(i-n)/i;return a<0&&(a=1e-5),[t[0]+a*r[0],t[1]+a*r[1]]},Zt=function(e,t){var n=$t(e,t);return n=Ut(n)},Ut=function(e){for(var t,n,r=e.length/2,i=1/0,a=1/0,o=-1/0,s=-1/0,l=0;l<r;l++)t=e[2*l],n=e[2*l+1],i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);for(var u=2/(o-i),c=2/(s-a),h=0;h<r;h++)t=e[2*h]=e[2*h]*u,n=e[2*h+1]=e[2*h+1]*c,i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);if(a<-1)for(var d=0;d<r;d++)n=e[2*d+1]=e[2*d+1]+(-1-a);return e},$t=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i,a=new Array(2*e),o=0;o<e;o++)i=o*n+r,a[2*o]=Math.cos(i),a[2*o+1]=Math.sin(-i);return a},Qt=function(e,t){return Math.min(e/4,t/4,8)},Jt=function(e,t,n){return[e-2*t+n,2*(t-e),e]},en=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},tn=Me({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),nn={pageRank:function(e){for(var t=tn(e),n=t.dampingFactor,r=t.precision,i=t.iterations,a=t.weight,o=this._private.cy,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,h=c*c,d=u.length,p=new Array(h),f=new Array(c),g=(1-n)/c,v=0;v<c;v++){for(var y=0;y<c;y++){p[v*c+y]=0}f[v]=0}for(var m=0;m<d;m++){var b=u[m],x=b.data("source"),w=b.data("target");if(x!==w){var E=l.indexOfId(x),k=l.indexOfId(w),C=a(b);p[k*c+E]+=C,f[E]+=C}}for(var S=1/c+g,D=0;D<c;D++)if(0===f[D])for(var P=0;P<c;P++){p[P*c+D]=S}else for(var T=0;T<c;T++){var M=T*c+D;p[M]=p[M]/f[D]+g}for(var B,_=new Array(c),N=new Array(c),I=0;I<c;I++)_[I]=1;for(var z=0;z<i;z++){for(var L=0;L<c;L++)N[L]=0;for(var A=0;A<c;A++)for(var O=0;O<c;O++){var R=A*c+O;N[A]+=p[R]*_[O]}ft(N),B=_,_=N,N=B;for(var F=0,V=0;V<c;V++){var q=B[V]-_[V];F+=q*q}if(F<r)break}return{rank:function(e){return e=o.collection(e)[0],_[l.indexOf(e)]}}}},rn=Me({root:null,weight:function(e){return 1},directed:!1,alpha:0}),an={degreeCentralityNormalized:function(e){e=rn(e);var t=this.cy(),n=this.nodes(),r=n.length;if(e.directed){for(var i={},a={},o=0,s=0,l=0;l<r;l++){var u=n[l],c=u.id();e.root=u;var h=this.degreeCentrality(e);o<h.indegree&&(o=h.indegree),s<h.outdegree&&(s=h.outdegree),i[c]=h.indegree,a[c]=h.outdegree}return{indegree:function(e){return 0==o?0:(d(e)&&(e=t.filter(e)),i[e.id()]/o)},outdegree:function(e){return 0===s?0:(d(e)&&(e=t.filter(e)),a[e.id()]/s)}}}for(var p={},f=0,g=0;g<r;g++){var v=n[g];e.root=v;var y=this.degreeCentrality(e);f<y.degree&&(f=y.degree),p[v.id()]=y.degree}return{degree:function(e){return 0===f?0:(d(e)&&(e=t.filter(e)),p[e.id()]/f)}}},degreeCentrality:function(e){e=rn(e);var t=this.cy(),n=this,r=e,i=r.root,a=r.weight,o=r.directed,s=r.alpha;if(i=t.collection(i)[0],o){for(var l=i.connectedEdges(),u=l.filter(function(e){return e.target().same(i)&&n.has(e)}),c=l.filter(function(e){return e.source().same(i)&&n.has(e)}),h=u.length,d=c.length,p=0,f=0,g=0;g<u.length;g++)p+=a(u[g]);for(var v=0;v<c.length;v++)f+=a(c[v]);return{indegree:Math.pow(h,1-s)*Math.pow(p,s),outdegree:Math.pow(d,1-s)*Math.pow(f,s)}}for(var y=i.connectedEdges().intersection(n),m=y.length,b=0,x=0;x<y.length;x++)b+=a(y[x]);return{degree:Math.pow(m,1-s)*Math.pow(b,s)}}};an.dc=an.degreeCentrality,an.dcn=an.degreeCentralityNormalised=an.degreeCentralityNormalized;var on=Me({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),sn={closenessCentralityNormalized:function(e){for(var t=on(e),n=t.harmonic,r=t.weight,i=t.directed,a=this.cy(),o={},s=0,l=this.nodes(),u=this.floydWarshall({weight:r,directed:i}),c=0;c<l.length;c++){for(var h=0,p=l[c],f=0;f<l.length;f++)if(c!==f){var g=u.distance(p,l[f]);h+=n?1/g:g}n||(h=1/h),s<h&&(s=h),o[p.id()]=h}return{closeness:function(e){return 0==s?0:(e=d(e)?a.filter(e)[0].id():e.id(),o[e]/s)}}},closenessCentrality:function(e){var t=on(e),n=t.root,r=t.weight,i=t.directed,a=t.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:r,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++){var c=l[u];if(!c.same(n)){var h=o.distanceTo(c);s+=a?1/h:h}}return a?s:1/s}};sn.cc=sn.closenessCentrality,sn.ccn=sn.closenessCentralityNormalised=sn.closenessCentralityNormalized;var ln=Me({weight:null,directed:!1}),un={betweennessCentrality:function(e){for(var t=ln(e),n=t.directed,r=t.weight,i=null!=r,a=this.cy(),o=this.nodes(),s={},l={},u=0,c=function(e,t){l[e]=t,t>u&&(u=t)},h=function(e){return l[e]},d=0;d<o.length;d++){var p=o[d],f=p.id();s[f]=n?p.outgoers().nodes():p.openNeighborhood().nodes(),c(f,0)}for(var g=function(e){for(var t=o[e].id(),n=[],l={},u={},d={},p=new Ve(function(e,t){return d[e]-d[t]}),f=0;f<o.length;f++){var g=o[f].id();l[g]=[],u[g]=0,d[g]=1/0}for(u[t]=1,d[t]=0,p.push(t);!p.empty();){var v=p.pop();if(n.push(v),i)for(var y=0;y<s[v].length;y++){var m=s[v][y],b=a.getElementById(v),x=void 0;x=b.edgesTo(m).length>0?b.edgesTo(m)[0]:m.edgesTo(b)[0];var w=r(x);m=m.id(),d[m]>d[v]+w&&(d[m]=d[v]+w,p.nodes.indexOf(m)<0?p.push(m):p.updateItem(m),u[m]=0,l[m]=[]),d[m]==d[v]+w&&(u[m]=u[m]+u[v],l[m].push(v))}else for(var E=0;E<s[v].length;E++){var k=s[v][E].id();d[k]==1/0&&(p.push(k),d[k]=d[v]+1),d[k]==d[v]+1&&(u[k]=u[k]+u[v],l[k].push(v))}}for(var C={},S=0;S<o.length;S++)C[o[S].id()]=0;for(;n.length>0;)for(var D=n.pop(),P=0;P<l[D].length;P++){var T=l[D][P];C[T]=C[T]+u[T]/u[D]*(1+C[D]),D!=o[e].id()&&c(D,h(D)+C[D])}},v=0;v<o.length;v++)g(v);var y={betweenness:function(e){var t=a.collection(e).id();return h(t)},betweennessNormalized:function(e){if(0==u)return 0;var t=a.collection(e).id();return h(t)/u}};return y.betweennessNormalised=y.betweennessNormalized,y}};un.bc=un.betweennessCentrality;var cn=Me({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),hn=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r](e);return n},dn=function(e,t){for(var n,r=0;r<t;r++){n=0;for(var i=0;i<t;i++)n+=e[i*t+r];for(var a=0;a<t;a++)e[a*t+r]=e[a*t+r]/n}},pn=function(e,t,n){for(var r=new Array(n*n),i=0;i<n;i++){for(var a=0;a<n;a++)r[i*n+a]=0;for(var o=0;o<n;o++)for(var s=0;s<n;s++)r[i*n+s]+=e[i*n+o]*t[o*n+s]}return r},fn=function(e,t,n){for(var r=e.slice(0),i=1;i<n;i++)e=pn(e,r,t);return e},gn=function(e,t,n){for(var r=new Array(t*t),i=0;i<t*t;i++)r[i]=Math.pow(e[i],n);return dn(r,t),r},vn=function(e,t,n,r){for(var i=0;i<n;i++){if(Math.round(e[i]*Math.pow(10,r))/Math.pow(10,r)!==Math.round(t[i]*Math.pow(10,r))/Math.pow(10,r))return!1}return!0},yn=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},mn=function(e){for(var t=this.nodes(),n=this.edges(),r=this.cy(),i=function(e){return cn(e)}(e),a={},o=0;o<t.length;o++)a[t[o].id()]=o;for(var s,l=t.length,u=l*l,c=new Array(u),h=0;h<u;h++)c[h]=0;for(var d=0;d<n.length;d++){var p=n[d],f=a[p.source().id()],g=a[p.target().id()],v=hn(p,i.attributes);c[f*l+g]+=v,c[g*l+f]+=v}!function(e,t,n){for(var r=0;r<t;r++)e[r*t+r]=n}(c,l,i.multFactor),dn(c,l);for(var y=!0,m=0;y&&m<i.maxIterations;)y=!1,s=fn(c,l,i.expandFactor),c=gn(s,l,i.inflateFactor),vn(c,s,u,4)||(y=!0),m++;var b=function(e,t,n,r){for(var i=[],a=0;a<t;a++){for(var o=[],s=0;s<t;s++)Math.round(1e3*e[a*t+s])/1e3>0&&o.push(n[s]);0!==o.length&&i.push(r.collection(o))}return i}(c,l,t,r);return b=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&yn(e[t],e[n])&&e.splice(n,1);return e}(b)},bn={markovClustering:mn,mcl:mn},xn=function(e){return e},wn=function(e,t){return Math.abs(t-e)},En=function(e,t,n){return e+wn(t,n)},kn=function(e,t,n){return e+Math.pow(n-t,2)},Cn=function(e){return Math.sqrt(e)},Sn=function(e,t,n){return Math.max(e,wn(t,n))},Dn=function(e,t,n,r,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xn,o=r,s=0;s<e;s++)o=i(o,t(s),n(s));return a(o)},Pn={euclidean:function(e,t,n){return e>=2?Dn(e,t,n,0,kn,Cn):Dn(e,t,n,0,En)},squaredEuclidean:function(e,t,n){return Dn(e,t,n,0,kn)},manhattan:function(e,t,n){return Dn(e,t,n,0,En)},max:function(e,t,n){return Dn(e,t,n,-1/0,Sn)}};function Tn(e,t,n,r,i,a){var o;return o=p(e)?e:Pn[e]||Pn.euclidean,0===t&&p(e)?o(i,a):o(t,n,r,i,a)}Pn["squared-euclidean"]=Pn.squaredEuclidean,Pn.squaredeuclidean=Pn.squaredEuclidean;var Mn=Me({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Bn=function(e){return Mn(e)},_n=function(e,t,n,r,i){var a="kMedoids"!==i?function(e){return n[e]}:function(e){return r[e](n)},o=n,s=t;return Tn(e,r.length,a,function(e){return r[e](t)},o,s)},Nn=function(e,t,n){for(var r=n.length,i=new Array(r),a=new Array(r),o=new Array(t),s=null,l=0;l<r;l++)i[l]=e.min(n[l]).value,a[l]=e.max(n[l]).value;for(var u=0;u<t;u++){s=[];for(var c=0;c<r;c++)s[c]=Math.random()*(a[c]-i[c])+i[c];o[u]=s}return o},In=function(e,t,n,r,i){for(var a=1/0,o=0,s=0;s<t.length;s++){var l=_n(n,e,t[s],r,i);l<a&&(a=l,o=s)}return o},zn=function(e,t,n){for(var r=[],i=null,a=0;a<t.length;a++)n[(i=t[a]).id()]===e&&r.push(i);return r},Ln=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){if(Math.abs(e[r][i]-t[r][i])>n)return!1}return!0},An=function(e,t,n){for(var r=0;r<n;r++)if(e===t[r])return!0;return!1},On=function(e,t){var n=new Array(t);if(e.length<50)for(var r=0;r<t;r++){for(var i=e[Math.floor(Math.random()*e.length)];An(i,n,r);)i=e[Math.floor(Math.random()*e.length)];n[r]=i}else for(var a=0;a<t;a++)n[a]=e[Math.floor(Math.random()*e.length)];return n},Rn=function(e,t,n){for(var r=0,i=0;i<t.length;i++)r+=_n("manhattan",t[i],e,n,"kMedoids");return r},Fn=function(e,t,n,r,i){for(var a,o,s=0;s<t.length;s++)for(var l=0;l<e.length;l++)r[s][l]=Math.pow(n[s][l],i.m);for(var u=0;u<e.length;u++)for(var c=0;c<i.attributes.length;c++){a=0,o=0;for(var h=0;h<t.length;h++)a+=r[h][u]*i.attributes[c](t[h]),o+=r[h][u];e[u][c]=a/o}},Vn=function(e,t,n,r,i){for(var a=0;a<e.length;a++)t[a]=e[a].slice();for(var o,s,l,u=2/(i.m-1),c=0;c<n.length;c++)for(var h=0;h<r.length;h++){o=0;for(var d=0;d<n.length;d++)s=_n(i.distance,r[h],n[c],i.attributes,"cmeans"),l=_n(i.distance,r[h],n[d],i.attributes,"cmeans"),o+=Math.pow(s/l,u);e[h][c]=1/o}},qn=function(e){var t,n,r,i,a=this.cy(),o=this.nodes(),s=Bn(e);r=new Array(o.length);for(var l=0;l<o.length;l++)r[l]=new Array(s.k);n=new Array(o.length);for(var u=0;u<o.length;u++)n[u]=new Array(s.k);for(var c=0;c<o.length;c++){for(var h=0,d=0;d<s.k;d++)n[c][d]=Math.random(),h+=n[c][d];for(var p=0;p<s.k;p++)n[c][p]=n[c][p]/h}t=new Array(s.k);for(var f=0;f<s.k;f++)t[f]=new Array(s.attributes.length);i=new Array(o.length);for(var g=0;g<o.length;g++)i[g]=new Array(s.k);for(var v=!0,y=0;v&&y<s.maxIterations;)v=!1,Fn(t,o,n,i,s),Vn(n,r,t,o,s),Ln(n,r,s.sensitivityThreshold)||(v=!0),y++;return{clusters:function(e,t,n,r){for(var i,a,o=new Array(n.k),s=0;s<o.length;s++)o[s]=[];for(var l=0;l<t.length;l++){i=-1/0,a=-1;for(var u=0;u<t[0].length;u++)t[l][u]>i&&(i=t[l][u],a=u);o[a].push(e[l])}for(var c=0;c<o.length;c++)o[c]=r.collection(o[c]);return o}(o,n,s,a),degreeOfMembership:n}},jn={kMeans:function(t){var n,r=this.cy(),i=this.nodes(),a=null,o=Bn(t),s=new Array(o.k),l={};o.testMode?"number"==typeof o.testCentroids?(o.testCentroids,n=Nn(i,o.k,o.attributes)):n="object"===e(o.testCentroids)?o.testCentroids:Nn(i,o.k,o.attributes):n=Nn(i,o.k,o.attributes);for(var u,c,h,d=!0,p=0;d&&p<o.maxIterations;){for(var f=0;f<i.length;f++)l[(a=i[f]).id()]=In(a,n,o.distance,o.attributes,"kMeans");d=!1;for(var g=0;g<o.k;g++){var v=zn(g,i,l);if(0!==v.length){for(var y=o.attributes.length,m=n[g],b=new Array(y),x=new Array(y),w=0;w<y;w++){x[w]=0;for(var E=0;E<v.length;E++)a=v[E],x[w]+=o.attributes[w](a);b[w]=x[w]/v.length,u=b[w],c=m[w],h=o.sensitivityThreshold,Math.abs(c-u)<=h||(d=!0)}n[g]=b,s[g]=r.collection(v)}}p++}return s},kMedoids:function(t){var n,r,i=this.cy(),a=this.nodes(),o=null,s=Bn(t),l=new Array(s.k),u={},c=new Array(s.k);s.testMode?"number"==typeof s.testCentroids||(n="object"===e(s.testCentroids)?s.testCentroids:On(a,s.k)):n=On(a,s.k);for(var h=!0,d=0;h&&d<s.maxIterations;){for(var p=0;p<a.length;p++)u[(o=a[p]).id()]=In(o,n,s.distance,s.attributes,"kMedoids");h=!1;for(var f=0;f<n.length;f++){var g=zn(f,a,u);if(0!==g.length){c[f]=Rn(n[f],g,s.attributes);for(var v=0;v<g.length;v++)(r=Rn(g[v],g,s.attributes))<c[f]&&(c[f]=r,n[f]=g[v],h=!0);l[f]=i.collection(g)}}d++}return l},fuzzyCMeans:qn,fcm:qn},Yn=Me({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Xn={single:"min",complete:"max"},Wn=function(e,t,n,r,i){for(var a,o=0,s=1/0,l=i.attributes,u=function(e,t){return Tn(i.distance,l.length,function(t){return l[t](e)},function(e){return l[e](t)},e,t)},c=0;c<e.length;c++){var h=e[c].key,d=n[h][r[h]];d<s&&(o=h,s=d)}if("threshold"===i.mode&&s>=i.threshold||"dendrogram"===i.mode&&1===e.length)return!1;var p,f=t[o],g=t[r[o]];p="dendrogram"===i.mode?{left:f,right:g,key:f.key}:{value:f.value.concat(g.value),key:f.key},e[f.index]=p,e.splice(g.index,1),t[f.key]=p;for(var v=0;v<e.length;v++){var y=e[v];f.key===y.key?a=1/0:"min"===i.linkage?(a=n[f.key][y.key],n[f.key][y.key]>n[g.key][y.key]&&(a=n[g.key][y.key])):"max"===i.linkage?(a=n[f.key][y.key],n[f.key][y.key]<n[g.key][y.key]&&(a=n[g.key][y.key])):a="mean"===i.linkage?(n[f.key][y.key]*f.size+n[g.key][y.key]*g.size)/(f.size+g.size):"dendrogram"===i.mode?u(y.value,f.value):u(y.value[0],f.value[0]),n[f.key][y.key]=n[y.key][f.key]=a}for(var m=0;m<e.length;m++){var b=e[m].key;if(r[b]===f.key||r[b]===g.key){for(var x=b,w=0;w<e.length;w++){var E=e[w].key;n[b][E]<n[b][x]&&(x=E)}r[b]=x}e[m].index=m}return f.key=g.key=f.index=g.index=null,!0},Hn=function e(t,n,r){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n,r),t.right&&e(t.right,n,r)))},Kn=function(e){for(var t=this.cy(),n=this.nodes(),r=function(e){var t=Yn(e),n=Xn[t.linkage];return null!=n&&(t.linkage=n),t}(e),i=r.attributes,a=function(e,t){return Tn(r.distance,i.length,function(t){return i[t](e)},function(e){return i[e](t)},e,t)},o=[],s=[],l=[],u=[],c=0;c<n.length;c++){var h={value:"dendrogram"===r.mode?n[c]:[n[c]],key:c,index:c};o[c]=h,u[c]=h,s[c]=[],l[c]=0}for(var d=0;d<o.length;d++)for(var p=0;p<=d;p++){var f=void 0;f="dendrogram"===r.mode?d===p?1/0:a(o[d].value,o[p].value):d===p?1/0:a(o[d].value[0],o[p].value[0]),s[d][p]=f,s[p][d]=f,f<s[d][l[d]]&&(l[d]=p)}for(var g,v=Wn(o,u,s,l,r);v;)v=Wn(o,u,s,l,r);return"dendrogram"===r.mode?(g=function e(t,n,r){if(!t)return[];var i=[],a=[],o=[];return 0===n?(t.left&&Hn(t.left,i,r),t.right&&Hn(t.right,a,r),o=i.concat(a),[r.collection(o)]):1===n?t.value?[r.collection(t.value)]:(t.left&&Hn(t.left,i,r),t.right&&Hn(t.right,a,r),[r.collection(i),r.collection(a)]):t.value?[r.collection(t.value)]:(t.left&&(i=e(t.left,n-1,r)),t.right&&(a=e(t.right,n-1,r)),i.concat(a))}(o[0],r.dendrogramDepth,t),r.addDendrogram&&function e(t,n){if(!t)return"";if(t.left&&t.right){var r=e(t.left,n),i=e(t.right,n),a=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:a.id()}}),n.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}return t.value?t.value.id():void 0}(o[0],t)):(g=new Array(o.length),o.forEach(function(e,n){e.key=e.index=null,g[n]=t.collection(e.value)})),g},Gn={hierarchicalClustering:Kn,hca:Kn},Zn=Me({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Un=function(e,t,n,r){var i=function(e,t){return r[t](e)};return-Tn(e,r.length,function(e){return i(t,e)},function(e){return i(n,e)},t,n)},$n=function(e,t){return"median"===t?st(e):"mean"===t?ot(e):"min"===t?it(e):"max"===t?at(e):t},Qn=function(e,t,n){for(var r=[],i=0;i<e;i++){for(var a=-1,o=-1/0,s=0;s<n.length;s++){var l=n[s];t[i*e+l]>o&&(a=l,o=t[i*e+l])}a>0&&r.push(a)}for(var u=0;u<n.length;u++)r[n[u]]=n[u];return r},Jn=function(e){for(var t,n,r,i,a,o,s=this.cy(),l=this.nodes(),u=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Ee("Damping must range on [0.5, 1).  Got: ".concat(t));var r=["median","mean","min","max"];return r.some(function(e){return e===n})||v(n)||Ee("Preference must be one of [".concat(r.map(function(e){return"'".concat(e,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Zn(e)}(e),c={},h=0;h<l.length;h++)c[l[h].id()]=h;n=(t=l.length)*t,r=new Array(n);for(var d=0;d<n;d++)r[d]=-1/0;for(var p=0;p<t;p++)for(var f=0;f<t;f++)p!==f&&(r[p*t+f]=Un(u.distance,l[p],l[f],u.attributes));i=$n(r,u.preference);for(var g=0;g<t;g++)r[g*t+g]=i;a=new Array(n);for(var y=0;y<n;y++)a[y]=0;o=new Array(n);for(var m=0;m<n;m++)o[m]=0;for(var b=new Array(t),x=new Array(t),w=new Array(t),E=0;E<t;E++)b[E]=0,x[E]=0,w[E]=0;for(var k,C=new Array(t*u.minIterations),S=0;S<C.length;S++)C[S]=0;for(k=0;k<u.maxIterations;k++){for(var D=0;D<t;D++){for(var P=-1/0,T=-1/0,M=-1,B=0,_=0;_<t;_++)b[_]=a[D*t+_],(B=o[D*t+_]+r[D*t+_])>=P?(T=P,P=B,M=_):B>T&&(T=B);for(var N=0;N<t;N++)a[D*t+N]=(1-u.damping)*(r[D*t+N]-P)+u.damping*b[N];a[D*t+M]=(1-u.damping)*(r[D*t+M]-T)+u.damping*b[M]}for(var I=0;I<t;I++){for(var z=0,L=0;L<t;L++)b[L]=o[L*t+I],x[L]=Math.max(0,a[L*t+I]),z+=x[L];z-=x[I],x[I]=a[I*t+I],z+=x[I];for(var A=0;A<t;A++)o[A*t+I]=(1-u.damping)*Math.min(0,z-x[A])+u.damping*b[A];o[I*t+I]=(1-u.damping)*(z-x[I])+u.damping*b[I]}for(var O=0,R=0;R<t;R++){var F=o[R*t+R]+a[R*t+R]>0?1:0;C[k%u.minIterations*t+R]=F,O+=F}if(O>0&&(k>=u.minIterations-1||k==u.maxIterations-1)){for(var V=0,q=0;q<t;q++){w[q]=0;for(var j=0;j<u.minIterations;j++)w[q]+=C[j*t+q];0!==w[q]&&w[q]!==u.minIterations||V++}if(V===t)break}}for(var Y=function(e,t,n){for(var r=[],i=0;i<e;i++)t[i*e+i]+n[i*e+i]>0&&r.push(i);return r}(t,a,o),X=function(e,t,n){for(var r=Qn(e,t,n),i=0;i<n.length;i++){for(var a=[],o=0;o<r.length;o++)r[o]===n[i]&&a.push(o);for(var s=-1,l=-1/0,u=0;u<a.length;u++){for(var c=0,h=0;h<a.length;h++)c+=t[a[h]*e+a[u]];c>l&&(s=u,l=c)}n[i]=a[s]}return r=Qn(e,t,n)}(t,r,Y),W={},H=0;H<Y.length;H++)W[Y[H]]=[];for(var K=0;K<l.length;K++){var G=X[c[l[K].id()]];null!=G&&W[G].push(l[K])}for(var Z=new Array(Y.length),U=0;U<Y.length;U++)Z[U]=s.collection(W[Y[U]]);return Z},er={};[Fe,je,Ye,We,Ke,Ze,Je,nn,an,sn,un,bn,jn,Gn,{affinityPropagation:Jn,ap:Jn}].forEach(function(e){I(er,e)});var tr=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};tr.prototype={fulfill:function(e){return nr(this,1,"fulfillValue",e)},reject:function(e){return nr(this,2,"rejectReason",e)},then:function(e,t){var n=new tr;return this.onFulfilled.push(ar(e,n,"fulfill")),this.onRejected.push(ar(t,n,"reject")),rr(this),n.proxy}};var nr=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,rr(e)),e},rr=function(e){1===e.state?ir(e,"onFulfilled",e.fulfillValue):2===e.state&&ir(e,"onRejected",e.rejectReason)},ir=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},ar=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(e){return void t.reject(e)}or(t,i)}}},or=function t(n,r){if(n!==r&&n.proxy!==r){var i;if("object"===e(r)&&null!==r||"function"==typeof r)try{i=r.then}catch(e){return void n.reject(e)}if("function"!=typeof i)n.fulfill(r);else{var a=!1;try{i.call(r,function(e){a||(a=!0,e===r?n.reject(new TypeError("circular thenable chain")):t(n,e))},function(e){a||(a=!0,n.reject(e))})}catch(e){a||n.reject(e)}}}else n.reject(new TypeError("cannot resolve promise with itself"))};tr.all=function(e){return new tr(function(t,n){for(var r=new Array(e.length),i=0,a=function(n,a){r[n]=a,++i===e.length&&t(r)},o=0;o<e.length;o++)!function(t){var r=e[t];null!=r&&null!=r.then?r.then(function(e){a(t,e)},function(e){n(e)}):a(t,r)}(o)})},tr.resolve=function(e){return new tr(function(t,n){t(e)})},tr.reject=function(e){return new tr(function(t,n){n(e)})};var sr="undefined"!=typeof Promise?Promise:tr,lr=function(e,t,n){var r=w(e),i=!r,a=this._private=I({duration:1e3},t,n);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&p(a.complete)&&a.completes.push(a.complete),i){var o=e.position();a.startPosition=a.startPosition||{x:o.x,y:o.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(r){var s=e.pan();a.startPan={x:s.x,y:s.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},ur=lr.prototype;I(ur,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),m(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var i=e.style[r],a=i.name,o=e.startStyle[a];e.startStyle[a]=i,e.style[r]=o}return t&&this.play(),this},promise:function(e){var t,n=this._private;switch(e){case"frame":t=n.frames;break;default:case"complete":case"completed":t=n.completes}return new sr(function(e,n){t.push(function(){e()})})}}),ur.complete=ur.completed,ur.run=ur.play,ur.running=ur.playing;var cr={};[{animated:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var t=e[0];return t?t._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var t=0;t<e.length;t++){e[t]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=void 0!==this.length,r=n?this:[this],i=this._private.cy||this,a=!n,o=!a;if(!i.styleEnabled())return this;var s=i.style();if(e=I({},e,t),0===Object.keys(e).length)return new lr(r[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(o&&(e.style=s.getPropsList(e.style||e.css),e.css=void 0),o&&null!=e.renderedPosition){var l=e.renderedPosition,u=i.pan(),c=i.zoom();e.position=nt(l,c,u)}if(a&&null!=e.panBy){var h=e.panBy,d=i.pan();e.pan={x:d.x+h.x,y:d.y+h.y}}var p=e.center||e.centre;if(a&&null!=p){var f=i.getCenterPan(p.eles,e.zoom);null!=f&&(e.pan=f)}if(a&&null!=e.fit){var v=e.fit,y=i.getFitViewport(v.eles||v.boundingBox,v.padding);null!=y&&(e.pan=y.pan,e.zoom=y.zoom)}if(a&&g(e.zoom)){var m=i.getZoomedViewport(e.zoom);null!=m&&(m.zoomed&&(e.zoom=m.zoom),m.panned&&(e.pan=m.pan))}return new lr(r[0],e)}},animate:function(){return function(e,t){var n=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=I({},e,t));for(var r=0;r<n.length;r++){var i=n[r],a=i.animated()&&(void 0===e.queue||e.queue);i.animation(e,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=void 0!==this.length?this:[this],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var i=0;i<n.length;i++){for(var a=n[i]._private,o=a.animation.current,s=0;s<o.length;s++){var l=o[s]._private;t&&(l.duration=0)}e&&(a.animation.queue=[]),t||(a.animation.current=[])}return r.notify("draw"),this}}},{data:function(e){return e=I({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var r=e,i=void 0!==this.length,a=i?this:[this],o=i?this[0]:this;if(d(t)){var s;if(r.allowGetting&&void 0===n)return o&&(r.beforeGet(o),s=o._private[r.field][t]),s;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[t]){var l=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n);r.beforeSet(this,l);for(var u=0,c=a.length;u<c;u++){var h=a[u];r.canSet(h)&&(h._private[r.field][t]=n)}r.updateStyle&&this.updateStyle(),r.onSet(this),r.settingTriggersEvent&&this[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&g(t)){var f,v,y=t,m=Object.keys(y);r.beforeSet(this,y);for(var b=0;b<m.length;b++){if(v=y[f=m[b]],!r.immutableKeys[f])for(var x=0;x<a.length;x++){var w=a[x];r.canSet(w)&&(w._private[r.field][f]=v)}}r.updateStyle&&this.updateStyle(),r.onSet(this),r.settingTriggersEvent&&this[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&p(t)){var E=t;this.on(r.bindingEvent,E)}else if(r.allowGetting&&void 0===t){var k;return o&&(r.beforeGet(o),k=o._private[r.field]),k}return this}},removeData:function(e){return e=I({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=void 0!==this.length?this:[this];if(d(t)){for(var i=t.split(/\s+/),a=i.length,o=0;o<a;o++){var s=i[o];if(!k(s))if(!n.immutableKeys[s])for(var l=0,u=r.length;l<u;l++)r[l]._private[n.field][s]=void 0}n.triggerEvent&&this[n.triggerFnName](n.event)}else if(void 0===t){for(var c=0,h=r.length;c<h;c++)for(var p=r[c]._private[n.field],f=Object.keys(p),g=0;g<f.length;g++){var v=f[g];!n.immutableKeys[v]&&(p[v]=void 0)}n.triggerEvent&&this[n.triggerFnName](n.event)}return this}}},{eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new sr(function(e,t){var i=r.concat([function(t){n.off.apply(n,a),e(t)}]),a=i.concat([]);n.on.apply(n,i)})}}}].forEach(function(e){I(cr,e)});var hr={animate:cr.animate(),animation:cr.animation(),animated:cr.animated(),clearQueue:cr.clearQueue(),delay:cr.delay(),delayAnimation:cr.delayAnimation(),stop:cr.stop()},dr={classes:function(e){if(void 0===e){var t=[];return this[0]._private.classes.forEach(function(e){return t.push(e)}),t}f(e)||(e=(e||"").match(/\S+/g)||[]);for(var n=[],r=new Ae(e),i=0;i<this.length;i++){for(var a=this[i],o=a._private,s=o.classes,l=!1,u=0;u<e.length;u++){var c=e[u];if(!s.has(c)){l=!0;break}}l||(l=s.size!==e.length),l&&(o.classes=r,n.push(a))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),this},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){f(e)||(e=e.match(/\S+/g)||[]);for(var n=void 0===t,r=[],i=0,a=this.length;i<a;i++)for(var o=this[i],s=o._private.classes,l=!1,u=0;u<e.length;u++){var c=e[u],h=s.has(c),d=!1;t||n&&!h?(s.add(c),d=!0):(!t||n&&h)&&(s.delete(c),d=!0),!l&&d&&(r.push(o),l=!0)}return r.length>0&&this.spawn(r).updateStyle().emit("class"),this},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};dr.className=dr.classNames=dr.classes;var pr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:_,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};pr.variable="(?:[\\w-]|(?:\\\\"+pr.metaChar+"))+",pr.value=pr.string+"|"+pr.number,pr.className=pr.variable,pr.id=pr.variable,function(){var e,t,n;for(e=pr.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],pr.comparatorOp+="|@"+t;for(e=pr.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(pr.comparatorOp+="|\\!"+t)}();var fr=0,gr=1,vr=2,yr=3,mr=4,br=5,xr=6,wr=7,Er=8,kr=9,Cr=10,Sr=11,Dr=12,Pr=13,Tr=14,Mr=15,Br=16,_r=17,Nr=18,Ir=19,zr=20,Lr=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return function(e,t){return-1*N(e,t)}(e.selector,t.selector)}),Ar=function(){for(var e,t={},n=0;n<Lr.length;n++)t[(e=Lr[n]).selector]=e.matches;return t}(),Or="("+Lr.map(function(e){return e.selector}).join("|")+")",Rr=function(e){return e.replace(new RegExp("\\\\("+pr.metaChar+")","g"),function(e,t){return t})},Fr=function(e,t,n){e[e.length-1]=n},Vr=[{name:"group",query:!0,regex:"("+pr.group+")",populate:function(e,t,n){var r=i(n,1)[0];t.checks.push({type:fr,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:Or,populate:function(e,t,n){var r=i(n,1)[0];t.checks.push({type:wr,value:r})}},{name:"id",query:!0,regex:"\\#("+pr.id+")",populate:function(e,t,n){var r=i(n,1)[0];t.checks.push({type:Er,value:Rr(r)})}},{name:"className",query:!0,regex:"\\.("+pr.className+")",populate:function(e,t,n){var r=i(n,1)[0];t.checks.push({type:kr,value:Rr(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+pr.variable+")\\s*\\]",populate:function(e,t,n){var r=i(n,1)[0];t.checks.push({type:mr,field:Rr(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+pr.variable+")\\s*("+pr.comparatorOp+")\\s*("+pr.value+")\\s*\\]",populate:function(e,t,n){var r=i(n,3),a=r[0],o=r[1],s=r[2];s=null!=new RegExp("^"+pr.string+"$").exec(s)?s.substring(1,s.length-1):parseFloat(s),t.checks.push({type:yr,field:Rr(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+pr.boolOp+")\\s*("+pr.variable+")\\s*\\]",populate:function(e,t,n){var r=i(n,2),a=r[0],o=r[1];t.checks.push({type:br,field:Rr(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+pr.meta+")\\s*("+pr.comparatorOp+")\\s*("+pr.number+")\\s*\\]\\]",populate:function(e,t,n){var r=i(n,3),a=r[0],o=r[1],s=r[2];t.checks.push({type:xr,field:Rr(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:pr.separator,populate:function(e,t){var n=e.currentSubject,r=e.edgeCount,i=e.compoundCount,a=e[e.length-1];return null!=n&&(a.subject=n,e.currentSubject=null),a.edgeCount=r,a.compoundCount=i,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:pr.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:Sr,source:r,target:i}),Fr(e,0,n),e.edgeCount++,i}var a={checks:[]},o=t,s={checks:[]};return a.checks.push({type:Dr,source:o,target:s}),Fr(e,0,a),e.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:pr.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:Cr,nodes:[r,i]}),Fr(e,0,n),e.edgeCount++,i}var a={checks:[]},o=t,s={checks:[]};return a.checks.push({type:Tr,node:o,neighbor:s}),Fr(e,0,a),s}},{name:"child",separator:!0,regex:pr.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:Mr,parent:i,child:r}),Fr(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var a={checks:[]},o=e[e.length-1],s={checks:[]},l={checks:[]},u={checks:[]},c={checks:[]};return a.checks.push({type:Ir,left:o,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:zr}],c.checks.push({type:zr}),s.checks.push({type:_r,parent:c,child:u}),Fr(e,0,a),e.currentSubject=l,e.compoundCount++,u}var h={checks:[]},d={checks:[]},p=[{type:_r,parent:h,child:d}];return h.checks=t.checks,t.checks=p,e.compoundCount++,d}},{name:"descendant",separator:!0,regex:pr.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:Br,ancestor:i,descendant:r}),Fr(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var a={checks:[]},o=e[e.length-1],s={checks:[]},l={checks:[]},u={checks:[]},c={checks:[]};return a.checks.push({type:Ir,left:o,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:zr}],c.checks.push({type:zr}),s.checks.push({type:Nr,ancestor:c,descendant:u}),Fr(e,0,a),e.currentSubject=l,e.compoundCount++,u}var h={checks:[]},d={checks:[]},p=[{type:Nr,ancestor:h,descendant:d}];return h.checks=t.checks,t.checks=p,e.compoundCount++,d}},{name:"subject",modifier:!0,regex:pr.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return Ce("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],r=null==n?null:n.type;r===Sr?n.type=Pr:r===Cr&&(n.type=Tr,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];Vr.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var qr=function(e){for(var t,n,r,i=0;i<Vr.length;i++){var a=Vr[i],o=a.name,s=e.match(a.regexObj);if(null!=s){n=s,t=a,r=o;var l=s[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:r,remaining:e}},jr={parse:function(e){var t=this.inputText=e,n=this[0]={checks:[]};for(this.length=1,t=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(t);;){var r=qr(t);if(null==r.expr)return Ce("The selector `"+e+"`is invalid"),!1;var i=r.match.slice(1),a=r.expr.populate(this,n,i);if(!1===a)return!1;if(null!=a&&(n=a),(t=r.remaining).match(/^\s*$/))break}var o=this[this.length-1];null!=this.currentSubject&&(o.subject=this.currentSubject),o.edgeCount=this.edgeCount,o.compoundCount=this.compoundCount;for(var s=0;s<this.length;s++){var l=this[s];if(l.compoundCount>0&&l.edgeCount>0)return Ce("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return Ce("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&Ce("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return d(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},r=function(r,a){var o=r.type,s=r.value;switch(o){case fr:var l=e(s);return l.substring(0,l.length-1);case yr:var u=r.field,c=r.operator;return"["+u+n(e(c))+t(s)+"]";case br:var h=r.operator,d=r.field;return"["+e(h)+d+"]";case mr:return"["+r.field+"]";case xr:var p=r.operator;return"[["+r.field+n(e(p))+t(s)+"]]";case wr:return s;case Er:return"#"+s;case kr:return"."+s;case _r:case Mr:return i(r.parent,a)+n(">")+i(r.child,a);case Nr:case Br:return i(r.ancestor,a)+" "+i(r.descendant,a);case Ir:var f=i(r.left,a),g=i(r.subject,a),v=i(r.right,a);return f+(f.length>0?" ":"")+g+v;case zr:return""}},i=function(e,t){return e.checks.reduce(function(n,i,a){return n+(t===e&&0===a?"$":"")+r(i,t)},"")},a="",o=0;o<this.length;o++){var s=this[o];a+=i(s,s.subject),this.length>1&&o<this.length-1&&(a+=", ")}return this.toStringCache=a,a}},Yr=function(e,t,n){var r,i,a,o=d(e),s=v(e),l=d(n),u=!1,c=!1,h=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),c=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),u=!0),(o||l||u)&&(i=o||s?""+e:"",a=""+n),u&&(e=i=i.toLowerCase(),n=a=a.toLowerCase()),t){case"*=":r=i.indexOf(a)>=0;break;case"$=":r=i.indexOf(a,i.length-a.length)>=0;break;case"^=":r=0===i.indexOf(a);break;case"=":r=e===n;break;case">":h=!0,r=e>n;break;case">=":h=!0,r=e>=n;break;case"<":h=!0,r=e<n;break;case"<=":h=!0,r=e<=n;break;default:r=!1}return!c||null==e&&h||(r=!r),r},Xr=function(e,t){return e.data(t)},Wr=[],Hr=function(e,t){return e.checks.every(function(e){return Wr[e.type](e,t)})};Wr[fr]=function(e,t){var n=e.value;return"*"===n||n===t.group()},Wr[wr]=function(e,t){return function(e,t){return Ar[e](t)}(e.value,t)},Wr[Er]=function(e,t){var n=e.value;return t.id()===n},Wr[kr]=function(e,t){var n=e.value;return t.hasClass(n)},Wr[xr]=function(e,t){var n=e.field,r=e.operator,i=e.value;return Yr(function(e,t){return e[t]()}(t,n),r,i)},Wr[yr]=function(e,t){var n=e.field,r=e.operator,i=e.value;return Yr(Xr(t,n),r,i)},Wr[br]=function(e,t){var n=e.field,r=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(Xr(t,n),r)},Wr[mr]=function(e,t){var n=e.field;e.operator;return void 0!==Xr(t,n)},Wr[Cr]=function(e,t){var n=e.nodes[0],r=e.nodes[1],i=t.source(),a=t.target();return Hr(n,i)&&Hr(r,a)||Hr(r,i)&&Hr(n,a)},Wr[Tr]=function(e,t){return Hr(e.node,t)&&t.neighborhood().some(function(t){return t.isNode()&&Hr(e.neighbor,t)})},Wr[Sr]=function(e,t){return Hr(e.source,t.source())&&Hr(e.target,t.target())},Wr[Dr]=function(e,t){return Hr(e.source,t)&&t.outgoers().some(function(t){return t.isNode()&&Hr(e.target,t)})},Wr[Pr]=function(e,t){return Hr(e.target,t)&&t.incomers().some(function(t){return t.isNode()&&Hr(e.source,t)})},Wr[Mr]=function(e,t){return Hr(e.child,t)&&Hr(e.parent,t.parent())},Wr[_r]=function(e,t){return Hr(e.parent,t)&&t.children().some(function(t){return Hr(e.child,t)})},Wr[Br]=function(e,t){return Hr(e.descendant,t)&&t.ancestors().some(function(t){return Hr(e.ancestor,t)})},Wr[Nr]=function(e,t){return Hr(e.ancestor,t)&&t.descendants().some(function(t){return Hr(e.descendant,t)})},Wr[Ir]=function(e,t){return Hr(e.subject,t)&&Hr(e.left,t)&&Hr(e.right,t)},Wr[zr]=function(){return!0},Wr[gr]=function(e,t){return e.value.has(t)},Wr[vr]=function(e,t){return(0,e.value)(t)};var Kr=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||d(e)&&e.match(/^\s*$/)||(m(e)?this.addQuery({checks:[{type:gr,value:e.collection()}]}):p(e)?this.addQuery({checks:[{type:vr,value:e}]}):d(e)?this.parse(e)||(this.invalid=!0):Ee("A selector must be created from a string; found ",e))},Gr=Kr.prototype;[jr,{matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(Hr(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&t[0].checks[0].type===Er)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(Hr(r,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}}].forEach(function(e){return I(Gr,e)}),Gr.text=function(){return this.inputText},Gr.size=function(){return this.length},Gr.eq=function(e){return this[e]},Gr.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},Gr.addQuery=function(e){this[this.length++]=e},Gr.selector=Gr.toString;var Zr={allAre:function(e){var t=new Kr(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new Kr(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var n=0;n<this.length;n++){if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every(function(t){return e.hasElementWithId(t.id())}))},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};Zr.allAreNeighbours=Zr.allAreNeighbors,Zr.has=Zr.contains,Zr.equal=Zr.equals=Zr.same;var Ur,$r,Qr=function(e,t){return function(n,r,i,a){var o,s=n;if(null==s?o="":m(s)&&1===s.length&&(o=s.id()),1===this.length&&o){var l=this[0]._private,u=l.traversalCache=l.traversalCache||{},c=u[t]=u[t]||[],h=he(o),d=c[h];return d||(c[h]=e.call(this,n,r,i,a))}return e.call(this,n,r,i,a)}},Jr={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&t.push(i)}return this.spawn(t,{unique:!0}).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}n=n.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:Qr(function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,i=0;i<r.length;i++)t.push(r[i]);return this.spawn(t,{unique:!0}).filter(e)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var i=n[r];t.push(i),i.children().nonempty()&&e(i.children())}}(this.children()),this.spawn(t,{unique:!0}).filter(e)}};function ei(e,t,n,r){for(var i=[],a=new Ae,o=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var l=e[s];n?i.push(l):o&&r(i,a,l)}for(;i.length>0;){var u=i.shift();t(u),a.add(u.id()),o&&r(i,a,u)}return e}function ti(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var a=r[i];t.has(a.id())||e.push(a)}}function ni(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function ri(e,t,n){ni(e,t,n),ti(e,t,n)}Jr.forEachDown=function(e){return ei(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ti)},Jr.forEachUp=function(e){return ei(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ni)},Jr.forEachUpAndDown=function(e){return ei(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ri)},Jr.ancestors=Jr.parents,(Ur=$r={data:cr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:cr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:cr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:cr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:cr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:cr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=Ur.data,Ur.removeAttr=Ur.removeData;var ii,ai,oi=$r,si={};function li(e){return function(t){if(void 0===t&&(t=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var n=0,r=this[0],i=r._private.edges,a=0;a<i.length;a++){var o=i[a];!t&&o.isLoop()||(n+=e(r,o))}return n}}}function ui(e,t){return function(n){for(var r,i=this.nodes(),a=0;a<i.length;a++){var o=i[a][e](n);void 0===o||void 0!==r&&!t(o,r)||(r=o)}return r}}I(si,{degree:li(function(e,t){return t.source().same(t.target())?2:1}),indegree:li(function(e,t){return t.target().same(e)?1:0}),outdegree:li(function(e,t){return t.source().same(e)?1:0})}),I(si,{minDegree:ui("degree",function(e,t){return e<t}),maxDegree:ui("degree",function(e,t){return e>t}),minIndegree:ui("indegree",function(e,t){return e<t}),maxIndegree:ui("indegree",function(e,t){return e>t}),minOutdegree:ui("outdegree",function(e,t){return e<t}),maxOutdegree:ui("outdegree",function(e,t){return e>t})}),I(si,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}});var ci=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(!i.locked()){var a=i._private.position,o={x:null!=t.x?t.x-a.x:0,y:null!=t.y?t.y-a.y:0};!i.isParent()||0===o.x&&0===o.y||i.children().shift(o,n),i.shiftCachedBoundingBox(o)}}},hi={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){ci(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};(ii=ai={position:cr.data(hi),silentPosition:cr.data(I({},hi,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){ci(e,t,!0)}})),positions:function(e,t){if(g(e))t?this.silentPosition(e):this.position(e);else if(p(e)){var n=e,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var a,o=this[i];(a=n(o,i))&&(t?o.silentPosition(a):o.position(a))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var r;if(g(e)?(r={x:v(e.x)?e.x:0,y:v(e.y)?e.y:0},n=t):d(e)&&v(t)&&((r={x:0,y:0})[e]=t),null!=r){var i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=o.position(),l={x:s.x+r.x,y:s.y+r.y};n?o.silentPosition(l):o.position(l)}i.endBatch()}return this},silentShift:function(e,t){return g(e)?this.shift(e,!0):d(e)&&v(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),i=r.zoom(),a=r.pan(),o=g(e)?e:void 0,s=void 0!==o||void 0!==t&&d(e);if(n&&n.isNode()){if(!s){var l=n.position();return o=tt(l,i,a),void 0===e?o:o[e]}for(var u=0;u<this.length;u++){var c=this[u];void 0!==t?c.position(e,(t-a[e])/i):void 0!==o&&c.position(nt(o,i,a))}}else if(!s)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),i=g(e)?e:void 0,a=void 0!==i||void 0!==t&&d(e),o=r.hasCompoundNodes();if(n&&n.isNode()){if(!a){var s=n.position(),l=o?n.parent():null,u=l&&l.length>0,c=u;u&&(l=l[0]);var h=c?l.position():{x:0,y:0};return i={x:s.x-h.x,y:s.y-h.y},void 0===e?i:i[e]}for(var p=0;p<this.length;p++){var f=this[p],v=o?f.parent():null,y=v&&v.length>0,m=y;y&&(v=v[0]);var b=m?v.position():{x:0,y:0};void 0!==t?f.position(e,t+b[e]):void 0!==i&&f.position({x:i.x+b.x,y:i.y+b.y})}}else if(!a)return;return this}}).modelPosition=ii.point=ii.position,ii.modelPositions=ii.points=ii.positions,ii.renderedPoint=ii.renderedPosition,ii.relativePoint=ii.relativePosition;var di,pi,fi=ai;di=pi={},pi.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),a=t.x1*r+i.x,o=t.x2*r+i.x,s=t.y1*r+i.y,l=t.y2*r+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}},pi.dirtyCompoundBoundsCache=function(){var e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp(function(e){if(e.isParent()){var t=e._private;t.compoundBoundsClean=!1,t.bbCache=null,e.emitAndNotify("bounds")}}),this):this},pi.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,i={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},a=n.filter(function(e){return"element"===e.pstyle("display").value}).boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),o=t.position;0!==a.w&&0!==a.h||((a={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=o.x-a.w/2,a.x2=o.x+a.w/2,a.y1=o.y-a.h/2,a.y2=o.y+a.h/2);var s=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(s=100*s/i.width.val);var l=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(l=100*l/i.width.val);var u=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(u=100*u/i.height.val);var c=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(c=100*c/i.height.val);var h=y(i.width.val-a.w,s,l),d=h.biasDiff,p=h.biasComplementDiff,f=y(i.height.val-a.h,u,c),g=f.biasDiff,v=f.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(a.w,a.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(a.w,i.width.val),o.x=(-d+a.x1+a.x2+p)/2,t.autoHeight=Math.max(a.h,i.height.val),o.y=(-g+a.y1+a.y2+v)/2}function y(e,t,n){var r=0,i=0,a=t+n;return e>0&&a>0&&(r=t/a*e,i=n/a*e),{biasDiff:r,biasComplementDiff:i}}}for(var r=0;r<this.length;r++){var i=this[r],a=i._private;a.compoundBoundsClean||(n(i),t.batching()||(a.compoundBoundsClean=!0))}return this};var gi=function(e){return e===1/0||e===-1/0?0:e},vi=function(e,t,n,r,i){r-t!=0&&i-n!=0&&null!=t&&null!=n&&null!=r&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},yi=function(e,t){return null==t?e:vi(e,t.x1,t.y1,t.x2,t.y2)},mi=function(e,t,n){return Ne(e,t,n)},bi=function(e,t,n){if(!t.cy().headless()){var r,i,a=t._private,o=a.rstyle,s=o.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(r=o.srcX,i=o.srcY):"target"===n?(r=o.tgtX,i=o.tgtY):(r=o.midX,i=o.midY);var l=a.arrowBounds=a.arrowBounds||{},u=l[n]=l[n]||{};u.x1=r-s,u.y1=i-s,u.x2=r+s,u.y2=i+s,u.w=u.x2-u.x1,u.h=u.y2-u.y1,Ct(u,1),vi(e,u.x1,u.y1,u.x2,u.y2)}}},xi=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var i=t._private,a=i.rstyle;if(t.pstyle(r+"label").strValue){var o,s,l,u,c=t.pstyle("text-halign"),h=t.pstyle("text-valign"),d=mi(a,"labelWidth",n),p=mi(a,"labelHeight",n),f=mi(a,"labelX",n),g=mi(a,"labelY",n),v=t.pstyle(r+"text-margin-x").pfValue,y=t.pstyle(r+"text-margin-y").pfValue,m=t.isEdge(),b=t.pstyle(r+"text-rotation"),x=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue/2,E=t.pstyle("text-background-padding").pfValue,k=p,C=d,S=C/2,D=k/2;if(m)o=f-S,s=f+S,l=g-D,u=g+D;else{switch(c.value){case"left":o=f-C,s=f;break;case"center":o=f-S,s=f+S;break;case"right":o=f,s=f+C}switch(h.value){case"top":l=g-k,u=g;break;case"center":l=g-D,u=g+D;break;case"bottom":l=g,u=g+k}}o+=v-Math.max(x,w)-E,s+=v+Math.max(x,w)+E,l+=y-Math.max(x,w)-E,u+=y+Math.max(x,w)+E;var P=n||"main",T=i.labelBounds,M=T[P]=T[P]||{};M.x1=o,M.y1=l,M.x2=s,M.y2=u,M.w=s-o,M.h=u-l,Ct(M,1);var B=m&&"autorotate"===b.strValue,_=null!=b.pfValue&&0!==b.pfValue;if(B||_){var N=B?mi(i.rstyle,"labelAngle",n):b.pfValue,I=Math.cos(N),z=Math.sin(N),L=(o+s)/2,A=(l+u)/2;if(!m){switch(c.value){case"left":L=s;break;case"right":L=o}switch(h.value){case"top":A=u;break;case"bottom":A=l}}var O=function(e,t){return{x:(e-=L)*I-(t-=A)*z+L,y:e*z+t*I+A}},R=O(o,l),F=O(o,u),V=O(s,l),q=O(s,u);o=Math.min(R.x,F.x,V.x,q.x),s=Math.max(R.x,F.x,V.x,q.x),l=Math.min(R.y,F.y,V.y,q.y),u=Math.max(R.y,F.y,V.y,q.y)}vi(e,o,l,s,u),vi(i.labelBounds.all,o,l,s,u)}return e}},wi=function(e){var t=0,n=function(e){return(e?1:0)<<t++},r=0;return r+=n(e.incudeNodes),r+=n(e.includeEdges),r+=n(e.includeLabels),r+=n(e.includeOverlays)},Ei=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position(),r=function(e){return Math.round(e)};return ce([r(t.x),r(t.y),r(n.x),r(n.y)])}return 0},ki=function(e,t){var n,r=e._private,i=(null==t?Si:wi(t))===Si,a=Ei(e),o=r.bbCachePosKey===a,s=!(t.useCache&&o)||null==r.bbCache;if(s?(o||e.recalculateRenderedStyle(),n=function(e,t){var n,r,i,a,o,s,l=e._private.cy,u=l.styleEnabled(),c=l.headless(),h=bt(),d=e._private,p=u?e.pstyle("display").value:"element",f=e.isNode(),g=e.isEdge(),v="none"!==p,y=d.rstyle,m=f&&u?e.pstyle("bounds-expansion").pfValue:0;if(v){var b=0;u&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(b=e.pstyle("overlay-padding").value);var x=0;if(u&&(x=e.pstyle("width").pfValue/2),f&&t.includeNodes){var w=e.position();o=w.x,s=w.y;var E=e.outerWidth()/2,k=e.outerHeight()/2;vi(h,n=o-E,i=s-k,r=o+E,a=s+k)}else if(g&&t.includeEdges)if(u&&!c&&(n=Math.min(y.srcX,y.midX,y.tgtX),r=Math.max(y.srcX,y.midX,y.tgtX),i=Math.min(y.srcY,y.midY,y.tgtY),a=Math.max(y.srcY,y.midY,y.tgtY),vi(h,n-=x,i-=x,r+=x,a+=x)),u&&!c&&"haystack"===e.pstyle("curve-style").strValue){var C=y.haystackPts||[];if(n=C[0].x,i=C[0].y,n>(r=C[1].x)){var S=n;n=r,r=S}if(i>(a=C[1].y)){var D=i;i=a,a=D}vi(h,n-x,i-x,r+x,a+x)}else{for(var P=y.bezierPts||y.linePts||[],T=0;T<P.length;T++){var M=P[T];n=M.x-x,r=M.x+x,i=M.y-x,a=M.y+x,vi(h,n,i,r,a)}if(0===P.length){var B=e.source().position(),_=e.target().position();if((n=B.x)>(r=_.x)){var N=n;n=r,r=N}if((i=B.y)>(a=_.y)){var I=i;i=a,a=I}vi(h,n-=x,i-=x,r+=x,a+=x)}}if(u&&t.includeEdges&&g&&(bi(h,e,"mid-source"),bi(h,e,"mid-target"),bi(h,e,"source"),bi(h,e,"target")),u&&"yes"===e.pstyle("ghost").value){var z=e.pstyle("ghost-offset-x").pfValue,L=e.pstyle("ghost-offset-y").pfValue;vi(h,h.x1+z,h.y1+L,h.x2+z,h.y2+L)}var A=d.bodyBounds=d.bodyBounds||{};St(A,h),Ct(A,m),Ct(A,1),u&&(n=h.x1,r=h.x2,i=h.y1,a=h.y2,vi(h,n-b,i-b,r+b,a+b));var O=d.overlayBounds=d.overlayBounds||{};St(O,h),Ct(O,m),Ct(O,1);var R=d.labelBounds=d.labelBounds||{};null!=R.all?wt(R.all):R.all=bt(),u&&t.includeLabels&&(xi(h,e,null),g&&(xi(h,e,"source"),xi(h,e,"target")))}return h.x1=gi(h.x1),h.y1=gi(h.y1),h.x2=gi(h.x2),h.y2=gi(h.y2),h.w=gi(h.x2-h.x1),h.h=gi(h.y2-h.y1),h.w>0&&h.h>0&&v&&(Ct(h,m),Ct(h,1)),h}(e,Ci),r.bbCache=n,r.bbCacheShift.x=r.bbCacheShift.y=0,r.bbCachePosKey=a):n=r.bbCache,!s&&(0!==r.bbCacheShift.x||0!==r.bbCacheShift.y)){var l=Dt,u=r.bbCacheShift,c=function(e,t){null!=e&&l(e,t)};l(n,u);var h=r.bodyBounds,d=r.overlayBounds,p=r.labelBounds,f=r.arrowBounds;c(h,u),c(d,u),null!=f&&(c(f.source,u),c(f.target,u),c(f["mid-source"],u),c(f["mid-target"],u)),null!=p&&(c(p.main,u),c(p.all,u),c(p.source,u),c(p.target,u))}if(r.bbCacheShift.x=r.bbCacheShift.y=0,!i){var g=e.isNode();n=bt(),(t.includeNodes&&g||t.includeEdges&&!g)&&(t.includeOverlays?yi(n,r.overlayBounds):yi(n,r.bodyBounds)),t.includeLabels&&yi(n,r.labelBounds.all),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Ci={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},Si=wi(Ci),Di=Me(Ci);pi.boundingBox=function(e){if(1===this.length&&null!=this[0]._private.bbCache&&(void 0===e||void 0===e.useCache||!0===e.useCache))return e=void 0===e?Ci:Di(e),ki(this[0],e);var t=bt(),n=Di(e=e||Ci);if(this.cy().styleEnabled())for(var r=0;r<this.length;r++){var i=this[r],a=i._private,o=Ei(i),s=a.bbCachePosKey===o,l=n.useCache&&s;i.recalculateRenderedStyle(l)}this.updateCompoundBounds();for(var u=0;u<this.length;u++){var c=this[u];yi(t,ki(c,n))}return t.x1=gi(t.x1),t.y1=gi(t.y1),t.x2=gi(t.x2),t.y2=gi(t.y2),t.w=gi(t.x2-t.x1),t.h=gi(t.y2-t.y1),t},pi.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCacheShift.x=t.bbCacheShift.y=0,t.bbCachePosKey=null}return this.emitAndNotify("bounds"),this},pi.shiftCachedBoundingBox=function(e){for(var t=0;t<this.length;t++){var n=this[t]._private;null!=n.bbCache&&(n.bbCacheShift.x+=e.x,n.bbCacheShift.y+=e.y)}return this.emitAndNotify("bounds"),this},pi.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes();if(r&&(t=t.filter(function(e){return!e.isParent()})),g(e)){var i=e;e=function(){return i}}n.startBatch(),t.forEach(function(t,n){return t._private.bbAtOldPos=e(t,n)}).silentPositions(e),r&&this.updateCompoundBounds(!0);var a=xt(this.boundingBox({useCache:!1}));return t.silentPositions(function(e){return e._private.bbAtOldPos}),n.endBatch(),a},di.boundingbox=di.bb=di.boundingBox,di.renderedBoundingbox=di.renderedBoundingBox;var Pi,Ti,Mi=pi;Pi=Ti={};var Bi=function(e){e.uppercaseName=B(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=B(e.outerName),Pi[e.name]=function(){var t=this[0],n=t._private,r=n.cy._private.styleEnabled;if(t){if(!r)return 1;if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var i=t.pstyle(e.name);switch(i.strValue){case"label":return t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0;default:return i.pfValue}}},Pi["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t)return n?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},Pi["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},Pi["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};Bi({name:"width"}),Bi({name:"height"}),Ti.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};var _i=Ti,Ni={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},Ii=Object.keys(Ni).reduce(function(e,t){var n=Ni[t],r=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge())return t(e)}(this,n.get)},n.mult?e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy(),r=n.pan(),i=n.zoom();return t(e).map(function(e){return tt(e,i,r)})}}(this,n.get)}:e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy();return tt(t(e),n.zoom(),n.pan())}}(this,n.get)},e},{}),zi=I({},fi,Mi,_i,Ii),Li=function(e,t){this.recycle(e,t)};function Ai(){return!1}function Oi(){return!0}Li.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ai,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Oi:Ai):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*r+i.x,y:n.y*r+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Oi;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Oi;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Oi,this.stopPropagation()},isDefaultPrevented:Ai,isPropagationStopped:Ai,isImmediatePropagationStopped:Ai};var Ri=/^([^.]+)(\.(?:[^.]+))?$/,Fi={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Vi=Object.keys(Fi),qi={};function ji(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi,t=arguments.length>1?arguments[1]:void 0,n=0;n<Vi.length;n++){var r=Vi[n];this[r]=e[r]||Fi[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Yi=ji.prototype,Xi=function(e,t,n,r,i,a,o){p(r)&&(i=r,r=null),o&&(a=null==a?o:I({},a,o));for(var s=f(n)?n:n.split(/\s+/),l=0;l<s.length;l++){var u=s[l];if(!k(u)){var c=u.match(Ri);if(c)if(!1===t(e,u,c[1],c[2]?c[2]:null,r,i,a))break}}},Wi=function(e,t){return e.addEventFields(e.context,t),new Li(t.type,t)},Hi=function(e,t,n){if("event"!==h(n))if(g(n))t(e,Wi(e,n));else for(var r=f(n)?n:n.split(/\s+/),i=0;i<r.length;i++){var a=r[i];if(!k(a)){var o=a.match(Ri);if(o){var s=o[1],l=o[2]?o[2]:null;t(e,Wi(e,{type:s,namespace:l,target:e.context}))}}}else t(e,n)};Yi.on=Yi.addListener=function(e,t,n,r,i){return Xi(this,function(e,t,n,r,i,a,o){p(a)&&e.listeners.push({event:t,callback:a,type:n,namespace:r,qualifier:i,conf:o})},e,t,n,r,i),this},Yi.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},Yi.removeListener=Yi.off=function(e,t,n,r){var i=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var a=this.listeners,o=function(o){var s=a[o];Xi(i,function(e,t,n,r,i,l){if(s.type===n&&(!r&&".*"!==s.namespace||s.namespace===r)&&(!i||e.qualifierCompare(s.qualifier,i))&&(!l||s.callback===l))return a.splice(o,1),!1},e,t,n,r)},s=a.length-1;s>=0;s--)o(s);return this},Yi.emit=Yi.trigger=function(e,t,n){var r=this.listeners,i=r.length;return this.emitting++,f(t)||(t=[t]),Hi(this,function(e,a){null!=n&&(r=[{event:a.event,type:a.type,namespace:a.namespace,callback:n}],i=r.length);for(var o=function(n){var i=r[n];if(i.type===a.type&&(!i.namespace||i.namespace===a.namespace||".*"===i.namespace)&&e.eventMatches(e.context,i,a)){var o=[a];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}}(o,t),e.beforeEmit(e.context,i,a),i.conf&&i.conf.one&&(e.listeners=e.listeners.filter(function(e){return e!==i}));var s=e.callbackContext(e.context,i,a),l=i.callback.apply(s,o);e.afterEmit(e.context,i,a),!1===l&&(a.stopPropagation(),a.preventDefault())}},s=0;s<i;s++)o(s);e.bubble(e.context)&&!a.isPropagationStopped()&&e.parent(e.context).emit(a,t)},e),this.emitting--,this};var Ki={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&b(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Gi=function(e){return d(e)?new Kr(e):e},Zi={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new ji(Ki,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=Gi(t),i=0;i<this.length;i++){this[i].emitter().on(e,r,n)}return this},removeListener:function(e,t,n){for(var r=Gi(t),i=0;i<this.length;i++){this[i].emitter().removeListener(e,r,n)}return this},one:function(e,t,n){for(var r=Gi(t),i=0;i<this.length;i++){this[i].emitter().one(e,r,n)}return this},once:function(e,t,n){for(var r=Gi(t),i=0;i<this.length;i++){this[i].emitter().on(e,r,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){this[n].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};cr.eventAliasesOn(Zi);var Ui={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?e.merge(r):t.merge(r)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(d(e)||m(e))return new Kr(e).filter(this);if(p(e)){for(var n=this.spawn(),r=0;r<this.length;r++){var i=this[r];(t?e.apply(t,[i,r,this]):e(i,r,this))&&n.merge(i)}return n}return this.spawn()},not:function(e){if(e){d(e)&&(e=this.filter(e));for(var t=[],n=e._private.map,r=0;r<this.length;r++){var i=this[r];n.has(i.id())||t.push(i)}return this.spawn(t)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(d(e)){var t=e;return this.filter(t)}for(var n=[],r=e,i=this.length<e.length,a=i?r._private.map:this._private.map,o=i?this:r,s=0;s<o.length;s++){var l=o[s]._private.data.id,u=a.get(l);u&&n.push(u.ele)}return this.spawn(n)},xor:function(e){var t=this._private.cy;d(e)&&(e=t.$(e));var n=[],r=e,i=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id;t.hasElementWithId(a)||n.push(i)}};return i(this,r),i(r,this),this.spawn(n)},diff:function(e){var t=this._private.cy;d(e)&&(e=t.$(e));var n=[],r=[],i=[],a=e,o=function(e,t,n){for(var r=0;r<e.length;r++){var a=e[r],o=a._private.data.id;t.hasElementWithId(o)?i.push(a):n.push(a)}};return o(this,a,n),o(a,this,r),{left:this.spawn(n,{unique:!0}),right:this.spawn(r,{unique:!0}),both:this.spawn(i,{unique:!0})}},add:function(e){var t=this._private.cy;if(!e)return this;if(d(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=[],i=0;i<this.length;i++)r.push(this[i]);for(var a=this._private.map,o=0;o<e.length;o++){var s=!a.has(e[o].id());s&&r.push(e[o])}return this.spawn(r)},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&d(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=t.map,a=0;a<e.length;a++){var o=e[a],s=o._private.data.id;if(!i.has(s)){var l=this.length++;this[l]=o,i.set(s,{ele:o,index:l})}else{var u=i.get(s).index;this[u]=o,i.set(s,{ele:o,index:u})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var r=e===this.length-1;if(this.length>1&&!r){var i=this.length-1,a=this[i],o=a._private.data.id;this[i]=void 0,this[e]=a,n.set(o,{ele:a,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map.get(n);if(!r)return this;var i=r.index;return this.unmergeAt(i),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&d(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){e(this[t])&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],r=0;r<this.length;r++){var i=this[r],a=t?e.apply(t,[i,r,this]):e(i,r,this);n.push(a)}return n},reduce:function(e,t){for(var n=t,r=0;r<this.length;r++)n=e(n,this[r],r,this);return n},max:function(e,t){for(var n,r=-1/0,i=0;i<this.length;i++){var a=this[i],o=t?e.apply(t,[a,i,this]):e(a,i,this);o>r&&(r=o,n=a)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,i=0;i<this.length;i++){var a=this[i],o=t?e.apply(t,[a,i,this]):e(a,i,this);o<r&&(r=o,n=a)}return{value:r,ele:n}}},$i=Ui;$i.u=$i["|"]=$i["+"]=$i.union=$i.or=$i.add,$i["\\"]=$i["!"]=$i["-"]=$i.difference=$i.relativeComplement=$i.subtract=$i.not,$i.n=$i["&"]=$i["."]=$i.and=$i.intersection=$i.intersect,$i["^"]=$i["(+)"]=$i["(-)"]=$i.symmetricDifference=$i.symdiff=$i.xor,$i.fnFilter=$i.filterFn=$i.stdFilter=$i.filter,$i.complement=$i.abscomp=$i.absoluteComplement;var Qi=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?ye:0}var i=r(e)-r(t);if(0!==i)return i;function a(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=a(e)-a(t);if(0!==o)return o;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()},Ji={forEach:function(e,t){if(p(e))for(var n=this.length,r=0;r<n;r++){var i=this[r];if(!1===(t?e.apply(t,[i,r,this]):e(i,r,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var i=e;i>=0&&i<t&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!p(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Qi)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:ye-1}var r=t.source,i=t.target,a=r.zDepth(),o=i.zDepth();return Math.max(a,o,0)}}};Ji.each=Ji.forEach;var ea=Me({nodeDimensionsIncludeLabels:!1}),ta={layoutDimensions:function(e){if((e=ea(e)).nodeDimensionsIncludeLabels){var t=this.boundingBox();return{w:t.w,h:t.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(e,t,n){var r=this.nodes(),i=this.cy(),a=t.eles,o=function(e){return e.id()},s=D(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=t.spacingFactor&&1!==t.spacingFactor,u=function(){if(!l)return null;for(var e=bt(),t=0;t<r.length;t++){var n=r[t],i=s(n,t);kt(e,i.x,i.y)}return e}(),c=D(function(e,n){var r=s(e,n);l&&(r=function(e,t,n){var r=t.x1+t.w/2,i=t.y1+t.h/2;return{x:r+(n.x-r)*e,y:i+(n.y-i)*e}}(Math.abs(t.spacingFactor),u,r));return null!=t.transform&&(r=t.transform(e,r)),r},o);if(t.animate){for(var h=0;h<r.length;h++){var d=r[h],p=c(d,h);if(null==t.animateFilter||t.animateFilter(d,h)){var f=d.animation({position:p,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(f)}else d.position(p)}if(t.fit){var g=i.animation({fit:{boundingBox:a.boundingBoxAt(c),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}else if(void 0!==t.zoom&&void 0!==t.pan){var v=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(v)}e.animations.forEach(function(e){return e.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),sr.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else r.positions(c),t.fit&&i.fit(t.eles,t.padding),null!=t.zoom&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(I({},e,{eles:this}))}};function na(e,t,n){var r,i=n._private,a=i.styleCache=i.styleCache||[];return null!=(r=a[e])?r:r=a[e]=t(n)}function ra(e,t){return e=he(e),function(n){return na(e,t,n)}}function ia(e,t){e=he(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return na(e,n,t)}}ta.createLayout=ta.makeLayout=ta.layout;var aa={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach(function(e){n(e),e.connectedEdges().forEach(n)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=t.hasCompoundNodes(),r=t.style(),i=this;e=!(!e&&void 0!==e),n&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=r.apply(i);return e?a.emitAndNotify("style"):a.emit("style"),this},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){var i=n._private.style[e];return null!=i?i:t?r.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(g(e)){var i=e;r.applyBypass(this,i,!1),this.emitAndNotify("style")}else if(d(e)){if(void 0===t){var a=this[0];return a?r.getStylePropertyValue(a,e):void 0}r.applyBypass(this,e,t,!1),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?r.getRawStyle(o):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style();if(void 0===e)for(var r=0;r<this.length;r++){var i=this[r];n.removeAllBypasses(i,!1)}else{e=e.split(/\s+/);for(var a=0;a<this.length;a++){var o=this[a];n.removeBypasses(o,e,!1)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!t)return i;var a=r.data.parent?n.parents():null;if(a)for(var o=0;o<a.length;o++){i*=a[o].pstyle("opacity").value}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function oa(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++){if(!t(n[r]))return!1}return!0}function sa(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var i=this[0],a=e.hasCompoundNodes();if(i){var o=i._private;if(!t(i))return!1;if(i.isNode())return!a||oa(i,r);var s=o.source,l=o.target;return n(s)&&(!a||oa(s,n))&&(s===l||n(l)&&(!a||oa(l,n)))}}}var la=ra("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});aa.takesUpSpace=ia("takesUpSpace",sa({ok:la}));var ua=ra("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&la(e)}),ca=ra("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&la(e)});aa.interactive=ia("interactive",sa({ok:ua,parentOk:ca,edgeOkViaNode:la})),aa.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var ha=ra("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&la(e)}),da=la;aa.visible=ia("visible",sa({ok:ha,edgeOkViaNode:da})),aa.hidden=function(){var e=this[0];if(e)return!e.visible()},aa.isBundledBezier=ia("isBundledBezier",function(){return!!this.cy().styleEnabled()&&(!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace())}),aa.bypass=aa.css=aa.style,aa.renderedCss=aa.renderedStyle,aa.removeBypass=aa.removeCss=aa.removeStyle,aa.pstyle=aa.parsedStyle;var pa={};function fa(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],i=t[1];this.on(e.event,r,i)}else if(1===t.length&&p(t[0])){var a=t[0];this.on(e.event,a)}else if(0===t.length||1===t.length&&f(t[0])){for(var o=1===t.length?t[0]:null,s=0;s<this.length;s++){var l=this[s],u=!e.ableField||l._private[e.ableField],c=l._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(l);if(void 0!==h&&(u=h,!h))return this}u&&(l._private[e.field]=e.value,c&&n.push(l))}var d=this.spawn(n);d.updateStyle(),d.emit(e.event),o&&d.emit(o)}return this}}function ga(e){pa[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},pa[e.on]=fa({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),pa[e.off]=fa({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}ga({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),ga({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),ga({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),ga({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),pa.deselect=pa.unselect,pa.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},ga({field:"active",on:"activate",off:"unactivate"}),pa.inactive=function(){var e=this[0];if(e)return!e._private.active};var va={},ya=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode()){for(var a=!1,o=i.connectedEdges(),s=0;s<o.length;s++){var l=o[s],u=l.source(),c=l.target();if(e.noIncomingEdges&&c===i&&u!==i||e.noOutgoingEdges&&u===i&&c!==i){a=!0;break}}a||n.push(i)}}return this.spawn(n,{unique:!0}).filter(t)}},ma=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode())for(var a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target();e.outgoing&&l===i?(n.push(s),n.push(u)):e.incoming&&u===i&&(n.push(s),n.push(l))}}return this.spawn(n,{unique:!0}).filter(t)}},ba=function(e){return function(t){for(var n=this,r=[],i={};;){var a=e.outgoing?n.outgoers():n.incomers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();i[u]||(i[u]=!0,r.push(l),o=!0)}if(!o)break;n=a}return this.spawn(r,{unique:!0}).filter(t)}};function xa(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r]._private[e.attr];i&&n.push(i)}return this.spawn(n,{unique:!0}).filter(t)}}function wa(e){return function(t){var n=[],r=this._private.cy,i=e||{};d(t)&&(t=r.$(t));for(var a=0;a<t.length;a++)for(var o=t[a]._private.edges,s=0;s<o.length;s++){var l=o[s],u=l._private.data,c=this.hasElementWithId(u.source)&&t.hasElementWithId(u.target),h=t.hasElementWithId(u.source)&&this.hasElementWithId(u.target);if(c||h){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!c)continue;if(i.thisIsTgt&&!h)continue}n.push(l)}}return this.spawn(n,{unique:!0})}}function Ea(e){return e=I({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),i=e,a=0;a<r.length;a++)for(var o=r[a]._private,s=o.source,l=s._private.data.id,u=o.data.target,c=s._private.edges,h=0;h<c.length;h++){var d=c[h],p=d._private.data,f=p.target,g=p.source,v=f===u&&g===l,y=l===f&&u===g;(i.codirected&&v||!i.codirected&&(v||y))&&n.push(d)}return this.spawn(n,{unique:!0}).filter(t)}}va.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},I(va,{roots:ya({noIncomingEdges:!0}),leaves:ya({noOutgoingEdges:!0}),outgoers:Qr(ma({outgoing:!0}),"outgoers"),successors:ba({outgoing:!0}),incomers:Qr(ma({incoming:!0}),"incomers"),predecessors:ba({incoming:!0})}),I(va,{neighborhood:Qr(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),va.neighbourhood=va.neighborhood,va.closedNeighbourhood=va.closedNeighborhood,va.openNeighbourhood=va.openNeighborhood,I(va,{source:Qr(function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t},"source"),target:Qr(function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t},"target"),sources:xa({attr:"source"}),targets:xa({attr:"target"})}),I(va,{edgesWith:Qr(wa(),"edgesWith"),edgesTo:Qr(wa({thisIsSrc:!0}),"edgesTo")}),I(va,{connectedEdges:Qr(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,a=0;a<i.length;a++){var o=i[a];t.push(o)}}return this.spawn(t,{unique:!0}).filter(e)},"connectedEdges"),connectedNodes:Qr(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,{unique:!0}).filter(e)},"connectedNodes"),parallelEdges:Qr(Ea(),"parallelEdges"),codirectedEdges:Qr(Ea({codirected:!0}),"codirectedEdges")}),I(va,{components:function(e){var t=this,n=t.cy(),r=n.collection(),i=null==e?t.nodes():e.nodes(),a=[];null!=e&&i.empty()&&(i=e.sources());var o=function(e,t){r.merge(e),i.unmerge(e),t.merge(e)};if(i.empty())return t.spawn();var s=function(){var e=n.collection();a.push(e);var r=i[0];o(r,e),t.bfs({directed:!1,roots:r,visit:function(t){return o(t,e)}}),e.forEach(function(t){t.connectedEdges().forEach(function(t){e.has(t.source())&&e.has(t.target())&&e.merge(t)})})};do{s()}while(i.length>0);return a},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),va.componentsOf=va.components;var ka=function(e,t,n){for(var r=null!=n?n:De();e.hasElementWithId(r);)r=De();return r},Ca=function(e,t,n){if(void 0!==e&&w(e)){var r=new ze,i=!1;if(t){if(t.length>0&&g(t[0])&&!b(t[0])){i=!0;for(var a=[],o=new Ae,s=0,l=t.length;s<l;s++){var u=t[s];null==u.data&&(u.data={});var c=u.data;if(null==c.id)c.id=ka(e,u);else if(e.hasElementWithId(c.id)||o.has(c.id))continue;var h=new Oe(e,u,!1);a.push(h),o.add(c.id)}t=a}}else t=[];this.length=0;for(var d=0,p=t.length;d<p;d++){var f=t[d][0];if(null!=f){var v=f._private.data.id;(null==n||n.unique&&!r.has(v))&&(r.set(v,{index:this.length,ele:f}),this[this.length]=f,this.length++)}}this._private={cy:e,map:r},i&&this.restore()}else Ee("A collection must have a reference to the core")},Sa=Oe.prototype=Ca.prototype;Sa.instanceString=function(){return"collection"},Sa.spawn=function(e,t,n){return w(e)||(n=t,t=e,e=this.cy()),new Ca(e,t,n)},Sa.spawnSelf=function(){return this.spawn(this)},Sa.cy=function(){return this._private.cy},Sa.renderer=function(){return this._private.cy.renderer()},Sa.element=function(){return this[0]},Sa.collection=function(){return x(this)?this:new Ca(this._private.cy,[this])},Sa.unique=function(){return new Ca(this._private.cy,this,{unique:!0})},Sa.hasElementWithId=function(e){return this._private.map.has(e)},Sa.getElementById=function(e){var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new Ca(t)},Sa.$id=Sa.getElementById,Sa.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},Sa.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Sa.indexOfId=function(e){return this._private.map.get(e).index},Sa.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var r=t._private;if(g(e)){if(n.startBatch(),e.data){t.data(e.data);var i=r.data;if(t.isEdge()){var a=!1,o={},s=e.data.source,l=e.data.target;null!=s&&s!==i.source&&(o.source=s,a=!0),null!=l&&l!==i.target&&(o.target=l,a=!0),a&&(t=t.move(o))}else{var u=e.data.parent;null==u&&null==i.parent||u===i.parent||(void 0===u&&(u=null),t=t.move({parent:u}))}}e.position&&t.position(e.position);var c=function(n,i,a){var o=e[n];null!=o&&o!==r[n]&&(o?t[i]():t[a]())};return c("removed","remove","restore"),c("selected","select","unselect"),c("selectable","selectify","unselectify"),c("locked","lock","unlock"),c("grabbable","grabify","ungrabify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var h={data:Se(r.data),position:Se(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,classes:null};h.classes="";var d=0;return r.classes.forEach(function(e){return h.classes+=0==d++?e:" "+e}),h}}},Sa.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},Sa.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),i=new Oe(e,r,!1);t.push(i)}return new Ca(e,t)},Sa.copy=Sa.clone,Sa.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.cy(),a=i._private,o=[],s=[],l=0,u=this.length;l<u;l++){var c=this[l];r&&!c.removed()||(c.isNode()?o.push(c):s.push(c))}e=o.concat(s);var h=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var p=e[t],f=p._private,g=f.data;if(p.clearTraversalCache(),r||f.removed)if(void 0===g.id)g.id=ka(i,p);else if(v(g.id))g.id=""+g.id;else{if(k(g.id)||!d(g.id)){Ee("Can not create element with invalid string ID `"+g.id+"`"),h();continue}if(i.hasElementWithId(g.id)){Ee("Can not create second element with ID `"+g.id+"`"),h();continue}}else;var y=g.id;if(p.isNode()){var m=f.position;null==m.x&&(m.x=0),null==m.y&&(m.y=0)}if(p.isEdge()){for(var b=p,x=["source","target"],w=x.length,E=!1,C=0;C<w;C++){var S=x[C],D=g[S];v(D)&&(D=g[S]=""+g[S]),null==D||""===D?(Ee("Can not create edge `"+y+"` with unspecified "+S),E=!0):i.hasElementWithId(D)||(Ee("Can not create edge `"+y+"` with nonexistant "+S+" `"+D+"`"),E=!0)}if(E){h();continue}var P=i.getElementById(g.source),T=i.getElementById(g.target);P._private.edges.push(b),T._private.edges.push(b),b._private.source=P,b._private.target=T}f.map=new ze,f.map.set(y,{ele:p,index:0}),f.removed=!1,r&&i.addToPool(p)}for(var M=0;M<o.length;M++){var B=o[M],_=B._private.data;v(_.parent)&&(_.parent=""+_.parent);var N=_.parent;if(null!=N){var I=i.getElementById(N);if(I.empty())_.parent=void 0;else{for(var z=!1,L=I;!L.empty();){if(B.same(L)){z=!0,_.parent=void 0;break}L=L.parent()}z||(I[0]._private.children.push(B),B._private.parent=I[0],a.hasCompoundNodes=!0)}}}if(e.length>0){for(var A=new Ca(i,e),O=0;O<A.length;O++){var R=A[O];R.isNode()||(R.parallelEdges().clearTraversalCache(),R.source().clearTraversalCache(),R.target().clearTraversalCache())}(a.hasCompoundNodes?i.collection().merge(A).merge(A.connectedNodes()).merge(A.parent()):A).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?A.emitAndNotify("add"):r&&A.emit("add")}return this},Sa.removed=function(){var e=this[0];return e&&e._private.removed},Sa.inside=function(){var e=this[0];return e&&!e._private.removed},Sa.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r={},i=this._private.cy;function a(e){var i=r[e.id()];t&&e.removed()||i||(r[e.id()]=!0,e.isNode()?(n.push(e),function(e){for(var t=e._private.edges,n=0;n<t.length;n++)a(t[n])}(e),function(e){for(var t=e._private.children,n=0;n<t.length;n++)a(t[n])}(e)):n.unshift(e))}for(var o=0,s=this.length;o<s;o++){a(this[o])}function l(e,t){var n=e._private.edges;Be(n,t),e.clearTraversalCache()}function u(e){e.clearTraversalCache()}var c=[];function h(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();Be(n,t),t._private.parent=null,c.ids[r]||(c.ids[r]=!0,c.push(e))}c.ids={},this.dirtyCompoundBoundsCache(),t&&i.removeFromPool(n);for(var d=0;d<n.length;d++){var p=n[d];if(p.isEdge()){var f=p.source()[0],g=p.target()[0];l(f,p),l(g,p);for(var v=p.parallelEdges(),y=0;y<v.length;y++){var m=v[y];u(m),m.isBundledBezier()&&m.dirtyBoundingBoxCache()}}else{var b=p.parent();0!==b.length&&h(b,p)}t&&(p._private.removed=!0)}var x=i._private.elements;i._private.hasCompoundNodes=!1;for(var w=0;w<x.length;w++){if(x[w].isParent()){i._private.hasCompoundNodes=!0;break}}var E=new Ca(this.cy(),n);E.size()>0&&(e?E.emitAndNotify("remove"):t&&E.emit("remove"));for(var k=0;k<c.length;k++){var C=c[k];t&&C.removed()||C.updateStyle()}return E},Sa.move=function(e){var t=this._private.cy,n=this;if(void 0!==e.source||void 0!==e.target){var r=e.source,i=e.target,a=null!=r&&t.hasElementWithId(r),o=null!=i&&t.hasElementWithId(i);(a||o)&&(t.batch(function(){n.remove(!1,!1),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],s=t._private.data;t.isEdge()&&(a&&(s.source=r),o&&(s.target=i))}n.restore(!1,!1)}),n.emitAndNotify("move"))}else if(void 0!==e.parent){var s=e.parent;if(null===s||t.hasElementWithId(s)){var l=null===s?void 0:s;t.batch(function(){var e=n.remove(!1,!1);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var r=n[t],i=r._private.data;r.isNode()&&(i.parent=l)}e.restore(!1,!1)}),n.emitAndNotify("move")}}return this},[er,hr,dr,Zr,Jr,oi,si,zi,Zi,Ui,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Ji,ta,aa,pa,va].forEach(function(e){I(Sa,e)});var Da={add:function(e){var t,n=this;if(m(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var i=[],a=0;a<r.length;a++){var o=r[a];i.push(o.json())}t=new Ca(n,i)}}else if(f(e)){t=new Ca(n,e)}else if(g(e)&&(f(e.nodes)||f(e.edges))){for(var s=e,l=[],u=["nodes","edges"],c=0,h=u.length;c<h;c++){var d=u[c],p=s[d];if(f(p))for(var v=0,y=p.length;v<y;v++){var b=I({group:d},p[v]);l.push(b)}}t=new Ca(n,l)}else{t=new Oe(n,e).collection()}return t},remove:function(e){if(m(e));else if(d(e)){var t=e;e=this.$(t)}return e.remove()}};function Pa(e,t,n,r){var i=4,a=.001,o=1e-7,s=10,l=11,u=1/(l-1),c="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var h=0;h<4;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var d=c?new Float32Array(l):new Array(l);function p(e,t){return 1-3*t+3*e}function f(e,t){return 3*t-6*e}function g(e){return 3*e}function v(e,t,n){return((p(t,n)*e+f(t,n))*e+g(t))*e}function y(e,t,n){return 3*p(t,n)*e*e+2*f(t,n)*e+g(t)}function m(t){for(var r=0,c=1,h=l-1;c!==h&&d[c]<=t;++c)r+=u;var p=r+(t-d[--c])/(d[c+1]-d[c])*u,f=y(p,e,n);return f>=a?function(t,r){for(var a=0;a<i;++a){var o=y(r,e,n);if(0===o)return r;r-=(v(r,e,n)-t)/o}return r}(t,p):0===f?p:function(t,r,i){var a,l,u=0;do{(a=v(l=r+(i-r)/2,e,n)-t)>0?i=l:r=l}while(Math.abs(a)>o&&++u<s);return l}(t,r,r+u)}var b=!1;function x(){b=!0,e===t&&n===r||function(){for(var t=0;t<l;++t)d[t]=v(t*u,e,n)}()}var w=function(i){return b||x(),e===t&&n===r?i:0===i?0:1===i?1:v(m(i),t,r)};w.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var E="generateBezier("+[e,t,n,r]+")";return w.toString=function(){return E},w}var Ta=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},a=t(n,.5*r,i),o=t(n,.5*r,a),s=t(n,r,o),l=1/6*(i.dx+2*(a.dx+o.dx)+s.dx),u=1/6*(i.dv+2*(a.dv+o.dv)+s.dv);return n.x=n.x+l*r,n.v=n.v+u*r,n}return function e(t,r,i){var a,o,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0;for(t=parseFloat(t)||500,r=parseFloat(r)||20,i=i||null,l.tension=t,l.friction=r,o=(a=null!==i)?(c=e(t,r))/i*.016:.016;s=n(s||l,o),u.push(1+s.x),c+=16,Math.abs(s.x)>1e-4&&Math.abs(s.v)>1e-4;);return a?function(e){return u[e*(u.length-1)|0]}:c}}(),Ma=function(e,t,n,r){var i=Pa(e,t,n,r);return function(e,t,n){return e+(t-e)*i(n)}},Ba={linear:function(e,t,n){return e+(t-e)*n},ease:Ma(.25,.1,.25,1),"ease-in":Ma(.42,0,1,1),"ease-out":Ma(0,0,.58,1),"ease-in-out":Ma(.42,0,.58,1),"ease-in-sine":Ma(.47,0,.745,.715),"ease-out-sine":Ma(.39,.575,.565,1),"ease-in-out-sine":Ma(.445,.05,.55,.95),"ease-in-quad":Ma(.55,.085,.68,.53),"ease-out-quad":Ma(.25,.46,.45,.94),"ease-in-out-quad":Ma(.455,.03,.515,.955),"ease-in-cubic":Ma(.55,.055,.675,.19),"ease-out-cubic":Ma(.215,.61,.355,1),"ease-in-out-cubic":Ma(.645,.045,.355,1),"ease-in-quart":Ma(.895,.03,.685,.22),"ease-out-quart":Ma(.165,.84,.44,1),"ease-in-out-quart":Ma(.77,0,.175,1),"ease-in-quint":Ma(.755,.05,.855,.06),"ease-out-quint":Ma(.23,1,.32,1),"ease-in-out-quint":Ma(.86,0,.07,1),"ease-in-expo":Ma(.95,.05,.795,.035),"ease-out-expo":Ma(.19,1,.22,1),"ease-in-out-expo":Ma(1,0,0,1),"ease-in-circ":Ma(.6,.04,.98,.335),"ease-out-circ":Ma(.075,.82,.165,1),"ease-in-out-circ":Ma(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return Ba.linear;var r=Ta(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":Ma};function _a(e,t,n,r,i){if(1===r)return n;var a=i(t,n,r);return null==e?a:((e.roundValue||e.color)&&(a=Math.round(a)),void 0!==e.min&&(a=Math.max(a,e.min)),void 0!==e.max&&(a=Math.min(a,e.max)),a)}function Na(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function Ia(e,t,n,r,i){var a=null!=i?i.type:null;n<0?n=0:n>1&&(n=1);var o=Na(e,i),s=Na(t,i);if(v(o)&&v(s))return _a(a,o,s,n,r);if(f(o)&&f(s)){for(var l=[],u=0;u<s.length;u++){var c=o[u],h=s[u];if(null!=c&&null!=h){var d=_a(a,c,h,n,r);l.push(d)}else l.push(h)}return l}}function za(e,t,n,r){var i=!r,a=e._private,o=t._private,s=o.easing,l=o.startTime,u=(r?e:e.cy()).style();if(!o.easingImpl)if(null==s)o.easingImpl=Ba.linear;else{var c,h,p;if(d(s))c=u.parse("transition-timing-function",s).value;else c=s;d(c)?(h=c,p=[]):(h=c[1],p=c.slice(2).map(function(e){return+e})),p.length>0?("spring"===h&&p.push(o.duration),o.easingImpl=Ba[h].apply(null,p)):o.easingImpl=Ba[h]}var f,g=o.easingImpl;if(f=0===o.duration?1:(n-l)/o.duration,o.applying&&(f=o.progress),f<0?f=0:f>1&&(f=1),null==o.delay){var v=o.startPosition,y=o.position;if(y&&i&&!e.locked()){var m={};La(v.x,y.x)&&(m.x=Ia(v.x,y.x,f,g)),La(v.y,y.y)&&(m.y=Ia(v.y,y.y,f,g)),e.position(m)}var b=o.startPan,x=o.pan,w=a.pan,E=null!=x&&r;E&&(La(b.x,x.x)&&(w.x=Ia(b.x,x.x,f,g)),La(b.y,x.y)&&(w.y=Ia(b.y,x.y,f,g)),e.emit("pan"));var k=o.startZoom,C=o.zoom,S=null!=C&&r;S&&(La(k,C)&&(a.zoom=Ia(k,C,f,g)),e.emit("zoom")),(E||S)&&e.emit("viewport");var D=o.style;if(D&&D.length>0&&i){for(var P=0;P<D.length;P++){var T=D[P],M=T.name,B=T,_=o.startStyle[M],N=Ia(_,B,f,g,u.properties[_.name]);u.overrideBypass(e,M,N)}e.emit("style")}}return o.progress=f,f}function La(e,t){return null!=e&&null!=t&&(!(!v(e)||!v(t))||!(!e||!t))}function Aa(e,t,n,r){var i=t._private;i.started=!0,i.startTime=n-i.progress*i.duration}function Oa(e,t){var n=t._private.aniEles,r=[];function i(t,n){var i=t._private,a=i.animation.current,o=i.animation.queue,s=!1;if(!n&&"none"===t.pstyle("display").value){a=a.splice(0,a.length).concat(o.splice(0,o.length));for(var l=0;l<a.length;l++)a[l].stop()}if(0===a.length){var u=o.shift();u&&a.push(u)}for(var c=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},h=a.length-1;h>=0;h--){var d=a[h],p=d._private;p.stopped?(a.splice(h,1),p.hooked=!1,p.playing=!1,p.started=!1,c(p.frames)):(p.playing||p.applying)&&(p.playing&&p.applying&&(p.applying=!1),p.started||Aa(0,d,e),za(t,d,e,n),p.applying&&(p.applying=!1),c(p.frames),null!=p.step&&p.step(e),d.completed()&&(a.splice(h,1),p.hooked=!1,p.playing=!1,p.started=!1,c(p.completes)),s=!0)}return n||0!==a.length||0!==o.length||r.push(t),s}for(var a=!1,o=0;o<n.length;o++){var s=i(n[o]);a=a||s}var l=i(t,!0);(a||l)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var Ra={animate:cr.animate(),animation:cr.animation(),animated:cr.animated(),clearQueue:cr.clearQueue(),delay:cr.delay(),delayAnimation:cr.delayAnimation(),stop:cr.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender(function(t,n){Oa(n,e)},t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&oe(function(n){Oa(n,e),t()})}()}}},Fa={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&b(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},Va=function(e){return d(e)?new Kr(e):e},qa={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new ji(Fa,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,Va(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,Va(t),n),this},one:function(e,t,n){return this.emitter().one(e,Va(t),n),this},once:function(e,t,n){return this.emitter().one(e,Va(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};cr.eventAliasesOn(qa);var ja={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};ja.jpeg=ja.jpg;var Ya={layout:function(e){if(null!=e)if(null!=e.name){var t=e.name,n=this.extension("layout",t);if(null!=n){var r;r=d(e.eles)?this.$(e.eles):null!=e.eles?e.eles:this.$();var i=new n(I({},e,{cy:this,eles:r}));return i}Ee("No such layout `"+t+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Ee("A `name` must be specified to make a layout");else Ee("Layout options must be specified to make a layout")}};Ya.createLayout=Ya.makeLayout=Ya.layout;var Xa={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&r.merge(t)}else if(n.notificationsEnabled){var i=this.renderer();!this.isDestroyed()&&i&&i.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var r=e.batchNotifications[n];r.empty()?t.notify(n):t.notify(n,r)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],a=e[i];t.getElementById(i).data(a)}})}},Wa=Me({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Ha={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this.extension("renderer",e.name);if(null!=t){void 0!==e.wheelSensitivity&&Ce("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=Wa(e);n.cy=this,this._private.renderer=new t(n),this.notify("init")}else Ee("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){this.notify("destroy");var e=this.container();if(e)for(e._cyreg=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);this._private.renderer=null,this.mutableElements().forEach(function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Ha.invalidateDimensions=Ha.resize;var Ka={collection:function(e,t){return d(e)?this.$(e):m(e)?e.collection():f(e)?new Ca(this,e,t):new Ca(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Ka.elements=Ka.filter=Ka.$;var Ga={};Ga.apply=function(e){var t=this._private,n=t.cy.collection();t.newStyle&&(t.contextStyles={},t.propDiffs={},this.cleanElements(e,!0));for(var r=0;r<e.length;r++){var i=e[r],a=this.getContextMeta(i);if(!a.empty){var o=this.getContextStyle(a),s=this.applyContextStyle(a,o,i);t.newStyle||this.updateTransitions(i,s.diffProps),this.updateStyleHints(i)&&n.merge(i)}}return t.newStyle=!1,n},Ga.getPropertiesDiff=function(e,t){var n=this._private.propDiffs=this._private.propDiffs||{},r=e+"-"+t,i=n[r];if(i)return i;for(var a=[],o={},s=0;s<this.length;s++){var l=this[s],u="t"===e[s],c="t"===t[s],h=u!==c,d=l.mappedProperties.length>0;if(h||c&&d){var p=void 0;h&&d?p=l.properties:h?p=l.properties:d&&(p=l.mappedProperties);for(var f=0;f<p.length;f++){for(var g=p[f],v=g.name,y=!1,m=s+1;m<this.length;m++){var b=this[m];if("t"===t[m]&&(y=null!=b.properties[g.name]))break}o[v]||y||(o[v]=!0,a.push(v))}}}return n[r]=a,a},Ga.getContextMeta=function(e){var t,n="",r=e._private.styleCxtKey||"";this._private.newStyle&&(r="");for(var i=0;i<this.length;i++){var a=this[i];n+=a.selector&&a.selector.matches(e)?"t":"f"}return t=this.getPropertiesDiff(r,n),e._private.styleCxtKey=n,{key:n,diffPropNames:t,empty:0===t.length}},Ga.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},i=0;i<this.length;i++){var a=this[i];if("t"===t[i])for(var o=0;o<a.properties.length;o++){var s=a.properties[o];r[s.name]=s}}return n[t]=r,r},Ga.applyContextStyle=function(e,t,n){for(var r=e.diffPropNames,i={},a=this.types,o=0;o<r.length;o++){var s=r[o],l=t[s],u=n.pstyle(s);if(!l){if(!u)continue;l=u.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(u!==l){if(l.mapped===a.fn&&null!=u.mapping&&u.mapping.value===l.value){var c=u.mapping;if((c.fnValue=l.value(n))===c.prevFnValue)continue}var h=i[s]={prev:u};this.applyParsedProperty(n,l),h.next=n.pstyle(s),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:i}},Ga.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,a=function(e,t,r){return n.getPropertiesHash(e,t,r)},o=t.styleKey;if(e.removed())return!1;var s="nodes"===t.group,l=e._private.style;r=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];t.styleKeys[c]=0}for(var h=function(e,n){return t.styleKeys[n]=ue(e,t.styleKeys[n])},d=function(e,t){for(var n=0;n<e.length;n++)h(e.charCodeAt(n),t)},p=function(e){return-128<e&&e<128&&Math.floor(e)!==e?-(1024*e|0):e},f=0;f<r.length;f++){var g=r[f],v=l[g];if(null!=v){var y=this.properties[g],m=y.type,b=y.groupKey,x=void 0;null!=y.hashOverride?x=y.hashOverride(e,v):null!=v.pfValue&&(x=v.pfValue);var w=null==y.enums?v.value:null,E=null!=x,k=E||null!=w,C=v.units;if(m.number&&k){var S=E?x:w;if(m.multiple)for(var D=0;D<S.length;D++)h(p(S[D]),b);else h(p(S),b);E||null==C||d(C,b)}else d(v.strValue,b)}}for(var P=0,T=0;T<i.length;T++){var M=i[T],B=t.styleKeys[M];P=ue(B,P)}t.styleKey=P;var _=t.labelDimsKey=t.styleKeys.labelDimensions;if(t.labelKey=a(e,["label"],_),t.labelStyleKey=ue(t.styleKeys.commonLabel,t.labelKey),s||(t.sourceLabelKey=a(e,["source-label"],_),t.sourceLabelStyleKey=ue(t.styleKeys.commonLabel,t.sourceLabelKey),t.targetLabelKey=a(e,["target-label"],_),t.targetLabelStyleKey=ue(t.styleKeys.commonLabel,t.targetLabelKey)),s){var N=t.styleKeys,I=N.nodeBody,z=N.nodeBorder,L=N.backgroundImage,A=N.compound,O=N.pie;t.nodeKey=ce([z,L,A,O],I),t.hasPie=0!=O}return o!==t.styleKey},Ga.clearStyleHints=function(e){var t=e._private;t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},Ga.applyParsedProperty=function(e,t){var n,r=this,i=t,a=e._private.style,o=r.types,s=r.properties[i.name].type,l=i.bypass,u=a[i.name],c=u&&u.bypass,h=e._private,d=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},p=function(){var t=d(u),n=d(i);r.checkTriggers(e,i.name,t,n)};if("curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(i=t=this.parse(t.name,"bezier",l)),i.delete)return a[i.name]=void 0,p(),!0;if(i.deleteBypassed)return u?!!u.bypass&&(u.bypassed=void 0,p(),!0):(p(),!0);if(i.deleteBypass)return u?!!u.bypass&&(a[i.name]=u.bypassed,p(),!0):(p(),!0);var f=function(){Ce("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case o.mapData:for(var g,y=i.field.split("."),m=h.data,b=0;b<y.length&&m;b++){m=m[y[b]]}if(null==m)return f(),!1;if(!v(m))return Ce("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+m+"` for `"+e.id()+"` is non-numeric)"),!1;var x=i.fieldMax-i.fieldMin;if((g=0===x?0:(m-i.fieldMin)/x)<0?g=0:g>1&&(g=1),s.color){var w=i.valueMin[0],E=i.valueMax[0],k=i.valueMin[1],C=i.valueMax[1],S=i.valueMin[2],D=i.valueMax[2],P=null==i.valueMin[3]?1:i.valueMin[3],T=null==i.valueMax[3]?1:i.valueMax[3],M=[Math.round(w+(E-w)*g),Math.round(k+(C-k)*g),Math.round(S+(D-S)*g),Math.round(P+(T-P)*g)];n={bypass:i.bypass,name:i.name,value:M,strValue:"rgb("+M[0]+", "+M[1]+", "+M[2]+")"}}else{if(!s.number)return!1;var B=i.valueMin+(i.valueMax-i.valueMin)*g;n=this.parse(i.name,B,i.bypass,"mapping")}if(!n)return f(),!1;n.mapping=i,i=n;break;case o.data:for(var _=i.field.split("."),N=h.data,I=0;I<_.length&&N;I++){N=N[_[I]]}if(null!=N&&(n=this.parse(i.name,N,i.bypass,"mapping")),!n)return f(),!1;n.mapping=i,i=n;break;case o.fn:var z=i.value,L=null!=i.fnValue?i.fnValue:z(e);if(i.prevFnValue=L,null==L)return Ce("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(i.name,L,i.bypass,"mapping")))return Ce("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=Se(i),i=n;break;case void 0:break;default:return!1}return l?(i.bypassed=c?u.bypassed:u,a[i.name]=i):c?u.bypassed=i:a[i.name]=i,p(),!0},Ga.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),t)for(var i=r._private.style,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],l=i[s];null!=l&&(l.bypass?l.bypassed=null:i[s]=null)}else r._private.style={}}},Ga.update=function(){this._private.cy.mutableElements().updateStyle()},Ga.updateTransitions=function(e,t){var n=this,r=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var s={},l=!1,u=0;u<i.length;u++){var c=i[u],h=e.pstyle(c),d=t[c];if(d){var p=d.prev,g=null!=d.next?d.next:h,y=!1,m=void 0;p&&(v(p.pfValue)&&v(g.pfValue)?(y=g.pfValue-p.pfValue,m=p.pfValue+1e-6*y):v(p.value)&&v(g.value)?(y=g.value-p.value,m=p.value+1e-6*y):f(p.value)&&f(g.value)&&(y=p.value[0]!==g.value[0]||p.value[1]!==g.value[1]||p.value[2]!==g.value[2],m=p.strValue),y&&(s[c]=g.strValue,this.applyBypass(e,c,m),l=!0))}}if(!l)return;r.transitioning=!0,new sr(function(t){o>0?e.delayAnimation(o).play().promise().then(t):t()}).then(function(){return e.animation({style:s,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1)},Ga.checkTrigger=function(e,t,n,r,i,a){var o=this.properties[t],s=i(o);null!=s&&s(n,r)&&a(o)},Ga.checkZOrderTrigger=function(e,t,n,r){var i=this;this.checkTrigger(e,t,n,r,function(e){return e.triggersZOrder},function(){i._private.cy.notify("zorder",e)})},Ga.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBounds},function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),"bezier"!==e.pstyle("curve-style").value&&("curve-style"!==t||"bezier"!==n&&"bezier"!==r)||!i.triggersBoundsOfParallelBeziers||e.parallelEdges().forEach(function(e){e.isBundledBezier()&&e.dirtyBoundingBoxCache()})})},Ga.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r)};var Za={applyBypass:function(e,t,n,r){var i=[];if("*"===t||"**"===t){if(void 0!==n)for(var a=0;a<this.properties.length;a++){var o=this.properties[a].name,s=this.parse(o,n,!0);s&&i.push(s)}}else if(d(t)){var l=this.parse(t,n,!0);l&&i.push(l)}else{if(!g(t))return!1;var u=t;r=n;for(var c=Object.keys(u),h=0;h<c.length;h++){var p=c[h],f=u[p];if(void 0===f&&(f=u[T(p)]),void 0!==f){var v=this.parse(p,f,!0);v&&i.push(v)}}}if(0===i.length)return!1;for(var y=!1,m=0;m<e.length;m++){for(var b=e[m],x={},w=void 0,E=0;E<i.length;E++){var k=i[E];if(r){var C=b.pstyle(k.name);w=x[k.name]={prev:C}}y=this.applyParsedProperty(b,k)||y,r&&(w.next=b.pstyle(k.name))}y&&this.updateStyleHints(b),r&&this.updateTransitions(b,x,!0)}return y},overrideBypass:function(e,t,n){t=P(t);for(var r=0;r<e.length;r++){var i=e[r],a=i._private.style[t],o=this.properties[t].type,s=o.color,l=o.mutiple,u=a?null!=a.pfValue?a.pfValue:a.value:null;a&&a.bypass?(a.value=n,null!=a.pfValue&&(a.pfValue=n),a.strValue=s?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(i)):this.applyBypass(i,t,n),this.checkTriggers(i,t,u,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var i=e[r],a={},o=0;o<t.length;o++){var s=t[o],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),h=a[l.name]={prev:u};this.applyParsedProperty(i,c),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,a,!0)}}},Ua={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(a&&t&&a.getComputedStyle)return a.getComputedStyle(t).getPropertyValue(e)}},$a={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){if(e=e[0]){for(var n={},r=0;r<this.properties.length;r++){var i=this.properties[r],a=this.getStylePropertyValue(e,i.name,t);null!=a&&(n[i.name]=a,n[T(i.name)]=a)}return n}},getIndexedStyle:function(e,t,n,r){var i=e.pstyle(t)[n][r];return null!=i?i:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var i=r.type,a=e.pstyle(r.name);if(a){var o=a.value,s=a.units,l=a.strValue;if(n&&i.number&&null!=o&&v(o)){var u=e.cy().zoom(),c=function(e){return e*u},h=function(e,t){return c(e)+t},p=f(o);return(p?s.every(function(e){return null!=e}):null!=s)?p?o.map(function(e,t){return h(e,s[t])}).join(" "):h(o,s):p?o.map(function(e){return d(e)?e:""+c(e)}).join(" "):""+c(o)}if(null!=l)return l}return null}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r].name,a=e.pstyle(i);void 0!==a&&(a=g(a)?this.parse(i,a.strValue):this.parse(i,a)),a&&(n[i]=a)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o],l=r[o]||r[P(o)],u=this.parse(l.name,s);u&&t.push(u)}return t},getNonDefaultPropertiesHash:function(e,t,n){var r,i,a,o,s,l,u=n;for(s=0;s<t.length;s++)if(r=t[s],null!=(i=e.pstyle(r,!1)))if(null!=i.pfValue)u=ue(o,u);else for(a=i.strValue,l=0;l<a.length;l++)o=a.charCodeAt(l),u=ue(o,u);return u}};$a.getPropertiesHash=$a.getNonDefaultPropertiesHash;var Qa={appendFromJson:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.selector,i=n.style||n.css,a=Object.keys(i);this.selector(r);for(var o=0;o<a.length;o++){var s=a[o],l=i[s];this.css(s,l)}}return this},fromJson:function(e){return this.resetToDefault(),this.appendFromJson(e),this},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:a})}return e}},Ja={appendFromString:function(e){var t,n,r,i=""+e;function a(){i=i.length>t.length?i.substr(t.length):""}function o(){n=n.length>r.length?n.substr(r.length):""}for(i=i.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){if(i.match(/^\s*$/))break;var s=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!s){Ce("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}t=s[0];var l=s[1];if("core"!==l)if(new Kr(l).invalid){Ce("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),a();continue}var u=s[2],c=!1;n=u;for(var h=[];;){if(n.match(/^\s*$/))break;var d=n.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!d){Ce("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+u),c=!0;break}r=d[0];var p=d[1],f=d[2];if(this.properties[p])this.parse(p,f)?(h.push({name:p,val:f}),o()):(Ce("Skipping property: Invalid property definition in: "+r),o());else Ce("Skipping property: Invalid property name in: "+r),o()}if(c){a();break}this.selector(l);for(var g=0;g<h.length;g++){var v=h[g];this.css(v.name,v.val)}a()}return this},fromString:function(e){return this.resetToDefault(),this.appendFromString(e),this}},eo={};!function(){var e=_,t=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(t){var n=e+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},r=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];eo.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","concave-hexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:r,singleRegexMatchValue:!0},urls:{regexes:r,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return d(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]}};var i={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||(0==e&&0!=t||0!=e&&0==t)},any:function(e,t){return e!=t}},a=eo.types,o=[{name:"label",type:a.text,triggersBounds:i.any},{name:"text-rotation",type:a.textRotation,triggersBounds:i.any},{name:"text-margin-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"text-margin-y",type:a.bidirectionalSize,triggersBounds:i.any}],s=[{name:"source-label",type:a.text,triggersBounds:i.any},{name:"source-text-rotation",type:a.textRotation,triggersBounds:i.any},{name:"source-text-margin-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"source-text-margin-y",type:a.bidirectionalSize,triggersBounds:i.any},{name:"source-text-offset",type:a.size,triggersBounds:i.any}],l=[{name:"target-label",type:a.text,triggersBounds:i.any},{name:"target-text-rotation",type:a.textRotation,triggersBounds:i.any},{name:"target-text-margin-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"target-text-margin-y",type:a.bidirectionalSize,triggersBounds:i.any},{name:"target-text-offset",type:a.size,triggersBounds:i.any}],u=[{name:"font-family",type:a.fontFamily,triggersBounds:i.any},{name:"font-style",type:a.fontStyle,triggersBounds:i.any},{name:"font-weight",type:a.fontWeight,triggersBounds:i.any},{name:"font-size",type:a.size,triggersBounds:i.any},{name:"text-transform",type:a.textTransform,triggersBounds:i.any},{name:"text-wrap",type:a.textWrap,triggersBounds:i.any},{name:"text-overflow-wrap",type:a.textOverflowWrap,triggersBounds:i.any},{name:"text-max-width",type:a.size,triggersBounds:i.any},{name:"text-outline-width",type:a.size,triggersBounds:i.any},{name:"line-height",type:a.positiveNumber,triggersBounds:i.any}],c=[{name:"text-valign",type:a.valign,triggersBounds:i.any},{name:"text-halign",type:a.halign,triggersBounds:i.any},{name:"color",type:a.color},{name:"text-outline-color",type:a.color},{name:"text-outline-opacity",type:a.zeroOneNumber},{name:"text-background-color",type:a.color},{name:"text-background-opacity",type:a.zeroOneNumber},{name:"text-background-padding",type:a.size,triggersBounds:i.any},{name:"text-border-opacity",type:a.zeroOneNumber},{name:"text-border-color",type:a.color},{name:"text-border-width",type:a.size,triggersBounds:i.any},{name:"text-border-style",type:a.borderStyle,triggersBounds:i.any},{name:"text-background-shape",type:a.textBackgroundShape,triggersBounds:i.any},{name:"text-justification",type:a.justification}],h=[{name:"events",type:a.bool},{name:"text-events",type:a.bool}],p=[{name:"display",type:a.display,triggersZOrder:i.any,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:a.visibility,triggersZOrder:i.any},{name:"opacity",type:a.zeroOneNumber,triggersZOrder:i.zeroNonZero},{name:"text-opacity",type:a.zeroOneNumber},{name:"min-zoomed-font-size",type:a.size},{name:"z-compound-depth",type:a.zCompoundDepth,triggersZOrder:i.any},{name:"z-index-compare",type:a.zIndexCompare,triggersZOrder:i.any},{name:"z-index",type:a.nonNegativeInt,triggersZOrder:i.any}],f=[{name:"overlay-padding",type:a.size,triggersBounds:i.any},{name:"overlay-color",type:a.color},{name:"overlay-opacity",type:a.zeroOneNumber,triggersBounds:i.zeroNonZero}],g=[{name:"transition-property",type:a.propList},{name:"transition-duration",type:a.time},{name:"transition-delay",type:a.time},{name:"transition-timing-function",type:a.easing}],v=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},y=[{name:"height",type:a.nodeSize,triggersBounds:i.any,hashOverride:v},{name:"width",type:a.nodeSize,triggersBounds:i.any,hashOverride:v},{name:"shape",type:a.nodeShape,triggersBounds:i.any},{name:"shape-polygon-points",type:a.polygonPointList,triggersBounds:i.any},{name:"background-color",type:a.color},{name:"background-fill",type:a.fill},{name:"background-opacity",type:a.zeroOneNumber},{name:"background-blacken",type:a.nOneOneNumber},{name:"background-gradient-stop-colors",type:a.colors},{name:"background-gradient-stop-positions",type:a.percentages},{name:"background-gradient-direction",type:a.gradientDirection},{name:"padding",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"padding-relative-to",type:a.paddingRelativeTo,triggersBounds:i.any},{name:"bounds-expansion",type:a.size,triggersBounds:i.any}],m=[{name:"border-color",type:a.color},{name:"border-opacity",type:a.zeroOneNumber},{name:"border-width",type:a.size,triggersBounds:i.any},{name:"border-style",type:a.borderStyle}],b=[{name:"background-image",type:a.urls},{name:"background-image-crossorigin",type:a.bgCrossOrigin},{name:"background-image-opacity",type:a.zeroOneNumbers},{name:"background-position-x",type:a.bgPos},{name:"background-position-y",type:a.bgPos},{name:"background-width-relative-to",type:a.bgRelativeTo},{name:"background-height-relative-to",type:a.bgRelativeTo},{name:"background-repeat",type:a.bgRepeat},{name:"background-fit",type:a.bgFit},{name:"background-clip",type:a.bgClip},{name:"background-width",type:a.bgWH},{name:"background-height",type:a.bgWH},{name:"background-offset-x",type:a.bgPos},{name:"background-offset-y",type:a.bgPos}],x=[{name:"position",type:a.position,triggersBounds:i.any},{name:"compound-sizing-wrt-labels",type:a.compoundIncludeLabels,triggersBounds:i.any},{name:"min-width",type:a.size,triggersBounds:i.any},{name:"min-width-bias-left",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"min-width-bias-right",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"min-height",type:a.size,triggersBounds:i.any},{name:"min-height-bias-top",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"min-height-bias-bottom",type:a.sizeMaybePercent,triggersBounds:i.any}],w=[{name:"line-style",type:a.lineStyle},{name:"line-color",type:a.color},{name:"line-fill",type:a.fill},{name:"line-cap",type:a.lineCap},{name:"line-dash-pattern",type:a.numbers},{name:"line-dash-offset",type:a.number},{name:"line-gradient-stop-colors",type:a.colors},{name:"line-gradient-stop-positions",type:a.percentages},{name:"curve-style",type:a.curveStyle,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:a.zeroOneNumber,triggersBounds:i.any},{name:"source-endpoint",type:a.edgeEndpoint,triggersBounds:i.any},{name:"target-endpoint",type:a.edgeEndpoint,triggersBounds:i.any},{name:"control-point-step-size",type:a.size,triggersBounds:i.any},{name:"control-point-distances",type:a.bidirectionalSizes,triggersBounds:i.any},{name:"control-point-weights",type:a.numbers,triggersBounds:i.any},{name:"segment-distances",type:a.bidirectionalSizes,triggersBounds:i.any},{name:"segment-weights",type:a.numbers,triggersBounds:i.any},{name:"taxi-turn",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"taxi-turn-min-distance",type:a.size,triggersBounds:i.any},{name:"taxi-direction",type:a.axisDirection,triggersBounds:i.any},{name:"edge-distances",type:a.edgeDistances,triggersBounds:i.any},{name:"arrow-scale",type:a.positiveNumber,triggersBounds:i.any},{name:"loop-direction",type:a.angle,triggersBounds:i.any},{name:"loop-sweep",type:a.angle,triggersBounds:i.any},{name:"source-distance-from-node",type:a.size,triggersBounds:i.any},{name:"target-distance-from-node",type:a.size,triggersBounds:i.any}],E=[{name:"ghost",type:a.bool,triggersBounds:i.any},{name:"ghost-offset-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"ghost-offset-y",type:a.bidirectionalSize,triggersBounds:i.any},{name:"ghost-opacity",type:a.zeroOneNumber}],k=[{name:"selection-box-color",type:a.color},{name:"selection-box-opacity",type:a.zeroOneNumber},{name:"selection-box-border-color",type:a.color},{name:"selection-box-border-width",type:a.size},{name:"active-bg-color",type:a.color},{name:"active-bg-opacity",type:a.zeroOneNumber},{name:"active-bg-size",type:a.size},{name:"outside-texture-bg-color",type:a.color},{name:"outside-texture-bg-opacity",type:a.zeroOneNumber}],C=[];eo.pieBackgroundN=16,C.push({name:"pie-size",type:a.sizeMaybePercent});for(var S=1;S<=eo.pieBackgroundN;S++)C.push({name:"pie-"+S+"-background-color",type:a.color}),C.push({name:"pie-"+S+"-background-size",type:a.percent}),C.push({name:"pie-"+S+"-background-opacity",type:a.zeroOneNumber});var D=[],P=eo.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:a.arrowShape,triggersBounds:i.any},{name:"arrow-color",type:a.color},{name:"arrow-fill",type:a.arrowFill}].forEach(function(e){P.forEach(function(t){var n=t+"-"+e.name,r=e.type,i=e.triggersBounds;D.push({name:n,type:r,triggersBounds:i})})},{});var T=eo.properties=[].concat(h,g,p,f,E,c,u,o,s,l,y,m,b,C,x,w,D,k),M=eo.propertyGroups={behavior:h,transition:g,visibility:p,overlay:f,ghost:E,commonLabel:c,labelDimensions:u,mainLabel:o,sourceLabel:s,targetLabel:l,nodeBody:y,nodeBorder:m,backgroundImage:b,pie:C,compound:x,edgeLine:w,edgeArrow:D,core:k},B=eo.propertyGroupNames={};(eo.propertyGroupKeys=Object.keys(M)).forEach(function(e){B[e]=M[e].map(function(e){return e.name}),M[e].forEach(function(t){return t.groupKey=e})});var N=eo.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];eo.propertyNames=T.map(function(e){return e.name});for(var I=0;I<T.length;I++){var z=T[I];T[z.name]=z}for(var L=0;L<N.length;L++){var A=N[L],O=T[A.pointsTo],R={name:A.name,alias:!0,pointsTo:O};T.push(R),T[A.name]=R}}(),eo.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},eo.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=I({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=eo.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),i=t.value;e[r]=i}return e},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(e,t){return eo.arrowPrefixes.forEach(function(n){var r=n+"-"+t.name,i=t.value;e[r]=i}),e},{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var a=i.name,o=t[a],s=this.parse(a,o);n[a]=s}}return e.defaultProperties=n,e.defaultProperties},eo.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var to={parse:function(e,t,n,r){if(p(t))return this.parseImplWarn(e,t,n,r);var i,a=de(e,""+t,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),o=this.propCache=this.propCache||[];return(i=o[a])||(i=o[a]=this.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(i=Se(i))&&(i.value=Se(i.value)),i},parseImplWarn:function(e,t,n,r){var i=this.parseImpl(e,t,n,r);return i||null==t||Ce("The style property `".concat(e,": ").concat(t,"` is invalid")),i}};to.parseImpl=function(e,t,n,r){e=P(e);var i=this.properties[e],a=t,o=this.types;if(!i)return null;if(void 0===t)return null;i.alias&&(i=i.pointsTo,e=i.name);var s=d(t);s&&(t=t.trim());var l,u,c=i.type;if(!c)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(p(t))return{name:e,value:t,strValue:"fn",mapped:o.fn,bypass:n};if(!s||r||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(l=new RegExp(o.data.regex).exec(t))){if(n)return!1;var h=o.data;return{name:e,value:l,strValue:""+t,mapped:h,field:l[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(u=new RegExp(o.mapData.regex).exec(t))){if(n)return!1;if(c.multiple)return!1;var g=o.mapData;if(!c.color&&!c.number)return!1;var y=this.parse(e,u[4]);if(!y||y.mapped)return!1;var m=this.parse(e,u[5]);if(!m||m.mapped)return!1;if(y.pfValue===m.pfValue||y.strValue===m.strValue)return Ce("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+y.strValue+"`"),this.parse(e,y.strValue);if(c.color){var b=y.value,x=m.value;if(!(b[0]!==x[0]||b[1]!==x[1]||b[2]!==x[2]||b[3]!==x[3]&&(null!=b[3]&&1!==b[3]||null!=x[3]&&1!==x[3])))return!1}return{name:e,value:u,strValue:""+t,mapped:g,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:y.value,valueMax:m.value,bypass:n}}}if(c.multiple&&"multiple"!==r){var w;if(w=s?t.split(/\s+/):f(t)?t:[t],c.evenMultiple&&w.length%2!=0)return null;for(var E=[],k=[],C=[],S="",D=!1,T=0;T<w.length;T++){var M=this.parse(e,w[T],n,"multiple");D=D||d(M.value),E.push(M.value),C.push(null!=M.pfValue?M.pfValue:M.value),k.push(M.units),S+=(T>0?" ":"")+M.strValue}return c.validate&&!c.validate(E,k)?null:c.singleEnum&&D?1===E.length&&d(E[0])?{name:e,value:E[0],strValue:E[0],bypass:n}:null:{name:e,value:E,pfValue:C,strValue:S,bypass:n,units:k}}var B,N=function(){for(var r=0;r<c.enums.length;r++){if(c.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(c.number){var I,L="px";if(c.units&&(I=c.units),c.implicitUnits&&(L=c.implicitUnits),!c.unitless)if(s){var A="px|em"+(c.allowPercent?"|\\%":"");I&&(A=I);var O=t.match("^("+_+")("+A+")?$");O&&(t=O[1],I=O[2]||L)}else I&&!c.implicitUnits||(I=L);if(t=parseFloat(t),isNaN(t)&&void 0===c.enums)return null;if(isNaN(t)&&void 0!==c.enums)return t=a,N();if(c.integer&&(!v(B=t)||Math.floor(B)!==B))return null;if(void 0!==c.min&&(t<c.min||c.strictMin&&t===c.min)||void 0!==c.max&&(t>c.max||c.strictMax&&t===c.max))return null;var R={name:e,value:t,strValue:""+t+(I||""),units:I,bypass:n};return c.unitless||"px"!==I&&"em"!==I?R.pfValue=t:R.pfValue="px"!==I&&I?this.getEmSizeInPixels()*t:t,"ms"!==I&&"s"!==I||(R.pfValue="ms"===I?t:1e3*t),"deg"!==I&&"rad"!==I||(R.pfValue="rad"===I?t:lt(t)),"%"===I&&(R.pfValue=t/100),R}if(c.propList){var F=[],V=""+t;if("none"===V);else{for(var q=V.split(/\s*,\s*|\s+/),j=0;j<q.length;j++){var Y=q[j].trim();this.properties[Y]?F.push(Y):Ce("`"+Y+"` is not a valid property name")}if(0===F.length)return null}return{name:e,value:F,strValue:0===F.length?"none":F.join(" "),bypass:n}}if(c.color){var X=z(t);return X?{name:e,value:X,pfValue:X,strValue:"rgb("+X[0]+","+X[1]+","+X[2]+")",bypass:n}:null}if(c.regex||c.regexes){if(c.enums){var W=N();if(W)return W}for(var H=c.regexes?c.regexes:[c.regex],K=0;K<H.length;K++){var G=new RegExp(H[K]).exec(t);if(G)return{name:e,value:c.singleRegexMatchValue?G[1]:G,strValue:""+t,bypass:n}}return null}return c.string?{name:e,value:""+t,strValue:""+t,bypass:n}:c.enums?N():null};var no=function e(t){if(!(this instanceof e))return new e(t);w(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):Ee("A style must have a core reference")},ro=no.prototype;ro.instanceString=function(){return"style"},ro.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},ro.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},ro.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},ro.selector=function(e){var t="core"===e?null:new Kr(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},ro.css=function(){var e=arguments;if(1===e.length)for(var t=e[0],n=0;n<this.properties.length;n++){var r=this.properties[n],i=t[r.name];void 0===i&&(i=t[T(r.name)]),void 0!==i&&this.cssRule(r.name,i)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},ro.style=ro.css,ro.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},ro.append=function(e){return E(e)?e.appendToStyle(this):f(e)?this.appendFromJson(e):d(e)&&this.appendFromString(e),this},no.fromJson=function(e,t){var n=new no(e);return n.fromJson(t),n},no.fromString=function(e,t){return new no(e).fromString(t)},[Ga,Za,Ua,$a,Qa,Ja,eo,to].forEach(function(e){I(ro,e)}),no.types=ro.types,no.properties=ro.properties,no.propertyGroups=ro.propertyGroups,no.propertyGroupNames=ro.propertyGroupNames,no.propertyGroupKeys=ro.propertyGroupKeys;var io={style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(e){var t=this._private;return E(e)?t.style=e.generateStyle(this):f(e)?t.style=no.fromJson(this,e):d(e)?t.style=no.fromString(this,e):t.style=no(this),t.style}},ao={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,r,i,a=arguments,o=this._private.pan;switch(a.length){case 0:return o;case 1:if(d(a[0]))return o[e=a[0]];if(g(a[0])){if(!this._private.panningEnabled)return this;r=(n=a[0]).x,i=n.y,v(r)&&(o.x=r),v(i)&&(o.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=a[0],t=a[1],"x"!==e&&"y"!==e||!v(t)||(o[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,r,i,a,o,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:g(e)&&(a=(i=s[0]).x,o=i.y,v(a)&&(l.x+=a),v(o)&&(l.y+=o),this.emit("pan viewport"));break;case 2:r=t,"x"!==(n=e)&&"y"!==n||!v(r)||(l[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(v(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if(d(e)){var i=e;e=this.$(i)}else if(g(r=e)&&v(r.x1)&&v(r.x2)&&v(r.y1)&&v(r.y2)){var a=e;(n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else m(e)||(e=this.mutableElements());if(!m(e)||!e.empty()){n=n||e.boundingBox();var o,s=this.width(),l=this.height();if(t=v(t)?t:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:o=(o=(o=Math.min((s-2*t)/n.w,(l-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:o)<this._private.minZoom?this._private.minZoom:o,pan:{x:(s-o*(n.x1+n.x2))/2,y:(l-o*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var r=e;e=r.min,t=r.max}return v(e)&&v(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):v(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:v(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,r=this._private,i=r.pan,a=r.zoom,o=!1;if(r.zoomingEnabled||(o=!0),v(e)?n=e:g(e)&&(n=e.level,null!=e.position?t=tt(e.position,a,i):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||r.panningEnabled||(o=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,o||!v(n)||n===a||null!=t&&(!v(t.x)||!v(t.y)))return null;if(null!=t){var s=i,l=a,u=n;return{zoomed:!0,panned:!0,zoom:u,pan:{x:-u/l*(t.x-s.x)+t.x,y:-u/l*(t.y-s.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:i}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,r=!0,i=[],a=!1,o=!1;if(!e)return this;if(v(e.zoom)||(n=!1),g(e.pan)||(r=!1),!n&&!r)return this;if(n){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=s,i.push("zoom"))}if(r&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;v(l.x)&&(t.pan.x=l.x,o=!1),v(l.y)&&(t.pan.y=l.y,o=!1),o||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(d(e)){var n=e;e=this.mutableElements().filter(n)}else m(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),i=this.width(),a=this.height();return{x:(i-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(a-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e,t,n=this._private,r=n.container;return n.sizeCache=n.sizeCache||(r?(e=a.getComputedStyle(r),t=function(t){return parseFloat(e.getPropertyValue(t))},{width:r.clientWidth-t("padding-left")-t("padding-right"),height:r.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};ao.centre=ao.center,ao.autolockNodes=ao.autolock,ao.autoungrabifyNodes=ao.autoungrabify;var oo=function(e){var t=this,n=(e=I({},e)).container;n&&!y(n)&&y(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var i=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=t;var o=void 0!==a&&void 0!==n&&!e.headless,s=e;s.layout=I({name:o?"grid":"null"},s.layout),s.renderer=I({name:o?"canvas":"null"},s.renderer);var l=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},u=this._private={container:n,ready:!1,options:s,elements:new Ca(this),listeners:[],aniEles:new Ca(this),scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:void 0===s.styleEnabled?o:s.styleEnabled,zoom:v(s.zoom)?s.zoom:1,pan:{x:g(s.pan)&&v(s.pan.x)?s.pan.x:0,y:g(s.pan)&&v(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});u.styleEnabled&&t.setStyle([]);var c=I({},s,s.renderer);t.initRenderer(c);!function(e,t){if(e.some(C))return sr.all(e).then(t);t(e)}([s.style,s.elements],function(e){var n=e[0],a=e[1];u.styleEnabled&&t.style().append(n),function(e,n,r){t.notifications(!1);var i=t.mutableElements();i.length>0&&i.remove(),null!=e&&(g(e)||f(e))&&t.add(e),t.one("layoutready",function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",r),t.emit("done")});var a=I({},t._private.options.layout);a.eles=t.elements(),t.layout(a).run()}(a,function(){t.startAnimationLoop(),u.ready=!0,p(s.ready)&&t.on("ready",s.ready);for(var e=0;e<i.length;e++){var n=i[e];t.on("ready",n)}r&&(r.readies=[]),t.emit("ready")},s.done)})},so=oo.prototype;I(so,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},isDestroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.isDestroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e,t){if(null!=e){var n=this,r=n._private,i=r.options,a=t||{name:"canvas"};return i.renderer=a,!y(e)&&y(e[0])&&(e=e[0]),n.stopAnimationLoop(),n.destroyRenderer(),r.container=e,r.styleEnabled=!0,n.invalidateSize(),n.initRenderer(a),n.startAnimationLoop(),n.style(i.style),n.emit("mount"),n}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Se(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(g(e)){if(t.startBatch(),e.elements){var i={},a=function(e,n){for(var r=[],a=[],o=0;o<e.length;o++){var s=e[o],l=s.data.id,u=t.getElementById(l);i[l]=!0,0!==u.length?a.push({ele:u,json:s}):n?(s.group=n,r.push(s)):r.push(s)}t.add(r);for(var c=0;c<a.length;c++){var h=a[c],d=h.ele,p=h.json;d.json(p)}};if(f(e.elements))a(e.elements);else for(var o=["nodes","edges"],s=0;s<o.length;s++){var l=o[s],u=e.elements[l];f(u)&&a(u,l)}var c=t.collection();r.filter(function(e){return!i[e.id()]}).forEach(function(e){e.isParent()?c.merge(e):e.remove()}),c.forEach(function(e){return e.children().move({parent:null})}),c.forEach(function(e){return function(e){return t.getElementById(e.id())}(e).remove()})}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan));for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],d=0;d<h.length;d++){var p=h[d];null!=e[p]&&t[p](e[p])}return t.endBatch(),this}var v={};!!e?v.elements=this.elements().map(function(e){return e.json()}):(v.elements={},r.forEach(function(e){var t=e.group();v.elements[t]||(v.elements[t]=[]),v.elements[t].push(e.json())})),this._private.styleEnabled&&(v.style=t.style().json());var y=n.options;return v.zoomingEnabled=n.zoomingEnabled,v.userZoomingEnabled=n.userZoomingEnabled,v.zoom=n.zoom,v.minZoom=n.minZoom,v.maxZoom=n.maxZoom,v.panningEnabled=n.panningEnabled,v.userPanningEnabled=n.userPanningEnabled,v.pan=Se(n.pan),v.boxSelectionEnabled=n.boxSelectionEnabled,v.renderer=Se(y.renderer),v.hideEdgesOnViewport=y.hideEdgesOnViewport,v.textureOnViewport=y.textureOnViewport,v.wheelSensitivity=y.wheelSensitivity,v.motionBlur=y.motionBlur,v},scratch:cr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:cr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),so.$id=so.getElementById,[Da,Ra,qa,ja,Ya,Xa,Ha,Ka,io,ao].forEach(function(e){I(so,e)});var lo={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},uo=function(e){return e.scratch("breadthfirst")},co=function(e,t){return e.scratch("breadthfirst",t)};function ho(e){this.options=I({},lo,e)}ho.prototype.run=function(){var e,t=this.options,n=t,r=t.cy,i=n.eles,a=i.nodes().filter(function(e){return!e.isParent()}),o=i,s=n.directed,l=n.maximal||n.maximalAdjustments>0,u=bt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(m(n.roots))e=n.roots;else if(f(n.roots)){for(var c=[],h=0;h<n.roots.length;h++){var p=n.roots[h],g=r.getElementById(p);c.push(g)}e=r.collection(c)}else if(d(n.roots))e=r.$(n.roots);else if(s)e=a.roots();else{var v=i.components();e=r.collection();for(var y=function(t){var n=v[t],r=n.maxDegree(!1),i=n.filter(function(e){return e.degree(!1)===r});e=e.add(i)},b=0;b<v.length;b++)y(b)}var x=[],w={},E=function(e,t){null==x[t]&&(x[t]=[]);var n=x[t].length;x[t].push(e),co(e,{index:n,depth:t})};o.bfs({roots:e,directed:n.directed,visit:function(e,t,n,r,i){var a=e[0],o=a.id();E(a,i),w[o]=!0}});for(var k=[],C=0;C<a.length;C++){var S=a[C];w[S.id()]||k.push(S)}var D=function(e){for(var t=x[e],n=0;n<t.length;n++){var r=t[n];null!=r?co(r,{depth:e,index:n}):(t.splice(n,1),n--)}},P=function(){for(var e=0;e<x.length;e++)D(e)},T=function(e,t){for(var n=uo(e),r=e.incomers().filter(function(e){return e.isNode()&&i.has(e)}),a=-1,o=e.id(),s=0;s<r.length;s++){var l=r[s],u=uo(l);a=Math.max(a,u.depth)}return n.depth<=a&&(t[o]?null:(function(e,t){var n=uo(e),r=n.depth,i=n.index;x[r][i]=null,E(e,t)}(e,a+1),t[o]=!0,!0))};if(s&&l){var M=[],B={},_=function(e){return M.push(e)};for(a.forEach(function(e){return M.push(e)});M.length>0;){var I=M.shift(),z=T(I,B);if(z)I.outgoers().filter(function(e){return e.isNode()&&i.has(e)}).forEach(_);else if(null===z){Ce("Detected double maximal shift for node `"+I.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}P();var L=0;if(n.avoidOverlap)for(var A=0;A<a.length;A++){var O=a[A].layoutDimensions(n),R=O.w,F=O.h;L=Math.max(L,R,F)}for(var V={},q=function(e){if(V[e.id()])return V[e.id()];for(var t=uo(e).depth,n=e.neighborhood(),r=0,i=0,o=0;o<n.length;o++){var s=n[o];if(!s.isEdge()&&!s.isParent()&&a.has(s)){var l=uo(s),u=l.index,c=l.depth;if(null!=u&&null!=c){var h=x[c].length;c<t&&(r+=u/(h-1),i++)}}}return r/=i=Math.max(1,i),0===i&&(r=0),V[e.id()]=r,r},j=function(e,t){var n=q(e)-q(t);return 0===n?N(e.id(),t.id()):n},Y=0;Y<x.length;Y++)x[Y].sort(j),D(Y);for(var X=[],W=0;W<k.length;W++)X.push(k[W]);x.unshift(X),P();for(var H=0,K=0;K<x.length;K++)H=Math.max(x[K].length,H);var G=u.x1+u.w/2,Z=u.x1+u.h/2,U=x.reduce(function(e,t){return Math.max(e,t.length)},0);return a.layoutPositions(this,n,function(e){var t=uo(e),r=t.depth,i=t.index,a=x[r].length,o=Math.max(u.w/((n.grid?U:a)+1),L),s=Math.max(u.h/(x.length+1),L),l=Math.min(u.w/2/x.length,u.h/2/x.length);if(l=Math.max(l,L),n.circle){var c=l*r+l-(x.length>0&&x[0].length<=3?l/2:0),h=2*Math.PI/x[r].length*i;return 0===r&&1===x[0].length&&(c=1),{x:G+c*Math.cos(h),y:Z+c*Math.sin(h)}}return{x:G+(i+1-(a+1)/2)*o,y:(r+1)*s}}),this};var po={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function fo(e){this.options=I({},po,e)}fo.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,a=r.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var o,s=bt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l=s.x1+s.w/2,u=s.y1+s.h/2,c=(void 0===t.sweep?2*Math.PI-2*Math.PI/a.length:t.sweep)/Math.max(1,a.length-1),h=0,d=0;d<a.length;d++){var p=a[d].layoutDimensions(t),f=p.w,g=p.h;h=Math.max(h,f,g)}if(o=v(t.radius)?t.radius:a.length<=1?0:Math.min(s.h,s.w)/2-h,a.length>1&&t.avoidOverlap){h*=1.75;var y=Math.cos(c)-Math.cos(0),m=Math.sin(c)-Math.sin(0),b=Math.sqrt(h*h/(y*y+m*m));o=Math.max(b,o)}return a.layoutPositions(this,t,function(e,n){var r=t.startAngle+n*c*(i?1:-1),a=o*Math.cos(r),s=o*Math.sin(r);return{x:l+a,y:u+s}}),this};var go,vo={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function yo(e){this.options=I({},vo,e)}yo.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles.nodes().not(":parent"),a=bt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o=a.x1+a.w/2,s=a.y1+a.h/2,l=[],u=0,c=0;c<i.length;c++){var h,d=i[c];h=t.concentric(d),l.push({value:h,node:d}),d._private.scratch.concentric=h}i.updateStyle();for(var p=0;p<i.length;p++){var f=i[p].layoutDimensions(t);u=Math.max(u,f.w,f.h)}l.sort(function(e,t){return t.value-e.value});for(var g=t.levelWidth(i),v=[[]],y=v[0],m=0;m<l.length;m++){var b=l[m];if(y.length>0)Math.abs(y[0].value-b.value)>=g&&(y=[],v.push(y));y.push(b)}var x=u+t.minNodeSpacing;if(!t.avoidOverlap){var w=v.length>0&&v[0].length>1,E=(Math.min(a.w,a.h)/2-x)/(v.length+w?1:0);x=Math.min(x,E)}for(var k=0,C=0;C<v.length;C++){var S=v[C],D=void 0===t.sweep?2*Math.PI-2*Math.PI/S.length:t.sweep,P=S.dTheta=D/Math.max(1,S.length-1);if(S.length>1&&t.avoidOverlap){var T=Math.cos(P)-Math.cos(0),M=Math.sin(P)-Math.sin(0),B=Math.sqrt(x*x/(T*T+M*M));k=Math.max(B,k)}S.r=k,k+=x}if(t.equidistant){for(var _=0,N=0,I=0;I<v.length;I++){var z=v[I].r-N;_=Math.max(_,z)}N=0;for(var L=0;L<v.length;L++){var A=v[L];0===L&&(N=A.r),A.r=N,N+=_}}for(var O={},R=0;R<v.length;R++)for(var F=v[R],V=F.dTheta,q=F.r,j=0;j<F.length;j++){var Y=F[j],X=t.startAngle+(n?1:-1)*V*j,W={x:o+q*Math.cos(X),y:s+q*Math.sin(X)};O[Y.node.id()]=W}return i.layoutPositions(this,t,function(e){var t=e.id();return O[t]}),this};var mo={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1,weaver:!1};function bo(e){this.options=I({},mo,e),this.options.layout=this}bo.prototype.run=function(){var e=this.options,t=e.cy,n=this,r=this.thread,i=e.weaver?e.weaver.Thread:null,a={listeners:[],on:function(e,t){return this.listeners.push({event:e,callback:t}),this},trigger:function(e){d(e)&&(e={type:e});var t=function(t){t.callback(e)};return this.listeners.filter(function(t){return t.event===e.type}).forEach(t),this},pass:function(e){return this.pass=e,this},run:function(e){var t=this.pass;return new sr(function(n){n(e(t))})},stop:function(){return this},stopped:function(){return!0}};r&&!r.stopped()||(r=this.thread=i?new i:a),n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),go=!0===e.debug;var o=xo(t,n,e);go&&(void 0)(o),e.randomize&&ko(o,t);var s=Date.now(),l=!1,u=function(n){n=n||{},l&&!n.next||!n.force&&Date.now()-s<e.animationThreshold||(l=!0,oe(function(){So(o,t,e),!0===e.fit&&t.fit(e.padding),l=!1,n.next&&n.next()}))};r.on("message",function(e){var t=e.message;o.layoutNodes=t,u()}),r.pass({layoutInfo:o,options:{animate:e.animate,refresh:e.refresh,componentSpacing:e.componentSpacing,nodeOverlap:e.nodeOverlap,nestingFactor:e.nestingFactor,gravity:e.gravity,numIter:e.numIter,initialTemp:e.initialTemp,coolingFactor:e.coolingFactor,minTemp:e.minTemp}}).run(function(e){var t,n,r=e.layoutInfo,i=e.options,o=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,a=0;a<i;a++)for(var o=e.layoutNodes[e.idToIndex[r[a]]],s=a+1;s<i;s++){var u=e.layoutNodes[e.idToIndex[r[s]]];l(o,u,e,t)}},s=function(e){return-e+2*e*Math.random()},l=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var i=t.positionX-e.positionX,a=t.positionY-e.positionY;0===i&&0===a&&(i=s(1),a=s(1));var o=u(e,t,i,a);if(o>0)var l=(d=r.nodeOverlap*o)*i/(m=Math.sqrt(i*i+a*a)),h=d*a/m;else{var d,p=c(e,i,a),f=c(t,-1*i,-1*a),g=f.x-p.x,v=f.y-p.y,y=g*g+v*v,m=Math.sqrt(y);l=(d=(e.nodeRepulsion+t.nodeRepulsion)/y)*g/m,h=d*v/m}e.isLocked||(e.offsetX-=l,e.offsetY-=h),t.isLocked||(t.offsetX+=l,t.offsetY+=h)}},u=function(e,t,n,r){if(n>0)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(r>0)var a=e.maxY-t.minY;else a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},c=function(e,t,n){var r=e.positionX,i=e.positionY,a=e.height||1,o=e.width||1,s=n/t,l=a/o,u={};return 0===t&&0<n?(u.x=r,u.y=i+a/2,u):0===t&&0>n?(u.x=r,u.y=i+a/2,u):0<t&&-1*l<=s&&s<=l?(u.x=r+o/2,u.y=i+o*n/2/t,u):0>t&&-1*l<=s&&s<=l?(u.x=r-o/2,u.y=i-o*n/2/t,u):0<n&&(s<=-1*l||s>=l)?(u.x=r+a*t/2/n,u.y=i+a/2,u):0>n&&(s<=-1*l||s>=l)?(u.x=r-a*t/2/n,u.y=i-a/2,u):u},h=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],i=e.idToIndex[r.sourceId],a=e.layoutNodes[i],o=e.idToIndex[r.targetId],s=e.layoutNodes[o],l=s.positionX-a.positionX,u=s.positionY-a.positionY;if(0!==l||0!==u){var h=c(a,l,u),d=c(s,-1*l,-1*u),p=d.x-h.x,f=d.y-h.y,g=Math.sqrt(p*p+f*f),v=Math.pow(r.idealLength-g,2)/r.elasticity;if(0!==g)var y=v*p/g,m=v*f/g;else y=0,m=0;a.isLocked||(a.offsetX+=y,a.offsetY+=m),s.isLocked||(s.offsetX-=y,s.offsetY-=m)}}},d=function(e,t){for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],i=r.length;if(0===n)var a=e.clientHeight/2,o=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[r[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]];a=l.positionX,o=l.positionY}for(var u=0;u<i;u++){var c=e.layoutNodes[e.idToIndex[r[u]]];if(!c.isLocked){var h=a-c.positionX,d=o-c.positionY,p=Math.sqrt(h*h+d*d);if(p>1){var f=t.gravity*h/p,g=t.gravity*d/p;c.offsetX+=f,c.offsetY+=g}}}}},p=function(e,t){var n=[],r=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;r<=i;){var a=n[r++],o=e.idToIndex[a],s=e.layoutNodes[o],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,h=0;h<l.length;h++){var d=e.layoutNodes[e.idToIndex[l[h]]];d.offsetX+=u,d.offsetY+=c,n[++i]=l[h]}s.offsetX=0,s.offsetY=0}}},f=function(e,t){for(var n=0;n<e.nodeSize;n++){0<(i=e.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(i=e.layoutNodes[n]).children.length||i.isLocked)){var r=g(i.offsetX,i.offsetY,e.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,v(i,e)}}for(n=0;n<e.nodeSize;n++){var i;0<(i=e.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},g=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var i={x:n*e/r,y:n*t/r};else i={x:e,y:t};return i},v=function e(t,n){var r=t.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],a=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a?e(i,n):void 0}},y=function(e){return function(e,t,n){o(e,t),h(e,t),d(e,t),p(e,t),f(e,t)}(r,i),r.temperature=r.temperature*i.coolingFactor,!(r.temperature<i.minTemp)},m=0;do{for(var b=0;(b<i.refresh||0===i.refresh)&&m<i.numIter;){var x;if(!(x=y()))break;b++,m++}!0===i.animate&&(t=r.layoutNodes,n=void 0,n={type:"message",message:t},a.trigger(n))}while(x&&m+1<i.numIter);return function(e,t){for(var n=r.layoutNodes,i=[],a=0;a<n.length;a++){var o=n[a],s=o.cmptId;(i[s]=i[s]||[]).push(o)}var l=0;for(a=0;a<i.length;a++)if(v=i[a]){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var u=0;u<v.length;u++){var c=v[u];v.x1=Math.min(v.x1,c.positionX-c.width/2),v.x2=Math.max(v.x2,c.positionX+c.width/2),v.y1=Math.min(v.y1,c.positionY-c.height/2),v.y2=Math.max(v.y2,c.positionY+c.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,l+=v.w*v.h}i.sort(function(e,t){return t.w*t.h-e.w*e.h});var h=0,d=0,p=0,f=0,g=Math.sqrt(l)*r.clientWidth/r.clientHeight;for(a=0;a<i.length;a++){var v;if(v=i[a]){for(u=0;u<v.length;u++)(c=v[u]).isLocked||(c.positionX+=h,c.positionY+=d);h+=v.w+t.componentSpacing,p+=v.w+t.componentSpacing,f=Math.max(f,v.h),p>g&&(d+=f+t.componentSpacing,h=0,p=0,f=0)}}}(0,i),r}).then(function(e){o.layoutNodes=e.layoutNodes,r.stop(),c()});var c=function(){if(!0===e.animate||!1===e.animate)u({force:!0,next:function(){n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n})}});else{var t=e.eles.nodes(),r=Co(o,e,t);t.layoutPositions(n,e,r)}};return this},bo.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},bo.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var xo=function(e,t,n){for(var r=n.eles.edges(),i=n.eles.nodes(),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:bt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},o=n.eles.components(),s={},l=0;l<o.length;l++)for(var u=o[l],c=0;c<u.length;c++){s[u[c].id()]=l}for(l=0;l<a.nodeSize;l++){var h=(y=i[l]).layoutDimensions(n);(I={}).isLocked=y.locked(),I.id=y.data("id"),I.parentId=y.data("parent"),I.cmptId=s[y.id()],I.children=[],I.positionX=y.position("x"),I.positionY=y.position("y"),I.offsetX=0,I.offsetY=0,I.height=h.w,I.width=h.h,I.maxX=I.positionX+I.width/2,I.minX=I.positionX-I.width/2,I.maxY=I.positionY+I.height/2,I.minY=I.positionY-I.height/2,I.padLeft=parseFloat(y.style("padding")),I.padRight=parseFloat(y.style("padding")),I.padTop=parseFloat(y.style("padding")),I.padBottom=parseFloat(y.style("padding")),I.nodeRepulsion=p(n.nodeRepulsion)?n.nodeRepulsion(y):n.nodeRepulsion,a.layoutNodes.push(I),a.idToIndex[I.id]=l}var d=[],f=0,g=-1,v=[];for(l=0;l<a.nodeSize;l++){var y,m=(y=a.layoutNodes[l]).parentId;null!=m?a.layoutNodes[a.idToIndex[m]].children.push(y.id):(d[++g]=y.id,v.push(y.id))}for(a.graphSet.push(v);f<=g;){var b=d[f++],x=a.idToIndex[b],w=a.layoutNodes[x].children;if(w.length>0){a.graphSet.push(w);for(l=0;l<w.length;l++)d[++g]=w[l]}}for(l=0;l<a.graphSet.length;l++){var E=a.graphSet[l];for(c=0;c<E.length;c++){var k=a.idToIndex[E[c]];a.indexToGraph[k]=l}}for(l=0;l<a.edgeSize;l++){var C=r[l],S={};S.id=C.data("id"),S.sourceId=C.data("source"),S.targetId=C.data("target");var D=p(n.idealEdgeLength)?n.idealEdgeLength(C):n.idealEdgeLength,P=p(n.edgeElasticity)?n.edgeElasticity(C):n.edgeElasticity,T=a.idToIndex[S.sourceId],M=a.idToIndex[S.targetId];if(a.indexToGraph[T]!=a.indexToGraph[M]){for(var B=wo(S.sourceId,S.targetId,a),_=a.graphSet[B],N=0,I=a.layoutNodes[T];-1===_.indexOf(I.id);)I=a.layoutNodes[a.idToIndex[I.parentId]],N++;for(I=a.layoutNodes[M];-1===_.indexOf(I.id);)I=a.layoutNodes[a.idToIndex[I.parentId]],N++;D*=N*n.nestingFactor}S.idealLength=D,S.elasticity=P,a.layoutEdges.push(S)}return a},wo=function(e,t,n){var r=Eo(e,t,0,n);return 2>r.count?0:r.graph},Eo=function e(t,n,r,i){var a=i.graphSet[r];if(-1<a.indexOf(t)&&-1<a.indexOf(n))return{count:2,graph:r};for(var o=0,s=0;s<a.length;s++){var l=a[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var h=e(t,n,i.indexToGraph[i.idToIndex[c[0]]],i);if(0!==h.count){if(1!==h.count)return h;if(2===++o)break}}}return{count:o,graph:r}},ko=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];0!==a.children.length||a.isLocked||(a.positionX=Math.random()*n,a.positionY=Math.random()*r)}},Co=function(e,t,n){var r=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];i.x1=Math.min(i.x1,n.positionX),i.x2=Math.max(i.x2,n.positionX),i.y1=Math.min(i.y1,n.positionY),i.y2=Math.max(i.y2,n.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(n,a){var o=e.layoutNodes[e.idToIndex[n.data("id")]];if(t.boundingBox){var s=(o.positionX-i.x1)/i.w,l=(o.positionY-i.y1)/i.h;return{x:r.x1+s*r.w,y:r.y1+l*r.h}}return{x:o.positionX,y:o.positionY}}},So=function(e,t,n){var r=n.layout,i=n.eles.nodes(),a=Co(e,n,i);i.positions(a),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},Do={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Po(e){this.options=I({},Do,e)}Po.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles.nodes().not(":parent");t.sort&&(r=r.sort(t.sort));var i=bt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===i.h||0===i.w)r.layoutPositions(this,t,function(e){return{x:i.x1,y:i.y1}});else{var a=r.size(),o=Math.sqrt(a*i.h/i.w),s=Math.round(o),l=Math.round(i.w/i.h*o),u=function(e){if(null==e)return Math.min(s,l);Math.min(s,l)==s?s=e:l=e},c=function(e){if(null==e)return Math.max(s,l);Math.max(s,l)==s?s=e:l=e},h=t.rows,d=null!=t.cols?t.cols:t.columns;if(null!=h&&null!=d)s=h,l=d;else if(null!=h&&null==d)s=h,l=Math.ceil(a/s);else if(null==h&&null!=d)l=d,s=Math.ceil(a/l);else if(l*s>a){var p=u(),f=c();(p-1)*f>=a?u(p-1):(f-1)*p>=a&&c(f-1)}else for(;l*s<a;){var g=u(),v=c();(v+1)*g>=a?c(v+1):u(g+1)}var y=i.w/l,m=i.h/s;if(t.condense&&(y=0,m=0),t.avoidOverlap)for(var b=0;b<r.length;b++){var x=r[b],w=x._private.position;null!=w.x&&null!=w.y||(w.x=0,w.y=0);var E=x.layoutDimensions(t),k=t.avoidOverlapPadding,C=E.w+k,S=E.h+k;y=Math.max(y,C),m=Math.max(m,S)}for(var D={},P=function(e,t){return!!D["c-"+e+"-"+t]},T=function(e,t){D["c-"+e+"-"+t]=!0},M=0,B=0,_=function(){++B>=l&&(B=0,M++)},N={},I=0;I<r.length;I++){var z=r[I],L=t.position(z);if(L&&(void 0!==L.row||void 0!==L.col)){var A={row:L.row,col:L.col};if(void 0===A.col)for(A.col=0;P(A.row,A.col);)A.col++;else if(void 0===A.row)for(A.row=0;P(A.row,A.col);)A.row++;N[z.id()]=A,T(A.row,A.col)}}r.layoutPositions(this,t,function(e,t){var n,r;if(e.locked()||e.isParent())return!1;var a=N[e.id()];if(a)n=a.col*y+y/2+i.x1,r=a.row*m+m/2+i.y1;else{for(;P(M,B);)_();n=B*y+y/2+i.x1,r=M*m+m/2+i.y1,T(M,B),_()}return{x:n,y:r}})}return this};var To={ready:function(){},stop:function(){}};function Mo(e){this.options=I({},To,e)}Mo.prototype.run=function(){var e=this.options,t=e.eles;e.cy;return this.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),this.one("layoutready",e.ready),this.emit("layoutready"),this.one("layoutstop",e.stop),this.emit("layoutstop"),this},Mo.prototype.stop=function(){return this};var Bo={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function _o(e){this.options=I({},Bo,e)}_o.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=p(e.positions);return t.layoutPositions(this,e,function(t,r){var i=function(t){if(null==e.positions)return et(t.position());if(n)return e.positions(t);var r=e.positions[t._private.data.id];return null==r?null:r}(t);return!t.locked()&&null!=i&&i}),this};var No={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Io(e){this.options=I({},No,e)}Io.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles.nodes().not(":parent"),r=bt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.layoutPositions(this,e,function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}}),this};var zo=[{name:"breadthfirst",impl:ho},{name:"circle",impl:fo},{name:"concentric",impl:yo},{name:"cose",impl:bo},{name:"grid",impl:Po},{name:"null",impl:Mo},{name:"preset",impl:_o},{name:"random",impl:Io}];function Lo(e){this.options=e,this.notifications=0}var Ao=function(){};Lo.prototype={recalculateRenderedStyle:Ao,notify:function(){this.notifications++},init:Ao,isHeadless:function(){return!0}};var Oo={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,i,a,o){var s=i.x-n/2-o,l=i.x+n/2+o,u=i.y-n/2-o,c=i.y+n/2+o;return s<=e&&e<=l&&u<=t&&t<=c},r=function(e,t,n,r,i){var a=e*Math.cos(r)-t*Math.sin(r),o=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:a*n+i.x,y:o+i.y}},i=function(e,t,n,i){for(var a=[],o=0;o<e.length;o+=2){var s=e[o],l=e[o+1];a.push(r(s,l,t,n,i))}return a},a=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},o=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},s=function(r,s){d(s)&&(s=e[s]),e[r]=I({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,o,s){var l=a(i(this.points,n+2*s,r,o));return Rt(e,t,l)},roughCollide:n,draw:function(e,n,r,a){var o=i(this.points,n,r,a);t.arrowShapeImpl("polygon")(e,o)},spacing:function(e){return 0},gap:o},s)};s("none",{collide:be,roughCollide:be,draw:we,spacing:xe,gap:xe}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,a,o,s){var l=i(this.points,n,a,o),u=this.controlPoint,c=r(u[0],u[1],n,a,o);t.arrowShapeImpl(this.name)(e,l,c)},gap:function(e){return.8*o(e)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,o,s,l){var u=a(i(this.points,n+2*l,r,o)),c=a(i(this.pointsTee,n+2*l,r,o));return Rt(e,t,u)||Rt(e,t,c)},draw:function(e,n,r,a,o){var s=i(this.points,n,r,a),l=i(this.pointsTee,n,r,a);t.arrowShapeImpl(this.name)(e,s,l)}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,o,s,l){var u=a(i(this.points,n+2*l,r,o)),c=a(i(this.crossLinePts(n,s),n+2*l,r,o));return Rt(e,t,u)||Rt(e,t,c)},draw:function(e,n,r,a,o){var s=i(this.points,n,r,a),l=i(this.crossLinePts(n,o),n,r,a);t.arrowShapeImpl(this.name)(e,s,l)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*o(e)}}),s("circle",{radius:.15,collide:function(e,t,n,r,i,a,o){var s=i;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*o)*this.radius,2)},draw:function(e,n,r,i,a){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},Ro={projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],a=r[1],o=r[4],s=n.pan(),l=n.zoom();return[((e-i)/o-s.x)/l,((t-a)/o-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=a.getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},i=r("padding-left"),o=r("padding-right"),s=r("padding-top"),l=r("padding-bottom"),u=r("border-left-width"),c=r("border-right-width"),h=r("border-top-width"),d=(r("border-bottom-width"),e.clientWidth),p=e.clientHeight,f=i+o,g=s+l,v=u+c,y=t.width/(d+v),m=d-f,b=p-g,x=t.left+i+u,w=t.top+s+h;return this.containerBB=[x,w,m,b,y]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){var i,a,o=this,s=this,l=s.getCachedZSortedEles(),u=[],c=s.cy.zoom(),h=s.cy.hasCompoundNodes(),d=(r?24:8)/c,p=(r?8:2)/c,f=(r?8:2)/c,g=1/0;function v(e,t){if(e.isNode()){if(a)return;a=e,u.push(e)}if(e.isEdge()&&(null==t||t<g))if(i){if(i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<u.length;n++)if(u[n].isEdge()){u[n]=e,i=e,g=null!=t?t:g;break}}else u.push(e),i=e,g=null!=t?t:g}function y(n){var r=n.outerWidth()+2*p,i=n.outerHeight()+2*p,a=r/2,l=i/2,u=n.position();if(u.x-a<=e&&e<=u.x+a&&u.y-l<=t&&t<=u.y+l&&s.nodeShapes[o.getNodeShape(n)].checkPoint(e,t,0,r,i,u.x,u.y))return v(n,0),!0}function m(n){var r,i=n._private,a=i.rscratch,l=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,p=l/2+d,f=p*p,g=2*p,m=i.source,b=i.target;if("segments"===a.edgeType||"straight"===a.edgeType||"haystack"===a.edgeType){for(var x=a.allpts,w=0;w+3<x.length;w+=2)if(Nt(e,t,x[w],x[w+1],x[w+2],x[w+3],g)&&f>(r=Ot(e,t,x[w],x[w+1],x[w+2],x[w+3])))return v(n,r),!0}else if("bezier"===a.edgeType||"multibezier"===a.edgeType||"self"===a.edgeType||"compound"===a.edgeType)for(x=a.allpts,w=0;w+5<a.allpts.length;w+=4)if(It(e,t,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5],g)&&f>(r=At(e,t,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5])))return v(n,r),!0;m=m||i.source,b=b||i.target;var E=o.getArrowWidth(l,c),k=[{name:"source",x:a.arrowStartX,y:a.arrowStartY,angle:a.srcArrowAngle},{name:"target",x:a.arrowEndX,y:a.arrowEndY,angle:a.tgtArrowAngle},{name:"mid-source",x:a.midX,y:a.midY,angle:a.midsrcArrowAngle},{name:"mid-target",x:a.midX,y:a.midY,angle:a.midtgtArrowAngle}];for(w=0;w<k.length;w++){var C=k[w],S=s.arrowShapes[n.pstyle(C.name+"-arrow-shape").value],D=n.pstyle("width").pfValue;if(S.roughCollide(e,t,E,C.angle,{x:C.x,y:C.y},D,d)&&S.collide(e,t,E,C.angle,{x:C.x,y:C.y},D,d))return v(n),!0}h&&u.length>0&&(y(m),y(b))}function b(e,t,n){return Ne(e,t,n)}function x(n,r){var i,a=n._private,o=f;i=r?r+"-":"";var s=n.pstyle(i+"label").value;if("yes"===n.pstyle("text-events").strValue&&s){var l=a.rstyle,u=n.pstyle("text-border-width").pfValue,c=n.pstyle("text-background-padding").pfValue,h=b(l,"labelWidth",r)+u+2*o+2*c,d=b(l,"labelHeight",r)+u+2*o+2*c,p=b(l,"labelX",r),g=b(l,"labelY",r),y=b(a.rscratch,"labelAngle",r),m=p-h/2,x=p+h/2,w=g-d/2,E=g+d/2;if(y){var k=Math.cos(y),C=Math.sin(y),S=function(e,t){return{x:(e-=p)*k-(t-=g)*C+p,y:e*C+t*k+g}},D=S(m,w),P=S(m,E),T=S(x,w),M=S(x,E),B=[D.x,D.y,T.x,T.y,M.x,M.y,P.x,P.y];if(Rt(e,t,B))return v(n),!0}else{if(Tt({w:h,h:d,x1:m,x2:x,y1:w,y2:E},e,t))return v(n),!0}}}n&&(l=l.interactive);for(var w=l.length-1;w>=0;w--){var E=l[w];E.isNode()?y(E)||x(E):m(E)||x(E)||x(E,"source")||x(E,"target")}return u},getAllInBox:function(e,t,n,r){for(var i=this.getCachedZSortedEles().interactive,a=[],o=Math.min(e,n),s=Math.max(e,n),l=Math.min(t,r),u=Math.max(t,r),c=bt({x1:e=o,y1:t=l,x2:n=s,y2:r=u}),h=0;h<i.length;h++){var d=i[h];if(d.isNode()){var p=d,f=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Pt(c,f)&&!Bt(f,c)&&a.push(p)}else{var g=d,v=g._private,y=v.rscratch;if(null!=y.startX&&null!=y.startY&&!Tt(c,y.startX,y.startY))continue;if(null!=y.endX&&null!=y.endY&&!Tt(c,y.endX,y.endY))continue;if("bezier"===y.edgeType||"multibezier"===y.edgeType||"self"===y.edgeType||"compound"===y.edgeType||"segments"===y.edgeType||"haystack"===y.edgeType){for(var m=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,b=!0,x=0;x<m.length;x++)if(!Mt(c,m[x])){b=!1;break}b&&a.push(g)}else"haystack"!==y.edgeType&&"straight"!==y.edgeType||a.push(g)}}return a}},Fo={calculateArrowAngles:function(e){var t,n,r,i,a,o,s=e._private.rscratch,l="haystack"===s.edgeType,u="bezier"===s.edgeType,c="multibezier"===s.edgeType,h="segments"===s.edgeType,d="compound"===s.edgeType,p="self"===s.edgeType;if(l?(r=s.haystackPts[0],i=s.haystackPts[1],a=s.haystackPts[2],o=s.haystackPts[3]):(r=s.arrowStartX,i=s.arrowStartY,a=s.arrowEndX,o=s.arrowEndY),g=s.midX,v=s.midY,h)t=r-s.segpts[0],n=i-s.segpts[1];else if(c||d||p||u){var f=s.allpts;t=r-gt(f[0],f[2],f[4],.1),n=i-gt(f[1],f[3],f[5],.1)}else t=r-g,n=i-v;s.srcArrowAngle=ut(t,n);var g=s.midX,v=s.midY;if(l&&(g=(r+a)/2,v=(i+o)/2),t=a-r,n=o-i,h)if((f=s.allpts).length/2%2==0){var y=(m=f.length/2)-2;t=f[m]-f[y],n=f[m+1]-f[y+1]}else{y=(m=f.length/2-1)-2;var m,b=m+2;t=f[m]-f[y],n=f[m+1]-f[y+1]}else if(c||d||p){var x,w,E,k,f=s.allpts;if(s.ctrlpts.length/2%2==0){var C=(S=(D=f.length/2-1)+2)+2;x=gt(f[D],f[S],f[C],0),w=gt(f[D+1],f[S+1],f[C+1],0),E=gt(f[D],f[S],f[C],1e-4),k=gt(f[D+1],f[S+1],f[C+1],1e-4)}else{var S,D;C=(S=f.length/2-1)+2;x=gt(f[D=S-2],f[S],f[C],.4999),w=gt(f[D+1],f[S+1],f[C+1],.4999),E=gt(f[D],f[S],f[C],.5),k=gt(f[D+1],f[S+1],f[C+1],.5)}t=E-x,n=k-w}(s.midtgtArrowAngle=ut(t,n),s.midDispX=t,s.midDispY=n,t*=-1,n*=-1,h)&&((f=s.allpts).length/2%2==0||(t=-(f[b=(m=f.length/2-1)+2]-f[m]),n=-(f[b+1]-f[m+1])));if(s.midsrcArrowAngle=ut(t,n),h)t=a-s.segpts[s.segpts.length-2],n=o-s.segpts[s.segpts.length-1];else if(c||d||p||u){var P=(f=s.allpts).length;t=a-gt(f[P-6],f[P-4],f[P-2],.9),n=o-gt(f[P-5],f[P-3],f[P-1],.9)}else t=a-g,n=o-v;s.tgtArrowAngle=ut(t,n)}};Fo.getArrowWidth=Fo.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)};var Vo={};function qo(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t.push({x:r,y:i})}return t}}Vo.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,i=r.rscratch;if(!i.haystack){var a=2*Math.random()*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=2*Math.random()*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=r.source,s=r.target,l=o.position(),u=s.position(),c=o.width(),h=s.width(),d=o.height(),p=s.height(),f=n.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*c*f+l.x,i.source.y*d*f+l.y,i.target.x*h*f+u.x,i.target.y*p*f+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},Vo.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=t.posPts,i=t.intersectionPts,a=t.vectorNormInverse,o=e.pstyle("edge-distances").value,s=e.pstyle("segment-weights"),l=e.pstyle("segment-distances"),u=Math.min(s.pfValue.length,l.pfValue.length);n.edgeType="segments",n.segpts=[];for(var c=0;c<u;c++){var h=s.pfValue[c],d=l.pfValue[c],p=1-h,f=h,g="node-position"===o?r:i,v={x:g.x1*p+g.x2*f,y:g.y1*p+g.y2*f};n.segpts.push(v.x+a.x*d,v.y+a.y*d)}},Vo.findLoopPoints=function(e,t,n,r){var i=e._private.rscratch,a=t.dirCounts,o=t.srcPos,s=e.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var d=n,p=h;r&&(d=0,p=l);var f=u-Math.PI/2,g=f-c/2,v=f+c/2,y=String(u+"_"+c);d=void 0===a[y]?a[y]=0:++a[y],i.ctrlpts=[o.x+1.4*Math.cos(g)*p*(d/3+1),o.y+1.4*Math.sin(g)*p*(d/3+1),o.x+1.4*Math.cos(v)*p*(d/3+1),o.y+1.4*Math.sin(v)*p*(d/3+1)]},Vo.findCompoundLoopPoints=function(e,t,n,r){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,o=t.tgtPos,s=t.srcW,l=t.srcH,u=t.tgtW,c=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),p=d?d.pfValue[0]:void 0,f=n,g=h;r&&(f=0,g=p);var v={x:a.x-s/2,y:a.y-l/2},y={x:o.x-u/2,y:o.y-c/2},m={x:Math.min(v.x,y.x),y:Math.min(v.y,y.y)},b=Math.max(.5,Math.log(.01*s)),x=Math.max(.5,Math.log(.01*u));i.ctrlpts=[m.x,m.y-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*b,m.x-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*x,m.y]},Vo.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},Vo.findBezierPoints=function(e,t,n,r,i){var a=e._private.rscratch,o=t.vectorNormInverse,s=t.posPts,l=t.intersectionPts,u=e.pstyle("edge-distances").value,c=e.pstyle("control-point-step-size").pfValue,h=e.pstyle("control-point-distances"),d=e.pstyle("control-point-weights"),p=h&&d?Math.min(h.value.length,d.value.length):1,f=h?h.pfValue[0]:void 0,g=d.value[0],v=r;a.edgeType=v?"multibezier":"bezier",a.ctrlpts=[];for(var y=0;y<p;y++){var m=(.5-t.eles.length/2+n)*c*(i?-1:1),b=void 0,x=ht(m);v&&(f=h?h.pfValue[y]:c,g=d.value[y]);var w=void 0!==(b=r?f:void 0!==f?x*f:void 0)?b:m,E=1-g,k=g,C="node-position"===u?s:l,S={x:C.x1*E+C.x2*k,y:C.y1*E+C.y2*k};a.ctrlpts.push(S.x+o.x*w,S.y+o.y*w)}},Vo.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r=t.posPts,i=t.srcW,a=t.srcH,o=t.tgtW,s=t.tgtH,l="node-position"!==e.pstyle("edge-distances").value,u=e.pstyle("taxi-direction").value,c=u,h=e.pstyle("taxi-turn"),d=h.pfValue,p=e.pstyle("taxi-turn-min-distance").pfValue,f="%"===h.units,g=l?(i+o)/2:0,v=l?(a+s)/2:0,y=r.x2-r.x1,m=r.y2-r.y1,b=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},x=b(y,g),w=b(m,v),E=!1;"auto"===u?u=Math.abs(x)>Math.abs(w)?"horizontal":"vertical":"upward"===u||"downward"===u?(u="vertical",E=!0):"leftward"!==u&&"rightward"!==u||(u="horizontal",E=!0);var k="vertical"===u,C=k?w:x,S=k?m:y,D=ht(S),P=!1;E&&f||!("downward"===c&&S<0||"upward"===c&&S>0||"leftward"===c&&S>0||"rightward"===c&&S<0)||(C=(D*=-1)*Math.abs(C),P=!0);var T=f?d*C:d*D,M=function(e){return Math.abs(e)<p||Math.abs(e)>=Math.abs(C)},B=M(T),_=M(C-T);if((B||_)&&!P)if(k){var N=Math.abs(S)<=a/2,I=Math.abs(y)<=o/2;if(N){var z=(r.x1+r.x2)/2,L=r.y1,A=r.y2;n.segpts=[z,L,z,A]}else if(I){var O=(r.y1+r.y2)/2,R=r.x1,F=r.x2;n.segpts=[R,O,F,O]}else n.segpts=[r.x1,r.y2]}else{var V=Math.abs(S)<=i/2,q=Math.abs(m)<=s/2;if(V){var j=(r.y1+r.y2)/2,Y=r.x1,X=r.x2;n.segpts=[Y,j,X,j]}else if(q){var W=(r.x1+r.x2)/2,H=r.y1,K=r.y2;n.segpts=[W,H,W,K]}else n.segpts=[r.x2,r.y1]}else if(k){var G=r.y1+T+(l?a/2*D:0),Z=r.x1,U=r.x2;n.segpts=[Z,G,U,G]}else{var $=r.x1+T+(l?i/2*D:0),Q=r.y1,J=r.y2;n.segpts=[$,Q,$,J]}},Vo.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var r=t.srcPos,i=t.tgtPos,a=t.srcW,o=t.srcH,s=t.tgtW,l=t.tgtH,u=t.srcShape,c=t.tgtShape,h=!v(n.startX)||!v(n.startY),d=!v(n.arrowStartX)||!v(n.arrowStartY),p=!v(n.endX)||!v(n.endY),f=!v(n.arrowEndX)||!v(n.arrowEndY),g=3*(this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth),y=dt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),m=y<g,b=dt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),x=b<g,w=!1;if(h||d||m){w=!0;var E={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},k=Math.sqrt(E.x*E.x+E.y*E.y),C={x:E.x/k,y:E.y/k},S=Math.max(a,o),D={x:n.ctrlpts[0]+2*C.x*S,y:n.ctrlpts[1]+2*C.y*S},P=u.intersectLine(r.x,r.y,a,o,D.x,D.y,0);m?(n.ctrlpts[0]=n.ctrlpts[0]+C.x*(g-y),n.ctrlpts[1]=n.ctrlpts[1]+C.y*(g-y)):(n.ctrlpts[0]=P[0]+C.x*g,n.ctrlpts[1]=P[1]+C.y*g)}if(p||f||x){w=!0;var T={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},M=Math.sqrt(T.x*T.x+T.y*T.y),B={x:T.x/M,y:T.y/M},_=Math.max(a,o),N={x:n.ctrlpts[0]+2*B.x*_,y:n.ctrlpts[1]+2*B.y*_},I=c.intersectLine(i.x,i.y,s,l,N.x,N.y,0);x?(n.ctrlpts[0]=n.ctrlpts[0]+B.x*(g-b),n.ctrlpts[1]=n.ctrlpts[1]+B.y*(g-b)):(n.ctrlpts[0]=I[0]+B.x*g,n.ctrlpts[1]=I[1]+B.y*g)}w&&this.findEndpoints(e)}},Vo.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var r;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,.5,t.midX=gt(t.allpts[r],t.allpts[r+2],t.allpts[r+4],.5),t.midY=gt(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType)if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4==0){var i=t.segpts.length/2,a=i-2;t.midX=(t.segpts[a]+t.segpts[i])/2,t.midY=(t.segpts[a+1]+t.segpts[i+1])/2}else{var o=t.segpts.length/2-1;t.midX=t.segpts[o],t.midY=t.segpts[o+1]}},Vo.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||v(t.startX)&&v(t.startY)&&v(t.endX)&&v(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Ce("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Vo.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,r=n.cy.hasCompoundNodes(),i=new ze,a=[],o=[],s=0;s<e.length;s++){var l=e[s],u=l._private,c=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==c){var h="unbundled-bezier"===c||"segments"===c||"straight"===c||"taxi"===c,d="unbundled-bezier"===c||"bezier"===c,p=u.source.poolIndex(),f=u.target.poolIndex(),g=(h?-1:1)*ce([p,f].sort()),y=i.get(g);null==y&&(y={eles:[]},i.set(g,y),a.push(g)),y.eles.push(l),h&&(y.hasUnbundled=!0),d&&(y.hasBezier=!0)}else o.push(l)}for(var m=function(e){var o=a[e],s=i.get(o),l=void 0;if(!s.hasUnbundled){var u=s.eles[0].parallelEdges().filter(function(e){return e.isBundledBezier()});_e(s.eles),u.forEach(function(e){return s.eles.push(e)}),s.eles.sort(function(e,t){return e.poolIndex()-t.poolIndex()})}var c=s.eles[0],h=c.source(),d=c.target();if(h.poolIndex()>d.poolIndex()){var p=h;h=d,d=p}var f=s.srcPos=h.position(),g=s.tgtPos=d.position(),y=s.srcW=h.outerWidth(),m=s.srcH=h.outerHeight(),b=s.tgtW=d.outerWidth(),x=s.tgtH=d.outerHeight(),w=s.srcShape=n.nodeShapes[t.getNodeShape(h)],E=s.tgtShape=n.nodeShapes[t.getNodeShape(d)];s.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var k=0;k<s.eles.length;k++){var C=s.eles[k],S=C[0]._private.rscratch,D=C.pstyle("curve-style").value,P="unbundled-bezier"===D||"segments"===D||"taxi"===D,T=!h.same(C.source());if(!s.calculatedIntersection&&h!==d&&(s.hasBezier||s.hasUnbundled)){s.calculatedIntersection=!0;var M=w.intersectLine(f.x,f.y,y,m,g.x,g.y,0),B=s.srcIntn=M,_=E.intersectLine(g.x,g.y,b,x,f.x,f.y,0),N=s.tgtIntn=_,I=s.intersectionPts={x1:M[0],x2:_[0],y1:M[1],y2:_[1]},z=s.posPts={x1:f.x,x2:g.x,y1:f.y,y2:g.y},L=_[1]-M[1],A=_[0]-M[0],O=Math.sqrt(A*A+L*L),R=s.vector={x:A,y:L},F=s.vectorNorm={x:R.x/O,y:R.y/O},V={x:-F.y,y:F.x};s.nodesOverlap=!v(O)||E.checkPoint(M[0],M[1],0,b,x,g.x,g.y)||w.checkPoint(_[0],_[1],0,y,m,f.x,f.y),s.vectorNormInverse=V,l={nodesOverlap:s.nodesOverlap,dirCounts:s.dirCounts,calculatedIntersection:!0,hasBezier:s.hasBezier,hasUnbundled:s.hasUnbundled,eles:s.eles,srcPos:g,tgtPos:f,srcW:b,srcH:x,tgtW:y,tgtH:m,srcIntn:N,tgtIntn:B,srcShape:E,tgtShape:w,posPts:{x1:z.x2,y1:z.y2,x2:z.x1,y2:z.y1},intersectionPts:{x1:I.x2,y1:I.y2,x2:I.x1,y2:I.y1},vector:{x:-R.x,y:-R.y},vectorNorm:{x:-F.x,y:-F.y},vectorNormInverse:{x:-V.x,y:-V.y}}}var q=T?l:s;S.nodesOverlap=q.nodesOverlap,S.srcIntn=q.srcIntn,S.tgtIntn=q.tgtIntn,r&&(h.isParent()||h.isChild()||d.isParent()||d.isChild())&&(h.parents().anySame(d)||d.parents().anySame(h)||h.same(d))?t.findCompoundLoopPoints(C,q,k,P):h===d?t.findLoopPoints(C,q,k,P):"segments"===D?t.findSegmentsPoints(C,q):"taxi"===D?t.findTaxiPoints(C,q):"straight"===D||!P&&s.eles.length%2==1&&k===Math.floor(s.eles.length/2)?t.findStraightEdgePoints(C):t.findBezierPoints(C,q,k,P,T),t.findEndpoints(C),t.tryToCorrectInvalidPoints(C,q),t.checkForInvalidEdgeWarning(C),t.storeAllpts(C),t.storeEdgeProjections(C),t.calculateArrowAngles(C),t.recalculateEdgeLabelProjections(C),t.calculateLabelAngles(C)}},b=0;b<a.length;b++)m(b);this.findHaystackPoints(o)}},Vo.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return this.recalculateRenderedStyle(e),qo(t.segpts)},Vo.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(e),qo(t.ctrlpts)},Vo.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var jo={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),i=e.outerHeight();if(2===t.value.length){var a=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(a[0]=a[0]*r),"%"===t.units[1]&&(a[1]=a[1]*i),a[0]+=n.x,a[1]+=n.y,a}var o=t.pfValue[0];o=-Math.PI/2+o;var s=2*Math.max(r,i),l=[n.x+Math.cos(o)*s,n.y+Math.sin(o)*s];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,i,l[0],l[1],0)},findEndpoints:function(e){var t,n,r,i,a,o=this,s=e.source()[0],l=e.target()[0],u=s.position(),c=l.position(),h=e.pstyle("target-arrow-shape").value,d=e.pstyle("source-arrow-shape").value,p=e.pstyle("target-distance-from-node").pfValue,f=e.pstyle("source-distance-from-node").pfValue,g=e.pstyle("curve-style").value,y=e._private.rscratch,m=y.edgeType,b="self"===m||"compound"===m,x="bezier"===m||"multibezier"===m||b,w="bezier"!==m,E="straight"===m||"segments"===m,k="segments"===m,C=x||w||E,S=b||"taxi"===g,D=e.pstyle("source-endpoint"),P=S?"outside-to-node":D.value,T=e.pstyle("target-endpoint"),M=S?"outside-to-node":T.value;if(y.srcManEndpt=D,y.tgtManEndpt=T,x){var B=[y.ctrlpts[0],y.ctrlpts[1]];n=w?[y.ctrlpts[y.ctrlpts.length-2],y.ctrlpts[y.ctrlpts.length-1]]:B,r=B}else if(E){var _=k?y.segpts.slice(0,2):[c.x,c.y];n=k?y.segpts.slice(y.segpts.length-2):[u.x,u.y],r=_}if("inside-to-node"===M)t=[c.x,c.y];else if(T.units)t=this.manualEndptToPx(l,T);else if("outside-to-line"===M)t=y.tgtIntn;else if("outside-to-node"===M||"outside-to-node-or-label"===M?i=n:"outside-to-line"!==M&&"outside-to-line-or-label"!==M||(i=[u.x,u.y]),t=o.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),i[0],i[1],0),"outside-to-node-or-label"===M||"outside-to-line-or-label"===M){var N=l._private.rscratch,I=N.labelWidth,z=N.labelHeight,L=N.labelX,A=N.labelY,O=l.pstyle("text-valign").value;"top"===O?A-=z/2:"bottom"===O&&(A+=z/2);var R=l.pstyle("text-halign").value;"left"===R?L-=I/2:"right"===R&&(L+=I/2);var F=o.nodeShapes.rectangle.intersectLine(L,A,I,z,i[0],i[1],0),V=u,q=pt(V,rt(t));pt(V,rt(F))<q&&(t=F)}var j=Gt(t,n,o.arrowShapes[h].spacing(e)+p),Y=Gt(t,n,o.arrowShapes[h].gap(e)+p);if(y.endX=Y[0],y.endY=Y[1],y.arrowEndX=j[0],y.arrowEndY=j[1],"inside-to-node"===P)t=[u.x,u.y];else if(D.units)t=this.manualEndptToPx(s,D);else if("outside-to-line"===P)t=y.srcIntn;else if("outside-to-node"===P||"outside-to-node-or-label"===P?a=r:"outside-to-line"!==P&&"outside-to-line-or-label"!==P||(a=[c.x,c.y]),t=o.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),a[0],a[1],0),"outside-to-node-or-label"===P||"outside-to-line-or-label"===P){var X=s._private.rscratch,W=X.labelWidth,H=X.labelHeight,K=X.labelX,G=X.labelY,Z=s.pstyle("text-valign").value;"top"===Z?G-=H/2:"bottom"===Z&&(G+=H/2);var U=s.pstyle("text-halign").value;"left"===U?K-=W/2:"right"===U&&(K+=W/2);var $=o.nodeShapes.rectangle.intersectLine(K,G,W,H,a[0],a[1],0),Q=c,J=pt(Q,rt(t));pt(Q,rt($))<J&&(t=$)}var ee=Gt(t,r,o.arrowShapes[d].spacing(e)+f),te=Gt(t,r,o.arrowShapes[d].gap(e)+f);y.startX=te[0],y.startY=te[1],y.arrowStartX=ee[0],y.arrowStartY=ee[1],C&&(v(y.startX)&&v(y.startY)&&v(y.endX)&&v(y.endY)?y.badLine=!1:y.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}}},Yo={};function Xo(e,t,n){for(var r=function(e,t,n,r){return gt(e,t,n,r)},i=t._private.rstyle.bezierPts,a=0;a<e.bezierProjPcts.length;a++){var o=e.bezierProjPcts[a];i.push({x:r(n[0],n[2],n[4],o),y:r(n[1],n[3],n[5],o)})}}Yo.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)Xo(this,e,n.allpts.slice(i,i+6))}else if("segments"===r){var a=t.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)a.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var o=n.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},Yo.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Wo={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!k(t)){var n,r,i=e._private,a=e.width(),o=e.height(),s=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,h=i.rscratch,d=i.rstyle;switch(u){case"left":n=l.x-a/2-s;break;case"right":n=l.x+a/2+s;break;default:n=l.x}switch(c){case"top":r=l.y-o/2-s;break;case"bottom":r=l.y+o/2+s;break;default:r=l.y}h.labelX=n,h.labelY=r,d.labelX=n,d.labelY=r,this.applyLabelDimensions(e)}}},Ho=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},Ko=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Ho(n,r)};Wo.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:r.midX,y:r.midY};var o=function(e,t,r){Ie(n.rscratch,e,t,r),Ie(n.rstyle,e,t,r)};o("labelX",null,t.x),o("labelY",null,t.y);var s=Ho(r.midDispX,r.midDispY);o("labelAutoAngle",null,s);var l=function(s){var l,u="source"===s;if(a[s]){var c=e.pstyle(s+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var h,d=function e(){if(e.cache)return e.cache;for(var t=[],a=0;a+5<r.allpts.length;a+=4){var o={x:r.allpts[a],y:r.allpts[a+1]},s={x:r.allpts[a+2],y:r.allpts[a+3]},l={x:r.allpts[a+4],y:r.allpts[a+5]};t.push({p0:o,p1:s,p2:l,startDist:0,length:0,segments:[]})}var u=n.rstyle.bezierPts,c=i.bezierProjPcts.length;function h(e,t,n,r,i){var a=dt(t,n),o=e.segments[e.segments.length-1],s={p0:t,p1:n,t0:r,t1:i,startDist:o?o.startDist+o.length:0,length:a};e.segments.push(s),e.length+=a}for(var d=0;d<t.length;d++){var p=t[d],f=t[d-1];f&&(p.startDist=f.startDist+f.length),h(p,p.p0,u[d*c],0,i.bezierProjPcts[0]);for(var g=0;g<c-1;g++)h(p,u[d*c+g],u[d*c+g+1],i.bezierProjPcts[g],i.bezierProjPcts[g+1]);h(p,u[d*c+c-1],p.p2,i.bezierProjPcts[c-1],1)}return e.cache=t}(),p=0,f=0,g=0;g<d.length;g++){for(var v=d[u?g:d.length-1-g],y=0;y<v.segments.length;y++){var m=v.segments[u?y:v.segments.length-1-y],b=g===d.length-1&&y===v.segments.length-1;if(p=f,(f+=m.length)>=c||b){h={cp:v,segment:m};break}}if(h)break}var x=h.cp,w=h.segment,E=(c-p)/w.length,k=w.t1-w.t0,C=u?w.t0+k*E:w.t1-k*E;C=mt(0,C,1),t=vt(x.p0,x.p1,x.p2,C),l=function(e,t,n,r){var i=mt(0,r-.001,1),a=mt(0,r+.001,1),o=vt(e,t,n,i),s=vt(e,t,n,a);return Ko(o,s)}(x.p0,x.p1,x.p2,C);break;case"straight":case"segments":case"haystack":for(var S,D,P,T,M=0,B=r.allpts.length,_=0;_+3<B&&(u?(P={x:r.allpts[_],y:r.allpts[_+1]},T={x:r.allpts[_+2],y:r.allpts[_+3]}):(P={x:r.allpts[B-2-_],y:r.allpts[B-1-_]},T={x:r.allpts[B-4-_],y:r.allpts[B-3-_]}),D=M,!((M+=S=dt(P,T))>=c));_+=2);var N=(c-D)/S;N=mt(0,N,1),t=yt(P,T,N),l=Ko(P,T)}o("labelX",s,t.x),o("labelY",s,t.y),o("labelAutoAngle",s,l)}};l("source"),l("target"),this.applyLabelDimensions(e)}},Wo.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},Wo.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r),a=e.pstyle("line-height").pfValue,o=e.pstyle("text-wrap").strValue,s=Ne(n.rscratch,"labelWrapCachedLines",t)||[],l="wrap"!==o?1:Math.max(s.length,1),u=i.height/l,c=u*a,h=i.width,d=i.height+(l-1)*(a-1)*u;Ie(n.rstyle,"labelWidth",t,h),Ie(n.rscratch,"labelWidth",t,h),Ie(n.rstyle,"labelHeight",t,d),Ie(n.rscratch,"labelHeight",t,d),Ie(n.rscratch,"labelLineHeight",t,c)},Wo.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,a=e.pstyle("text-transform").value,o=function(e,r){return r?(Ie(n.rscratch,e,t,r),r):Ne(n.rscratch,e,t)};if(!i)return"";"none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if("wrap"===s){var l=o("labelKey");if(null!=l&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u=i.split("\n"),c=e.pstyle("text-max-width").pfValue,h="anywhere"===e.pstyle("text-overflow-wrap").value,d=[],p=/[\s\u200b]+/,f=h?"":" ",g=0;g<u.length;g++){var v=u[g],y=this.calculateLabelDimensions(e,v).width;if(h){var m=v.split("").join("​");v=m}if(y>c){for(var b=v.split(p),x="",w=0;w<b.length;w++){var E=b[w],k=0===x.length?E:x+f+E;this.calculateLabelDimensions(e,k).width<=c?x+=E+f:(d.push(x),x=E+f)}x.match(/^[\s\u200b]+$/)||d.push(x)}else d.push(v)}o("labelWrapCachedLines",d),i=o("labelWrapCachedText",d.join("\n")),o("labelWrapKey",l)}else if("ellipsis"===s){for(var C=e.pstyle("text-max-width").pfValue,S="",D=!1,P=0;P<i.length;P++){if(this.calculateLabelDimensions(e,S+i[P]+"…").width>C)break;S+=i[P],P===i.length-1&&(D=!0)}return D||(S+="…"),S}return i},Wo.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},Wo.calculateLabelDimensions=function(e,t){var n=he(t,e._private.labelDimsKey),r=this.labelDimCache||(this.labelDimCache=[]),i=r[n];if(null!=i)return i;var a=e.pstyle("font-style").strValue,o=1*e.pstyle("font-size").pfValue+"px",s=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,u=this.labelCalcDiv;u||(u=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(u));var c=u.style;return c.fontFamily=s,c.fontStyle=a,c.fontSize=o,c.fontWeight=l,c.position="absolute",c.left="-9999px",c.top="-9999px",c.zIndex="-1",c.visibility="hidden",c.pointerEvents="none",c.padding="0",c.lineHeight="1","wrap"===e.pstyle("text-wrap").value?c.whiteSpace="pre":c.whiteSpace="normal",u.textContent=t,r[n]={width:Math.ceil(u.clientWidth/1),height:Math.ceil(u.clientHeight/1)}},Wo.calculateLabelAngle=function(e,t){var n=e._private.rscratch,r=e.isEdge(),i=t?t+"-":"",a=e.pstyle(i+"text-rotation"),o=a.strValue;return"none"===o?0:r&&"autorotate"===o?n.labelAutoAngle:"autorotate"===o?0:a.pfValue},Wo.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private.rscratch;r.labelAngle=t.calculateLabelAngle(e),n&&(r.sourceLabelAngle=t.calculateLabelAngle(e,"source"),r.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var Go={},Zo=!1;Go.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return Zo||(Ce("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Zo=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"cutrectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var Uo={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var r=0;r<e.length;r++){e[r]._private.rstyle.clean=!1}};n.binder(e).on("bounds.* dirty.*",function(e){var t=e.target;r(t)}).on("style.* background.*",function(e){var t=e.target;r(t,!1)});var i=function(i){if(i){for(var a=n.onUpdateEleCalcsFns,o=0;o<t.length;o++){var s=t[o];s.isNode()&&!s._private.rstyle.clean&&r(s.connectedEdges())}if(a)for(o=0;o<a.length;o++){(0,a[o])(i,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=[],r=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var a=(l=(s=e[i])._private).rstyle;t&&a.clean||s.removed()||"none"!==s.pstyle("display").value&&("nodes"===l.group?r.push(s):n.push(s),a.clean=!0)}for(i=0;i<r.length;i++){a=(l=(s=r[i])._private).rstyle;var o=s.position();this.recalculateNodeLabelProjection(s),a.nodeX=o.x,a.nodeY=o.y,a.nodeW=s.pstyle("width").pfValue,a.nodeH=s.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(i=0;i<n.length;i++){a=(l=(s=n[i])._private).rstyle;var s,l,u=l.rscratch;a.srcX=u.arrowStartX,a.srcY=u.arrowStartY,a.tgtX=u.arrowEndX,a.tgtY=u.arrowEndY,a.midX=u.midX,a.midY=u.midY,a.labelAngle=u.labelAngle,a.sourceLabelAngle=u.sourceLabelAngle,a.targetLabelAngle=u.targetLabelAngle}}}},$o={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(i=e[n])._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):r.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(n=0;n<t.length;n++){var i=t[n];e.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Qi),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},Qo={};[Ro,Fo,Vo,jo,Yo,Wo,Go,Uo,$o].forEach(function(e){I(Qo,e)});var Jo={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},i=r[e];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var a=(i=r[e]=r[e]||{}).image=new Image;a.addEventListener("load",n),a.addEventListener("error",function(){a.error=!0});return"data:"===e.substring(0,"data:".length).toLowerCase()||(a.crossOrigin=t),a.src=e,a}},es={registerBinding:function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(e);return a.on.apply(a,i)}};es.binder=function(e){var t,n=this,r=e===window||e===document||e===document.body||(t=e,"undefined"!=typeof HTMLElement&&t instanceof HTMLElement);if(null==n.supportsPassiveEvents){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,a)}catch(e){}n.supportsPassiveEvents=i}var o=function(t,i,a){var o=Array.prototype.slice.call(arguments);return r&&n.supportsPassiveEvents&&(o[2]={capture:null!=a&&a,passive:!1,once:!1}),n.bindings.push({target:e,args:o}),(e.addEventListener||e.on).apply(e,o),this};return{on:o,addEventListener:o,addListener:o,bind:o}},es.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},es.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},es.load=function(){var e=this,t=function(e){return e.selected()},n=function(t,n,r,i){null==t&&(t=e.cy);for(var a=0;a<n.length;a++){var o=n[a];t.emit({originalEvent:r,type:o,position:i})}},r=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},i=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.isEdge())for(var i=0;n&&i<n.length;i++){if((t=n[i]).isNode()&&t.isParent()){r=!1;break}}else r=!0;return r},a=function(e){e[0]._private.rscratch.inDragLayer=!0},o=function(e){e[0]._private.rscratch.isGrabTarget=!0},s=function(e,t){var n=t.addToList;n.has(e)||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},l=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(a),t.neighborhood().stdFilter(function(e){return!r||e.isEdge()}).forEach(a)),n.addToList&&t.forEach(function(e){s(e,n)}),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(a),n.connectedEdges().forEach(a)),t.addToList&&t.addToList.unmerge(n)}}(t,n),h(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},u=l,c=function(t){t&&(e.getCachedZSortedEles().forEach(function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)}),e.updateCachedGrabbedEles())},h=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(a),r.forEach(a)),t.addToList&&r.forEach(function(e){s(e,t)})}}},d=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},p="undefined"!=typeof MutationObserver;p?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var r=t[n].removedNodes;if(r)for(var i=0;i<r.length;i++){if(r[i]===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var f=ne(function(){e.cy.resize()},100);p&&(e.styleObserver=new MutationObserver(f),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",f);var g=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,function(t){e.registerBinding(t,"transitionend",g),e.registerBinding(t,"animationend",g),e.registerBinding(t,"scroll",g)}),e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var y=function(t){for(var n=e.findContainerClientCoords(),r=n[0],i=n[1],a=n[2],o=n[3],s=t.touches?t.touches:[t],l=!1,u=0;u<s.length;u++){var c=s[u];if(r<=c.clientX&&c.clientX<=r+a&&i<=c.clientY&&c.clientY<=i+o){l=!0;break}}if(!l)return!1;for(var h=e.container,d=t.target.parentNode,p=!1;d;){if(d===h){p=!0;break}d=d.parentNode}return!!p};e.registerBinding(e.container,"mousedown",function(t){if(y(t)){t.preventDefault(),d(),e.hoverData.capture=!0,e.hoverData.which=t.which;var r=e.cy,i=[t.clientX,t.clientY],a=e.projectIntoViewport(i[0],i[1]),s=e.selection,c=e.findNearestElements(a[0],a[1],!0,!1),h=c[0],p=e.dragData.possibleDragElements;e.hoverData.mdownPos=a,e.hoverData.mdownGPos=i;if(3==t.which){e.hoverData.cxtStarted=!0;var f={originalEvent:t,type:"cxttapstart",position:{x:a[0],y:a[1]}};h?(h.activate(),h.emit(f),e.hoverData.down=h):r.emit(f),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(h&&h.activate(),null!=h&&e.nodeIsGrabbable(h)){var g=function(e){return{originalEvent:t,type:e,position:{x:a[0],y:a[1]}}};if(o(h),h.selected()){p=e.dragData.possibleDragElements=r.collection();var v=r.$(function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)});l(v,{addToList:p}),h.emit(g("grabon")),v.forEach(function(e){e.emit(g("grab"))})}else p=e.dragData.possibleDragElements=r.collection(),u(h,{addToList:p}),h.emit(g("grabon")).emit(g("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=h,e.hoverData.downs=c,e.hoverData.downTime=(new Date).getTime(),n(h,["mousedown","tapstart","vmousedown"],t,{x:a[0],y:a[1]}),null==h?(s[4]=1,e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()):h.isEdge()&&(s[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.emit({originalEvent:t,type:"taphold",position:{x:a[0],y:a[1]}}):r.emit({originalEvent:t,type:"taphold",position:{x:a[0],y:a[1]}})}},e.tapholdDuration)}s[0]=s[2]=a[0],s[1]=s[3]=a[1]}},!1),e.registerBinding(window,"mousemove",function(t){if(e.hoverData.capture||y(t)){var a=!1,o=e.cy,s=o.zoom(),u=[t.clientX,t.clientY],h=e.projectIntoViewport(u[0],u[1]),d=e.hoverData.mdownPos,p=e.hoverData.mdownGPos,f=e.selection,g=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(g=e.findNearestElement(h[0],h[1],!0,!1));var m,b=e.hoverData.last,x=e.hoverData.down,w=[h[0]-f[2],h[1]-f[3]],E=e.dragData.possibleDragElements;if(p){var k=u[0]-p[0],C=k*k,S=u[1]-p[1],D=C+S*S;e.hoverData.isOverThresholdDrag=m=D>=e.desktopTapThreshold2}var P=r(t);m&&(e.hoverData.tapholdCancelled=!0);a=!0,n(g,["mousemove","vmousemove","tapdrag"],t,{x:h[0],y:h[1]});var T=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:h[0],y:h[1]}}),f[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(m){var M={originalEvent:t,type:"cxtdrag",position:{x:h[0],y:h[1]}};x?x.emit(M):o.emit(M),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&g===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:h[0],y:h[1]}}),e.hoverData.cxtOver=g,g&&g.emit({originalEvent:t,type:"cxtdragover",position:{x:h[0],y:h[1]}}))}}else if(e.hoverData.dragging){if(a=!0,o.panningEnabled()&&o.userPanningEnabled()){var B;if(e.hoverData.justStartedPan){var _=e.hoverData.mdownPos;B={x:(h[0]-_[0])*s,y:(h[1]-_[1])*s},e.hoverData.justStartedPan=!1}else B={x:w[0]*s,y:w[1]*s};o.panBy(B),e.hoverData.dragged=!0}h=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=f[4]||null!=x&&!x.isEdge()){if(x&&x.isEdge()&&x.active()&&x.unactivate(),x&&x.grabbed()||g==b||(b&&n(b,["mouseout","tapdragout"],t,{x:h[0],y:h[1]}),g&&n(g,["mouseover","tapdragover"],t,{x:h[0],y:h[1]}),e.hoverData.last=g),x)if(m){if(o.boxSelectionEnabled()&&P)x&&x.grabbed()&&(c(E),x.emit("freeon"),E.emit("free"),e.dragData.didDrag&&(x.emit("dragfreeon"),E.emit("dragfree"))),T();else if(x&&x.grabbed()&&e.nodeIsDraggable(x)){var N=!e.dragData.didDrag;N&&e.redrawHint("eles",!0),e.dragData.didDrag=!0;var I=o.collection();e.hoverData.draggingEles||l(E,{inDragLayer:!0});var z={x:0,y:0};if(v(w[0])&&v(w[1])&&(z.x+=w[0],z.y+=w[1],N)){var L=e.hoverData.dragDelta;L&&v(L[0])&&v(L[1])&&(z.x+=L[0],z.y+=L[1])}for(var A=0;A<E.length;A++){var O=E[A];e.nodeIsDraggable(O)&&O.grabbed()&&I.merge(O)}e.hoverData.draggingEles=!0,I.silentShift(z).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(w[0]),t.push(w[1])):(t[0]+=w[0],t[1]+=w[1])}();a=!0}else if(m){if(e.hoverData.dragging||!o.boxSelectionEnabled()||!P&&o.panningEnabled()&&o.userPanningEnabled()){if(!e.hoverData.selecting&&o.panningEnabled()&&o.userPanningEnabled()){i(x,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,f[4]=0,e.data.bgActivePosistion=rt(d),e.redrawHint("select",!0),e.redraw())}}else T();x&&x.isEdge()&&x.active()&&x.unactivate()}return f[2]=h[0],f[3]=h[1],a?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}},!1),e.registerBinding(window,"mouseup",function(i){if(e.hoverData.capture){e.hoverData.capture=!1;var a=e.cy,o=e.projectIntoViewport(i.clientX,i.clientY),s=e.selection,l=e.findNearestElement(o[0],o[1],!0,!1),u=e.dragData.possibleDragElements,h=e.hoverData.down,d=r(i);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,h&&h.unactivate(),3===e.hoverData.which){var p={originalEvent:i,type:"cxttapend",position:{x:o[0],y:o[1]}};if(h?h.emit(p):a.emit(p),!e.hoverData.cxtDragged){var f={originalEvent:i,type:"cxttap",position:{x:o[0],y:o[1]}};h?h.emit(f):a.emit(f)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(n(l,["mouseup","tapend","vmouseup"],i,{x:o[0],y:o[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||n(h,["click","tap","vclick"],i,{x:o[0],y:o[1]}),null!=h||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||r(i)||(a.$(t).unselect(["tapunselect"]),u.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=u=a.collection()),l!=h||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===a.selectionType()||d?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):d||(a.$(t).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var g=a.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));e.redrawHint("select",!0),g.length>0&&e.redrawHint("eles",!0),a.emit({type:"boxend",originalEvent:i,position:{x:o[0],y:o[1]}});var v=function(e){return e.selectable()&&!e.selected()};"additive"===a.selectionType()?g.emit("box").stdFilter(v).select().emit("boxselect"):(d||a.$(t).unmerge(g).unselect(),g.emit("box").stdFilter(v).select().emit("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!s[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var y=h&&h.grabbed();c(u),y&&(h.emit("freeon"),u.emit("free"),e.dragData.didDrag&&(h.emit("dragfreeon"),u.emit("dragfree")))}}s[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}},!1);var m,b,x,w,E,k,C,S,D,P,T,M,B;e.registerBinding(e.container,"wheel",function(t){if(!e.scrollingPage){var n,r=e.cy,i=e.projectIntoViewport(t.clientX,t.clientY),a=[i[0]*r.zoom()+r.pan().x,i[1]*r.zoom()+r.pan().y];e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4]?t.preventDefault():r.panningEnabled()&&r.userPanningEnabled()&&r.zoomingEnabled()&&r.userZoomingEnabled()&&(t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150),n=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,n*=e.wheelSensitivity,1===t.deltaMode&&(n*=33),r.zoom({level:r.zoom()*Math.pow(10,n),renderedPosition:{x:a[0],y:a[1]}}))}},!0),e.registerBinding(window,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"mouseout",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})},!1),e.registerBinding(e.container,"mouseover",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})},!1);var _,N,I,z,L=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},A=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",_=function(t){if(y(t)){d(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,i=e.touchData.now,a=e.touchData.earlier;if(t.touches[0]){var s=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);i[0]=s[0],i[1]=s[1]}if(t.touches[1]){s=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);i[2]=s[0],i[3]=s[1]}if(t.touches[2]){s=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);i[4]=s[0],i[5]=s[1]}if(t.touches[1]){c(e.dragData.touchDragEles);var h=e.findContainerClientCoords();D=h[0],P=h[1],T=h[2],M=h[3],m=t.touches[0].clientX-D,b=t.touches[0].clientY-P,x=t.touches[1].clientX-D,w=t.touches[1].clientY-P,B=0<=m&&m<=T&&0<=x&&x<=T&&0<=b&&b<=M&&0<=w&&w<=M;var p=r.pan(),f=r.zoom();E=L(m,b,x,w),k=A(m,b,x,w),S=[((C=[(m+x)/2,(b+w)/2])[0]-p.x)/f,(C[1]-p.y)/f];if(k<4e4&&!t.touches[2]){var g=e.findNearestElement(i[0],i[1],!0,!0),v=e.findNearestElement(i[2],i[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=g):v&&v.isNode()?(v.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=v):r.emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2]);else if(t.touches[1]);else if(t.touches[0]){var _=e.findNearestElements(i[0],i[1],!0,!0),N=_[0];if(null!=N&&(N.activate(),e.touchData.start=N,e.touchData.starts=_,e.nodeIsGrabbable(N))){var I=e.dragData.touchDragEles=r.collection(),z=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),N.selected()?(z=r.$(function(t){return t.selected()&&e.nodeIsGrabbable(t)}),l(z,{addToList:I})):u(N,{addToList:I}),o(N);var O=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};N.emit(O("grabon")),z?z.forEach(function(e){e.emit(O("grab"))}):N.emit(O("grab"))}n(N,["touchstart","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==N&&(e.data.bgActivePosistion={x:s[0],y:s[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:i[0],y:i[1]})},e.tapholdDuration)}if(t.touches.length>=1){for(var R=e.touchData.startPosition=[],F=0;F<i.length;F++)R[F]=a[F]=i[F];var V=t.touches[0];e.touchData.startGPosition=[V.clientX,V.clientY]}}},!1),e.registerBinding(window,"touchmove",N=function(t){var r=e.touchData.capture;if(r||y(t)){var a=e.selection,o=e.cy,s=e.touchData.now,u=e.touchData.earlier,h=o.zoom();if(t.touches[0]){var d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=d[0],s[1]=d[1]}if(t.touches[1]){d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=d[0],s[3]=d[1]}if(t.touches[2]){d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=d[0],s[5]=d[1]}var p,f=e.touchData.startGPosition;if(r&&t.touches[0]&&f){for(var g=[],C=0;C<s.length;C++)g[C]=s[C]-u[C];var T=t.touches[0].clientX-f[0],M=T*T,_=t.touches[0].clientY-f[1];p=M+_*_>=e.touchTapThreshold2}if(r&&e.touchData.cxt){t.preventDefault();var N=t.touches[0].clientX-D,I=t.touches[0].clientY-P,z=t.touches[1].clientX-D,O=t.touches[1].clientY-P,R=A(N,I,z,O);if(R/k>=2.25||R>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var F={originalEvent:t,type:"cxttapend",position:{x:s[0],y:s[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(F),e.touchData.start=null):o.emit(F)}}if(r&&e.touchData.cxt){F={originalEvent:t,type:"cxtdrag",position:{x:s[0],y:s[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(F):o.emit(F),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var V=e.findNearestElement(s[0],s[1],!0,!0);e.touchData.cxtOver&&V===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:s[0],y:s[1]}}),e.touchData.cxtOver=V,V&&V.emit({originalEvent:t,type:"cxtdragover",position:{x:s[0],y:s[1]}}))}else if(r&&t.touches[2]&&o.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:s[0],y:s[1]}}),e.touchData.selecting=!0,e.redrawHint("select",!0),a&&0!==a.length&&void 0!==a[0]?(a[2]=(s[0]+s[2]+s[4])/3,a[3]=(s[1]+s[3]+s[5])/3):(a[0]=(s[0]+s[2]+s[4])/3,a[1]=(s[1]+s[3]+s[5])/3,a[2]=(s[0]+s[2]+s[4])/3+1,a[3]=(s[1]+s[3]+s[5])/3+1),a[4]=1,e.touchData.selecting=!0,e.redraw();else if(r&&t.touches[1]&&o.zoomingEnabled()&&o.panningEnabled()&&o.userZoomingEnabled()&&o.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),ee=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var q=0;q<ee.length;q++){var j=ee[q]._private;j.grabbed=!1,j.rscratch.inDragLayer=!1}}var Y=e.touchData.start,X=(N=t.touches[0].clientX-D,I=t.touches[0].clientY-P,z=t.touches[1].clientX-D,O=t.touches[1].clientY-P,L(N,I,z,O)),W=X/E;if(B){var H=(N-m+(z-x))/2,K=(I-b+(O-w))/2,G=o.zoom(),Z=G*W,U=o.pan(),$=S[0]*G+U.x,Q=S[1]*G+U.y,J={x:-Z/G*($-U.x-H)+$,y:-Z/G*(Q-U.y-K)+Q};if(Y&&Y.active()){var ee=e.dragData.touchDragEles;c(ee),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Y.unactivate().emit("freeon"),ee.emit("free"),e.dragData.didDrag&&(Y.emit("dragfreeon"),ee.emit("dragfree"))}o.viewport({zoom:Z,pan:J,cancelOnFailedZoom:!0}),E=X,m=N,b=I,x=z,w=O,e.pinching=!0}if(t.touches[0]){d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=d[0],s[1]=d[1]}if(t.touches[1]){d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=d[0],s[3]=d[1]}if(t.touches[2]){d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=d[0],s[5]=d[1]}}else if(t.touches[0]){var te=e.touchData.start,ne=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(V=e.findNearestElement(s[0],s[1],!0,!0)),r&&null!=te&&t.preventDefault(),r&&null!=te&&e.nodeIsDraggable(te))if(p){ee=e.dragData.touchDragEles;var re=!e.dragData.didDrag;re&&l(ee,{inDragLayer:!0}),e.dragData.didDrag=!0;var ie={x:0,y:0};if(v(g[0])&&v(g[1]))if(ie.x+=g[0],ie.y+=g[1],re)e.redrawHint("eles",!0),(ae=e.touchData.dragDelta)&&v(ae[0])&&v(ae[1])&&(ie.x+=ae[0],ie.y+=ae[1]);e.hoverData.draggingEles=!0,ee.silentShift(ie).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==u[0]&&e.touchData.startPosition[1]==u[1]&&e.redrawHint("eles",!0),e.redraw()}else{var ae;0===(ae=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(ae.push(g[0]),ae.push(g[1])):(ae[0]+=g[0],ae[1]+=g[1])}if(n(te||V,["touchmove","tapdrag","vmousemove"],t,{x:s[0],y:s[1]}),te&&te.grabbed()||V==ne||(ne&&ne.emit({originalEvent:t,type:"tapdragout",position:{x:s[0],y:s[1]}}),V&&V.emit({originalEvent:t,type:"tapdragover",position:{x:s[0],y:s[1]}})),e.touchData.last=V,r)for(q=0;q<s.length;q++)s[q]&&e.touchData.startPosition[q]&&p&&(e.touchData.singleTouchMoved=!0);if(r&&(null==te||te.isEdge())&&o.panningEnabled()&&o.userPanningEnabled()){i(te,e.touchData.starts)&&(t.preventDefault(),e.swipePanning?o.panBy({x:g[0]*h,y:g[1]*h}):p&&(e.swipePanning=!0,o.panBy({x:T*h,y:_*h}),te&&(te.unactivate(),e.data.bgActivePosistion||(e.data.bgActivePosistion=rt(e.touchData.startPosition)),e.redrawHint("select",!0),e.touchData.start=null)));d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=d[0],s[1]=d[1]}}for(C=0;C<s.length;C++)u[C]=s[C];r&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(window,"touchcancel",I=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",z=function(r){var i=e.touchData.start;if(e.touchData.capture){0===r.touches.length&&(e.touchData.capture=!1),r.preventDefault();var a=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var o,s=e.cy,l=s.zoom(),u=e.touchData.now,h=e.touchData.earlier;if(r.touches[0]){var d=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);u[0]=d[0],u[1]=d[1]}if(r.touches[1]){d=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);u[2]=d[0],u[3]=d[1]}if(r.touches[2]){d=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);u[4]=d[0],u[5]=d[1]}if(i&&i.unactivate(),e.touchData.cxt){if(o={originalEvent:r,type:"cxttapend",position:{x:u[0],y:u[1]}},i?i.emit(o):s.emit(o),!e.touchData.cxtDragged){var p={originalEvent:r,type:"cxttap",position:{x:u[0],y:u[1]}};i?i.emit(p):s.emit(p)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!r.touches[2]&&s.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var f=s.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));a[0]=void 0,a[1]=void 0,a[2]=void 0,a[3]=void 0,a[4]=0,e.redrawHint("select",!0),s.emit({type:"boxend",originalEvent:r,position:{x:u[0],y:u[1]}});f.emit("box").stdFilter(function(e){return e.selectable()&&!e.selected()}).select().emit("boxselect"),f.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=i&&i.unactivate(),r.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var g=e.dragData.touchDragEles;if(null!=i){var v=i._private.grabbed;c(g),e.redrawHint("drag",!0),e.redrawHint("eles",!0),v&&(i.emit("freeon"),g.emit("free"),e.dragData.didDrag&&(i.emit("dragfreeon"),g.emit("dragfree"))),n(i,["touchend","tapend","vmouseup","tapdragout"],r,{x:u[0],y:u[1]}),i.unactivate(),e.touchData.start=null}else{var y=e.findNearestElement(u[0],u[1],!0,!0);n(y,["touchend","tapend","vmouseup","tapdragout"],r,{x:u[0],y:u[1]})}var m=e.touchData.startPosition[0]-u[0],b=m*m,x=e.touchData.startPosition[1]-u[1],w=(b+x*x)*l*l;e.touchData.singleTouchMoved||(i||s.$(":selected").unselect(["tapunselect"]),n(i,["tap","vclick"],r,{x:u[0],y:u[1]})),null!=i&&!e.dragData.didDrag&&i._private.selectable&&w<e.touchTapThreshold2&&!e.pinching&&("single"===s.selectionType()?(s.$(t).unmerge(i).unselect(["tapunselect"]),i.select(["tapselect"])):i.selected()?i.unselect(["tapunselect"]):i.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var E=0;E<u.length;E++)h[E]=u[E];e.dragData.didDrag=!1,0===r.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null),r.touches.length<2&&(e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var O=[],R=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},F=function(e){O.push(function(e){return{event:e,touch:R(e)}}(e))},V=function(e){for(var t=0;t<O.length;t++){if(O[t].event.pointerId===e.pointerId)return void O.splice(t,1)}},q=function(e){e.touches=O.map(function(e){return e.touch})},j=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){j(e)||(e.preventDefault(),F(e),q(e),_(e))}),e.registerBinding(e.container,"pointerup",function(e){j(e)||(V(e),q(e),z(e))}),e.registerBinding(e.container,"pointercancel",function(e){j(e)||(V(e),q(e),I())}),e.registerBinding(e.container,"pointermove",function(e){j(e)||(e.preventDefault(),function(e){var t=O.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=R(e)}(e),q(e),N(e))})}};var ts={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,r,i,a,o){return Kt(i,a,this.points,e,t,n/2,r/2,o)},checkPoint:function(e,t,n,r,i,a,o){return Ft(e,t,this.points,a,o,r,i,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){return jt(i,a,e,t,n/2+o,r/2+o)},checkPoint:function(e,t,n,r,i,a,o){return Yt(e,t,r,i,a,o,n)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Zt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){return _t(i,a,e,t,n,r,o)},checkPoint:function(e,t,n,r,i,a,o){var s=Qt(r,i),l=2*s;return!!Ft(e,t,this.points,a,o,r,i-l,[0,-1],n)||(!!Ft(e,t,this.points,a,o,r-l,i,[0,-1],n)||(!!Yt(e,t,l,l,a-r/2+s,o-i/2+s,n)||(!!Yt(e,t,l,l,a+r/2-s,o-i/2+s,n)||(!!Yt(e,t,l,l,a+r/2-s,o+i/2-s,n)||!!Yt(e,t,l,l,a-r/2+s,o+i/2-s,n)))))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Zt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},generateCutTrianglePts:function(e,t,n,r){var i=this.cornerLength,a=t/2,o=e/2,s=n-o,l=n+o,u=r-a,c=r+a;return{topLeft:[s,u+i,s+i,u,s+i,u+i],topRight:[l-i,u,l,u+i,l-i,u+i],bottomRight:[l,c-i,l-i,c,l-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function(e,t,n,r,i,a,o){var s=this.generateCutTrianglePts(n+2*o,r+2*o,e,t),l=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return Kt(i,a,l,e,t)},checkPoint:function(e,t,n,r,i,a,o){if(Ft(e,t,this.points,a,o,r,i-2*this.cornerLength,[0,-1],n))return!0;if(Ft(e,t,this.points,a,o,r-2*this.cornerLength,i,[0,-1],n))return!0;var s=this.generateCutTrianglePts(r,i,a,o);return Rt(e,t,s.topLeft)||Rt(e,t,s.topRight)||Rt(e,t,s.bottomRight)||Rt(e,t,s.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Zt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){var s=this.generateBarrelBezierPts(n+2*o,r+2*o,e,t),l=function(e){var t=vt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=vt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=vt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},u=[].concat(l(s.topLeft),l(s.topRight),l(s.bottomRight),l(s.bottomLeft));return Kt(i,a,u,e,t)},generateBarrelBezierPts:function(e,t,n,r){var i=t/2,a=e/2,o=n-a,s=n+a,l=r-i,u=r+i,c=en(e,t),h=c.heightOffset,d=c.widthOffset,p=c.ctrlPtOffsetPct*e,f={topLeft:[o,l+h,o+p,l,o+d,l],topRight:[s-d,l,s-p,l,s,l+h],bottomRight:[s,u-h,s-p,u,s-d,u],bottomLeft:[o+d,u,o+p,u,o,u-h]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(e,t,n,r,i,a,o){var s=en(r,i),l=s.heightOffset,u=s.widthOffset;if(Ft(e,t,this.points,a,o,r,i-2*l,[0,-1],n))return!0;if(Ft(e,t,this.points,a,o,r-2*u,i,[0,-1],n))return!0;for(var c=this.generateBarrelBezierPts(r,i,a,o),h=function(e,t,n){var r=n[4],i=n[2],a=n[0],o=n[5],s=n[1],l=Math.min(r,a),u=Math.max(r,a),c=Math.min(o,s),h=Math.max(o,s);if(l<=e&&e<=u&&c<=t&&t<=h){var d=Jt(r,i,a),p=zt(d[0],d[1],d[2],e).filter(function(e){return 0<=e&&e<=1});if(p.length>0)return p[0]}return null},d=Object.keys(c),p=0;p<d.length;p++){var f=c[d[p]],g=h(e,t,f);if(null!=g){var v=f[5],y=f[3],m=f[1],b=gt(v,y,m,g);if(f.isTop&&b<=t)return!0;if(f.isBottom&&t<=b)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Zt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){var s=t-(r/2+o),l=Ht(i,a,e,t,e-(n/2+o),s,e+(n/2+o),s,!1);return l.length>0?l:_t(i,a,e,t,n,r,o)},checkPoint:function(e,t,n,r,i,a,o){var s=Qt(r,i),l=2*s;if(Ft(e,t,this.points,a,o,r,i-l,[0,-1],n))return!0;if(Ft(e,t,this.points,a,o,r-l,i,[0,-1],n))return!0;var u=r/2+2*n,c=i/2+2*n;return!!Rt(e,t,[a-u,o-c,a-u,o,a+u,o,a+u,o-c])||(!!Yt(e,t,l,l,a+r/2-s,o+i/2-s,n)||!!Yt(e,t,l,l,a-r/2+s,o+i/2-s,n))}}},registerNodeShapes:function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Zt(3,0)),this.generatePolygon("rectangle",Zt(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",Zt(5,0)),this.generatePolygon("hexagon",Zt(6,0)),this.generatePolygon("heptagon",Zt(7,0)),this.generatePolygon("octagon",Zt(8,0));var n=new Array(20),r=$t(5,0),i=$t(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var o=0;o<i.length/2;o++)i[2*o]*=a,i[2*o+1]*=a;for(o=0;o<5;o++)n[4*o]=r[2*o],n[4*o+1]=r[2*o+1],n[4*o+2]=i[2*o],n[4*o+3]=i[2*o+1];n=Ut(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),e.makePolygon=function(e){var n,r="polygon-"+e.join("$");return(n=this[r])?n:t.generatePolygon(r,e)}}},ns={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||Te();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&Ee("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}}},rs=function(e,t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)};ns.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;oe(function n(r){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){rs(e,!0,r);var i=se();e.render(e.renderOptions);var a=e.lastDrawTime=se();void 0===e.averageRedrawTime&&(e.averageRedrawTime=a-i),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var o=a-i;e.redrawTotalTime+=o,e.lastRedrawTime=o,e.averageRedrawTime=e.averageRedrawTime/2+o/2,e.requestedFrame=!1}else rs(e,!1,r);e.skipFrame=!1,oe(n)}})}};var is=function(e){this.init(e)},as=is.prototype;as.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],as.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(a){var r=a.document,i=r.head,o="__________cytoscape_container",s=null!=r.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(o)<0&&(n.className=(n.className||"")+" "+o),!s){var l=r.createElement("style");l.id="__________cytoscape_stylesheet",l.innerHTML="."+o+" { position: relative; }",i.insertBefore(l,i.children[0])}"static"===a.getComputedStyle(n).getPropertyValue("position")&&Ce("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.hideLabelsOnViewport=e.hideLabelsOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=v(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},as.notify=function(e,t){var n=this,r=n.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&r.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},as.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},as.isHeadless=function(){return!1},[Oo,Qo,Jo,es,ts,ns].forEach(function(e){I(as,e)});var os=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var r=ne(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),i=e.priority||we;n.beforeRender(function(i,a){var o=se(),s=n.averageRedrawTime,l=n.lastRedrawTime,u=[],c=n.cy.extent(),h=n.getPixelRatio();for(i||n.flushRenderedStyleQueue();;){var d=se(),p=d-o,f=d-a;if(l<1e3/60){var g=1e3/60-(i?s:0);if(f>=e.deqFastCost*g)break}else if(i){if(p>=e.deqCost*l||p>=e.deqAvgCost*s)break}else if(f>=e.deqNoDrawCost*(1e3/60))break;var v=e.deq(t,h,c);if(!(v.length>0))break;for(var y=0;y<v.length;y++)u.push(v[y])}u.length>0&&(e.onDeqd(t,u),!i&&e.shouldRedraw(t,u,h,c)&&r())},i(t))}}},ss=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be;t(this,e),this.idsByKey=new ze,this.keyForId=new ze,this.cachesByLvl=new ze,this.lvls=[],this.getKey=n,this.doesEleInvalidateKey=r}return r(e,[{key:"getIdsFor",value:function(e){null==e&&Ee("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new Ae,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),r=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(r,t),this.keyForId.set(t,r)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,r=t.get(e);return r||(r=new ze,t.set(e,r),n.push(e)),r}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),r=this.getCache(n,t);return null!=r&&this.updateKeyMappingFor(e),r}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var r=this.getKey(e);this.setCache(r,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach(function(n){return t.deleteCache(e,n)})}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var r=this.doesEleInvalidateKey(e);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}]),e}(),ls={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},us=Me({getKey:null,doesEleInvalidateKey:be,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:me,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),cs=function(e,t){this.renderer=e,this.onDequeues=[];var n=us(t);I(this,n),this.lookup=new ss(n.getKey,n.doesEleInvalidateKey),this.setupDequeueing()},hs=cs.prototype;hs.reasons=ls,hs.getTextureQueue=function(e){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[e]=this.eleImgCaches[e]||[]},hs.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},hs.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new Ve(function(e,t){return t.reqs-e.reqs})},hs.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},hs.getElement=function(e,t,n,r,i){var a=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible())return null;if(!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(null==r&&(r=Math.ceil(ct(s*n))),r<-4)r=-4;else if(s>=7.99||r>3)return null;var u=Math.pow(2,r),c=t.h*u,h=t.w*u,d=o.eleTextBiggerThanMin(e,u);if(!this.isVisible(e,d))return null;var p,f=l.get(e,r);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(p=c<=25?25:c<=50?50:50*Math.ceil(c/50),c>1024||h>1024)return null;var g=a.getTextureQueue(p),v=g[g.length-2],y=function(){return a.recycleTexture(p,h)||a.addTexture(p,h)};v||(v=g[g.length-1]),v||(v=y()),v.width-v.usedWidth<h&&(v=y());for(var m,b=function(e){return e&&e.scaledLabelShown===d},x=i&&i===ls.dequeue,w=i&&i===ls.highQuality,E=i&&i===ls.downscale,k=r+1;k<=3;k++){var C=l.get(e,k);if(C){m=C;break}}var S=m&&m.level===r+1?m:null,D=function(){v.context.drawImage(S.texture.canvas,S.x,0,S.width,S.height,v.usedWidth,0,h,c)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,h,p),b(S))D();else if(b(m)){if(!w)return a.queueElement(e,m.level-1),m;for(var P=m.level;P>r;P--)S=a.getElement(e,t,n,P,ls.downscale);D()}else{var T;if(!x&&!w&&!E)for(var M=r-1;M>=-4;M--){var B=l.get(e,M);if(B){T=B;break}}if(b(T))return a.queueElement(e,r),T;v.context.translate(v.usedWidth,0),v.context.scale(u,u),this.drawElement(v.context,e,t,d,!1),v.context.scale(1/u,1/u),v.context.translate(-v.usedWidth,0)}return f={x:v.usedWidth,texture:v,level:r,scale:u,width:h,height:c,scaledLabelShown:d},v.usedWidth+=Math.ceil(h+8),v.eleCaches.push(f),l.set(e,r,f),a.checkTextureFullness(v),f},hs.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},hs.invalidateElement=function(e){var t=this.lookup,n=[];if(t.isInvalid(e)){for(var r=-4;r<=3;r++){var i=t.getForCachedKey(e,r);i&&n.push(i)}if(t.invalidate(e))for(var a=0;a<n.length;a++){var o=n[a],s=o.texture;s.invalidatedWidth+=o.width,o.invalidated=!0,this.checkTextureUtility(s)}this.removeFromQueue(e)}},hs.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},hs.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?Be(t,e):e.fullnessChecks++},hs.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),r=this.lookup;Be(n,e),e.retired=!0;for(var i=e.eleCaches,a=0;a<i.length;a++){var o=i[a];r.deleteCache(o.key,o.level)}_e(i),this.getRetiredTextureQueue(t).push(e)},hs.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},hs.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),i=0;i<r.length;i++){var a=r[i];if(a.width>=t)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,_e(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),Be(r,a),n.push(a),a}},hs.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),i=this.getKey(e),a=r[i];if(a)a.level=Math.max(a.level,t),a.eles.merge(e),a.reqs++,n.updateItem(a);else{var o={eles:e.spawn().merge(e),level:t,reqs:1,key:i};n.push(o),r[i]=o}},hs.dequeue=function(e){for(var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=[],i=this.lookup,a=0;a<1&&t.size()>0;a++){var o=t.pop(),s=o.key,l=o.eles[0],u=i.hasCache(l,o.level);if(n[s]=null,!u){r.push(o);var c=this.getBoundingBox(l);this.getElement(l,c,e,o.level,ls.dequeue)}}return r},hs.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(e),i=n[r];null!=i&&(1===i.eles.length?(i.reqs=ye,t.updateItem(i),t.pop(),n[r]=null):i.eles.unmerge(e))},hs.onDequeue=function(e){this.onDequeues.push(e)},hs.offDequeue=function(e){Be(this.onDequeues,e)},hs.setupDequeueing=os({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){(0,e.onDequeues[n])(t)}},shouldRedraw:function(e,t,n,r){for(var i=0;i<t.length;i++)for(var a=t[i].eles,o=0;o<a.length;o++){var s=a[o].boundingBox();if(Pt(s,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var ds=function(e){var t=this,n=t.renderer=e,r=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=se()-500,t.skipping=!1,t.eleTxrDeqs=r.collection(),t.scheduleElementRefinement=ne(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},50),n.beforeRender(function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);t.layersQueue=new Ve(function(e,t){return t.reqs-e.reqs}),t.setupDequeueing()},ps=ds.prototype,fs=0,gs=Math.pow(2,53)-1;ps.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),a=this.renderer.makeOffscreenCanvas(r,i),o={id:fs=++fs%gs,bb:e,level:t,width:r,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(n,n),s.translate(l,u),o},ps.getLayers=function(e,t,n){var r=this,i=r.renderer.cy.zoom(),a=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(ct(i*t)))<-4)n=-4;else if(i>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var o,s,l=r.layersByLevel,u=Math.pow(2,n),c=l[n]=l[n]||[];if(r.levelIsComplete(n,e))return c;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return s=l[t],!0},i=function(e){if(!s)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};i(1),i(-1);for(var a=c.length-1;a>=0;a--){var o=c[a];o.invalid&&Be(c,o)}}();var h=function(t){var i=(t=t||{}).after;if(function(){if(!o){o=bt();for(var t=0;t<e.length;t++)Et(o,e[t].boundingBox())}}(),o.w*u*(o.h*u)>16e6)return null;var a=r.makeLayer(o,n);if(null!=i){var s=c.indexOf(i)+1;c.splice(s,0,a)}else(void 0===t.insert||t.insert)&&c.unshift(a);return a};if(r.skipping&&!a)return null;for(var d=null,p=e.length/1,f=!a,g=0;g<e.length;g++){var v=e[g],y=v._private.rscratch,m=y.imgLayerCaches=y.imgLayerCaches||{},b=m[n];if(b)d=b;else{if((!d||d.eles.length>=p||!Bt(d.bb,v.boundingBox()))&&!(d=h({insert:!0,after:d})))return null;s||f?r.queueLayer(d,v):r.drawEleInLayer(d,v,n,t),d.eles.push(v),m[n]=d}}return s||(f?null:c)},ps.getEleLevelForLayerLevel=function(e,t){return e},ps.drawEleInLayer=function(e,t,n,r){var i=this.renderer,a=e.context,o=t.boundingBox();0!==o.w&&0!==o.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,r),i.setImgSmoothing(a,!1),i.drawCachedElement(a,t,null,null,n,!0),i.setImgSmoothing(a,!0))},ps.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var a=n[i];if(a.reqs>0)return!1;if(a.invalid)return!1;r+=a.eles.length}return r===t.length},ps.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(a<0)this.invalidateLayer(i);else{var s=a;for(o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}}},ps.updateElementsInLayers=function(e,t){for(var n=b(e[0]),r=0;r<e.length;r++)for(var i=n?null:e[r],a=n?e[r]:e[r].ele,o=a._private.rscratch,s=o.imgLayerCaches=o.imgLayerCaches||{},l=-4;l<=2;l++){var u=s[l];u&&(i&&this.getEleLevelForLayerLevel(u.level)!==i.level||t(u,a,i))}},ps.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},ps.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=se(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,n,r){t.invalidateLayer(e)}))},ps.invalidateLayer=function(e){if(this.lastInvalidationTime=se(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];Be(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var a=n[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},ps.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,n,r){var i=e.replacement;if(i||((i=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,i.eles=e.eles),!i.reqs)for(var a=0;a<i.eles.length;a++)t.queueLayer(i,i.eles[a])})},ps.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},ps.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,i=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;r.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},ps.dequeue=function(e){for(var t=this.layersQueue,n=[],r=0;r<1&&0!==t.size();){var i=t.peek();if(i.replacement)t.pop();else if(i.replaces&&i!==i.replaces.replacement)t.pop();else if(i.invalid)t.pop();else{var a=i.elesQueue.shift();a&&(this.drawEleInLayer(i,a,i.level,e),r++),0===n.length&&n.push(!0),0===i.elesQueue.length&&(t.pop(),i.reqs=0,i.replaces&&this.applyLayerReplacement(i),this.requestRedraw())}}return n},ps.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var i=0;i<e.eles.length;i++){var a=e.eles[i]._private,o=a.imgLayerCaches=a.imgLayerCaches||{};o&&(o[e.level]=e)}this.requestRedraw()}},ps.requestRedraw=ne(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),ps.setupDequeueing=os({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:we,shouldRedraw:me,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var vs,ys={};function ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function bs(e,t,n){for(var r,i=0;i<t.length;i++){var a=t[i];0===i&&(r=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function xs(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var a=r[i];e.lineTo(a.x,a.y)}var o=n,s=n[0];e.moveTo(s.x,s.y);for(i=1;i<o.length;i++){a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function ws(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}ys.arrowShapeImpl=function(e){return(vs||(vs={polygon:ms,"triangle-backcurve":bs,"triangle-tee":xs,"triangle-cross":xs,circle:ws}))[e]};var Es={drawElement:function(e,t,n,r,i,a){t.isNode()?this.drawNode(e,t,n,r,i,a):this.drawEdge(e,t,n,r,i,a)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawCachedElementPortion:function(e,t,n,r,i,a,o){var s=this,l=n.getBoundingBox(t);if(0!==l.w&&0!==l.h){var u=n.getElement(t,l,r,i,a);if(null!=u){var c=t.effectiveOpacity();if(0===c)return;var h,d,p,f,g,v,y=o(s,t),m=l.x1,b=l.y1,x=l.w,w=l.h;if(0!==y){var E=n.getRotationPoint(t);p=E.x,f=E.y,e.translate(p,f),e.rotate(y),(g=s.getImgSmoothing(e))||s.setImgSmoothing(e,!0);var k=n.getRotationOffset(t);h=k.x,d=k.y}else h=m,d=b;1!==c&&(v=e.globalAlpha,e.globalAlpha=v*c),e.drawImage(u.texture.canvas,u.x,0,u.width,u.height,h,d,x,w),1!==c&&(e.globalAlpha=v),0!==y&&(e.rotate(-y),e.translate(-p,-f),g||s.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},ks=function(){return 0},Cs=function(e,t){return e.getTextAngle(t,null)},Ss=function(e,t){return e.getTextAngle(t,"source")},Ds=function(e,t){return e.getTextAngle(t,"target")};Es.drawCachedElement=function(e,t,n,r,i,a){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,h=s.tlbTxrCache,d=t.boundingBox(),p=!0===a?l.reasons.highQuality:null;0!==d.w&&0!==d.h&&t.visible()&&(r&&!Pt(d,r)||(o.drawCachedElementPortion(e,t,l,n,i,p,ks),o.drawCachedElementPortion(e,t,u,n,i,p,Cs),t.isEdge()&&(o.drawCachedElementPortion(e,t,c,n,i,p,Ss),o.drawCachedElementPortion(e,t,h,n,i,p,Ds)),o.drawElementOverlay(e,t)))},Es.drawElements=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},Es.drawCachedElements=function(e,t,n,r){for(var i=0;i<t.length;i++){var a=t[i];this.drawCachedElement(e,a,n,r)}},Es.drawCachedNodes=function(e,t,n,r){for(var i=0;i<t.length;i++){var a=t[i];a.isNode()&&this.drawCachedElement(e,a,n,r)}},Es.drawLayeredElements=function(e,t,n,r){var i=this.data.lyrTxrCache.getLayers(t,n);if(i)for(var a=0;a<i.length;a++){var o=i[a],s=o.bb;0!==s.w&&0!==s.h&&e.drawImage(o.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,n,r)};var Ps={drawEdge:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this,s=t._private.rscratch;if(t.visible()&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var l;n&&(l=n,e.translate(-l.x1,-l.y1));var u=a?t.pstyle("opacity").value:1,c=t.pstyle("line-style").value,h=t.pstyle("width").pfValue,d=t.pstyle("line-cap").value,p=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;e.lineWidth=h,e.lineCap=d,o.eleStrokeStyle(e,t,n),o.drawEdgePath(t,e,s.allpts,c),e.lineCap="butt"},f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;o.drawArrowheads(e,t,n)};if(e.lineJoin="round","yes"===t.pstyle("ghost").value){var g=t.pstyle("ghost-offset-x").pfValue,v=t.pstyle("ghost-offset-y").pfValue,y=t.pstyle("ghost-opacity").value,m=u*y;e.translate(g,v),p(m),f(m),e.translate(-g,-v)}p(),f(),i&&o.drawEdgeOverlay(e,t),o.drawElementText(e,t,null,r),n&&e.translate(l.x1,l.y1)}},drawEdgeOverlay:function(e,t){if(t.visible()){var n=t.pstyle("overlay-opacity").value;if(0!==n){var r=this,i=r.usePaths(),a=t._private.rscratch,o=2*t.pstyle("overlay-padding").pfValue,s=t.pstyle("overlay-color").value;e.lineWidth=o,"self"!==a.edgeType||i?e.lineCap="round":e.lineCap="butt",r.colorStrokeStyle(e,s[0],s[1],s[2],n),r.drawEdgePath(t,e,a.allpts,"solid")}}},drawEdgePath:function(e,t,n,r){var i,a=e._private.rscratch,o=t,s=!1,l=this.usePaths(),u=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(l){var h=n.join("$");a.pathCacheKey&&a.pathCacheKey===h?(i=t=a.pathCache,s=!0):(i=t=new Path2D,a.pathCacheKey=h,a.pathCache=i)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(u),o.lineDashOffset=c;break;case"solid":o.setLineDash([])}if(!s&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<n.length;d+=4)t.quadraticCurveTo(n[d],n[d+1],n[d+2],n[d+3]);break;case"straight":case"segments":case"haystack":for(var p=2;p+1<n.length;p+=2)t.lineTo(n[p],n[p+1])}t=o,l?t.stroke(i):t.stroke(),t.setLineDash&&t.setLineDash([])},drawArrowheads:function(e,t,n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},drawArrowhead:function(e,t,n,r,i,a,o){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(a)||null==a)){var s=t.pstyle(n+"-arrow-shape").value;if("none"!==s){var l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",u=t.pstyle(n+"-arrow-fill").value,c=t.pstyle("width").pfValue,h=t.pstyle("opacity").value;void 0===o&&(o=h);var d=e.globalCompositeOperation;1===o&&"hollow"!==u||(e.globalCompositeOperation="destination-out",this.colorFillStyle(e,255,255,255,1),this.colorStrokeStyle(e,255,255,255,1),this.drawArrowShape(t,e,l,c,s,r,i,a),e.globalCompositeOperation=d);var p=t.pstyle(n+"-arrow-color").value;this.colorFillStyle(e,p[0],p[1],p[2],o),this.colorStrokeStyle(e,p[0],p[1],p[2],o),this.drawArrowShape(t,e,u,c,s,r,i,a)}}},drawArrowShape:function(e,t,n,r,i,a,o,s){var l,u=this,c=this.usePaths()&&"triangle-cross"!==i,h=!1,d=t,p={x:a,y:o},f=e.pstyle("arrow-scale").value,g=this.getArrowWidth(r,f),v=u.arrowShapes[i];if(c){var y=u.arrowPathCache=u.arrowPathCache||[],m=he(i),b=y[m];null!=b?(l=t=b,h=!0):(l=t=new Path2D,y[m]=l)}t.beginPath&&t.beginPath(),h||(c?v.draw(t,1,0,{x:0,y:0},1):v.draw(t,g,s,p,r)),t.closePath&&t.closePath(),t=d,c&&(t.translate(a,o),t.rotate(s),t.scale(g,g)),"filled"!==n&&"both"!==n||(c?t.fill(l):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=(v.matchEdgeWidth?r:1)/(c?g:1),t.lineJoin="miter",c?t.stroke(l):t.stroke()),c&&(t.scale(1/g,1/g),t.rotate(-s),t.translate(-a,-o))}},Ts={safeDrawImage:function(e,t,n,r,i,a,o,s,l,u){i<=0||a<=0||l<=0||u<=0||e.drawImage(t,n,r,i,a,o,s,l,u)},drawInscribedImage:function(e,t,n,r,i){var a=this,o=n.position(),s=o.x,l=o.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),h=c(n,"background-fit","value",r),d=c(n,"background-repeat","value",r),p=n.width(),f=n.height(),g=2*n.padding(),v=p+("inner"===c(n,"background-width-relative-to","value",r)?0:g),y=f+("inner"===c(n,"background-height-relative-to","value",r)?0:g),m=n._private.rscratch,b="node"===n.pstyle("background-clip").value,x=c(n,"background-image-opacity","value",r)*i,w=t.width||t.cachedW,E=t.height||t.cachedH;null!=w&&null!=E||(document.body.appendChild(t),w=t.cachedW=t.width||t.offsetWidth,E=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var k=w,C=E;if("auto"!==c(n,"background-width","value",r)&&(k="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*v:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(C="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*y:c(n,"background-height","pfValue",r)),0!==k&&0!==C){if("contain"===h)k*=S=Math.min(v/k,y/C),C*=S;else if("cover"===h){var S;k*=S=Math.max(v/k,y/C),C*=S}var D=s-v/2,P=c(n,"background-position-x","units",r),T=c(n,"background-position-x","pfValue",r);D+="%"===P?(v-k)*T:T;var M=c(n,"background-offset-x","units",r),B=c(n,"background-offset-x","pfValue",r);D+="%"===M?(v-k)*B:B;var _=l-y/2,N=c(n,"background-position-y","units",r),I=c(n,"background-position-y","pfValue",r);_+="%"===N?(y-C)*I:I;var z=c(n,"background-offset-y","units",r),L=c(n,"background-offset-y","pfValue",r);_+="%"===z?(y-C)*L:L,m.pathCache&&(D-=s,_-=l,s=0,l=0);var A=e.globalAlpha;if(e.globalAlpha=x,"no-repeat"===d)b&&(e.save(),m.pathCache?e.clip(m.pathCache):(a.nodeShapes[a.getNodeShape(n)].draw(e,s,l,v,y),e.clip())),a.safeDrawImage(e,t,0,0,w,E,D,_,k,C),b&&e.restore();else{var O=e.createPattern(t,d);e.fillStyle=O,a.nodeShapes[a.getNodeShape(n)].draw(e,s,l,v,y),e.translate(D,_),e.fill(),e.translate(-D,-_)}e.globalAlpha=A}}},Ms={};Ms.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(ct(n*r));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},Ms.drawElementText=function(e,t,n,r,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this;if(null==r){if(!o.eleTextBiggerThanMin(t))return}else if(!1===r)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var u=t.pstyle("label"),c=t.pstyle("source-label"),h=t.pstyle("target-label");if(!(u&&u.value||c&&c.value||h&&h.value))return;e.textAlign="center",e.textBaseline="bottom"}var d,p=!n;n&&(d=n,e.translate(-d.x1,-d.y1)),null==i?(o.drawText(e,t,null,p,a),t.isEdge()&&(o.drawText(e,t,"source",p,a),o.drawText(e,t,"target",p,a))):o.drawText(e,t,i,p,a),n&&e.translate(d.x1,d.y1)},Ms.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},Ms.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=t.pstyle("text-opacity").value*(n?t.effectiveOpacity():1),l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=r+" "+o+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,u[0],u[1],u[2],s),this.colorStrokeStyle(e,c[0],c[1],c[2],l)},Ms.getTextAngle=function(e,t){var n=e._private.rscratch,r=t?t+"-":"",i=e.pstyle(r+"text-rotation"),a=Ne(n,"labelAngle",t);return"autorotate"===i.strValue?e.isEdge()?a:0:"none"===i.strValue?0:i.pfValue},Ms.drawText=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=t._private.rscratch,o=i?t.effectiveOpacity():1;if(0!==o&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var s,l,u=Ne(a,"labelX",n),c=Ne(a,"labelY",n),h=this.getLabelText(t,n);if(null!=h&&""!==h&&!isNaN(u)&&!isNaN(c)){this.setupTextStyle(e,t,i);var d,p=n?n+"-":"",f=Ne(a,"labelWidth",n),g=Ne(a,"labelHeight",n),v=t.pstyle(p+"text-margin-x").pfValue,y=t.pstyle(p+"text-margin-y").pfValue,m=t.isEdge(),b=t.pstyle("text-halign").value,x=t.pstyle("text-valign").value;switch(m&&(b="center",x="center"),u+=v,c+=y,0!==(d=r?this.getTextAngle(t,n):0)&&(s=u,l=c,e.translate(s,l),e.rotate(d),u=0,c=0),x){case"top":break;case"center":c+=g/2;break;case"bottom":c+=g}var w=t.pstyle("text-background-opacity").value,E=t.pstyle("text-border-opacity").value,k=t.pstyle("text-border-width").pfValue,C=t.pstyle("text-background-padding").pfValue;if(w>0||k>0&&E>0){var S=u-C;switch(b){case"left":S-=f;break;case"center":S-=f/2}var D=c-g-C,P=f+2*C,T=g+2*C;if(w>0){var M=e.fillStyle,B=t.pstyle("text-background-color").value;e.fillStyle="rgba("+B[0]+","+B[1]+","+B[2]+","+w*o+")","roundrectangle"==t.pstyle("text-background-shape").strValue?function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill()}(e,S,D,P,T,2):e.fillRect(S,D,P,T),e.fillStyle=M}if(k>0&&E>0){var _=e.strokeStyle,N=e.lineWidth,I=t.pstyle("text-border-color").value,z=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+E*o+")",e.lineWidth=k,e.setLineDash)switch(z){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=k/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(S,D,P,T),"double"===z){var L=k/2;e.strokeRect(S+L,D+L,P-2*L,T-2*L)}e.setLineDash&&e.setLineDash([]),e.lineWidth=N,e.strokeStyle=_}}var A=2*t.pstyle("text-outline-width").pfValue;if(A>0&&(e.lineWidth=A),"wrap"===t.pstyle("text-wrap").value){var O=Ne(a,"labelWrapCachedLines",n),R=Ne(a,"labelLineHeight",n),F=f/2,V=this.getLabelJustification(t);switch("auto"===V||("left"===b?"left"===V?u+=-f:"center"===V&&(u+=-F):"center"===b?"left"===V?u+=-F:"right"===V&&(u+=F):"right"===b&&("center"===V?u+=F:"right"===V&&(u+=f))),x){case"top":c-=(O.length-1)*R;break;case"center":case"bottom":c-=(O.length-1)*R}for(var q=0;q<O.length;q++)A>0&&e.strokeText(O[q],u,c),e.fillText(O[q],u,c),c+=R}else A>0&&e.strokeText(h,u,c),e.fillText(h,u,c);0!==d&&(e.rotate(-d),e.translate(-s,-l))}}};var Bs={drawNode:function(e,t,n){var r,i,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,u=t._private,c=u.rscratch,h=t.position();if(v(h.x)&&v(h.y)&&t.visible()){var d,p,f=s?t.effectiveOpacity():1,g=l.usePaths(),y=!1,m=t.padding();r=t.width()+2*m,i=t.height()+2*m,n&&(p=n,e.translate(-p.x1,-p.y1));for(var b=t.pstyle("background-image").value,x=new Array(b.length),w=new Array(b.length),E=0,k=0;k<b.length;k++){var C=b[k];if(x[k]=null!=C&&"none"!==C){var S=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",k);E++,w[k]=l.getCachedImage(C,S,function(){u.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var D=t.pstyle("background-blacken").value,P=t.pstyle("border-width").pfValue,T=t.pstyle("background-opacity").value*f,M=t.pstyle("border-color").value,B=t.pstyle("border-style").value,_=t.pstyle("border-opacity").value*f;e.lineJoin="miter";var N=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;l.eleFillStyle(e,t,n)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;l.colorStrokeStyle(e,M[0],M[1],M[2],t)},z=t.pstyle("shape").strValue,L=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(h.x,h.y);var A=l.nodePathCache=l.nodePathCache||[],O=de("polygon"===z?z+","+L.join(","):z,""+i,""+r),R=A[O];null!=R?(d=R,y=!0,c.pathCache=d):(d=new Path2D,A[O]=c.pathCache=d)}var F=function(){if(!y){var n=h;g&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(d||e,n.x,n.y,r,i)}g?e.fill(d):e.fill()},V=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=u.backgrounding,i=0,a=0;a<w.length;a++)x[a]&&w[a].complete&&!w[a].error&&(i++,l.drawInscribedImage(e,w[a],t,a,n));u.backgrounding=!(i===E),r!==u.backgrounding&&t.updateStyle(!1)},q=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasPie(t)&&(l.drawPie(e,t,a),n&&(g||l.nodeShapes[l.getNodeShape(t)].draw(e,h.x,h.y,r,i)))},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=(D>0?D:-D)*t,r=D>0?0:255;0!==D&&(l.colorFillStyle(e,r,r,r,n),g?e.fill(d):e.fill())},Y=function(){if(P>0){if(e.lineWidth=P,e.lineCap="butt",e.setLineDash)switch(B){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}if(g?e.stroke(d):e.stroke(),"double"===B){e.lineWidth=P/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(d):e.stroke(),e.globalCompositeOperation=t}e.setLineDash&&e.setLineDash([])}};if("yes"===t.pstyle("ghost").value){var X=t.pstyle("ghost-offset-x").pfValue,W=t.pstyle("ghost-offset-y").pfValue,H=t.pstyle("ghost-opacity").value,K=H*f;e.translate(X,W),N(H*T),F(),V(K),q(0!==D||0!==P),j(K),I(H*_),Y(),e.translate(-X,-W)}N(),F(),V(),q(0!==D||0!==P),j(),I(),Y(),g&&e.translate(-h.x,-h.y),l.drawElementText(e,t,null,a),o&&l.drawNodeOverlay(e,t,h,r,i),n&&e.translate(p.x1,p.y1)}},drawNodeOverlay:function(e,t,n,r,i){if(t.visible()){var a=t.pstyle("overlay-padding").pfValue,o=t.pstyle("overlay-opacity").value,s=t.pstyle("overlay-color").value;if(o>0){if(n=n||t.position(),null==r||null==i){var l=t.padding();r=t.width()+2*l,i=t.height()+2*l}this.colorFillStyle(e,s[0],s[1],s[2],o),this.nodeShapes.roundrectangle.draw(e,n.x,n.y,r+2*a,i+2*a),e.fill()}}},hasPie:function(e){return(e=e[0])._private.hasPie},drawPie:function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),o=r.x,s=r.y,l=t.width(),u=t.height(),c=Math.min(l,u)/2,h=0;this.usePaths()&&(o=0,s=0),"%"===a.units?c*=a.pfValue:void 0!==a.pfValue&&(c=a.pfValue/2);for(var d=1;d<=i.pieBackgroundN;d++){var p=t.pstyle("pie-"+d+"-background-size").value,f=t.pstyle("pie-"+d+"-background-color").value,g=t.pstyle("pie-"+d+"-background-opacity").value*n,v=p/100;v+h>1&&(v=1-h);var y=1.5*Math.PI+2*Math.PI*h,m=y+2*Math.PI*v;0===p||h>=1||h+v>1||(e.beginPath(),e.moveTo(o,s),e.arc(o,s,c,y,m),e.closePath(),this.colorFillStyle(e,f[0],f[1],f[2],g),e.fill(),h+=v)}}},_s={};_s.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},_s.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((t=n[i]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},_s.createGradientStyleFor=function(e,t,n,r,i){var a,o=this.usePaths(),s=n.pstyle(t+"-gradient-stop-colors").value,l=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var u=n.sourceEndpoint(),c=n.targetEndpoint(),h=n.midpoint(),d=dt(u,h),p=dt(c,h);a=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(d,p))}else{var f=o?{x:0,y:0}:n.position(),g=n.width(),v=n.height();a=e.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,v))}else if(n.isEdge()){var y=n.sourceEndpoint(),m=n.targetEndpoint();a=e.createLinearGradient(y.x,y.y,m.x,m.y)}else{var b=o?{x:0,y:0}:n.position(),x=n.width()/2,w=n.height()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":a=e.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":a=e.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":a=e.createLinearGradient(b.x-x,b.y,b.x+x,b.y);break;case"to-right":a=e.createLinearGradient(b.x+x,b.y,b.x-x,b.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(b.x-x,b.y-w,b.x+x,b.y+w);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(b.x-x,b.y+w,b.x+x,b.y-w);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(b.x+x,b.y-w,b.x-x,b.y+w);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(b.x+x,b.y+w,b.x-x,b.y-w)}}if(!a)return null;for(var E=l.length===s.length,k=s.length,C=0;C<k;C++)a.addColorStop(E?l[C]:C/(k-1),"rgba("+s[C][0]+","+s[C][1]+","+s[C][2]+","+i+")");return a},_s.gradientFillStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"background",t,n,r);if(!i)return null;e.fillStyle=i},_s.colorFillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},_s.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(e,t,r,n);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],n)}},_s.gradientStrokeStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"line",t,n,r);if(!i)return null;e.strokeStyle=i},_s.colorStrokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},_s.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(e,t,r,n);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],n)}},_s.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],a=r[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=s);var l,u=i*o,c=a*o;if(u!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var h=n.canvasContainer;h.style.width=i+"px",h.style.height=a+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)(l=n.canvases[d]).width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px";for(d=0;d<t.BUFFER_COUNT;d++)(l=n.bufferCanvases[d]).width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px";t.textureMult=1,o<=1&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=u*t.textureMult,l.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c}},_s.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},_s.render=function(e){var t=(e=e||Te()).forcedContext,n=e.drawAllLayers,r=e.drawOnlyNodeLayer,i=e.forcedZoom,a=e.forcedPan,o=this,s=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,l=o.cy,u=o.data,c=u.canvasNeedsRedraw,h=o.textureOnViewport&&!t&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),d=void 0!==e.motionBlur?e.motionBlur:o.motionBlur,p=o.motionBlurPxRatio,f=l.hasCompoundNodes(),g=o.hoverData.draggingEles,v=!(!o.hoverData.selecting&&!o.touchData.selecting),y=d=d&&!t&&o.motionBlurEnabled&&!v;t||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!t&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),d&&(null==o.mbFrames&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(y=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!h&&(c[o.NODE]=!0,c[o.SELECT_BOX]=!0);var m=l.style(),b=l.zoom(),x=void 0!==i?i:b,w=l.pan(),E={x:w.x,y:w.y},k={zoom:b,pan:{x:w.x,y:w.y}},C=o.prevViewport;void 0===C||k.zoom!==C.zoom||k.pan.x!==C.pan.x||k.pan.y!==C.pan.y||g&&!f||(o.motionBlurPxRatio=1),a&&(E=a),x*=s,E.x*=s,E.y*=s;var S=o.getCachedZSortedEles();function D(e,t,n,r,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",o.colorFillStyle(e,255,255,255,o.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=a}function P(e,r){var s,l,c,h;o.clearingMotionBlur||e!==u.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]&&e!==u.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]?(s=E,l=x,c=o.canvasWidth,h=o.canvasHeight):(s={x:w.x*p,y:w.y*p},l=b*p,c=o.canvasWidth*p,h=o.canvasHeight*p),e.setTransform(1,0,0,1,0,0),"motionBlur"===r?D(e,0,0,c,h):t||void 0!==r&&!r||e.clearRect(0,0,c,h),n||(e.translate(s.x,s.y),e.scale(l,l)),a&&e.translate(a.x,a.y),i&&e.scale(i,i)}if(h||(o.textureDrawLastFrame=!1),h){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=l.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var T=o.data.bufferContexts[o.TEXTURE_BUFFER];T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:T,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult}),(k=o.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:o.canvasWidth,height:o.canvasHeight}).mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}c[o.DRAG]=!1,c[o.NODE]=!1;var M=u.contexts[o.NODE],B=o.textureCache.texture;k=o.textureCache.viewport;M.setTransform(1,0,0,1,0,0),d?D(M,0,0,k.width,k.height):M.clearRect(0,0,k.width,k.height);var _=m.core("outside-texture-bg-color").value,N=m.core("outside-texture-bg-opacity").value;o.colorFillStyle(M,_[0],_[1],_[2],N),M.fillRect(0,0,k.width,k.height);b=l.zoom();P(M,!1),M.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/s,k.height/k.zoom/s),M.drawImage(B,k.mpan.x,k.mpan.y,k.width/k.zoom/s,k.height/k.zoom/s)}else o.textureOnViewport&&!t&&(o.textureCache=null);var I=l.extent(),z=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles,L=o.hideEdgesOnViewport&&z,A=[];if(A[o.NODE]=!c[o.NODE]&&d&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,A[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),A[o.DRAG]=!c[o.DRAG]&&d&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,A[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),c[o.NODE]||n||r||A[o.NODE]){var O=d&&!A[o.NODE]&&1!==p;P(M=t||(O?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:u.contexts[o.NODE]),d&&!O?"motionBlur":void 0),L?o.drawCachedNodes(M,S.nondrag,s,I):o.drawLayeredElements(M,S.nondrag,s,I),o.debug&&o.drawDebugPoints(M,S.nondrag),n||d||(c[o.NODE]=!1)}if(!r&&(c[o.DRAG]||n||A[o.DRAG])){O=d&&!A[o.DRAG]&&1!==p;P(M=t||(O?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:u.contexts[o.DRAG]),d&&!O?"motionBlur":void 0),L?o.drawCachedNodes(M,S.drag,s,I):o.drawCachedElements(M,S.drag,s,I),o.debug&&o.drawDebugPoints(M,S.drag),n||d||(c[o.DRAG]=!1)}if(o.showFps||!r&&c[o.SELECT_BOX]&&!n){if(P(M=t||u.contexts[o.SELECT_BOX]),1==o.selection[4]&&(o.hoverData.selecting||o.touchData.selecting)){b=o.cy.zoom();var R=m.core("selection-box-border-width").value/b;M.lineWidth=R,M.fillStyle="rgba("+m.core("selection-box-color").value[0]+","+m.core("selection-box-color").value[1]+","+m.core("selection-box-color").value[2]+","+m.core("selection-box-opacity").value+")",M.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),R>0&&(M.strokeStyle="rgba("+m.core("selection-box-border-color").value[0]+","+m.core("selection-box-border-color").value[1]+","+m.core("selection-box-border-color").value[2]+","+m.core("selection-box-opacity").value+")",M.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(u.bgActivePosistion&&!o.hoverData.selecting){b=o.cy.zoom();var F=u.bgActivePosistion;M.fillStyle="rgba("+m.core("active-bg-color").value[0]+","+m.core("active-bg-color").value[1]+","+m.core("active-bg-color").value[2]+","+m.core("active-bg-opacity").value+")",M.beginPath(),M.arc(F.x,F.y,m.core("active-bg-size").pfValue/b,0,2*Math.PI),M.fill()}var V=o.lastRedrawTime;if(o.showFps&&V){V=Math.round(V);var q=Math.round(1e3/V);M.setTransform(1,0,0,1,0,0),M.fillStyle="rgba(255, 0, 0, 0.75)",M.strokeStyle="rgba(255, 0, 0, 0.75)",M.lineWidth=1,M.fillText("1 frame = "+V+" ms = "+q+" fps",0,20);M.strokeRect(0,30,250,20),M.fillRect(0,30,250*Math.min(q/60,1),20)}n||(c[o.SELECT_BOX]=!1)}if(d&&1!==p){var j=u.contexts[o.NODE],Y=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],X=u.contexts[o.DRAG],W=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],H=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!y?e.clearRect(0,0,o.canvasWidth,o.canvasHeight):D(e,0,0,o.canvasWidth,o.canvasHeight);var r=p;e.drawImage(t,0,0,o.canvasWidth*r,o.canvasHeight*r,0,0,o.canvasWidth,o.canvasHeight)};(c[o.NODE]||A[o.NODE])&&(H(j,Y,A[o.NODE]),c[o.NODE]=!1),(c[o.DRAG]||A[o.DRAG])&&(H(X,W,A[o.DRAG]),c[o.DRAG]=!1)}o.prevViewport=k,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),d&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!h,o.mbFrames=0,c[o.NODE]=!0,c[o.DRAG]=!0,o.redraw()},100)),t||l.emit("render")};for(var Ns={drawPolygonPath:function(e,t,n,r,i,a){var o=r/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],n+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[2*l],n+s*a[2*l+1]);e.closePath()},drawRoundRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2,s=Qt(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.arcTo(t+a,n-o,t+a,n,s),e.arcTo(t+a,n+o,t,n+o,s),e.arcTo(t-a,n+o,t-a,n,s),e.arcTo(t-a,n-o,t,n-o,s),e.lineTo(t,n-o),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2,s=Qt(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.lineTo(t+a,n-o),e.lineTo(t+a,n),e.arcTo(t+a,n+o,t,n+o,s),e.arcTo(t-a,n+o,t-a,n,s),e.lineTo(t-a,n-o),e.lineTo(t,n-o),e.closePath()},drawCutRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2;e.beginPath&&e.beginPath(),e.moveTo(t-a+8,n-o),e.lineTo(t+a-8,n-o),e.lineTo(t+a,n-o+8),e.lineTo(t+a,n+o-8),e.lineTo(t+a-8,n+o),e.lineTo(t-a+8,n+o),e.lineTo(t-a,n+o-8),e.lineTo(t-a,n-o+8),e.closePath()},drawBarrelPath:function(e,t,n,r,i){var a=r/2,o=i/2,s=t-a,l=t+a,u=n-o,c=n+o,h=en(r,i),d=h.widthOffset,p=h.heightOffset,f=h.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(s,u+p),e.lineTo(s,c-p),e.quadraticCurveTo(s+f,c,s+d,c),e.lineTo(l-d,c),e.quadraticCurveTo(l-f,c,l,c-p),e.lineTo(l,u+p),e.quadraticCurveTo(l-f,u,l-d,u),e.lineTo(s+d,u),e.quadraticCurveTo(s+f,u,s,u+p),e.closePath()}},Is=Math.sin(0),zs=Math.cos(0),Ls={},As={},Os=Math.PI/40,Rs=0*Math.PI;Rs<2*Math.PI;Rs+=Os)Ls[Rs]=Math.sin(Rs),As[Rs]=Math.cos(Rs);Ns.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var a,o,s=r/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=Os)a=t-s*Ls[u]*Is+s*As[u]*zs,o=n+l*As[u]*Is+l*Ls[u]*zs,0===u?e.moveTo(a,o):e.lineTo(a,o);e.closePath()};var Fs={};function Vs(e){var t=e.indexOf(",");return e.substr(t+1)}function qs(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new sr(function(r,i){try{t.toBlob(function(e){null!=e?r(e):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,e.quality)}catch(e){i(e)}});case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return new Blob([r],{type:t})}(Vs(r()),n);case"base64":return Vs(r());case"base64uri":default:return r()}}Fs.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},Fs.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):r[2],a=e.full?Math.ceil(n.h):r[3],o=v(e.maxWidth)||v(e.maxHeight),s=this.getPixelRatio(),l=1;if(void 0!==e.scale)i*=e.scale,a*=e.scale,l=e.scale;else if(o){var u=1/0,c=1/0;v(e.maxWidth)&&(u=l*e.maxWidth/i),v(e.maxHeight)&&(c=l*e.maxHeight/a),i*=l=Math.min(u,c),a*=l}o||(i*=s,a*=s,l*=s);var h=document.createElement("canvas");h.width=i,h.height=a,h.style.width=i+"px",h.style.height=a+"px";var d=h.getContext("2d");if(i>0&&a>0){d.clearRect(0,0,i,a),d.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(e.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var f=t.pan(),g={x:f.x*l,y:f.y*l};l*=t.zoom(),d.translate(g.x,g.y),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(-g.x,-g.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,i,a),d.fill())}return h},Fs.png=function(e){return qs(e,this.bufferCanvasImage(e),"image/png")},Fs.jpg=function(e){return qs(e,this.bufferCanvasImage(e),"image/jpeg")};var js={nodeShapeImpl:function(e,t,n,r,i,a,o){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,a);case"polygon":return this.drawPolygonPath(t,n,r,i,a,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,i,a);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,i,a);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,a);case"barrel":return this.drawBarrelPath(t,n,r,i,a)}}},Ys=Ws,Xs=Ws.prototype;function Ws(e){var t=this;t.data={canvases:new Array(Xs.CANVAS_LAYERS),contexts:new Array(Xs.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Xs.CANVAS_LAYERS),bufferCanvases:new Array(Xs.BUFFER_COUNT),bufferContexts:new Array(Xs.CANVAS_LAYERS)};t.data.canvasContainer=document.createElement("div");var n=t.data.canvasContainer.style;t.data.canvasContainer.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",n.position="relative",n.zIndex="0",n.overflow="hidden";var r=e.cy.container();r.appendChild(t.data.canvasContainer),r.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";var i={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};S()&&(i["-ms-touch-action"]="none",i["touch-action"]="none");for(var a=0;a<Xs.CANVAS_LAYERS;a++){var o=t.data.canvases[a]=document.createElement("canvas");t.data.contexts[a]=o.getContext("2d"),Object.keys(i).forEach(function(e){o.style[e]=i[e]}),o.style.position="absolute",o.setAttribute("data-id","layer"+a),o.style.zIndex=String(Xs.CANVAS_LAYERS-a),t.data.canvasContainer.appendChild(o),t.data.canvasNeedsRedraw[a]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Xs.NODE].setAttribute("data-id","layer"+Xs.NODE+"-node"),t.data.canvases[Xs.SELECT_BOX].setAttribute("data-id","layer"+Xs.SELECT_BOX+"-selectbox"),t.data.canvases[Xs.DRAG].setAttribute("data-id","layer"+Xs.DRAG+"-drag");for(a=0;a<Xs.BUFFER_COUNT;a++)t.data.bufferCanvases[a]=document.createElement("canvas"),t.data.bufferContexts[a]=t.data.bufferCanvases[a].getContext("2d"),t.data.bufferCanvases[a].style.position="absolute",t.data.bufferCanvases[a].setAttribute("data-id","buffer"+a),t.data.bufferCanvases[a].style.zIndex=String(-a-1),t.data.bufferCanvases[a].style.visibility="hidden";t.pathsEnabled=!0;var s=bt(),l=function(e){return{x:-e.w/2,y:-e.h/2}},u=function(e){return e.boundingBox(),e[0]._private.bodyBounds},c=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||s},h=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||s},d=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||s},p=function(e,t){return t},f=function(e,t){return{x:e.x+t.pstyle("text-margin-x").pfValue,y:e.y+t.pstyle("text-margin-y").pfValue}},g=function(e,t,n){var r=e[0]._private.rscratch;return{x:r[t],y:r[n]}},v=t.data.eleTxrCache=new cs(t,{getKey:function(e){return e[0]._private.nodeKey},doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:function(e,n,r,i,a){return t.drawElement(e,n,r,!1,!1,a)},getBoundingBox:u,getRotationPoint:function(e){return{x:((t=u(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},getRotationOffset:function(e){return l(u(e))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),y=t.data.lblTxrCache=new cs(t,{getKey:function(e){return e[0]._private.labelStyleKey},drawElement:function(e,n,r,i,a){return t.drawElementText(e,n,r,i,"main",a)},getBoundingBox:c,getRotationPoint:function(e){return f(g(e,"labelX","labelY"),e)},getRotationOffset:function(e){var t=c(e),n=l(c(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w;break;case"right":n.x=0}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h;break;case"bottom":n.y=0}}return n},isVisible:p}),m=t.data.slbTxrCache=new cs(t,{getKey:function(e){return e[0]._private.sourceLabelStyleKey},drawElement:function(e,n,r,i,a){return t.drawElementText(e,n,r,i,"source",a)},getBoundingBox:h,getRotationPoint:function(e){return f(g(e,"sourceLabelX","sourceLabelY"),e)},getRotationOffset:function(e){return l(h(e))},isVisible:p}),b=t.data.tlbTxrCache=new cs(t,{getKey:function(e){return e[0]._private.targetLabelStyleKey},drawElement:function(e,n,r,i,a){return t.drawElementText(e,n,r,i,"target",a)},getBoundingBox:d,getRotationPoint:function(e){return f(g(e,"targetLabelX","targetLabelY"),e)},getRotationOffset:function(e){return l(d(e))},isVisible:p}),x=t.data.lyrTxrCache=new ds(t);t.onUpdateEleCalcs(function(e,t){v.invalidateElements(t),y.invalidateElements(t),m.invalidateElements(t),b.invalidateElements(t),x.invalidateElements(t);for(var n=0;n<t.length;n++){var r=t[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}});var w=function(e){for(var t=0;t<e.length;t++)x.enqueueElementRefinement(e[t].ele)};v.onDequeue(w),y.onDequeue(w),m.onDequeue(w),b.onDequeue(w)}Xs.CANVAS_LAYERS=3,Xs.SELECT_BOX=0,Xs.DRAG=1,Xs.NODE=2,Xs.BUFFER_COUNT=3,Xs.TEXTURE_BUFFER=0,Xs.MOTIONBLUR_BUFFER_NODE=1,Xs.MOTIONBLUR_BUFFER_DRAG=2,Xs.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[Xs.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[Xs.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[Xs.SELECT_BOX]=t}};var Hs="undefined"!=typeof Path2D;Xs.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},Xs.usePaths=function(){return Hs&&this.pathsEnabled},Xs.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},Xs.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},Xs.makeOffscreenCanvas=function(t,n){var r;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":e(OffscreenCanvas))?r=new OffscreenCanvas(t,n):((r=document.createElement("canvas")).width=t,r.height=n),r},[ys,Es,Ps,Ts,Ms,Bs,_s,Ns,Fs,js].forEach(function(e){I(Xs,e)});var Ks=[{type:"layout",extensions:zo},{type:"renderer",extensions:[{name:"null",impl:Lo},{name:"base",impl:is},{name:"canvas",impl:Ys}]}],Gs={},Zs={};function Us(e,t,n){var r=n,i=function(n){Ee("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(oo.prototype[t])return i(t);oo.prototype[t]=n}else if("collection"===e){if(Ca.prototype[t])return i(t);Ca.prototype[t]=n}else if("layout"===e){for(var a=function(e){this.options=e,n.call(this,e),g(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(n.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=n.prototype.stop;o.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(e){return e._private.cy},d={addEventFields:function(e,t){t.layout=e,t.cy=h(e),t.target=e},bubble:function(){return!0},parent:function(e){return h(e)}};I(o,{createEmitter:function(){return this._private.emitter=new ji(d,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),cr.eventAliasesOn(o),r=a}else if("renderer"===e&&"null"!==t&&"base"!==t){var p=$s("renderer","base"),f=p.prototype,v=n,y=n.prototype,m=function(){p.apply(this,arguments),v.apply(this,arguments)},b=m.prototype;for(var x in f){var w=f[x];if(null!=y[x])return i(x);b[x]=w}for(var E in y)b[E]=y[E];f.clientFunctions.forEach(function(e){b[e]=b[e]||function(){Ee("Renderer does not implement `renderer."+e+"()` on its prototype")}}),r=m}return A({map:Gs,keys:[e,t],value:r})}function $s(e,t){return O({map:Gs,keys:[e,t]})}var Qs=function(){return 2===arguments.length?$s.apply(null,arguments):3===arguments.length?Us.apply(null,arguments):4===arguments.length?function(e,t,n,r){return O({map:Zs,keys:[e,t,n,r]})}.apply(null,arguments):5===arguments.length?function(e,t,n,r,i){return A({map:Zs,keys:[e,t,n,r],value:i})}.apply(null,arguments):void Ee("Invalid extension access syntax")};oo.prototype.extension=Qs,Ks.forEach(function(e){e.extensions.forEach(function(t){Us(e.type,t.name,t.impl)})});var Js=function e(){if(!(this instanceof e))return new e;this.length=0},el=Js.prototype;el.instanceString=function(){return"stylesheet"},el.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},el.css=function(e,t){var n=this.length-1;if(d(e))this[n].properties.push({name:e,value:t});else if(g(e))for(var r=e,i=Object.keys(r),a=0;a<i.length;a++){var o=i[a],s=r[o];if(null!=s){var l=no.properties[o]||no.properties[T(o)];if(null!=l){var u=l.name,c=s;this[n].properties.push({name:u,value:c})}}}return this},el.style=el.css,el.generateStyle=function(e){var t=new no(e);return this.appendToStyle(t)},el.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var a=0;a<i.length;a++){var o=i[a];e.css(o.name,o.value)}}return e};var tl=function(e){return void 0===e&&(e={}),g(e)?new oo(e):d(e)?Qs.apply(Qs,arguments):void 0};return tl.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(tl),e.apply(null,t),this},tl.warnings=function(e){return ke(e)},tl.version="3.6.2",tl.stylesheet=tl.Stylesheet=Js,tl});

;(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.YASGUI=e()}})(function(){var define,module,exports;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-i(e)}function o(e){var t,n,r,o,s,a=e.length;o=i(e);s=new f(3*a/4-o);n=o>0?a-4:a;var l=0;for(t=0;t<n;t+=4){r=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)];s[l++]=r>>16&255;s[l++]=r>>8&255;s[l++]=255&r}if(2===o){r=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4;s[l++]=255&r}else if(1===o){r=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2;s[l++]=r>>8&255;s[l++]=255&r}return s}function s(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function a(e,t,n){for(var i,r=[],o=t;o<n;o+=3){i=(e[o]<<16)+(e[o+1]<<8)+e[o+2];r.push(s(i))}return r.join("")}function l(e){for(var t,n=e.length,i=n%3,r="",o=[],s=16383,l=0,c=n-i;l<c;l+=s)o.push(a(e,l,l+s>c?c:l+s));if(1===i){t=e[n-1];r+=u[t>>2];r+=u[t<<4&63];r+="=="}else if(2===i){t=(e[n-2]<<8)+e[n-1];r+=u[t>>10];r+=u[t>>4&63];r+=u[t<<2&63];r+="="}o.push(r);return o.join("")}n.byteLength=r;n.toByteArray=o;n.fromByteArray=l;for(var u=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,d=p.length;h<d;++h){u[h]=p[h];c[p.charCodeAt(h)]=h}c["-".charCodeAt(0)]=62;c["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){(function(e){"use strict";function n(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function i(e,t){return e<<t|e>>>32-t}function r(e,t,r,o,s,a){return n(i(n(n(t,e),n(o,a)),s),r)}function o(e,t,n,i,o,s,a){return r(t&n|~t&i,e,t,o,s,a)}function s(e,t,n,i,o,s,a){return r(t&i|n&~i,e,t,o,s,a)}function a(e,t,n,i,o,s,a){return r(t^n^i,e,t,o,s,a)}function l(e,t,n,i,o,s,a){return r(n^(t|~i),e,t,o,s,a)}function u(e,t){e[t>>5]|=128<<t%32;e[(t+64>>>9<<4)+14]=t;var i,r,u,c,f,p=1732584193,h=-271733879,d=-1732584194,g=271733878;for(i=0;i<e.length;i+=16){r=p;u=h;c=d;f=g;p=o(p,h,d,g,e[i],7,-680876936);g=o(g,p,h,d,e[i+1],12,-389564586);d=o(d,g,p,h,e[i+2],17,606105819);h=o(h,d,g,p,e[i+3],22,-1044525330);p=o(p,h,d,g,e[i+4],7,-176418897);g=o(g,p,h,d,e[i+5],12,1200080426);d=o(d,g,p,h,e[i+6],17,-1473231341);h=o(h,d,g,p,e[i+7],22,-45705983);p=o(p,h,d,g,e[i+8],7,1770035416);g=o(g,p,h,d,e[i+9],12,-1958414417);d=o(d,g,p,h,e[i+10],17,-42063);h=o(h,d,g,p,e[i+11],22,-1990404162);p=o(p,h,d,g,e[i+12],7,1804603682);g=o(g,p,h,d,e[i+13],12,-40341101);d=o(d,g,p,h,e[i+14],17,-1502002290);h=o(h,d,g,p,e[i+15],22,1236535329);p=s(p,h,d,g,e[i+1],5,-165796510);g=s(g,p,h,d,e[i+6],9,-1069501632);d=s(d,g,p,h,e[i+11],14,643717713);h=s(h,d,g,p,e[i],20,-373897302);p=s(p,h,d,g,e[i+5],5,-701558691);g=s(g,p,h,d,e[i+10],9,38016083);d=s(d,g,p,h,e[i+15],14,-660478335);h=s(h,d,g,p,e[i+4],20,-405537848);p=s(p,h,d,g,e[i+9],5,568446438);g=s(g,p,h,d,e[i+14],9,-1019803690);d=s(d,g,p,h,e[i+3],14,-187363961);h=s(h,d,g,p,e[i+8],20,1163531501);p=s(p,h,d,g,e[i+13],5,-1444681467);g=s(g,p,h,d,e[i+2],9,-51403784);d=s(d,g,p,h,e[i+7],14,1735328473);h=s(h,d,g,p,e[i+12],20,-1926607734);p=a(p,h,d,g,e[i+5],4,-378558);g=a(g,p,h,d,e[i+8],11,-2022574463);d=a(d,g,p,h,e[i+11],16,1839030562);h=a(h,d,g,p,e[i+14],23,-35309556);p=a(p,h,d,g,e[i+1],4,-1530992060);g=a(g,p,h,d,e[i+4],11,1272893353);d=a(d,g,p,h,e[i+7],16,-155497632);h=a(h,d,g,p,e[i+10],23,-1094730640);p=a(p,h,d,g,e[i+13],4,681279174);g=a(g,p,h,d,e[i],11,-358537222);d=a(d,g,p,h,e[i+3],16,-722521979);h=a(h,d,g,p,e[i+6],23,76029189);p=a(p,h,d,g,e[i+9],4,-640364487);g=a(g,p,h,d,e[i+12],11,-421815835);d=a(d,g,p,h,e[i+15],16,530742520);h=a(h,d,g,p,e[i+2],23,-995338651);p=l(p,h,d,g,e[i],6,-198630844);g=l(g,p,h,d,e[i+7],10,1126891415);d=l(d,g,p,h,e[i+14],15,-1416354905);h=l(h,d,g,p,e[i+5],21,-57434055);p=l(p,h,d,g,e[i+12],6,1700485571);g=l(g,p,h,d,e[i+3],10,-1894986606);d=l(d,g,p,h,e[i+10],15,-1051523);h=l(h,d,g,p,e[i+1],21,-2054922799);p=l(p,h,d,g,e[i+8],6,1873313359);g=l(g,p,h,d,e[i+15],10,-30611744);d=l(d,g,p,h,e[i+6],15,-1560198380);h=l(h,d,g,p,e[i+13],21,1309151649);p=l(p,h,d,g,e[i+4],6,-145523070);g=l(g,p,h,d,e[i+11],10,-1120210379);d=l(d,g,p,h,e[i+2],15,718787259);h=l(h,d,g,p,e[i+9],21,-343485551);p=n(p,r);h=n(h,u);d=n(d,c);g=n(g,f)}return[p,h,d,g]}function c(e){var t,n="",i=32*e.length;for(t=0;t<i;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function f(e){var t,n=[];n[(e.length>>2)-1]=void 0;for(t=0;t<n.length;t+=1)n[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function p(e){return c(u(f(e),8*e.length))}function h(e,t){var n,i,r=f(e),o=[],s=[];o[15]=s[15]=void 0;r.length>16&&(r=u(r,8*e.length));for(n=0;n<16;n+=1){o[n]=909522486^r[n];s[n]=1549556828^r[n]}i=u(o.concat(f(t)),512+8*t.length);return c(u(s.concat(i),640))}function d(e){var t,n,i="0123456789abcdef",r="";for(n=0;n<e.length;n+=1){t=e.charCodeAt(n);r+=i.charAt(t>>>4&15)+i.charAt(15&t)}return r}function g(e){return unescape(encodeURIComponent(e))}function m(e){return p(g(e))}function v(e){return d(m(e))}function y(e,t){return h(g(e),g(t))}function b(e,t){return d(y(e,t))}function x(e,t,n){return t?n?y(t,e):b(t,e):n?m(e):v(e)}"function"==typeof define&&define.amd?define(function(){return x}):"object"==typeof t&&t.exports?t.exports=x:e.md5=x})(this)},{}],3:[function(e,t,n){},{}],4:[function(e,t,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],5:[function(e,t,n){(function(t){"use strict";function i(){try{var e=new Uint8Array(1);e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function r(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(r()<t)throw new RangeError("Invalid typed array length");if(s.TYPED_ARRAY_SUPPORT){e=new Uint8Array(t);e.__proto__=s.prototype}else{null===e&&(e=new s(t));e.length=t}return e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,t,n)}function a(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,i):"string"==typeof t?f(e,t,n):d(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,i){l(t);return t<=0?o(e,t):void 0!==n?"string"==typeof i?o(e,t).fill(n,i):o(e,t).fill(n):o(e,t)}function c(e,t){l(t);e=o(e,t<0?0:0|g(t));if(!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|v(t,n);e=o(e,i);var r=e.write(t,n);r!==i&&(e=e.slice(0,r));return e}function p(e,t){var n=t.length<0?0:0|g(t.length);e=o(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function h(e,t,n,i){t.byteLength;if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);if(s.TYPED_ARRAY_SUPPORT){e=t;e.__proto__=s.prototype}else e=p(e,t);return e}function d(e,t){if(s.isBuffer(t)){var n=0|g(t.length);e=o(e,n);if(0===e.length)return e;t.copy(e,0,0,n);return e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?o(e,0):p(e,t);if("Buffer"===t.type&&J(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e){+e!=e&&(e=0);return s.alloc(+e)}function v(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(i)return V(e).length;t=(""+t).toLowerCase();i=!0}}function y(e,t,n){var i=!1;(void 0===t||t<0)&&(t=0);if(t>this.length)return"";(void 0===n||n>this.length)&&(n=this.length);if(n<=0)return"";n>>>=0;t>>>=0;if(n<=t)return"";e||(e="utf8");for(;;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return N(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();i=!0}}function b(e,t,n){var i=e[t];e[t]=e[n];e[n]=i}function x(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n){i=n;n=0}else n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648);n=+n;isNaN(n)&&(n=r?0:e.length-1);n<0&&(n=e.length+n);if(n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}"string"==typeof t&&(t=s.from(t,i));if(s.isBuffer(t))return 0===t.length?-1:_(e,t,n,i,r);if("number"==typeof t){t=255&t;return s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,i,r)}throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,i,r){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,l=t.length;if(void 0!==i){i=String(i).toLowerCase();if("ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i){if(e.length<2||t.length<2)return-1;s=2;a/=2;l/=2;n/=2}}var u;if(r){var c=-1;for(u=n;u<a;u++)if(o(e,u)===o(t,c===-1?0:u-c)){c===-1&&(c=u);if(u-c+1===l)return c*s}else{c!==-1&&(u-=u-c);c=-1}}else{n+l>a&&(n=a-l);for(u=n;u>=0;u--){for(var f=!0,p=0;p<l;p++)if(o(e,u+p)!==o(t,p)){f=!1;break}if(f)return u}}return-1}function E(e,t,n,i){n=Number(n)||0;var r=e.length-n;if(i){i=Number(i);i>r&&(i=r)}else i=r;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function w(e,t,n,i){return $(V(t,e.length-n),e,n,i)}function T(e,t,n,i){return $(W(t),e,n,i)}function S(e,t,n,i){return T(e,t,n,i)}function C(e,t,n,i){return $(Z(t),e,n,i)}function L(e,t,n,i){return $(Y(t,e.length-n),e,n,i)}function N(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o=e[r],s=null,a=o>239?4:o>223?3:o>191?2:1;if(r+a<=n){var l,u,c,f;switch(a){case 1:o<128&&(s=o);break;case 2:l=e[r+1];if(128===(192&l)){f=(31&o)<<6|63&l;f>127&&(s=f)}break;case 3:l=e[r+1];u=e[r+2];if(128===(192&l)&&128===(192&u)){f=(15&o)<<12|(63&l)<<6|63&u;f>2047&&(f<55296||f>57343)&&(s=f)}break;case 4:l=e[r+1];u=e[r+2];c=e[r+3];if(128===(192&l)&&128===(192&u)&&128===(192&c)){f=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c;f>65535&&f<1114112&&(s=f)}}}if(null===s){s=65533;a=1}else if(s>65535){s-=65536;i.push(s>>>10&1023|55296);s=56320|1023&s}i.push(s);r+=a}return A(i)}function A(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=ee));return n}function R(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function O(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function P(e,t,n){var i=e.length;(!t||t<0)&&(t=0);(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=H(e[o]);return r}function k(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function M(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,i,r,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function j(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function B(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function q(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,i,r){r||q(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38);Q.write(e,t,n,i,23,4);return n+4}function F(e,t,n,i,r){r||q(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308);Q.write(e,t,n,i,52,8);return n+8}function G(e){e=z(e).replace(te,"");if(e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],s=0;s<i;++s){n=e.charCodeAt(s);if(n>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189);r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(t-=3)>-1&&o.push(239,191,189);r=null;if(n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Y(e,t){for(var n,i,r,o=[],s=0;s<e.length&&!((t-=2)<0);++s){n=e.charCodeAt(s);i=n>>8;r=n%256;o.push(r);o.push(i)}return o}function Z(e){return X.toByteArray(G(e))}function $(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function K(e){return e!==e}var X=e("base64-js"),Q=e("ieee754"),J=e("isarray");n.Buffer=s;n.SlowBuffer=m;n.INSPECT_MAX_BYTES=50;s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i();n.kMaxLength=r();s.poolSize=8192;s._augment=function(e){e.__proto__=s.prototype;return e};s.from=function(e,t,n){return a(null,e,t,n)};if(s.TYPED_ARRAY_SUPPORT){s.prototype.__proto__=Uint8Array.prototype;s.__proto__=Uint8Array;"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})}s.alloc=function(e,t,n){return u(null,e,t,n)};s.allocUnsafe=function(e){return c(null,e)};s.allocUnsafeSlow=function(e){return c(null,e)};s.isBuffer=function(e){return!(null==e||!e._isBuffer)};s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r];i=t[r];break}return n<i?-1:i<n?1:0};s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};s.concat=function(e,t){if(!J(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t){t=0;for(n=0;n<e.length;++n)t+=e[n].length}var i=s.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r);r+=o.length}return i};s.byteLength=v;s.prototype._isBuffer=!0;s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this};s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4){b(this,t,t+3);b(this,t+1,t+2)}return this};s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8){b(this,t,t+7);b(this,t+1,t+6);b(this,t+2,t+5);b(this,t+3,t+4)}return this};s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)};s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)};s.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;if(this.length>0){e=this.toString("hex",0,t).match(/.{2}/g).join(" ");this.length>t&&(e+=" ... ")}return"<Buffer "+e+">"};s.prototype.compare=function(e,t,n,i,r){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");void 0===t&&(t=0);void 0===n&&(n=e?e.length:0);void 0===i&&(i=0);void 0===r&&(r=this.length);if(t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;t>>>=0;n>>>=0;i>>>=0;r>>>=0;if(this===e)return 0;for(var o=r-i,a=n-t,l=Math.min(o,a),u=this.slice(i,r),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){o=u[f];a=c[f];break}return o<a?-1:a<o?1:0};s.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};s.prototype.indexOf=function(e,t,n){return x(this,e,t,n,!0)};s.prototype.lastIndexOf=function(e,t,n){return x(this,e,t,n,!1)};s.prototype.write=function(e,t,n,i){if(void 0===t){i="utf8";n=this.length;t=0}else if(void 0===n&&"string"==typeof t){i=t;n=this.length;t=0}else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t;if(isFinite(n)){n=0|n;void 0===i&&(i="utf8")}else{i=n;n=void 0}}var r=this.length-t;(void 0===n||n>r)&&(n=r);if(e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase();o=!0}};s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;s.prototype.slice=function(e,t){var n=this.length;e=~~e;t=void 0===t?n:~~t;if(e<0){e+=n;e<0&&(e=0)}else e>n&&(e=n);if(t<0){t+=n;t<0&&(t=0)}else t>n&&(t=n);t<e&&(t=e);var i;if(s.TYPED_ARRAY_SUPPORT){i=this.subarray(e,t);i.__proto__=s.prototype}else{var r=t-e;i=new s(r,(void 0));for(var o=0;o<r;++o)i[o]=this[o+e]}return i};s.prototype.readUIntLE=function(e,t,n){e=0|e;t=0|t;n||M(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i};s.prototype.readUIntBE=function(e,t,n){e=0|e;t=0|t;n||M(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i};s.prototype.readUInt8=function(e,t){t||M(e,1,this.length);return this[e]};s.prototype.readUInt16LE=function(e,t){t||M(e,2,this.length);return this[e]|this[e+1]<<8};s.prototype.readUInt16BE=function(e,t){t||M(e,2,this.length);return this[e]<<8|this[e+1]};s.prototype.readUInt32LE=function(e,t){t||M(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]};s.prototype.readUInt32BE=function(e,t){t||M(e,4,this.length);return 16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])};s.prototype.readIntLE=function(e,t,n){e=0|e;t=0|t;n||M(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;r*=128;i>=r&&(i-=Math.pow(2,8*t));return i};s.prototype.readIntBE=function(e,t,n){e=0|e;t=0|t;n||M(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;r*=128;o>=r&&(o-=Math.pow(2,8*t));return o};s.prototype.readInt8=function(e,t){t||M(e,1,this.length);return 128&this[e]?(255-this[e]+1)*-1:this[e]};s.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n};s.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n};s.prototype.readInt32LE=function(e,t){t||M(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};s.prototype.readInt32BE=function(e,t){t||M(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};s.prototype.readFloatLE=function(e,t){t||M(e,4,this.length);return Q.read(this,e,!0,23,4)};s.prototype.readFloatBE=function(e,t){t||M(e,4,this.length);return Q.read(this,e,!1,23,4)};s.prototype.readDoubleLE=function(e,t){t||M(e,8,this.length);return Q.read(this,e,!0,52,8)};s.prototype.readDoubleBE=function(e,t){t||M(e,8,this.length);return Q.read(this,e,!1,52,8)};s.prototype.writeUIntLE=function(e,t,n,i){e=+e;t=0|t;n=0|n;if(!i){var r=Math.pow(2,8*n)-1;D(this,e,t,n,r,0)}var o=1,s=0;this[t]=255&e;for(;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n};s.prototype.writeUIntBE=function(e,t,n,i){e=+e;t=0|t;n=0|n;if(!i){var r=Math.pow(2,8*n)-1;D(this,e,t,n,r,0)}var o=n-1,s=1;this[t+o]=255&e;for(;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n};s.prototype.writeUInt8=function(e,t,n){e=+e;t=0|t;n||D(this,e,t,1,255,0);s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e));this[t]=255&e;return t+1};s.prototype.writeUInt16LE=function(e,t,n){e=+e;t=0|t;n||D(this,e,t,2,65535,0);if(s.TYPED_ARRAY_SUPPORT){this[t]=255&e;this[t+1]=e>>>8}else j(this,e,t,!0);return t+2};s.prototype.writeUInt16BE=function(e,t,n){e=+e;t=0|t;n||D(this,e,t,2,65535,0);if(s.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=255&e}else j(this,e,t,!1);return t+2};s.prototype.writeUInt32LE=function(e,t,n){e=+e;t=0|t;n||D(this,e,t,4,4294967295,0);if(s.TYPED_ARRAY_SUPPORT){this[t+3]=e>>>24;this[t+2]=e>>>16;this[t+1]=e>>>8;this[t]=255&e}else B(this,e,t,!0);return t+4};s.prototype.writeUInt32BE=function(e,t,n){e=+e;t=0|t;n||D(this,e,t,4,4294967295,0);if(s.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=255&e}else B(this,e,t,!1);return t+4};s.prototype.writeIntLE=function(e,t,n,i){e=+e;t=0|t;if(!i){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var o=0,s=1,a=0;this[t]=255&e;for(;++o<n&&(s*=256);){e<0&&0===a&&0!==this[t+o-1]&&(a=1);this[t+o]=(e/s>>0)-a&255}return t+n};s.prototype.writeIntBE=function(e,t,n,i){e=+e;t=0|t;if(!i){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0;this[t+o]=255&e;for(;--o>=0&&(s*=256);){e<0&&0===a&&0!==this[t+o+1]&&(a=1);this[t+o]=(e/s>>0)-a&255}return t+n};s.prototype.writeInt8=function(e,t,n){e=+e;t=0|t;n||D(this,e,t,1,127,-128);s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e));e<0&&(e=255+e+1);this[t]=255&e;return t+1};s.prototype.writeInt16LE=function(e,t,n){e=+e;t=0|t;n||D(this,e,t,2,32767,-32768);if(s.TYPED_ARRAY_SUPPORT){this[t]=255&e;this[t+1]=e>>>8}else j(this,e,t,!0);return t+2};s.prototype.writeInt16BE=function(e,t,n){e=+e;t=0|t;n||D(this,e,t,2,32767,-32768);if(s.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=255&e}else j(this,e,t,!1);return t+2};s.prototype.writeInt32LE=function(e,t,n){e=+e;t=0|t;n||D(this,e,t,4,2147483647,-2147483648);if(s.TYPED_ARRAY_SUPPORT){this[t]=255&e;this[t+1]=e>>>8;this[t+2]=e>>>16;this[t+3]=e>>>24}else B(this,e,t,!0);return t+4};s.prototype.writeInt32BE=function(e,t,n){e=+e;t=0|t;n||D(this,e,t,4,2147483647,-2147483648);e<0&&(e=4294967295+e+1);if(s.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=255&e}else B(this,e,t,!1);return t+4};s.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)};s.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)};s.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)};s.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)};s.prototype.copy=function(e,t,n,i){n||(n=0);i||0===i||(i=this.length);t>=e.length&&(t=e.length);t||(t=0);i>0&&i<n&&(i=n);if(i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o};s.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t){i=t;t=0;n=this.length}else if("string"==typeof n){i=n;n=this.length}if(1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e=255&e);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0;n=void 0===n?this.length:n>>>0;e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:V(new s(e,i).toString()),l=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:64,isarray:6}],6:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],7:[function(e,t,n){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],8:[function(e,t,n){(function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";function t(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height};t.style.width="";t.style.height="auto";t.className+=" CodeMirror-fullscreen";document.documentElement.style.overflow="hidden";e.refresh()}function n(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,"");document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width;t.style.height=n.height;window.scrollTo(n.scrollLeft,n.scrollTop);e.refresh()}e.defineOption("fullScreen",!1,function(i,r,o){o==e.Init&&(o=!1);!o!=!r&&(r?t(i):n(i))})})},{"../../lib/codemirror":17}],9:[function(e,t,n){(function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){function t(e,t,i,r){var o=e.getLineHandle(t.line),l=t.ch-1,u=l>=0&&a[o.text.charAt(l)]||a[o.text.charAt(++l)];if(!u)return null;var c=">"==u.charAt(1)?1:-1;if(i&&c>0!=(l==t.ch))return null;var f=e.getTokenTypeAt(s(t.line,l+1)),p=n(e,s(t.line,l+(c>0?1:0)),c,f||null,r);return null==p?null:{from:s(t.line,l),to:p&&p.pos,match:p&&p.ch==u.charAt(0),forward:c>0}}function n(e,t,n,i,r){for(var o=r&&r.maxScanLineLength||1e4,l=r&&r.maxScanLines||1e3,u=[],c=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,f=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),p=t.line;p!=f;p+=n){var h=e.getLine(p);if(h){var d=n>0?0:h.length-1,g=n>0?h.length:-1;if(!(h.length>o)){p==t.line&&(d=t.ch-(n<0?1:0));for(;d!=g;d+=n){var m=h.charAt(d);if(c.test(m)&&(void 0===i||e.getTokenTypeAt(s(p,d+1))==i)){var v=a[m];if(">"==v.charAt(1)==n>0)u.push(m);else{if(!u.length)return{pos:s(p,d),ch:m};u.pop()}}}}}}return p-n!=(n>0?e.lastLine():e.firstLine())&&null}function i(e,n,i){for(var r=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&t(e,l[u].head,!1,i);if(c&&e.getLine(c.from.line).length<=r){var f=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(c.from,s(c.from.line,c.from.ch+1),{className:f}));c.to&&e.getLine(c.to.line).length<=r&&a.push(e.markText(c.to,s(c.to.line,c.to.ch+1),{className:f}))}}if(a.length){o&&e.state.focused&&e.focus();var p=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!n)return p;setTimeout(p,800)}}function r(e){e.operation(function(){if(l){l();l=null}l=i(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=e.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,i){i&&i!=e.Init&&t.off("cursorActivity",r);if(n){t.state.matchBrackets="object"==typeof n?n:{};t.on("cursorActivity",r)}});e.defineExtension("matchBrackets",function(){i(this,!0)});e.defineExtension("findMatchingBracket",function(e,n,i){return t(this,e,n,i)});e.defineExtension("scanForBracket",function(e,t,i,r){return n(this,e,t,i,r)})})},{"../../lib/codemirror":17}],10:[function(e,t,n){(function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function i(i){for(var a=n.ch,l=0;;){var u=a<=0?-1:s.lastIndexOf(i,a-1);if(u!=-1){if(1==l&&u<n.ch)break;r=t.getTokenTypeAt(e.Pos(o,u+1));if(!/^(comment|string)/.test(r))return u+1;a=u-1}else{if(1==l)break;l=1;a=s.length}}}var r,o=n.line,s=t.getLine(o),a="{",l="}",u=i("{");if(null==u){a="[",l="]";u=i("[")}if(null!=u){var c,f,p=1,h=t.lastLine();e:for(var d=o;d<=h;++d)for(var g=t.getLine(d),m=d==o?u:0;;){var v=g.indexOf(a,m),y=g.indexOf(l,m);v<0&&(v=g.length);y<0&&(y=g.length);m=Math.min(v,y);
if(m==g.length)break;if(t.getTokenTypeAt(e.Pos(d,m+1))==r)if(m==v)++p;else if(!--p){c=d;f=m;break e}++m}if(null!=c&&(o!=c||f!=u))return{from:e.Pos(o,u),to:e.Pos(c,f)}}});e.registerHelper("fold","import",function(t,n){function i(n){if(n<t.firstLine()||n>t.lastLine())return null;var i=t.getTokenAt(e.Pos(n,1));/\S/.test(i.string)||(i=t.getTokenAt(e.Pos(n,i.end+1)));if("keyword"!=i.type||"import"!=i.string)return null;for(var r=n,o=Math.min(t.lastLine(),n+10);r<=o;++r){var s=t.getLine(r),a=s.indexOf(";");if(a!=-1)return{startCh:i.end,end:e.Pos(r,a)}}}var r,o=n.line,s=i(o);if(!s||i(o-1)||(r=i(o-2))&&r.end.line==o-1)return null;for(var a=s.end;;){var l=i(a.line+1);if(null==l)break;a=l.end}return{from:t.clipPos(e.Pos(o,s.startCh+1)),to:a}});e.registerHelper("fold","include",function(t,n){function i(n){if(n<t.firstLine()||n>t.lastLine())return null;var i=t.getTokenAt(e.Pos(n,1));/\S/.test(i.string)||(i=t.getTokenAt(e.Pos(n,i.end+1)));return"meta"==i.type&&"#include"==i.string.slice(0,8)?i.start+8:void 0}var r=n.line,o=i(r);if(null==o||null!=i(r-1))return null;for(var s=r;;){var a=i(s+1);if(null==a)break;++s}return{from:e.Pos(r,o+1),to:t.clipPos(e.Pos(s))}})})},{"../../lib/codemirror":17}],11:[function(e,t,n){(function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";function t(t,r,o,s){function a(e){var n=l(t,r);if(!n||n.to.line-n.from.line<u)return null;for(var i=t.findMarksAt(n.from),o=0;o<i.length;++o)if(i[o].__isFold&&"fold"!==s){if(!e)return null;n.cleared=!0;i[o].clear()}return n}if(o&&o.call){var l=o;o=null}else var l=i(t,o,"rangeFinder");"number"==typeof r&&(r=e.Pos(r,0));var u=i(t,o,"minFoldSize"),c=a(!0);if(i(t,o,"scanUp"))for(;!c&&r.line>t.firstLine();){r=e.Pos(r.line-1,0);c=a(!1)}if(c&&!c.cleared&&"unfold"!==s){var f=n(t,o);e.on(f,"mousedown",function(t){p.clear();e.e_preventDefault(t)});var p=t.markText(c.from,c.to,{replacedWith:f,clearOnEnter:i(t,o,"clearOnEnter"),__isFold:!0});p.on("clear",function(n,i){e.signal(t,"unfold",t,n,i)});e.signal(t,"fold",t,c.from,c.to)}}function n(e,t){var n=i(e,t,"widget");if("string"==typeof n){var r=document.createTextNode(n);n=document.createElement("span");n.appendChild(r);n.className="CodeMirror-foldmarker"}return n}function i(e,t,n){if(t&&void 0!==t[n])return t[n];var i=e.options.foldOptions;return i&&void 0!==i[n]?i[n]:r[n]}e.newFoldFunction=function(e,n){return function(i,r){t(i,r,{rangeFinder:e,widget:n})}};e.defineExtension("foldCode",function(e,n,i){t(this,e,n,i)});e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0});e.commands.toggleFold=function(e){e.foldCode(e.getCursor())};e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")};e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")};e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),i=t.lastLine();n<=i;n++)t.foldCode(e.Pos(n,0),null,"fold")})};e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),i=t.lastLine();n<=i;n++)t.foldCode(e.Pos(n,0),null,"unfold")})};e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var i=0;i<e.length;++i){var r=e[i](t,n);if(r)return r}}});e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),i=0;i<n.length;i++){var r=n[i](e,t);if(r)return r}});var r={rangeFinder:e.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null);e.defineExtension("foldOption",function(e,t){return i(this,e,t)})})},{"../../lib/codemirror":17}],12:[function(e,t,n){(function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror"),e("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],i):i(CodeMirror)})(function(e){"use strict";function t(e){this.options=e;this.from=this.to=0}function n(e){e===!0&&(e={});null==e.gutter&&(e.gutter="CodeMirror-foldgutter");null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open");null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded");return e}function i(e,t){for(var n=e.findMarks(f(t,0),f(t+1,0)),i=0;i<n.length;++i)if(n[i].__isFold&&n[i].find().from.line==t)return n[i]}function r(e){if("string"==typeof e){var t=document.createElement("div");t.className=e+" CodeMirror-guttermarker-subtle";return t}return e.cloneNode(!0)}function o(e,t,n){var o=e.state.foldGutter.options,s=t,a=e.foldOption(o,"minFoldSize"),l=e.foldOption(o,"rangeFinder");e.eachLine(t,n,function(t){var n=null;if(i(e,s))n=r(o.indicatorFolded);else{var u=f(s,0),c=l&&l(e,u);c&&c.to.line-c.from.line>=a&&(n=r(o.indicatorOpen))}e.setGutterMarker(t,o.gutter,n);++s})}function s(e){var t=e.getViewport(),n=e.state.foldGutter;if(n){e.operation(function(){o(e,t.from,t.to)});n.from=t.from;n.to=t.to}}function a(e,t,n){var r=e.state.foldGutter;if(r){var o=r.options;if(n==o.gutter){var s=i(e,t);s?s.clear():e.foldCode(f(t,0),o.rangeFinder)}}}function l(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0;clearTimeout(t.changeUpdate);t.changeUpdate=setTimeout(function(){s(e)},n.foldOnChangeTimeSpan||600)}}function u(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate);t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?s(e):e.operation(function(){if(n.from<t.from){o(e,n.from,t.from);t.from=n.from}if(n.to>t.to){o(e,t.to,n.to);t.to=n.to}})},n.updateViewportTimeSpan||400)}}function c(e,t){var n=e.state.foldGutter;if(n){var i=t.line;i>=n.from&&i<n.to&&o(e,i,i+1)}}e.defineOption("foldGutter",!1,function(i,r,o){if(o&&o!=e.Init){i.clearGutter(i.state.foldGutter.options.gutter);i.state.foldGutter=null;i.off("gutterClick",a);i.off("change",l);i.off("viewportChange",u);i.off("fold",c);i.off("unfold",c);i.off("swapDoc",l)}if(r){i.state.foldGutter=new t(n(r));s(i);i.on("gutterClick",a);i.on("change",l);i.on("viewportChange",u);i.on("fold",c);i.on("unfold",c);i.on("swapDoc",l)}});var f=e.Pos})},{"../../lib/codemirror":17,"./foldcode":11}],13:[function(e,t,n){(function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function n(e,t,n,i){this.line=t;this.ch=n;this.cm=e;this.text=e.getLine(t);this.min=i?i.from:e.firstLine();this.max=i?i.to-1:e.lastLine()}function i(e,t){var n=e.cm.getTokenTypeAt(p(e.line,t));return n&&/\btag\b/.test(n)}function r(e){if(!(e.line>=e.max)){e.ch=0;e.text=e.cm.getLine(++e.line);return!0}}function o(e){if(!(e.line<=e.min)){e.text=e.cm.getLine(--e.line);e.ch=e.text.length;return!0}}function s(e){for(;;){var t=e.text.indexOf(">",e.ch);if(t==-1){if(r(e))continue;return}if(i(e,t+1)){var n=e.text.lastIndexOf("/",t),o=n>-1&&!/\S/.test(e.text.slice(n+1,t));e.ch=t+1;return o?"selfClose":"regular"}e.ch=t+1}}function a(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(t==-1){if(o(e))continue;return}if(i(e,t+1)){g.lastIndex=t;e.ch=t;var n=g.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){g.lastIndex=e.ch;var t=g.exec(e.text);if(!t){if(r(e))continue;return}if(i(e,t.index+1)){e.ch=t.index+t[0].length;return t}e.ch=t.index+1}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(t==-1){if(o(e))continue;return}if(i(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));e.ch=t+1;return r?"selfClose":"regular"}e.ch=t}}function c(e,t){for(var n=[];;){var i,r=l(e),o=e.line,a=e.ch-(r?r[0].length:0);if(!r||!(i=s(e)))return;if("selfClose"!=i)if(r[1]){for(var u=n.length-1;u>=0;--u)if(n[u]==r[2]){n.length=u;break}if(u<0&&(!t||t==r[2]))return{tag:r[2],from:p(o,a),to:p(e.line,e.ch)}}else n.push(r[2])}}function f(e,t){for(var n=[];;){var i=u(e);if(!i)return;if("selfClose"!=i){var r=e.line,o=e.ch,s=a(e);if(!s)return;if(s[1])n.push(s[2]);else{for(var l=n.length-1;l>=0;--l)if(n[l]==s[2]){n.length=l;break}if(l<0&&(!t||t==s[2]))return{tag:s[2],from:p(e.line,e.ch),to:p(r,o)}}}else a(e)}}var p=e.Pos,h="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",d=h+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",g=new RegExp("<(/?)(["+h+"]["+d+"]*)","g");e.registerHelper("fold","xml",function(e,t){for(var i=new n(e,t.line,0);;){var r,o=l(i);if(!o||i.line!=t.line||!(r=s(i)))return;if(!o[1]&&"selfClose"!=r){var a=p(i.line,i.ch),u=c(i,o[2]);return u&&{from:a,to:u.from}}}});e.findMatchingTag=function(e,i,r){var o=new n(e,i.line,i.ch,r);if(o.text.indexOf(">")!=-1||o.text.indexOf("<")!=-1){var l=s(o),u=l&&p(o.line,o.ch),h=l&&a(o);if(l&&h&&!(t(o,i)>0)){var d={from:p(o.line,o.ch),to:u,tag:h[2]};if("selfClose"==l)return{open:d,close:null,at:"open"};if(h[1])return{open:f(o,h[2]),close:d,at:"close"};o=new n(e,u.line,u.ch,r);return{open:d,close:c(o,h[2]),at:"open"}}}};e.findEnclosingTag=function(e,t,i){for(var r=new n(e,t.line,t.ch,i);;){var o=f(r);if(!o)break;var s=new n(e,t.line,t.ch,i),a=c(s,o.tag);if(a)return{open:o,close:a}}};e.scanForClosingTag=function(e,t,i,r){var o=new n(e,t.line,t.ch,r?{from:0,to:r}:null);return c(o,i)}})},{"../../lib/codemirror":17}],14:[function(e,t,n){(function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";function t(e,t){this.cm=e;this.options=t;this.widget=null;this.debounce=0;this.tick=0;this.startPos=this.cm.getCursor("start");this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}function n(t,n){var i=e.cmpPos(n.from,t.from);return i>0&&t.to.ch-t.from.ch!=n.to.ch-n.from.ch}function i(e,t,n){var i=e.options.hintOptions,r={};for(var o in g)r[o]=g[o];if(i)for(var o in i)void 0!==i[o]&&(r[o]=i[o]);if(n)for(var o in n)void 0!==n[o]&&(r[o]=n[o]);r.hint.resolve&&(r.hint=r.hint.resolve(e,t));return r}function r(e){return"string"==typeof e?e:e.text}function o(e,t){function n(e,n){var r;r="string"!=typeof n?function(e){return n(e,t)}:i.hasOwnProperty(n)?i[n]:n;o[e]=r}var i={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},r=e.options.customKeys,o=r?{}:i;if(r)for(var s in r)r.hasOwnProperty(s)&&n(s,r[s]);var a=e.options.extraKeys;if(a)for(var s in a)a.hasOwnProperty(s)&&n(s,a[s]);return o}function s(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function a(t,n){this.completion=t;this.data=n;this.picked=!1;var i=this,a=t.cm,l=this.hints=document.createElement("ul");l.className="CodeMirror-hints";this.selectedHint=n.selectedHint||0;for(var u=n.list,c=0;c<u.length;++c){var h=l.appendChild(document.createElement("li")),d=u[c],g=f+(c!=this.selectedHint?"":" "+p);null!=d.className&&(g=d.className+" "+g);h.className=g;d.render?d.render(h,n,d):h.appendChild(document.createTextNode(d.displayText||r(d)));h.hintId=c}var m=a.cursorCoords(t.options.alignWithWord?n.from:null),v=m.left,y=m.bottom,b=!0;l.style.left=v+"px";l.style.top=y+"px";var x=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),_=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(l);var E=l.getBoundingClientRect(),w=E.bottom-_,T=l.scrollHeight>l.clientHeight+1,S=a.getScrollInfo();if(w>0){var C=E.bottom-E.top,L=m.top-(m.bottom-E.top);if(L-C>0){l.style.top=(y=m.top-C)+"px";b=!1}else if(C>_){l.style.height=_-5+"px";l.style.top=(y=m.bottom-E.top)+"px";var N=a.getCursor();if(n.from.ch!=N.ch){m=a.cursorCoords(N);l.style.left=(v=m.left)+"px";E=l.getBoundingClientRect()}}}var I=E.right-x;if(I>0){if(E.right-E.left>x){l.style.width=x-5+"px";I-=E.right-E.left-x}l.style.left=(v=m.left-I)+"px"}if(T)for(var A=l.firstChild;A;A=A.nextSibling)A.style.paddingRight=a.display.nativeBarWidth+"px";a.addKeyMap(this.keyMap=o(t,{moveFocus:function(e,t){i.changeActive(i.selectedHint+e,t)},setFocus:function(e){i.changeActive(e)},menuSize:function(){return i.screenAmount()},length:u.length,close:function(){t.close()},pick:function(){i.pick()},data:n}));if(t.options.closeOnUnfocus){var R;a.on("blur",this.onBlur=function(){R=setTimeout(function(){t.close()},100)});a.on("focus",this.onFocus=function(){clearTimeout(R)})}a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),n=a.getWrapperElement().getBoundingClientRect(),i=y+S.top-e.top,r=i-(window.pageYOffset||(document.documentElement||document.body).scrollTop);b||(r+=l.offsetHeight);if(r<=n.top||r>=n.bottom)return t.close();l.style.top=i+"px";l.style.left=v+S.left-e.left+"px"});e.on(l,"dblclick",function(e){var t=s(l,e.target||e.srcElement);if(t&&null!=t.hintId){i.changeActive(t.hintId);i.pick()}});e.on(l,"click",function(e){var n=s(l,e.target||e.srcElement);if(n&&null!=n.hintId){i.changeActive(n.hintId);t.options.completeOnSingleClick&&i.pick()}});e.on(l,"mousedown",function(){setTimeout(function(){a.focus()},20)});e.signal(n,"select",u[0],l.firstChild);return!0}function l(e,t){if(!e.somethingSelected())return t;for(var n=[],i=0;i<t.length;i++)t[i].supportsSelection&&n.push(t[i]);return n}function u(e,t,n,i){if(e.async)e(t,i,n);else{var r=e(t,n);r&&r.then?r.then(i):i(r)}}function c(t,n){var i,r=t.getHelpers(n,"hint");if(r.length){var o=function(e,t,n){function i(r){if(r==o.length)return t(null);u(o[r],e,n,function(e){e&&e.list.length>0?t(e):i(r+1)})}var o=l(e,r);i(0)};o.async=!0;o.supportsSelection=!0;return o}return(i=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:i})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}var f="CodeMirror-hint",p="CodeMirror-hint-active";e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var i={hint:t};if(n)for(var r in n)i[r]=n[r];return e.showHint(i)};e.defineExtension("showHint",function(n){n=i(this,this.getCursor("start"),n);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var o=0;o<r.length;o++)if(r[o].head.line!=r[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var s=this.state.completionActive=new t(this,n);if(s.options.hint){e.signal(this,"startCompletion",this);s.update(!0)}}});var h=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},d=window.cancelAnimationFrame||clearTimeout;t.prototype={close:function(){if(this.active()){this.cm.state.completionActive=null;this.tick=null;this.cm.off("cursorActivity",this.activityFunc);this.widget&&this.data&&e.signal(this.data,"close");this.widget&&this.widget.close();e.signal(this.cm,"endCompletion",this.cm)}},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var i=t.list[n];i.hint?i.hint(this.cm,t,i):this.cm.replaceRange(r(i),i.from||t.from,i.to||t.to,"complete");e.signal(t,"pick",i);this.close()},cursorActivity:function(){if(this.debounce){d(this.debounce);this.debounce=0}var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||e.ch&&this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=h(function(){n.update()});this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;u(this.options.hint,this.cm,this.options,function(i){t.tick==n&&t.finishUpdate(i,e)})}},finishUpdate:function(t,i){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||i&&this.options.completeSingle;this.widget&&this.widget.close();if(!(t&&this.data&&n(this.data,t))){this.data=t;if(t&&t.list.length)if(r&&1==t.list.length)this.pick(t,0);else{this.widget=new a(this,t);e.signal(t,"shown")}}}};a.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;if(this.completion.options.closeOnUnfocus){e.off("blur",this.onBlur);e.off("focus",this.onFocus)}e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1);if(this.selectedHint!=t){var i=this.hints.childNodes[this.selectedHint];i.className=i.className.replace(" "+p,"");i=this.hints.childNodes[this.selectedHint=t];i.className+=" "+p;i.offsetTop<this.hints.scrollTop?this.hints.scrollTop=i.offsetTop-3:i.offsetTop+i.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=i.offsetTop+i.offsetHeight-this.hints.clientHeight+3);e.signal(this.data,"select",this.data.list[this.selectedHint],i)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}};e.registerHelper("hint","auto",{resolve:c});e.registerHelper("hint","fromList",function(t,n){var i=t.getCursor(),r=t.getTokenAt(i),o=e.Pos(i.line,r.end);if(r.string&&/\w/.test(r.string[r.string.length-1]))var s=r.string,a=e.Pos(i.line,r.start);else var s="",a=o;for(var l=[],u=0;u<n.words.length;u++){var c=n.words[u];c.slice(0,s.length)==s&&l.push(c)}if(l.length)return{list:l,from:a,to:o}});e.commands.autocomplete=e.showHint;var g={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)})},{"../../lib/codemirror":17}],15:[function(e,t,n){(function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";e.runMode=function(t,n,i,r){var o=e.getMode(e.defaults,n),s=/MSIE \d/.test(navigator.userAgent),a=s&&(null==document.documentMode||document.documentMode<9);if(i.appendChild){var l=r&&r.tabSize||e.defaults.tabSize,u=i,c=0;u.innerHTML="";i=function(e,t){if("\n"!=e){for(var n="",i=0;;){var r=e.indexOf("\t",i);if(r==-1){n+=e.slice(i);c+=e.length-i;break}c+=r-i;n+=e.slice(i,r);var o=l-c%l;c+=o;for(var s=0;s<o;++s)n+=" ";i=r+1}if(t){var f=u.appendChild(document.createElement("span"));f.className="cm-"+t.replace(/ +/g," cm-");f.appendChild(document.createTextNode(n))}else u.appendChild(document.createTextNode(n))}else{u.appendChild(document.createTextNode(a?"\r":e));c=0}}}for(var f=e.splitLines(t),p=r&&r.state||e.startState(o),h=0,d=f.length;h<d;++h){h&&i("\n");var g=new e.StringStream(f[h]);!g.string&&o.blankLine&&o.blankLine(p);for(;!g.eol();){var m=o.token(g,p);i(g.current(),m,h,g.start,p);g.start=g.pos}}}})},{"../../lib/codemirror":17}],16:[function(e,t,n){(function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";function t(e,t,r,o){this.atOccurrence=!1;this.doc=e;null==o&&"string"==typeof t&&(o=!1);r=r?e.clipPos(r):i(0,0);this.pos={from:r,to:r};if("string"!=typeof t){t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g"));this.matches=function(n,r){if(n){t.lastIndex=0;for(var o,s,a=e.getLine(r.line).slice(0,r.ch),l=0;;){t.lastIndex=l;var u=t.exec(a);if(!u)break;o=u;s=o.index;l=o.index+(o[0].length||1);if(l==a.length)break}var c=o&&o[0].length||0;c||(0==s&&0==a.length?o=void 0:s!=e.getLine(r.line).length&&c++)}else{t.lastIndex=r.ch;var a=e.getLine(r.line),o=t.exec(a),c=o&&o[0].length||0,s=o&&o.index;s+c==a.length||c||(c=1)}if(o&&c)return{from:i(r.line,s),to:i(r.line,s+c),match:o}}}else{var s=t;o&&(t=t.toLowerCase());var a=o?function(e){return e.toLowerCase()}:function(e){return e},l=t.split("\n");if(1==l.length)t.length?this.matches=function(r,o){if(r){var l=e.getLine(o.line).slice(0,o.ch),u=a(l),c=u.lastIndexOf(t);if(c>-1){c=n(l,u,c);return{from:i(o.line,c),to:i(o.line,c+s.length)}}}else{var l=e.getLine(o.line).slice(o.ch),u=a(l),c=u.indexOf(t);if(c>-1){c=n(l,u,c)+o.ch;return{from:i(o.line,c),to:i(o.line,c+s.length)}}}}:this.matches=function(){};else{var u=s.split("\n");this.matches=function(t,n){var r=l.length-1;if(t){if(n.line-(l.length-1)<e.firstLine())return;if(a(e.getLine(n.line).slice(0,u[r].length))!=l[l.length-1])return;for(var o=i(n.line,u[r].length),s=n.line-1,c=r-1;c>=1;--c,--s)if(l[c]!=a(e.getLine(s)))return;var f=e.getLine(s),p=f.length-u[0].length;if(a(f.slice(p))!=l[0])return;return{from:i(s,p),to:o}}if(!(n.line+(l.length-1)>e.lastLine())){var f=e.getLine(n.line),p=f.length-u[0].length;if(a(f.slice(p))==l[0]){for(var h=i(n.line,p),s=n.line+1,c=1;c<r;++c,++s)if(l[c]!=a(e.getLine(s)))return;if(a(e.getLine(s).slice(0,u[r].length))==l[r])return{from:h,to:i(s,u[r].length)}}}}}}}function n(e,t,n){if(e.length==t.length)return n;for(var i=Math.min(n,e.length);;){var r=e.slice(0,i).toLowerCase().length;if(r<n)++i;else{if(!(r>n))return i;--i}}}var i=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=i(e,0);n.pos={from:t,to:t};n.atOccurrence=!1;return!1}for(var n=this,r=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,r)){this.atOccurrence=!0;return this.pos.match||!0}if(e){if(!r.line)return t(0);r=i(r.line-1,this.doc.getLine(r.line-1).length)}else{var o=this.doc.lineCount();if(r.line==o-1)return t(o);r=i(r.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n);this.pos.to=i(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}};e.defineExtension("getSearchCursor",function(e,n,i){return new t(this.doc,e,n,i)});e.defineDocExtension("getSearchCursor",function(e,n,i){return new t(this,e,n,i)});e.defineExtension("selectMatches",function(t,n){for(var i=[],r=this.getSearchCursor(t,this.getCursor("from"),n);r.findNext()&&!(e.cmpPos(r.to(),this.getCursor("to"))>0);)i.push({anchor:r.from(),head:r.to()});i.length&&this.setSelections(i,0)})})},{"../../lib/codemirror":17}],17:[function(e,t,n){(function(e){if("object"==typeof n&&"object"==typeof t)t.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}})(function(){"use strict";function e(n,i){if(!(this instanceof e))return new e(n,i);this.options=i=i?Br(i):{};Br(ts,i,!1);h(i);var r=i.value;"string"==typeof r&&(r=new Ss(r,i.mode,null,i.lineSeparator));this.doc=r;var o=new e.inputStyles[i.inputStyle](this),s=this.display=new t(n,r,o);s.wrapper.CodeMirror=this;u(this);a(this);i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");i.autofocus&&!Ao&&s.input.focus();v(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Rr,keySeq:null,specialChars:null};var l=this;xo&&_o<11&&setTimeout(function(){l.display.input.reset(!0)},20);zt(this);Kr();_t(this);this.curOp.forceUpdate=!0;Xi(this,r);i.autofocus&&!Ao||l.hasFocus()?setTimeout(qr(yn,this),20):bn(this);for(var c in ns)ns.hasOwnProperty(c)&&ns[c](this,i[c],is);E(this);i.finishInit&&i.finishInit(this);for(var f=0;f<as.length;++f)as[f](this);wt(this);Eo&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function t(e,t,n){var i=this;this.input=n;i.scrollbarFiller=zr("div",null,"CodeMirror-scrollbar-filler");i.scrollbarFiller.setAttribute("cm-not-content","true");i.gutterFiller=zr("div",null,"CodeMirror-gutter-filler");i.gutterFiller.setAttribute("cm-not-content","true");i.lineDiv=zr("div",null,"CodeMirror-code");i.selectionDiv=zr("div",null,null,"position: relative; z-index: 1");i.cursorDiv=zr("div",null,"CodeMirror-cursors");i.measure=zr("div",null,"CodeMirror-measure");i.lineMeasure=zr("div",null,"CodeMirror-measure");i.lineSpace=zr("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");i.mover=zr("div",[zr("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative");i.sizer=zr("div",[i.mover],"CodeMirror-sizer");i.sizerWidth=null;i.heightForcer=zr("div",null,null,"position: absolute; height: "+Ds+"px; width: 1px;");i.gutters=zr("div",null,"CodeMirror-gutters");i.lineGutter=null;i.scroller=zr("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll");i.scroller.setAttribute("tabIndex","-1");i.wrapper=zr("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror");if(xo&&_o<8){i.gutters.style.zIndex=-1;i.scroller.style.paddingRight=0}Eo||vo&&Ao||(i.scroller.draggable=!0);e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper));i.viewFrom=i.viewTo=t.first;i.reportedViewFrom=i.reportedViewTo=t.first;i.view=[];i.renderedView=null;i.externalMeasured=null;i.viewOffset=0;i.lastWrapHeight=i.lastWrapWidth=0;i.updateLineNumbers=null;i.nativeBarWidth=i.barHeight=i.barWidth=0;i.scrollbarsClipped=!1;i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null;i.alignWidgets=!1;i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null;i.maxLine=null;i.maxLineLength=0;i.maxLineChanged=!1;i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null;i.shift=!1;i.selForContextMenu=null;i.activeTouch=null;n.init(i)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption);i(t)}function i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null);e.styles&&(e.styles=null)});e.doc.frontier=e.doc.first;qe(e,100);e.state.modeGen++;e.curOp&&Dt(e)}function r(e){if(e.options.lineWrapping){Js(e.display.wrapper,"CodeMirror-wrap");e.display.sizer.style.minWidth="";e.display.sizerWidth=null}else{Qs(e.display.wrapper,"CodeMirror-wrap");p(e)}s(e);Dt(e);lt(e);setTimeout(function(){y(e)},100)}function o(e){var t=bt(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/xt(e.display)-3);return function(r){if(wi(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function s(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&tr(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-");lt(e)}function l(e){u(e);Dt(e);setTimeout(function(){_(e)},20)}function u(e){var t=e.display.gutters,n=e.options.gutters;Hr(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(zr("div",null,"CodeMirror-gutter "+r));if("CodeMirror-linenumbers"==r){e.display.lineGutter=o;o.style.width=(e.display.lineNumWidth||1)+"px"}}t.style.display=i?"":"none";c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function f(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=mi(i);){var r=t.find(0,!0);i=r.from.line;n+=r.from.ch-r.to.ch}i=e;for(;t=vi(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch;i=r.to.line;n+=i.text.length-r.to.ch}return n}function p(e){var t=e.display,n=e.doc;t.maxLine=Qi(n,n.first);t.maxLineLength=f(t.maxLine);t.maxLineChanged=!0;n.iter(function(e){var n=f(e);if(n>t.maxLineLength){t.maxLineLength=n;t.maxLine=e}})}function h(e){var t=kr(e.gutters,"CodeMirror-linenumbers");if(t==-1&&e.lineNumbers)e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]);else if(t>-1&&!e.lineNumbers){e.gutters=e.gutters.slice(0);e.gutters.splice(t,1)}}function d(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+He(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+We(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function g(e,t,n){this.cm=n;var i=this.vert=zr("div",[zr("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=zr("div",[zr("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i);e(r);Rs(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")});Rs(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;xo&&_o<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function m(){}function v(t){if(t.display.scrollbars){t.display.scrollbars.clear();t.display.scrollbars.addClass&&Qs(t.display.wrapper,t.display.scrollbars.addClass)}t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller);Rs(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)});e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?sn(t,e):on(t,e)},t);t.display.scrollbars.addClass&&Js(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=d(e));var n=e.display.barWidth,i=e.display.barHeight;b(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++){n!=e.display.barWidth&&e.options.lineWrapping&&R(e);b(e,d(e));n=e.display.barWidth;i=e.display.barHeight}}function b(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px";n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px";n.heightForcer.style.borderBottom=i.bottom+"px solid transparent";if(i.right&&i.bottom){n.scrollbarFiller.style.display="block";n.scrollbarFiller.style.height=i.bottom+"px";n.scrollbarFiller.style.width=i.right+"px"}else n.scrollbarFiller.style.display="";if(i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter){n.gutterFiller.style.display="block";n.gutterFiller.style.height=i.bottom+"px";n.gutterFiller.style.width=t.gutterWidth+"px"}else n.gutterFiller.style.display=""}function x(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-ze(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=ir(t,i),s=ir(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;if(a<o){o=a;s=ir(t,rr(Qi(t,a))+e.wrapper.clientHeight)}else if(Math.min(l,t.lastLine())>=s){o=ir(t,rr(Qi(t,l))-e.wrapper.clientHeight);s=l}}return{from:o,to:Math.max(s,o+1)}}function _(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=T(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function E(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=w(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(zr("div",[zr("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;i.lineGutter.style.width="";i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1;i.lineNumWidth=i.lineNumInnerWidth+s;i.lineNumChars=i.lineNumInnerWidth?n.length:-1;i.lineGutter.style.width=i.lineNumWidth+"px";c(e);return!0}return!1}function w(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber));
}function T(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function S(e,t,n){var i=e.display;this.viewport=t;this.visible=x(i,e.doc,t);this.editorIsHidden=!i.wrapper.offsetWidth;this.wrapperHeight=i.wrapper.clientHeight;this.wrapperWidth=i.wrapper.clientWidth;this.oldDisplayWidth=Ye(e);this.force=n;this.dims=P(e);this.events=[]}function C(e){var t=e.display;if(!t.scrollbarsClipped&&t.scroller.offsetWidth){t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth;t.heightForcer.style.height=We(e)+"px";t.sizer.style.marginBottom=-t.nativeBarWidth+"px";t.sizer.style.borderRightWidth=We(e)+"px";t.scrollbarsClipped=!0}}function L(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden){Bt(e);return!1}if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Gt(e))return!1;if(E(e)){Bt(e);t.dims=P(e)}var r=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom));n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo));if(Bo){o=_i(e.doc,o);s=Ei(e.doc,s)}var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Ft(e,o,s);n.viewOffset=rr(Qi(e.doc,n.viewFrom));e.display.mover.style.top=n.viewOffset+"px";var l=Gt(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Wr();l>4&&(n.lineDiv.style.display="none");k(e,n.updateLineNumbers,t.dims);l>4&&(n.lineDiv.style.display="");n.renderedView=n.view;u&&Wr()!=u&&u.offsetHeight&&u.focus();Hr(n.cursorDiv);Hr(n.selectionDiv);n.gutters.style.height=n.sizer.style.minHeight=0;if(a){n.lastWrapHeight=t.wrapperHeight;n.lastWrapWidth=t.wrapperWidth;qe(e,400)}n.updateLineNumbers=null;return!0}function N(e,t){for(var n=t.viewport,i=!0;;i=!1){if(!i||!e.options.lineWrapping||t.oldDisplayWidth==Ye(e)){n&&null!=n.top&&(n={top:Math.min(e.doc.height+He(e.display)-Ze(e),n.top)});t.visible=x(e.display,e.doc,n);if(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}if(!L(e,t))break;R(e);var r=d(e);ke(e);y(e,r);A(e,r)}t.signal(e,"update",e);if(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo){t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo);e.display.reportedViewFrom=e.display.viewFrom;e.display.reportedViewTo=e.display.viewTo}}function I(e,t){var n=new S(e,t);if(L(e,n)){R(e);N(e,n);var i=d(e);ke(e);y(e,i);A(e,i);n.finish()}}function A(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";e.display.heightForcer.style.top=t.docHeight+"px";e.display.gutters.style.height=t.docHeight+e.display.barHeight+We(e)+"px"}function R(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,o=t.view[i];if(!o.hidden){if(xo&&_o<8){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n;n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;r<2&&(r=bt(t));if(l>.001||l<-.001){tr(o.line,r);O(o.line);if(o.rest)for(var u=0;u<o.rest.length;u++)O(o.rest[u])}}}}function O(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function P(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s){n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r;i[e.options.gutters[s]]=o.clientWidth}return{fixedPos:T(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function k(e,t,n){function i(t){var n=t.nextSibling;Eo&&Ro&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t);return n}for(var r=e.display,o=e.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,u=r.viewFrom,c=0;c<l.length;c++){var f=l[c];if(f.hidden);else if(f.node&&f.node.parentNode==s){for(;a!=f.node;)a=i(a);var p=o&&null!=t&&t<=u&&f.lineNumber;if(f.changes){kr(f.changes,"gutter")>-1&&(p=!1);M(e,f,u,n)}if(p){Hr(f.lineNumber);f.lineNumber.appendChild(document.createTextNode(w(e.options,u)))}a=f.node.nextSibling}else{var h=z(e,f,u,n);s.insertBefore(h,a)}u+=f.size}for(;a;)a=i(a)}function M(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?q(e,t):"gutter"==o?F(e,t,n,i):"class"==o?U(t):"widget"==o&&G(e,t,i)}t.changes=null}function D(e){if(e.node==e.text){e.node=zr("div",null,null,"position: relative");e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text);e.node.appendChild(e.text);xo&&_o<8&&(e.node.style.zIndex=2)}return e.node}function j(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;t&&(t+=" CodeMirror-linebackground");if(e.background)if(t)e.background.className=t;else{e.background.parentNode.removeChild(e.background);e.background=null}else if(t){var n=D(e);e.background=n.insertBefore(zr("div",null,t),n.firstChild)}}function B(e,t){var n=e.display.externalMeasured;if(n&&n.line==t.line){e.display.externalMeasured=null;t.measure=n.measure;return n.built}return qi(e,t)}function q(e,t){var n=t.text.className,i=B(e,t);t.text==t.node&&(t.node=i.pre);t.text.parentNode.replaceChild(i.pre,t.text);t.text=i.pre;if(i.bgClass!=t.bgClass||i.textClass!=t.textClass){t.bgClass=i.bgClass;t.textClass=i.textClass;U(t)}else n&&(t.text.className=n)}function U(e){j(e);e.line.wrapClass?D(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function F(e,t,n,i){if(t.gutter){t.node.removeChild(t.gutter);t.gutter=null}if(t.gutterBackground){t.node.removeChild(t.gutterBackground);t.gutterBackground=null}if(t.line.gutterClass){var r=D(t);t.gutterBackground=zr("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px");r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var r=D(t),s=t.gutter=zr("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");e.display.input.setUneditable(s);r.insertBefore(s,t.text);t.line.gutterClass&&(s.className+=" "+t.line.gutterClass);!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(zr("div",w(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px")));if(o)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],u=o.hasOwnProperty(l)&&o[l];u&&s.appendChild(zr("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function G(e,t,n){t.alignable&&(t.alignable=null);for(var i,r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}H(e,t,n)}function z(e,t,n,i){var r=B(e,t);t.text=t.node=r.pre;r.bgClass&&(t.bgClass=r.bgClass);r.textClass&&(t.textClass=r.textClass);U(t);F(e,t,n,i);H(e,t,i);return t.node}function H(e,t,n){V(e,t.line,t,n,!0);if(t.rest)for(var i=0;i<t.rest.length;i++)V(e,t.rest[i],t,n,!1)}function V(e,t,n,i,r){if(t.widgets)for(var o=D(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],u=zr("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true");W(l,u,n,i);e.display.input.setUneditable(u);r&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u);Sr(l,"redraw")}}function W(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px";if(!e.coverGutter){r-=i.gutterTotalWidth;t.style.paddingLeft=i.gutterTotalWidth+"px"}t.style.width=r+"px"}if(e.coverGutter){t.style.zIndex=5;t.style.position="relative";e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px")}}function Y(e){return qo(e.line,e.ch)}function Z(e,t){return Uo(e,t)<0?t:e}function $(e,t){return Uo(e,t)<0?e:t}function K(e){if(!e.state.focused){e.display.input.focus();yn(e)}}function X(e,t,n,i,r){var o=e.doc;e.display.shift=!1;i||(i=o.sel);var s=e.state.pasteIncoming||"paste"==r,a=o.splitLines(t),l=null;if(s&&i.ranges.length>1)if(Fo&&Fo.text.join("\n")==t){if(i.ranges.length%Fo.text.length==0){l=[];for(var u=0;u<Fo.text.length;u++)l.push(o.splitLines(Fo.text[u]))}}else a.length==i.ranges.length&&(l=Mr(a,function(e){return[e]}));for(var u=i.ranges.length-1;u>=0;u--){var c=i.ranges[u],f=c.from(),p=c.to();c.empty()&&(n&&n>0?f=qo(f.line,f.ch-n):e.state.overwrite&&!s?p=qo(p.line,Math.min(Qi(o,p.line).text.length,p.ch+Pr(a).length)):Fo&&Fo.lineWise&&Fo.text.join("\n")==t&&(f=p=qo(f.line,0)));var h=e.curOp.updateInput,d={from:f,to:p,text:l?l[u%l.length]:a,origin:r||(s?"paste":e.state.cutIncoming?"cut":"+input")};Ln(e.doc,d);Sr(e,"inputRead",e,d)}t&&!s&&J(e,t);qn(e);e.curOp.updateInput=h;e.curOp.typing=!0;e.state.pasteIncoming=e.state.cutIncoming=!1}function Q(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");if(n){e.preventDefault();t.isReadOnly()||t.options.disableInput||At(t,function(){X(t,n,0,null,"paste")});return!0}}function J(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Fn(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qi(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Fn(e,r.head.line,"smart"));s&&Sr(e,"electricInput",e,r.head.line)}}}function ee(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:qo(r,0),head:qo(r+1,0)};n.push(o);t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function te(e){e.setAttribute("autocorrect","off");e.setAttribute("autocapitalize","off");e.setAttribute("spellcheck","false")}function ne(e){this.cm=e;this.prevInput="";this.pollingFast=!1;this.polling=new Rr;this.inaccurateSelection=!1;this.hasSelection=!1;this.composing=null}function ie(){var e=zr("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=zr("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Eo?e.style.width="1000px":e.setAttribute("wrap","off");Io&&(e.style.border="1px solid black");te(e);return t}function re(e){this.cm=e;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Rr;this.gracePeriod=!1}function oe(e,t){var n=Je(e,t.line);if(!n||n.hidden)return null;var i=Qi(e.doc,t.line),r=Ke(n,i,t.line),o=or(i),s="left";if(o){var a=co(o,t.ch);s=a%2?"right":"left"}var l=nt(r.map,t.ch,s);l.offset="right"==l.collapse?l.end:l.start;return l}function se(e,t){t&&(e.bad=!0);return e}function ae(e,t,n){var i;if(t==e.display.lineDiv){i=e.display.lineDiv.childNodes[n];if(!i)return se(e.clipPos(qo(e.display.viewTo-1)),!0);t=null;n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return le(o,t,n)}}function le(e,t,n){function i(t,n,i){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?u.map:c[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var l=nr(r<0?e.line:e.rest[r]),f=o[s]+i;(i<0||a!=t)&&(f=o[s+(i?1:0)]);return qo(l,f)}}}var r=e.text.firstChild,o=!1;if(!t||!$s(r,t))return se(qo(nr(e.line),0),!0);if(t==r){o=!0;t=r.childNodes[n];n=0;if(!t){var s=e.rest?Pr(e.rest):e.line;return se(qo(nr(s),s.text.length),o)}}var a=3==t.nodeType?t:null,l=t;if(!a&&1==t.childNodes.length&&3==t.firstChild.nodeType){a=t.firstChild;n&&(n=a.nodeValue.length)}for(;l.parentNode!=r;)l=l.parentNode;var u=e.measure,c=u.maps,f=i(a,l,n);if(f)return se(f,o);for(var p=l.nextSibling,h=a?a.nodeValue.length-n:0;p;p=p.nextSibling){f=i(p,p.firstChild,0);if(f)return se(qo(f.line,f.ch-h),o);h+=p.textContent.length}for(var d=l.previousSibling,h=n;d;d=d.previousSibling){f=i(d,d.firstChild,-1);if(f)return se(qo(f.line,f.ch+h),o);h+=p.textContent.length}}function ue(e,t,n,i,r){function o(e){return function(t){return t.id==e}}function s(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n){""==n&&(n=t.textContent.replace(/\u200b/g,""));a+=n;return}var c,f=t.getAttribute("cm-marker");if(f){var p=e.findMarks(qo(i,0),qo(r+1,0),o(+f));p.length&&(c=p[0].find())&&(a+=Ji(e.doc,c.from,c.to).join(u));return}if("false"==t.getAttribute("contenteditable"))return;for(var h=0;h<t.childNodes.length;h++)s(t.childNodes[h]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var d=t.nodeValue;if(!d)return;if(l){a+=u;l=!1}a+=d}}for(var a="",l=!1,u=e.doc.lineSeparator();;){s(t);if(t==n)break;t=t.nextSibling}return a}function ce(e,t){this.ranges=e;this.primIndex=t}function fe(e,t){this.anchor=e;this.head=t}function pe(e,t){var n=e[t];e.sort(function(e,t){return Uo(e.from(),t.from())});t=kr(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(Uo(o.to(),r.from())>=0){var s=$(o.from(),r.from()),a=Z(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=t&&--t;e.splice(--i,2,new fe(l?a:s,l?s:a))}}return new ce(e,t)}function he(e,t){return new ce([new fe(e,t||e)],0)}function de(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ge(e,t){if(t.line<e.first)return qo(e.first,0);var n=e.first+e.size-1;return t.line>n?qo(n,Qi(e,n).text.length):me(t,Qi(e,t.line).text.length)}function me(e,t){var n=e.ch;return null==n||n>t?qo(e.line,t):n<0?qo(e.line,0):e}function ve(e,t){return t>=e.first&&t<e.first+e.size}function ye(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=ge(e,t[i]);return n}function be(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var o=Uo(n,r)<0;if(o!=Uo(i,r)<0){r=n;n=i}else o!=Uo(n,i)<0&&(n=i)}return new fe(r,n)}return new fe(i||n,n)}function xe(e,t,n,i){Ce(e,new ce([be(e,e.sel.primary(),t,n)],0),i)}function _e(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=be(e,e.sel.ranges[r],t[r],null);var o=pe(i,e.sel.primIndex);Ce(e,o,n)}function Ee(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n;Ce(e,pe(r,e.sel.primIndex),i)}function we(e,t,n,i){Ce(e,he(t,n),i)}function Te(e,t,n){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new fe(ge(e,t[n].anchor),ge(e,t[n].head))},origin:n&&n.origin};ks(e,"beforeSelectionChange",e,i);e.cm&&ks(e.cm,"beforeSelectionChange",e.cm,i);return i.ranges!=t.ranges?pe(i.ranges,i.ranges.length-1):t}function Se(e,t,n){var i=e.history.done,r=Pr(i);if(r&&r.ranges){i[i.length-1]=t;Le(e,t,n)}else Ce(e,t,n)}function Ce(e,t,n){Le(e,t,n);pr(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Le(e,t,n){(Ir(e,"beforeSelectionChange")||e.cm&&Ir(e.cm,"beforeSelectionChange"))&&(t=Te(e,t,n));var i=n&&n.bias||(Uo(t.primary().head,e.sel.primary().head)<0?-1:1);Ne(e,Ae(e,t,i,!0));n&&n.scroll===!1||!e.cm||qn(e.cm)}function Ne(e,t){if(!t.equals(e.sel)){e.sel=t;if(e.cm){e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0;Nr(e.cm)}Sr(e,"cursorActivity",e)}}function Ie(e){Ne(e,Ae(e,e.sel,null,!1),Bs)}function Ae(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Oe(e,s.anchor,a&&a.anchor,n,i),u=Oe(e,s.head,a&&a.head,n,i);if(r||l!=s.anchor||u!=s.head){r||(r=t.ranges.slice(0,o));r[o]=new fe(l,u)}}return r?pe(r,t.primIndex):t}function Re(e,t,n,i,r){var o=Qi(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r){ks(l,"beforeCursorEnter");if(l.explicitlyCleared){if(o.markedSpans){--s;continue}break}}if(!l.atomic)continue;if(n){var u,c=l.find(i<0?1:-1);(i<0?l.inclusiveRight:l.inclusiveLeft)&&(c=Pe(e,c,-i,c&&c.line==t.line?o:null));if(c&&c.line==t.line&&(u=Uo(c,n))&&(i<0?u<0:u>0))return Re(e,c,t,i,r)}var f=l.find(i<0?-1:1);(i<0?l.inclusiveLeft:l.inclusiveRight)&&(f=Pe(e,f,i,f.line==t.line?o:null));return f?Re(e,f,t,i,r):null}}return t}function Oe(e,t,n,i,r){var o=i||1,s=Re(e,t,n,o,r)||!r&&Re(e,t,n,o,!0)||Re(e,t,n,-o,r)||!r&&Re(e,t,n,-o,!0);if(!s){e.cantEdit=!0;return qo(e.first,0)}return s}function Pe(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?ge(e,qo(t.line-1)):null:n>0&&t.ch==(i||Qi(e,t.line)).text.length?t.line<e.first+e.size-1?qo(t.line+1,0):null:new qo(t.line,t.ch+n)}function ke(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Me(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t!==!1||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&De(e,a.head,r);l||je(e,a,o)}}return i}function De(e,t,n){var i=dt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(zr("div"," ","CodeMirror-cursor"));r.style.left=i.left+"px";r.style.top=i.top+"px";r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px";if(i.other){var o=n.appendChild(zr("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="";o.style.left=i.other.left+"px";o.style.top=i.other.top+"px";o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function je(e,t,n){function i(e,t,n,i){t<0&&(t=0);t=Math.round(t);i=Math.round(i);a.appendChild(zr("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?c-e:n)+"px; height: "+(i-t)+"px"))}function r(t,n,r){function o(n,i){return ht(e,qo(t,n),"div",f,i)}var a,l,f=Qi(s,t),p=f.text.length;to(or(f),n||0,null==r?p:r,function(e,t,s){var f,h,d,g=o(e,"left");if(e==t){f=g;h=d=g.left}else{f=o(t-1,"right");if("rtl"==s){var m=g;g=f;f=m}h=g.left;d=f.right}null==n&&0==e&&(h=u);if(f.top-g.top>3){i(h,g.top,null,g.bottom);h=u;g.bottom<f.top&&i(h,g.bottom,null,f.top)}null==r&&t==p&&(d=c);(!a||g.top<a.top||g.top==a.top&&g.left<a.left)&&(a=g);(!l||f.bottom>l.bottom||f.bottom==l.bottom&&f.right>l.right)&&(l=f);h<u+1&&(h=u);i(h,f.top,d-h,f.bottom)});return{start:a,end:l}}var o=e.display,s=e.doc,a=document.createDocumentFragment(),l=Ve(e.display),u=l.left,c=Math.max(o.sizerWidth,Ye(e)-o.sizer.offsetLeft)-l.right,f=t.from(),p=t.to();if(f.line==p.line)r(f.line,f.ch,p.ch);else{var h=Qi(s,f.line),d=Qi(s,p.line),g=bi(h)==bi(d),m=r(f.line,f.ch,g?h.text.length+1:null).end,v=r(p.line,g?0:null,p.ch).start;if(g)if(m.top<v.top-2){i(m.right,m.top,null,m.bottom);i(u,v.top,v.left,v.bottom)}else i(m.right,m.top,v.left-m.right,m.bottom);m.bottom<v.top&&i(u,m.bottom,null,v.top)}n.appendChild(a)}function Be(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="";e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function qe(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,qr(Ue,e))}function Ue(e){var t=e.doc;t.frontier<t.first&&(t.frontier=t.first);if(!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=us(t.mode,Ge(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength,l=Mi(e,o,a?us(t.mode,i):i,!0);o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!s||s.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),p=0;!f&&p<s.length;++p)f=s[p]!=o.styles[p];f&&r.push(t.frontier);o.stateAfter=a?i:us(t.mode,i)}else{o.text.length<=e.options.maxHighlightLength&&ji(e,o.text,i);o.stateAfter=t.frontier%5==0?us(t.mode,i):null}++t.frontier;if(+new Date>n){qe(e,e.options.workDelay);return!0}});r.length&&At(e,function(){for(var t=0;t<r.length;t++)jt(e,r[t],"text")})}}function Fe(e,t,n){for(var i,r,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Qi(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var u=Fs(l.text,null,e.options.tabSize);if(null==r||i>u){r=a-1;i=u}}return r}function Ge(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var o=Fe(e,t,n),s=o>i.first&&Qi(i,o-1).stateAfter;s=s?us(i.mode,s):cs(i.mode);i.iter(o,t,function(n){ji(e,n.text,s);var a=o==t-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?us(i.mode,s):null;++o});n&&(i.frontier=o);return s}function ze(e){return e.lineSpace.offsetTop}function He(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ve(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Vr(e.measure,zr("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i);return i}function We(e){return Ds-e.display.nativeBarWidth}function Ye(e){return e.display.scroller.clientWidth-We(e)-e.display.barWidth}function Ze(e){return e.display.scroller.clientHeight-We(e)-e.display.barHeight}function $e(e,t,n){var i=e.options.lineWrapping,r=i&&Ye(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],u=s[a+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Ke(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(nr(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Xe(e,t){t=bi(t);var n=nr(t),i=e.display.externalMeasured=new kt(e.doc,t,n);i.lineN=n;var r=i.built=qi(e,i);i.text=r.pre;Vr(e.display.lineMeasure,r.pre);return i}function Qe(e,t,n,i){return tt(e,et(e,t),n,i)}function Je(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[qt(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function et(e,t){var n=nr(t),i=Je(e,n);if(i&&!i.text)i=null;else if(i&&i.changes){M(e,i,n,P(e));e.curOp.forceUpdate=!0}i||(i=Xe(e,t));var r=Ke(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function tt(e,t,n,i,r){t.before&&(n=-1);var o,s=n+(i||"");if(t.cache.hasOwnProperty(s))o=t.cache[s];else{t.rect||(t.rect=t.view.text.getBoundingClientRect());if(!t.hasHeights){$e(e,t.view,t.rect);t.hasHeights=!0}o=rt(e,t,n,i);o.bogus||(t.cache[s]=o)}return{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function nt(e,t,n){for(var i,r,o,s,a=0;a<e.length;a+=3){var l=e[a],u=e[a+1];if(t<l){r=0;o=1;s="left"}else if(t<u){r=t-l;o=r+1}else if(a==e.length-3||t==u&&e[a+3]>t){o=u-l;r=o-1;t>=u&&(s="right")}if(null!=r){i=e[a+2];l==u&&n==(i.insertLeft?"left":"right")&&(s=n);if("left"==n&&0==r)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;){i=e[(a-=3)+2];s="left"}if("right"==n&&r==u-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;){i=e[(a+=3)+2];s="right"}break}}return{node:i,start:r,end:o,collapse:s,coverStart:l,coverEnd:u}}function it(e,t){var n=Vo;if("left"==t)for(var i=0;i<e.length&&(n=e[i]).left==n.right;i++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function rt(e,t,n,i){var r,o=nt(t.map,n,i),s=o.node,a=o.start,l=o.end,u=o.collapse;if(3==s.nodeType){for(var c=0;c<4;c++){for(;a&&Gr(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&Gr(t.line.text.charAt(o.coverStart+l));)++l;r=xo&&_o<9&&0==a&&l==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():it(Vs(s,a,l).getClientRects(),i);if(r.left||r.right||0==a)break;l=a;a-=1;u="right"}xo&&_o<11&&(r=ot(e.display.measure,r))}else{a>0&&(u=i="right");var f;r=e.options.lineWrapping&&(f=s.getClientRects()).length>1?f["right"==i?f.length-1:0]:s.getBoundingClientRect()}if(xo&&_o<9&&!a&&(!r||!r.left&&!r.right)){var p=s.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+xt(e.display),top:p.top,bottom:p.bottom}:Vo}for(var h=r.top-t.rect.top,d=r.bottom-t.rect.top,g=(h+d)/2,m=t.view.measure.heights,c=0;c<m.length-1&&!(g<m[c]);c++);var v=c?m[c-1]:0,y=m[c],b={left:("right"==u?r.right:r.left)-t.rect.left,right:("left"==u?r.left:r.right)-t.rect.left,top:v,bottom:y};r.left||r.right||(b.bogus=!0);if(!e.options.singleCursorHeightPerLine){b.rtop=h;b.rbottom=d}return b}function ot(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!eo(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function st(e){if(e.measure){e.measure.cache={};e.measure.heights=null;if(e.rest)for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}}function at(e){e.display.externalMeasure=null;Hr(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)st(e.display.view[t])}function lt(e){at(e);e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null;e.options.lineWrapping||(e.display.maxLineChanged=!0);e.display.lineNumChars=null}function ut(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ct(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ft(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var o=Ci(t.widgets[r]);n.top+=o;n.bottom+=o}if("line"==i)return n;i||(i="local");var s=rr(t);"local"==i?s+=ze(e.display):s-=e.display.viewOffset;if("page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:ct());var l=a.left+("window"==i?0:ut());n.left+=l;n.right+=l}n.top+=s;n.bottom+=s;return n}function pt(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n){i-=ut();r-=ct()}else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left;r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function ht(e,t,n,i,r){i||(i=Qi(e.doc,t.line));return ft(e,i,Qe(e,i,t.ch,r),n)}function dt(e,t,n,i,r,o){function s(t,s){var a=tt(e,r,t,s?"right":"left",o);s?a.left=a.right:a.right=a.left;return ft(e,i,a,n)}function a(e,t){var n=l[t],i=n.level%2;if(e==no(n)&&t&&n.level<l[t-1].level){n=l[--t];e=io(n)-(n.level%2?0:1);i=!0}else if(e==io(n)&&t<l.length-1&&n.level<l[t+1].level){n=l[++t];e=no(n)-n.level%2;i=!1}return i&&e==n.to&&e>n.from?s(e-1):s(e,i)}i=i||Qi(e.doc,t.line);r||(r=et(e,i));var l=or(i),u=t.ch;if(!l)return s(u);var c=co(l,u),f=a(u,c);null!=aa&&(f.other=a(u,aa));return f}function gt(e,t){var n=0,t=ge(e.doc,t);e.options.lineWrapping||(n=xt(e.display)*t.ch);var i=Qi(e.doc,t.line),r=rr(i)+ze(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function mt(e,t,n,i){var r=qo(e,t);r.xRel=i;n&&(r.outside=!0);return r}function vt(e,t,n){var i=e.doc;n+=e.display.viewOffset;if(n<0)return mt(i.first,0,!0,-1);var r=ir(i,n),o=i.first+i.size-1;if(r>o)return mt(i.first+i.size-1,Qi(i,o).text.length,!0,1);t<0&&(t=0);for(var s=Qi(i,r);;){var a=yt(e,s,r,t,n),l=vi(s),u=l&&l.find(0,!0);if(!l||!(a.ch>u.from.ch||a.ch==u.from.ch&&a.xRel>0))return a;r=nr(s=u.to.line)}}function yt(e,t,n,i,r){function o(i){var r=dt(e,qo(n,i),"line",t,u);a=!0;if(s>r.bottom)return r.left-l;if(s<r.top)return r.left+l;a=!1;return r.left}var s=r-rr(t),a=!1,l=2*e.display.wrapper.clientWidth,u=et(e,t),c=or(t),f=t.text.length,p=ro(t),h=oo(t),d=o(p),g=a,m=o(h),v=a;if(i>m)return mt(n,h,v,1);for(;;){if(c?h==p||h==po(t,p,1):h-p<=1){var y=i<d||i-d<=m-i?p:h,b=y==p?g:v,x=i-(y==p?d:m);if(v&&!c&&!/\s/.test(t.text.charAt(y))&&x>0&&y<t.text.length&&u.view.measure.heights.length>1){var _=tt(e,u,y,"right");if(s<=_.bottom&&s>=_.top&&Math.abs(i-_.right)<x){b=!1;y++;x=i-_.right}}for(;Gr(t.text.charAt(y));)++y;var E=mt(n,y,b,x<-1?-1:x>1?1:0);return E}var w=Math.ceil(f/2),T=p+w;if(c){T=p;for(var S=0;S<w;++S)T=po(t,T,1)}var C=o(T);if(C>i){h=T;m=C;(v=a)&&(m+=1e3);f=w}else{p=T;d=C;g=a;f-=w}}}function bt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Go){Go=zr("pre");for(var t=0;t<49;++t){Go.appendChild(document.createTextNode("x"));Go.appendChild(zr("br"))}Go.appendChild(document.createTextNode("x"))}Vr(e.measure,Go);var n=Go.offsetHeight/50;n>3&&(e.cachedTextHeight=n);Hr(e.measure);return n||1}function xt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=zr("span","xxxxxxxxxx"),n=zr("pre",[t]);Vr(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;r>2&&(e.cachedCharWidth=r);return r||10}function _t(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Yo};Wo?Wo.ops.push(e.curOp):e.curOp.ownsGroup=Wo={ops:[e.curOp],delayedCallbacks:[]}}function Et(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}function wt(e){var t=e.curOp,n=t.ownsGroup;if(n)try{Et(n)}finally{Wo=null;for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;Tt(n)}}function Tt(e){for(var t=e.ops,n=0;n<t.length;n++)St(t[n]);for(var n=0;n<t.length;n++)Ct(t[n]);for(var n=0;n<t.length;n++)Lt(t[n]);for(var n=0;n<t.length;n++)Nt(t[n]);for(var n=0;n<t.length;n++)It(t[n])}function St(e){var t=e.cm,n=t.display;C(t);e.updateMaxLine&&p(t);e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping;e.update=e.mustUpdate&&new S(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ct(e){e.updatedDisplay=e.mustUpdate&&L(e.cm,e.update)}function Lt(e){var t=e.cm,n=t.display;e.updatedDisplay&&R(t);e.barMeasure=d(t);if(n.maxLineChanged&&!t.options.lineWrapping){e.adjustWidthTo=Qe(t,n.maxLine,n.maxLine.text.length).left+3;t.display.sizerWidth=e.adjustWidthTo;e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+We(t)+t.display.barWidth);e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ye(t))}(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function Nt(e){var t=e.cm;if(null!=e.adjustWidthTo){t.display.sizer.style.minWidth=e.adjustWidthTo+"px";e.maxScrollLeft<t.doc.scrollLeft&&sn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0);t.display.maxLineChanged=!1}var n=e.focus&&e.focus==Wr()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n);(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure);e.updatedDisplay&&A(t,e.barMeasure);e.selectionChanged&&Be(t);t.state.focused&&e.updateInput&&t.display.input.reset(e.typing);n&&K(e.cm)}function It(e){var t=e.cm,n=t.display,i=t.doc;e.updatedDisplay&&N(t,e.update);null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null);if(null!=e.scrollTop&&(n.scroller.scrollTop!=e.scrollTop||e.forceScroll)){i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop));n.scrollbars.setScrollTop(i.scrollTop);n.scroller.scrollTop=i.scrollTop}if(null!=e.scrollLeft&&(n.scroller.scrollLeft!=e.scrollLeft||e.forceScroll)){i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft));n.scrollbars.setScrollLeft(i.scrollLeft);
n.scroller.scrollLeft=i.scrollLeft;_(t)}if(e.scrollToPos){var r=Mn(t,ge(i,e.scrollToPos.from),ge(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&kn(t,r)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||ks(o[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&ks(s[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop);e.changeObjs&&ks(t,"changes",t,e.changeObjs);e.update&&e.update.finish()}function At(e,t){if(e.curOp)return t();_t(e);try{return t()}finally{wt(e)}}function Rt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);_t(e);try{return t.apply(e,arguments)}finally{wt(e)}}}function Ot(e){return function(){if(this.curOp)return e.apply(this,arguments);_t(this);try{return e.apply(this,arguments)}finally{wt(this)}}}function Pt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);_t(t);try{return e.apply(this,arguments)}finally{wt(t)}}}function kt(e,t,n){this.line=t;this.rest=xi(t);this.size=this.rest?nr(Pr(this.rest))-n+1:1;this.node=this.text=null;this.hidden=wi(e,t)}function Mt(e,t,n){for(var i,r=[],o=t;o<n;o=i){var s=new kt(e.doc,Qi(e.doc,o),o);i=o+s.size;r.push(s)}return r}function Dt(e,t,n,i){null==t&&(t=e.doc.first);null==n&&(n=e.doc.first+e.doc.size);i||(i=0);var r=e.display;i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t);e.curOp.viewChanged=!0;if(t>=r.viewTo)Bo&&_i(e.doc,t)<r.viewTo&&Bt(e);else if(n<=r.viewFrom)if(Bo&&Ei(e.doc,n+i)>r.viewFrom)Bt(e);else{r.viewFrom+=i;r.viewTo+=i}else if(t<=r.viewFrom&&n>=r.viewTo)Bt(e);else if(t<=r.viewFrom){var o=Ut(e,n,n+i,1);if(o){r.view=r.view.slice(o.index);r.viewFrom=o.lineN;r.viewTo+=i}else Bt(e)}else if(n>=r.viewTo){var o=Ut(e,t,t,-1);if(o){r.view=r.view.slice(0,o.index);r.viewTo=o.lineN}else Bt(e)}else{var s=Ut(e,t,t,-1),a=Ut(e,n,n+i,1);if(s&&a){r.view=r.view.slice(0,s.index).concat(Mt(e,s.lineN,a.lineN)).concat(r.view.slice(a.index));r.viewTo+=i}else Bt(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function jt(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null);if(!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[qt(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);kr(s,n)==-1&&s.push(n)}}}function Bt(e){e.display.viewFrom=e.display.viewTo=e.doc.first;e.display.view=[];e.display.viewOffset=0}function qt(e,t){if(t>=e.display.viewTo)return null;t-=e.display.viewFrom;if(t<0)return null;for(var n=e.display.view,i=0;i<n.length;i++){t-=n[i].size;if(t<0)return i}}function Ut(e,t,n,i){var r,o=qt(e,t),s=e.display.view;if(!Bo||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=0,l=e.display.viewFrom;a<o;a++)l+=s[a].size;if(l!=t){if(i>0){if(o==s.length-1)return null;r=l+s[o].size-t;o++}else r=l-t;t+=r;n+=r}for(;_i(e.doc,n)!=n;){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size;o+=i}return{index:o,lineN:n}}function Ft(e,t,n){var i=e.display,r=i.view;if(0==r.length||t>=i.viewTo||n<=i.viewFrom){i.view=Mt(e,t,n);i.viewFrom=t}else{i.viewFrom>t?i.view=Mt(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(qt(e,t)));i.viewFrom=t;i.viewTo<n?i.view=i.view.concat(Mt(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,qt(e,n)))}i.viewTo=n}function Gt(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function zt(e){function t(){if(r.activeTouch){o=setTimeout(function(){r.activeTouch=null},1e3);s=r.activeTouch;s.end=+new Date}}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var r=e.display;Rs(r.scroller,"mousedown",Rt(e,Zt));xo&&_o<11?Rs(r.scroller,"dblclick",Rt(e,function(t){if(!Lr(e,t)){var n=Yt(e,t);if(n&&!Jt(e,t)&&!Wt(e.display,t)){Ns(t);var i=e.findWordAt(n);xe(e.doc,i.anchor,i.head)}}})):Rs(r.scroller,"dblclick",function(t){Lr(e,t)||Ns(t)});Do||Rs(r.scroller,"contextmenu",function(t){xn(e,t)});var o,s={end:0};Rs(r.scroller,"touchstart",function(t){if(!Lr(e,t)&&!n(t)){clearTimeout(o);var i=+new Date;r.activeTouch={start:i,moved:!1,prev:i-s.end<=300?s:null};if(1==t.touches.length){r.activeTouch.left=t.touches[0].pageX;r.activeTouch.top=t.touches[0].pageY}}});Rs(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)});Rs(r.scroller,"touchend",function(n){var o=r.activeTouch;if(o&&!Wt(r,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=e.coordsChar(r.activeTouch,"page");s=!o.prev||i(o,o.prev)?new fe(a,a):!o.prev.prev||i(o,o.prev.prev)?e.findWordAt(a):new fe(qo(a.line,0),ge(e.doc,qo(a.line+1,0)));e.setSelection(s.anchor,s.head);e.focus();Ns(n)}t()});Rs(r.scroller,"touchcancel",t);Rs(r.scroller,"scroll",function(){if(r.scroller.clientHeight){on(e,r.scroller.scrollTop);sn(e,r.scroller.scrollLeft,!0);ks(e,"scroll",e)}});Rs(r.scroller,"mousewheel",function(t){an(e,t)});Rs(r.scroller,"DOMMouseScroll",function(t){an(e,t)});Rs(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0});r.dragFunctions={enter:function(t){Lr(e,t)||As(t)},over:function(t){if(!Lr(e,t)){nn(e,t);As(t)}},start:function(t){tn(e,t)},drop:Rt(e,en),leave:function(t){Lr(e,t)||rn(e)}};var a=r.input.getField();Rs(a,"keyup",function(t){gn.call(e,t)});Rs(a,"keydown",Rt(e,hn));Rs(a,"keypress",Rt(e,mn));Rs(a,"focus",qr(yn,e));Rs(a,"blur",qr(bn,e))}function Ht(t,n,i){var r=i&&i!=e.Init;if(!n!=!r){var o=t.display.dragFunctions,s=n?Rs:Ps;s(t.display.scroller,"dragstart",o.start);s(t.display.scroller,"dragenter",o.enter);s(t.display.scroller,"dragover",o.over);s(t.display.scroller,"dragleave",o.leave);s(t.display.scroller,"drop",o.drop)}}function Vt(e){var t=e.display;if(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth){t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null;t.scrollbarsClipped=!1;e.setSize()}}function Wt(e,t){for(var n=Er(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Yt(e,t,n,i){var r=e.display;if(!n&&"true"==Er(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left;s=t.clientY-a.top}catch(t){return null}var l,u=vt(e,o,s);if(i&&1==u.xRel&&(l=Qi(e.doc,u.line).text).length==u.ch){var c=Fs(l,l.length,e.options.tabSize)-l.length;u=qo(u.line,Math.max(0,Math.round((o-Ve(e.display).left)/xt(e.display))-c))}return u}function Zt(e){var t=this,n=t.display;if(!(Lr(t,e)||n.activeTouch&&n.input.supportsTouch())){n.shift=e.shiftKey;if(Wt(n,e)){if(!Eo){n.scroller.draggable=!1;setTimeout(function(){n.scroller.draggable=!0},100)}}else if(!Jt(t,e)){var i=Yt(t,e);window.focus();switch(wr(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?$t(t,e,i):Er(e)==n.scroller&&Ns(e);break;case 2:Eo&&(t.state.lastMiddleDown=+new Date);i&&xe(t.doc,i);setTimeout(function(){n.input.focus()},20);Ns(e);break;case 3:Do?xn(t,e):vn(t)}}}}function $t(e,t,n){xo?setTimeout(qr(K,e),0):e.curOp.focus=Wr();var i,r=+new Date;if(Ho&&Ho.time>r-400&&0==Uo(Ho.pos,n))i="triple";else if(zo&&zo.time>r-400&&0==Uo(zo.pos,n)){i="double";Ho={time:r,pos:n}}else{i="single";zo={time:r,pos:n}}var o,s=e.doc.sel,a=Ro?t.metaKey:t.ctrlKey;e.options.dragDrop&&ta&&!e.isReadOnly()&&"single"==i&&(o=s.contains(n))>-1&&(Uo((o=s.ranges[o]).from(),n)<0||n.xRel>0)&&(Uo(o.to(),n)>0||n.xRel<0)?Kt(e,t,n,a):Xt(e,t,n,i,a)}function Kt(e,t,n,i){var r=e.display,o=+new Date,s=Rt(e,function(a){Eo&&(r.scroller.draggable=!1);e.state.draggingText=!1;Ps(document,"mouseup",s);Ps(r.scroller,"drop",s);if(Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10){Ns(a);!i&&+new Date-200<o&&xe(e.doc,n);Eo||xo&&9==_o?setTimeout(function(){document.body.focus();r.input.focus()},20):r.input.focus()}});Eo&&(r.scroller.draggable=!0);e.state.draggingText=s;s.copy=Ro?t.altKey:t.ctrlKey;r.scroller.dragDrop&&r.scroller.dragDrop();Rs(document,"mouseup",s);Rs(r.scroller,"drop",s)}function Xt(e,t,n,i,r){function o(t){if(0!=Uo(m,t)){m=t;if("rect"==i){for(var r=[],o=e.options.tabSize,s=Fs(Qi(u,n.line).text,n.ch,o),a=Fs(Qi(u,t.line).text,t.ch,o),l=Math.min(s,a),h=Math.max(s,a),d=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));d<=g;d++){var v=Qi(u,d).text,y=Gs(v,l,o);l==h?r.push(new fe(qo(d,y),qo(d,y))):v.length>y&&r.push(new fe(qo(d,y),qo(d,Gs(v,h,o))))}r.length||r.push(new fe(n,n));Ce(u,pe(p.ranges.slice(0,f).concat(r),f),{origin:"*mouse",scroll:!1});e.scrollIntoView(t)}else{var b=c,x=b.anchor,_=t;if("single"!=i){if("double"==i)var E=e.findWordAt(t);else var E=new fe(qo(t.line,0),ge(u,qo(t.line+1,0)));if(Uo(E.anchor,x)>0){_=E.head;x=$(b.from(),E.anchor)}else{_=E.anchor;x=Z(b.to(),E.head)}}var r=p.ranges.slice(0);r[f]=new fe(ge(u,x),_);Ce(u,pe(r,f),qs)}}}function s(t){var n=++y,r=Yt(e,t,!0,"rect"==i);if(r)if(0!=Uo(r,m)){e.curOp.focus=Wr();o(r);var a=x(l,u);(r.line>=a.to||r.line<a.from)&&setTimeout(Rt(e,function(){y==n&&s(t)}),150)}else{var c=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;c&&setTimeout(Rt(e,function(){if(y==n){l.scroller.scrollTop+=c;s(t)}}),50)}}function a(t){e.state.selectingText=!1;y=1/0;Ns(t);l.input.focus();Ps(document,"mousemove",b);Ps(document,"mouseup",_);u.history.lastSelOrigin=null}var l=e.display,u=e.doc;Ns(t);var c,f,p=u.sel,h=p.ranges;if(r&&!t.shiftKey){f=u.sel.contains(n);c=f>-1?h[f]:new fe(n,n)}else{c=u.sel.primary();f=u.sel.primIndex}if(Oo?t.shiftKey&&t.metaKey:t.altKey){i="rect";r||(c=new fe(n,n));n=Yt(e,t,!0,!0);f=-1}else if("double"==i){var d=e.findWordAt(n);c=e.display.shift||u.extend?be(u,c,d.anchor,d.head):d}else if("triple"==i){var g=new fe(qo(n.line,0),ge(u,qo(n.line+1,0)));c=e.display.shift||u.extend?be(u,c,g.anchor,g.head):g}else c=be(u,c,n);if(r)if(f==-1){f=h.length;Ce(u,pe(h.concat([c]),f),{scroll:!1,origin:"*mouse"})}else if(h.length>1&&h[f].empty()&&"single"==i&&!t.shiftKey){Ce(u,pe(h.slice(0,f).concat(h.slice(f+1)),0),{scroll:!1,origin:"*mouse"});p=u.sel}else Ee(u,f,c,qs);else{f=0;Ce(u,new ce([c],0),qs);p=u.sel}var m=n,v=l.wrapper.getBoundingClientRect(),y=0,b=Rt(e,function(e){wr(e)?s(e):a(e)}),_=Rt(e,a);e.state.selectingText=_;Rs(document,"mousemove",b);Rs(document,"mouseup",_)}function Qt(e,t,n,i){try{var r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Ns(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Ir(e,n))return _r(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var u=s.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=r){var c=ir(e.doc,o),f=e.options.gutters[l];ks(e,n,e,c,f,t);return _r(t)}}}function Jt(e,t){return Qt(e,t,"gutterClick",!0)}function en(e){var t=this;rn(t);if(!Lr(t,e)&&!Wt(t.display,e)){Ns(e);xo&&(Zo=+new Date);var n=Yt(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(e,i){if(!t.options.allowDropFileTypes||kr(t.options.allowDropFileTypes,e.type)!=-1){var a=new FileReader;a.onload=Rt(t,function(){var e=a.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e="");o[i]=e;if(++s==r){n=ge(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Ln(t.doc,l);Se(t.doc,he(n,es(l)))}});a.readAsText(e)}},l=0;l<r;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1){t.state.draggingText(e);setTimeout(function(){t.display.input.focus()},20);return}try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!t.state.draggingText.copy)var u=t.listSelections();Le(t.doc,he(n,n));if(u)for(var l=0;l<u.length;++l)Pn(t.doc,"",u[l].anchor,u[l].head,"drag");t.replaceSelection(o,"around","paste");t.display.input.focus()}}catch(e){}}}}function tn(e,t){if(xo&&(!e.state.draggingText||+new Date-Zo<100))As(t);else if(!Lr(e,t)&&!Wt(e.display,t)){t.dataTransfer.setData("Text",e.getSelection());t.dataTransfer.effectAllowed="copyMove";if(t.dataTransfer.setDragImage&&!Co){var n=zr("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(So){n.width=n.height=1;e.display.wrapper.appendChild(n);n._top=n.offsetTop}t.dataTransfer.setDragImage(n,0,0);So&&n.parentNode.removeChild(n)}}}function nn(e,t){var n=Yt(e,t);if(n){var i=document.createDocumentFragment();De(e,n,i);if(!e.display.dragCursor){e.display.dragCursor=zr("div",null,"CodeMirror-cursors CodeMirror-dragcursors");e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)}Vr(e.display.dragCursor,i)}}function rn(e){if(e.display.dragCursor){e.display.lineSpace.removeChild(e.display.dragCursor);e.display.dragCursor=null}}function on(e,t){if(!(Math.abs(e.doc.scrollTop-t)<2)){e.doc.scrollTop=t;vo||I(e,{top:t});e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t);e.display.scrollbars.setScrollTop(t);vo&&I(e);qe(e,100)}}function sn(e,t,n){if(!(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth);e.doc.scrollLeft=t;_(e);e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t);e.display.scrollbars.setScrollLeft(t)}}function an(e,t){var n=Xo(t),i=n.x,r=n.y,o=e.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(i&&a||r&&l){if(r&&Ro&&Eo)e:for(var u=t.target,c=o.view;u!=s;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(!i||vo||So||null==Ko){if(r&&null!=Ko){var p=r*Ko,h=e.doc.scrollTop,d=h+o.wrapper.clientHeight;p<0?h=Math.max(0,h+p-50):d=Math.min(e.doc.height,d+p+50);I(e,{top:h,bottom:d})}if($o<20)if(null==o.wheelStartX){o.wheelStartX=s.scrollLeft;o.wheelStartY=s.scrollTop;o.wheelDX=i;o.wheelDY=r;setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null;if(n){Ko=(Ko*$o+n)/($o+1);++$o}}},200)}else{o.wheelDX+=i;o.wheelDY+=r}}else{r&&l&&on(e,Math.max(0,Math.min(s.scrollTop+r*Ko,s.scrollHeight-s.clientHeight)));sn(e,Math.max(0,Math.min(s.scrollLeft+i*Ko,s.scrollWidth-s.clientWidth)));(!r||r&&l)&&Ns(t);o.wheelStartX=null}}}function ln(e,t,n){if("string"==typeof t){t=fs[t];if(!t)return!1}e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0);n&&(e.display.shift=!1);r=t(e)!=js}finally{e.display.shift=i;e.state.suppressEdits=!1}return r}function un(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=hs(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&hs(t,e.options.extraKeys,n,e)||hs(t,e.options.keyMap,n,e)}function cn(e,t,n,i){var r=e.state.keySeq;if(r){if(ds(t))return"handled";Qo.set(50,function(){if(e.state.keySeq==r){e.state.keySeq=null;e.display.input.reset()}});t=r+" "+t}var o=un(e,t,i);"multi"==o&&(e.state.keySeq=t);"handled"==o&&Sr(e,"keyHandled",e,t,n);if("handled"==o||"multi"==o){Ns(n);Be(e)}if(r&&!o&&/\'$/.test(t)){Ns(n);return!0}return!!o}function fn(e,t){var n=gs(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?cn(e,"Shift-"+n,t,function(t){return ln(e,t,!0)})||cn(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ln(e,t)}):cn(e,n,t,function(t){return ln(e,t)}))}function pn(e,t,n){return cn(e,"'"+n+"'",t,function(t){return ln(e,t,!0)})}function hn(e){var t=this;t.curOp.focus=Wr();if(!Lr(t,e)){xo&&_o<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=fn(t,e);if(So){Jo=i?n:null;!i&&88==n&&!ra&&(Ro?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")}18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||dn(t)}}function dn(e){function t(e){if(18==e.keyCode||!e.altKey){Qs(n,"CodeMirror-crosshair");Ps(document,"keyup",t);Ps(document,"mouseover",t)}}var n=e.display.lineDiv;Js(n,"CodeMirror-crosshair");Rs(document,"keyup",t);Rs(document,"mouseover",t)}function gn(e){16==e.keyCode&&(this.doc.sel.shift=!1);Lr(this,e)}function mn(e){var t=this;if(!(Wt(t.display,e)||Lr(t,e)||e.ctrlKey&&!e.altKey||Ro&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(So&&n==Jo){Jo=null;Ns(e)}else if(!So||e.which&&!(e.which<10)||!fn(t,e)){var r=String.fromCharCode(null==i?n:i);pn(t,e,r)||t.display.input.onKeyPress(e)}}}function vn(e){e.state.delayingBlurEvent=!0;setTimeout(function(){if(e.state.delayingBlurEvent){e.state.delayingBlurEvent=!1;bn(e)}},100)}function yn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1);if("nocursor"!=e.options.readOnly){if(!e.state.focused){ks(e,"focus",e);e.state.focused=!0;Js(e.display.wrapper,"CodeMirror-focused");if(!e.curOp&&e.display.selForContextMenu!=e.doc.sel){e.display.input.reset();Eo&&setTimeout(function(){e.display.input.reset(!0)},20)}e.display.input.receivedFocus()}Be(e)}}function bn(e){if(!e.state.delayingBlurEvent){if(e.state.focused){ks(e,"blur",e);e.state.focused=!1;Qs(e.display.wrapper,"CodeMirror-focused")}clearInterval(e.display.blinker);setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}}function xn(e,t){Wt(e.display,t)||_n(e,t)||Lr(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function _n(e,t){return!!Ir(e,"gutterContextMenu")&&Qt(e,t,"gutterContextMenu",!1)}function En(e,t){if(Uo(e,t.from)<0)return e;if(Uo(e,t.to)<=0)return es(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;e.line==t.to.line&&(i+=es(t).ch-t.to.ch);return qo(n,i)}function wn(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new fe(En(r.anchor,t),En(r.head,t)))}return pe(n,e.sel.primIndex)}function Tn(e,t,n){return e.line==t.line?qo(n.line,e.ch-t.ch+n.ch):qo(n.line+(e.line-t.line),e.ch)}function Sn(e,t,n){for(var i=[],r=qo(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=Tn(a.from,r,o),u=Tn(es(a),r,o);r=a.to;o=u;if("around"==n){var c=e.sel.ranges[s],f=Uo(c.head,c.anchor)<0;i[s]=new fe(f?u:l,f?l:u)}else i[s]=new fe(l,l)}return new ce(i,e.sel.primIndex)}function Cn(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};n&&(i.update=function(t,n,i,r){t&&(this.from=ge(e,t));n&&(this.to=ge(e,n));i&&(this.text=i);void 0!==r&&(this.origin=r)});ks(e,"beforeChange",e,i);e.cm&&ks(e.cm,"beforeChange",e.cm,i);return i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Ln(e,t,n){if(e.cm){if(!e.cm.curOp)return Rt(e.cm,Ln)(e,t,n);if(e.cm.state.suppressEdits)return}if(Ir(e,"beforeChange")||e.cm&&Ir(e.cm,"beforeChange")){t=Cn(e,t,!0);if(!t)return}var i=jo&&!n&&ui(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)Nn(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else Nn(e,t)}function Nn(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Uo(t.from,t.to)){var n=wn(e,t);cr(e,t,n,e.cm?e.cm.curOp.id:NaN);Rn(e,t,n,si(e,t));var i=[];Ki(e,function(e,n){if(!n&&kr(i,e.history)==-1){xr(e.history,t);i.push(e.history)}Rn(e,t,null,si(e,t))})}}function In(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var i,r=e.history,o=e.sel,s="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<s.length;l++){i=s[l];if(n?i.ranges&&!i.equals(e.sel):!i.ranges)break}if(l!=s.length){r.lastOrigin=r.lastSelOrigin=null;for(;;){i=s.pop();if(!i.ranges)break;hr(i,a);if(n&&!i.equals(e.sel)){Ce(e,i,{clearRedo:!1});return}o=i}var u=[];hr(o,a);a.push({changes:u,generation:r.generation});r.generation=i.generation||++r.maxGeneration;for(var c=Ir(e,"beforeChange")||e.cm&&Ir(e.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var f=i.changes[l];f.origin=t;if(c&&!Cn(e,f,!1)){s.length=0;return}u.push(ar(e,f));var p=l?wn(e,f):Pr(s);Rn(e,f,p,li(e,f));!l&&e.cm&&e.cm.scrollIntoView({from:f.from,to:es(f)});var h=[];Ki(e,function(e,t){if(!t&&kr(h,e.history)==-1){xr(e.history,f);h.push(e.history)}Rn(e,f,null,li(e,f))})}}}}function An(e,t){if(0!=t){e.first+=t;e.sel=new ce(Mr(e.sel.ranges,function(e){return new fe(qo(e.anchor.line+t,e.anchor.ch),qo(e.head.line+t,e.head.ch))}),e.sel.primIndex);if(e.cm){Dt(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)jt(e.cm,i,"gutter")}}}function Rn(e,t,n,i){if(e.cm&&!e.cm.curOp)return Rt(e.cm,Rn)(e,t,n,i);if(t.to.line<e.first)An(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);An(e,r);t={from:qo(e.first,0),to:qo(t.to.line+r,t.to.ch),text:[Pr(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:qo(o,Qi(e,o).text.length),text:[t.text[0]],origin:t.origin});t.removed=Ji(e,t.from,t.to);n||(n=wn(e,t));e.cm?On(e.cm,t,i):Yi(e,t,i);Le(e,n,Bs)}}function On(e,t,n){var i=e.doc,r=e.display,s=t.from,a=t.to,l=!1,u=s.line;if(!e.options.lineWrapping){u=nr(bi(Qi(i,s.line)));i.iter(u,a.line+1,function(e){if(e==r.maxLine){l=!0;return!0}})}i.sel.contains(t.from,t.to)>-1&&Nr(e);Yi(i,t,n,o(e));if(!e.options.lineWrapping){i.iter(u,s.line+t.text.length,function(e){var t=f(e);if(t>r.maxLineLength){r.maxLine=e;r.maxLineLength=t;r.maxLineChanged=!0;l=!1}});l&&(e.curOp.updateMaxLine=!0)}i.frontier=Math.min(i.frontier,s.line);qe(e,400);var c=t.text.length-(a.line-s.line)-1;t.full?Dt(e):s.line!=a.line||1!=t.text.length||Wi(e.doc,t)?Dt(e,s.line,a.line+1,c):jt(e,s.line,"text");var p=Ir(e,"changes"),h=Ir(e,"change");if(h||p){var d={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};h&&Sr(e,"change",e,d);p&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function Pn(e,t,n,i,r){i||(i=n);if(Uo(i,n)<0){var o=i;i=n;n=o}"string"==typeof t&&(t=e.splitLines(t));Ln(e,{from:n,to:i,text:t,origin:r})}function kn(e,t){if(!Lr(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1);if(null!=r&&!No){var o=zr("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-ze(e.display))+"px; height: "+(t.bottom-t.top+We(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o);o.scrollIntoView(r);e.display.lineSpace.removeChild(o)}}}function Mn(e,t,n,i){null==i&&(i=0);for(var r=0;r<5;r++){var o=!1,s=dt(e,t),a=n&&n!=t?dt(e,n):s,l=jn(e,Math.min(s.left,a.left),Math.min(s.top,a.top)-i,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+i),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop){on(e,l.scrollTop);Math.abs(e.doc.scrollTop-u)>1&&(o=!0)}if(null!=l.scrollLeft){sn(e,l.scrollLeft);Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)}if(!o)break}return s}function Dn(e,t,n,i,r){var o=jn(e,t,n,i,r);null!=o.scrollTop&&on(e,o.scrollTop);null!=o.scrollLeft&&sn(e,o.scrollLeft)}function jn(e,t,n,i,r){var o=e.display,s=bt(e.display);n<0&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Ze(e),u={};r-n>l&&(r=n+l);var c=e.doc.height+He(o),f=n<s,p=r>c-s;if(n<a)u.scrollTop=f?0:n;else if(r>a+l){var h=Math.min(n,(p?c:r)-l);h!=a&&(u.scrollTop=h)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=Ye(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),m=i-t>g;m&&(i=t+g);t<10?u.scrollLeft=0:t<d?u.scrollLeft=Math.max(0,t-(m?0:10)):i>g+d-3&&(u.scrollLeft=i+(m?0:10)-g);return u}function Bn(e,t,n){null==t&&null==n||Un(e);null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t);null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function qn(e){Un(e);var t=e.getCursor(),n=t,i=t;if(!e.options.lineWrapping){n=t.ch?qo(t.line,t.ch-1):t;i=qo(t.line,t.ch+1)}e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function Un(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=gt(e,t.from),i=gt(e,t.to),r=jn(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function Fn(e,t,n,i){var r,o=e.doc;null==n&&(n="add");"smart"==n&&(o.mode.indent?r=Ge(e,t):n="prev");var s=e.options.tabSize,a=Qi(o,t),l=Fs(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var u,c=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n){u=o.mode.indent(r,a.text.slice(c.length),a.text);if(u==js||u>150){if(!i)return;n="prev"}}}else{u=0;n="not"}"prev"==n?u=t>o.first?Fs(Qi(o,t-1).text,null,s):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n);u=Math.max(0,u);var f="",p=0;if(e.options.indentWithTabs)for(var h=Math.floor(u/s);h;--h){p+=s;f+="\t"}p<u&&(f+=Or(u-p));if(f!=c){Pn(o,f,qo(t,0),qo(t,c.length),"+input");a.stateAfter=null;return!0}for(var h=0;h<o.sel.ranges.length;h++){var d=o.sel.ranges[h];if(d.head.line==t&&d.head.ch<c.length){var p=qo(t,c.length);Ee(o,h,new fe(p,p));break}}}function Gn(e,t,n,i){var r=t,o=t;"number"==typeof t?o=Qi(e,de(e,t)):r=nr(t);if(null==r)return null;i(o,r)&&e.cm&&jt(e.cm,r,n);return o}function zn(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&Uo(o.from,Pr(i).to)<=0;){var s=i.pop();if(Uo(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}At(e,function(){for(var t=i.length-1;t>=0;t--)Pn(e.doc,"",i[t].from,i[t].to,"+delete");qn(e)})}function Hn(e,t,n,i,r){function o(){var t=a+n;if(t<e.first||t>=e.first+e.size)return!1;a=t;return c=Qi(e,t)}function s(e){var t=(r?po:ho)(c,l,n,!0);if(null==t){if(e||!o())return!1;l=r?(n<0?oo:ro)(c):n<0?c.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,u=n,c=Qi(e,a);if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var f=null,p="group"==i,h=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||s(!d);d=!1){var g=c.text.charAt(l)||"\n",m=Ur(g,h)?"w":p&&"\n"==g?"n":!p||/\s/.test(g)?null:"p";!p||d||m||(m="s");if(f&&f!=m){if(n<0){n=1;s()}break}m&&(f=m);if(n>0&&!s(!d))break}var v=Oe(e,qo(a,l),t,u,!0);Uo(t,v)||(v.hitSide=!0);return v}function Vn(e,t,n,i){var r,o=e.doc,s=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+n*(a-(n<0?1.5:.5)*bt(e.display))}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;;){var l=vt(e,s,r);if(!l.outside)break;if(n<0?r<=0:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function Wn(t,n,i,r){e.defaults[t]=n;i&&(ns[t]=r?function(e,t,n){n!=is&&i(e,t,n)}:i)}function Yn(e){for(var t,n,i,r,o=e.split(/-(?!$)/),e=o[o.length-1],s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}t&&(e="Alt-"+e);n&&(e="Ctrl-"+e);r&&(e="Cmd-"+e);i&&(e="Shift-"+e);return e}function Zn(e){return"string"==typeof e?ps[e]:e}function $n(e,t,n,i,r){if(i&&i.shared)return Kn(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return Rt(e.cm,$n)(e,t,n,i,r);var o=new ys(e,r),s=Uo(t,n);i&&Br(i,o,!1);if(s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith){o.collapsed=!0;o.widgetNode=zr("span",[o.replacedWith],"CodeMirror-widget");i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true");i.insertLeft&&(o.widgetNode.insertLeft=!0)}if(o.collapsed){if(yi(e,t.line,t,n,o)||t.line!=n.line&&yi(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Bo=!0}o.addToHistory&&cr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,u=e.cm;e.iter(l,n.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&bi(e)==u.display.maxLine&&(a=!0);o.collapsed&&l!=t.line&&tr(e,0);ii(e,new ei(o,l==t.line?t.ch:null,l==n.line?n.ch:null));++l});o.collapsed&&e.iter(t.line,n.line+1,function(t){wi(e,t)&&tr(t,0)});o.clearOnEnter&&Rs(o,"beforeCursorEnter",function(){o.clear()});if(o.readOnly){jo=!0;(e.history.done.length||e.history.undone.length)&&e.clearHistory()}if(o.collapsed){o.id=++vs;o.atomic=!0}if(u){a&&(u.curOp.updateMaxLine=!0);if(o.collapsed)Dt(u,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=n.line;c++)jt(u,c,"text");o.atomic&&Ie(u.doc);Sr(u,"markerAdded",u,o)}return o}function Kn(e,t,n,i,r){i=Br(i);i.shared=!1;var o=[$n(e,t,n,i,r)],s=o[0],a=i.widgetNode;Ki(e,function(e){a&&(i.widgetNode=a.cloneNode(!0));o.push($n(e,ge(e,t),ge(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=Pr(o)});return new bs(o,s)}function Xn(e){return e.findMarks(qo(e.first,0),e.clipPos(qo(e.lastLine())),function(e){return e.parent})}function Qn(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(Uo(o,s)){var a=$n(e,o,s,i.primary,i.primary.type);i.markers.push(a);a.parent=i}}}function Jn(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];Ki(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];if(kr(i,o.doc)==-1){o.parent=null;n.markers.splice(r--,1)}}}}function ei(e,t,n){this.marker=e;this.from=t;this.to=n}function ti(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function ni(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function ii(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t];t.marker.attachLine(e)}function ri(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new ei(s,o.from,l?null:o.to))}}return i}function oi(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new ei(s,l?null:o.from-t,null==o.to?null:o.to-t))}}return i}function si(e,t){if(t.full)return null;var n=ve(e,t.from.line)&&Qi(e,t.from.line).markedSpans,i=ve(e,t.to.line)&&Qi(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,s=0==Uo(t.from,t.to),a=ri(n,r,s),l=oi(i,o,s),u=1==t.text.length,c=Pr(t.text).length+(u?r:0);if(a)for(var f=0;f<a.length;++f){var p=a[f];if(null==p.to){var h=ti(l,p.marker);h?u&&(p.to=null==h.to?null:h.to+c):p.to=r}}if(l)for(var f=0;f<l.length;++f){var p=l[f];null!=p.to&&(p.to+=c);if(null==p.from){var h=ti(a,p.marker);if(!h){p.from=c;u&&(a||(a=[])).push(p)}}else{p.from+=c;u&&(a||(a=[])).push(p)}}a&&(a=ai(a));l&&l!=a&&(l=ai(l));var d=[a];if(!u){var g,m=t.text.length-2;if(m>0&&a)for(var f=0;f<a.length;++f)null==a[f].to&&(g||(g=[])).push(new ei(a[f].marker,null,null));for(var f=0;f<m;++f)d.push(g);d.push(l)}return d}function ai(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function li(e,t){var n=mr(e,t),i=si(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else s&&(n[r]=s)}return n}function ui(e,t,n){var i=null;e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&kr(i,n)!=-1||(i||(i=[])).push(n)}});if(!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var u=r[l];if(!(Uo(u.to,a.from)<0||Uo(u.from,a.to)>0)){var c=[l,1],f=Uo(u.from,a.from),p=Uo(u.to,a.to);(f<0||!s.inclusiveLeft&&!f)&&c.push({from:u.from,to:a.from});(p>0||!s.inclusiveRight&&!p)&&c.push({from:a.to,to:u.to});r.splice.apply(r,c);l+=c.length-1}}return r}function ci(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function fi(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function pi(e){return e.inclusiveLeft?-1:0}function hi(e){return e.inclusiveRight?1:0;
}function di(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=Uo(i.from,r.from)||pi(e)-pi(t);if(o)return-o;var s=Uo(i.to,r.to)||hi(e)-hi(t);return s?s:t.id-e.id}function gi(e,t){var n,i=Bo&&e.markedSpans;if(i)for(var r,o=0;o<i.length;++o){r=i[o];r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||di(n,r.marker)<0)&&(n=r.marker)}return n}function mi(e){return gi(e,!0)}function vi(e){return gi(e,!1)}function yi(e,t,n,i,r){var o=Qi(e,t),s=Bo&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var u=l.marker.find(0),c=Uo(u.from,n)||pi(l.marker)-pi(r),f=Uo(u.to,i)||hi(l.marker)-hi(r);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?Uo(u.to,n)>=0:Uo(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?Uo(u.from,i)<=0:Uo(u.from,i)<0)))return!0}}}function bi(e){for(var t;t=mi(e);)e=t.find(-1,!0).line;return e}function xi(e){for(var t,n;t=vi(e);){e=t.find(1,!0).line;(n||(n=[])).push(e)}return n}function _i(e,t){var n=Qi(e,t),i=bi(n);return n==i?t:nr(i)}function Ei(e,t){if(t>e.lastLine())return t;var n,i=Qi(e,t);if(!wi(e,i))return t;for(;n=vi(i);)i=n.find(1,!0).line;return nr(i)+1}function wi(e,t){var n=Bo&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r){i=n[r];if(i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Ti(e,t,i))return!0}}}function Ti(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return Ti(e,i.line,ti(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,o=0;o<t.markedSpans.length;++o){r=t.markedSpans[o];if(r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ti(e,t,r))return!0}}function Si(e,t,n){rr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Bn(e,null,n)}function Ci(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!$s(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;");e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;");Vr(t.display.measure,zr("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Li(e,t,n,i){var r=new xs(e,n,i),o=e.cm;o&&r.noHScroll&&(o.display.alignWidgets=!0);Gn(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r);r.line=t;if(o&&!wi(e,t)){var i=rr(t)<e.scrollTop;tr(t,t.height+Ci(r));i&&Bn(o,null,r.height);o.curOp.forceUpdate=!0}return!0});return r}function Ni(e,t,n,i){e.text=t;e.stateAfter&&(e.stateAfter=null);e.styles&&(e.styles=null);null!=e.order&&(e.order=null);ci(e);fi(e,n);var r=i?i(e):1;r!=e.height&&tr(e,r)}function Ii(e){e.parent=null;ci(e)}function Ai(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Ri(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Oi(t,n,i,r){for(var o=0;o<10;o++){r&&(r[0]=e.innerMode(t,i).mode);var s=t.token(n,i);if(n.pos>n.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}function Pi(e,t,n,i){function r(e){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:e?us(s.mode,c):c}}var o,s=e.doc,a=s.mode;t=ge(s,t);var l,u=Qi(s,t.line),c=Ge(e,t.line,n),f=new ms(u.text,e.options.tabSize);i&&(l=[]);for(;(i||f.pos<t.ch)&&!f.eol();){f.start=f.pos;o=Oi(a,f,c);i&&l.push(r(!0))}return i?l:r()}function ki(e,t,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,u=0,c=null,f=new ms(t,e.options.tabSize),p=e.options.addModeClass&&[null];""==t&&Ai(Ri(n,i),o);for(;!f.eol();){if(f.pos>e.options.maxHighlightLength){a=!1;s&&ji(e,t,i,f.pos);f.pos=t.length;l=null}else l=Ai(Oi(n,f,i,p),o);if(p){var h=p[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!a||c!=l){for(;u<f.start;){u=Math.min(f.start,u+5e4);r(u,c)}c=l}f.start=f.pos}for(;u<f.pos;){var d=Math.min(f.pos,u+5e4);r(d,c);u=d}}function Mi(e,t,n,i){var r=[e.state.modeGen],o={};ki(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)},o,i);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,u=0;ki(e,t.text,a.mode,!0,function(e,t){for(var n=l;u<e;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i);l+=2;u=Math.min(e,i)}if(t)if(a.opaque){r.splice(n,l-n,e,"cm-overlay "+t);l=n+2}else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Di(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Ge(e,nr(t)),r=Mi(e,t,t.text.length>e.options.maxHighlightLength?us(e.doc.mode,i):i);t.stateAfter=i;t.styles=r.styles;r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null);n===e.doc.frontier&&e.doc.frontier++}return t.styles}function ji(e,t,n,i){var r=e.doc.mode,o=new ms(t,e.options.tabSize);o.start=o.pos=i||0;""==t&&Ri(r,n);for(;!o.eol();){Oi(r,o,n);o.start=o.pos}}function Bi(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ws:Es;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function qi(e,t){var n=zr("span",null,null,Eo?"padding-right: .1px":null),i={pre:zr("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(xo||Eo)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o,s=r?t.rest[r-1]:t.line;i.pos=0;i.addToken=Fi;Jr(e.display.measure)&&(o=or(s))&&(i.addToken=zi(i.addToken,o));i.map=[];var a=t!=e.display.externalMeasured&&nr(s);Vi(s,i,Di(e,s,a));if(s.styleClasses){s.styleClasses.bgClass&&(i.bgClass=Zr(s.styleClasses.bgClass,i.bgClass||""));s.styleClasses.textClass&&(i.textClass=Zr(s.styleClasses.textClass,i.textClass||""))}0==i.map.length&&i.map.push(0,0,i.content.appendChild(Qr(e.display.measure)));if(0==r){t.measure.map=i.map;t.measure.cache={}}else{(t.measure.maps||(t.measure.maps=[])).push(i.map);(t.measure.caches||(t.measure.caches=[])).push({})}}if(Eo){var l=i.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}ks(e,"renderLine",e,t.line,i.pre);i.pre.className&&(i.textClass=Zr(i.pre.className,i.textClass||""));return i}function Ui(e){var t=zr("span","•","cm-invalidchar");t.title="\\u"+e.charCodeAt(0).toString(16);t.setAttribute("aria-label",t.title);return t}function Fi(e,t,n,i,r,o,s){if(t){var a=e.splitSpaces?Gi(t,e.trailingSpace):t,l=e.cm.state.specialChars,u=!1;if(l.test(t))for(var c=document.createDocumentFragment(),f=0;;){l.lastIndex=f;var p=l.exec(t),h=p?p.index-f:t.length-f;if(h){var d=document.createTextNode(a.slice(f,f+h));xo&&_o<9?c.appendChild(zr("span",[d])):c.appendChild(d);e.map.push(e.pos,e.pos+h,d);e.col+=h;e.pos+=h}if(!p)break;f+=h+1;if("\t"==p[0]){var g=e.cm.options.tabSize,m=g-e.col%g,d=c.appendChild(zr("span",Or(m),"cm-tab"));d.setAttribute("role","presentation");d.setAttribute("cm-text","\t");e.col+=m}else if("\r"==p[0]||"\n"==p[0]){var d=c.appendChild(zr("span","\r"==p[0]?"␍":"␤","cm-invalidchar"));d.setAttribute("cm-text",p[0]);e.col+=1}else{var d=e.cm.options.specialCharPlaceholder(p[0]);d.setAttribute("cm-text",p[0]);xo&&_o<9?c.appendChild(zr("span",[d])):c.appendChild(d);e.col+=1}e.map.push(e.pos,e.pos+1,d);e.pos++}else{e.col+=t.length;var c=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,c);xo&&_o<9&&(u=!0);e.pos+=t.length}e.trailingSpace=32==a.charCodeAt(t.length-1);if(n||i||r||u||s){var v=n||"";i&&(v+=i);r&&(v+=r);var y=zr("span",[c],v,s);o&&(y.title=o);return e.content.appendChild(y)}e.content.appendChild(c)}}function Gi(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,i="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" ");i+=o;n=" "==o}return i}function zi(e,t){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+i.length;;){for(var f=0;f<t.length;f++){var p=t[f];if(p.to>u&&p.from<=u)break}if(p.to>=c)return e(n,i,r,o,s,a,l);e(n,i.slice(0,p.to-u),r,o,null,a,l);o=null;i=i.slice(p.to-u);u=p.to}}}function Hi(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r);if(!i&&e.cm.display.input.needsContentAttribute){r||(r=e.content.appendChild(document.createElement("span")));r.setAttribute("cm-marker",n.id)}if(r){e.cm.display.input.setUneditable(r);e.content.appendChild(r)}e.pos+=t;e.trailingSpace=!1}function Vi(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var s,a,l,u,c,f,p,h=r.length,d=0,g=1,m="",v=0;;){if(v==d){l=u=c=f=a="";p=null;v=1/0;for(var y,b=[],x=0;x<i.length;++x){var _=i[x],E=_.marker;if("bookmark"==E.type&&_.from==d&&E.widgetNode)b.push(E);else if(_.from<=d&&(null==_.to||_.to>d||E.collapsed&&_.to==d&&_.from==d)){if(null!=_.to&&_.to!=d&&v>_.to){v=_.to;u=""}E.className&&(l+=" "+E.className);E.css&&(a=(a?a+";":"")+E.css);E.startStyle&&_.from==d&&(c+=" "+E.startStyle);E.endStyle&&_.to==v&&(y||(y=[])).push(E.endStyle,_.to);E.title&&!f&&(f=E.title);E.collapsed&&(!p||di(p.marker,E)<0)&&(p=_)}else _.from>d&&v>_.from&&(v=_.from)}if(y)for(var x=0;x<y.length;x+=2)y[x+1]==v&&(u+=" "+y[x]);if(!p||p.from==d)for(var x=0;x<b.length;++x)Hi(t,0,b[x]);if(p&&(p.from||0)==d){Hi(t,(null==p.to?h+1:p.to)-d,p.marker,null==p.from);if(null==p.to)return;p.to==d&&(p=!1)}}if(d>=h)break;for(var w=Math.min(h,v);;){if(m){var T=d+m.length;if(!p){var S=T>w?m.slice(0,w-d):m;t.addToken(t,S,s?s+l:l,c,d+S.length==v?u:"",f,a)}if(T>=w){m=m.slice(w-d);d=w;break}d=T;c=""}m=r.slice(o,o=n[g++]);s=Bi(n[g++],t.cm.options)}}else for(var g=1;g<n.length;g+=2)t.addToken(t,r.slice(o,o=n[g]),Bi(n[g+1],t.cm.options))}function Wi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Pr(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Yi(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){Ni(e,n,r,i);Sr(e,"change",e,t)}function s(e,t){for(var n=e,o=[];n<t;++n)o.push(new _s(u[n],r(n),i));return o}var a=t.from,l=t.to,u=t.text,c=Qi(e,a.line),f=Qi(e,l.line),p=Pr(u),h=r(u.length-1),d=l.line-a.line;if(t.full){e.insert(0,s(0,u.length));e.remove(u.length,e.size-u.length)}else if(Wi(e,t)){var g=s(0,u.length-1);o(f,f.text,h);d&&e.remove(a.line,d);g.length&&e.insert(a.line,g)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,a.ch)+p+c.text.slice(l.ch),h);else{var g=s(1,u.length-1);g.push(new _s(p+c.text.slice(l.ch),h,i));o(c,c.text.slice(0,a.ch)+u[0],r(0));e.insert(a.line+1,g)}else if(1==u.length){o(c,c.text.slice(0,a.ch)+u[0]+f.text.slice(l.ch),r(0));e.remove(a.line+1,d)}else{o(c,c.text.slice(0,a.ch)+u[0],r(0));o(f,p+f.text.slice(l.ch),h);var g=s(1,u.length-1);d>1&&e.remove(a.line+1,d-1);e.insert(a.line+1,g)}Sr(e,"change",e,t)}function Zi(e){this.lines=e;this.parent=null;for(var t=0,n=0;t<e.length;++t){e[t].parent=this;n+=e[t].height}this.height=n}function $i(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize();n+=r.height;r.parent=this}this.size=t;this.height=n;this.parent=null}function Ki(e,t,n){function i(e,r,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;if(!n||l){t(a.doc,l);i(a.doc,e,l)}}}}i(e,null,!0)}function Xi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t;t.cm=e;s(e);n(e);e.options.lineWrapping||p(e);e.options.mode=t.modeOption;Dt(e)}function Qi(e,t){t-=e.first;if(t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function Ji(e,t,n){var i=[],r=t.line;e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch));r==t.line&&(o=o.slice(t.ch));i.push(o);++r});return i}function er(e,t,n){var i=[];e.iter(t,n,function(e){i.push(e.text)});return i}function tr(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function nr(e){if(null==e.parent)return null;for(var t=e.parent,n=kr(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function ir(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(t<o){e=r;continue e}t-=o;n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var s=e.lines[i],a=s.height;if(t<a)break;t-=a}return n+i}function rr(e){e=bi(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;t+=s.height}return t}function or(e){var t=e.order;null==t&&(t=e.order=la(e.text));return t}function sr(e){this.done=[];this.undone=[];this.undoDepth=1/0;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=e||1}function ar(e,t){var n={from:Y(t.from),to:es(t),text:Ji(e,t.from,t.to)};dr(e,n,t.from.line,t.to.line+1);Ki(e,function(e){dr(e,n,t.from.line,t.to.line+1)},!0);return n}function lr(e){for(;e.length;){var t=Pr(e);if(!t.ranges)break;e.pop()}}function ur(e,t){if(t){lr(e.done);return Pr(e.done)}if(e.done.length&&!Pr(e.done).ranges)return Pr(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges){e.done.pop();return Pr(e.done)}}function cr(e,t,n,i){var r=e.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ur(r,r.lastOp==i))){var a=Pr(o.changes);0==Uo(t.from,t.to)&&0==Uo(t.from,a.to)?a.to=es(t):o.changes.push(ar(e,t))}else{var l=Pr(r.done);l&&l.ranges||hr(e.sel,r.done);o={changes:[ar(e,t)],generation:r.generation};r.done.push(o);for(;r.done.length>r.undoDepth;){r.done.shift();r.done[0].ranges||r.done.shift()}}r.done.push(n);r.generation=++r.maxGeneration;r.lastModTime=r.lastSelTime=s;r.lastOp=r.lastSelOp=i;r.lastOrigin=r.lastSelOrigin=t.origin;a||ks(e,"historyAdded")}function fr(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function pr(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||fr(e,o,Pr(r.done),t))?r.done[r.done.length-1]=t:hr(t,r.done);r.lastSelTime=+new Date;r.lastSelOrigin=o;r.lastSelOp=n;i&&i.clearRedo!==!1&&lr(r.undone)}function hr(e,t){var n=Pr(t);n&&n.ranges&&n.equals(e)||t.push(e)}function dr(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans);++o})}function gr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function mr(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(gr(n[i]));return r}function vr(e,t,n){for(var i=0,r=[];i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?ce.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var u,c=s[l];a.push({from:c.from,to:c.to,text:c.text});if(t)for(var f in c)if((u=f.match(/^spans_(\d+)$/))&&kr(t,Number(u[1]))>-1){Pr(a)[f]=c[f];delete c[f]}}}}return r}function yr(e,t,n,i){if(n<e.line)e.line+=i;else if(t<e.line){e.line=t;e.ch=0}}function br(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){if(!o.copied){o=e[r]=o.deepCopy();o.copied=!0}for(var a=0;a<o.ranges.length;a++){yr(o.ranges[a].anchor,t,n,i);yr(o.ranges[a].head,t,n,i)}}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line){l.from=qo(l.from.line+i,l.from.ch);l.to=qo(l.to.line+i,l.to.ch)}else if(t<=l.to.line){s=!1;break}}if(!s){e.splice(0,r+1);r=0}}}}function xr(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;br(e.done,n,i,r);br(e.undone,n,i,r)}function _r(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Er(e){return e.target||e.srcElement}function wr(e){var t=e.which;null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2));Ro&&e.ctrlKey&&1==t&&(t=3);return t}function Tr(e,t,n){var i=e._handlers&&e._handlers[t];return n?i&&i.length>0?i.slice():Os:i||Os}function Sr(e,t){function n(e){return function(){e.apply(null,o)}}var i=Tr(e,t,!1);if(i.length){var r,o=Array.prototype.slice.call(arguments,2);if(Wo)r=Wo.delayedCallbacks;else if(Ms)r=Ms;else{r=Ms=[];setTimeout(Cr,0)}for(var s=0;s<i.length;++s)r.push(n(i[s]))}}function Cr(){var e=Ms;Ms=null;for(var t=0;t<e.length;++t)e[t]()}function Lr(e,t,n){"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}});ks(e,n||t.type,e,t);return _r(t)||t.codemirrorIgnore}function Nr(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)kr(n,t[i])==-1&&n.push(t[i])}function Ir(e,t){return Tr(e,t).length>0}function Ar(e){e.prototype.on=function(e,t){Rs(this,e,t)};e.prototype.off=function(e,t){Ps(this,e,t)}}function Rr(){this.id=null}function Or(e){for(;zs.length<=e;)zs.push(Pr(zs)+" ");return zs[e]}function Pr(e){return e[e.length-1]}function kr(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Mr(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Dr(){}function jr(e,t){var n;if(Object.create)n=Object.create(e);else{Dr.prototype=e;n=new Dr}t&&Br(t,n);return n}function Br(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function qr(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Ur(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Ys(e))||t.test(e):Ys(e)}function Fr(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Gr(e){return e.charCodeAt(0)>=768&&Zs.test(e)}function zr(e,t,n,i){var r=document.createElement(e);n&&(r.className=n);i&&(r.style.cssText=i);if("string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function Hr(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Vr(e,t){return Hr(e).appendChild(t)}function Wr(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Yr(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Zr(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!Yr(n[i]).test(t)&&(t+=" "+n[i]);return t}function $r(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function Kr(){if(!ea){Xr();ea=!0}}function Xr(){var e;Rs(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null;$r(Vt)},100))});Rs(window,"blur",function(){$r(bn)})}function Qr(e){if(null==Ks){var t=zr("span","​");Vr(e,zr("span",[t,document.createTextNode("x")]));0!=e.firstChild.offsetHeight&&(Ks=t.offsetWidth<=1&&t.offsetHeight>2&&!(xo&&_o<8))}var n=Ks?zr("span","​"):zr("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");n.setAttribute("cm-text","");return n}function Jr(e){if(null!=Xs)return Xs;var t=Vr(e,document.createTextNode("AخA")),n=Vs(t,0,1).getBoundingClientRect(),i=Vs(t,1,2).getBoundingClientRect();Hr(e);return!(!n||n.left==n.right)&&(Xs=i.right-n.right<3)}function eo(e){if(null!=oa)return oa;var t=Vr(e,zr("span","x")),n=t.getBoundingClientRect(),i=Vs(t,0,1).getBoundingClientRect();return oa=Math.abs(n.left-i.left)>1}function to(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,o=0;o<e.length;++o){var s=e[o];if(s.from<n&&s.to>t||t==n&&s.to==t){i(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr");r=!0}}r||i(t,n,"ltr")}function no(e){return e.level%2?e.to:e.from}function io(e){return e.level%2?e.from:e.to}function ro(e){var t=or(e);return t?no(t[0]):0}function oo(e){var t=or(e);return t?io(Pr(t)):e.text.length}function so(e,t){var n=Qi(e.doc,t),i=bi(n);i!=n&&(t=nr(i));var r=or(i),o=r?r[0].level%2?oo(i):ro(i):0;return qo(t,o)}function ao(e,t){for(var n,i=Qi(e.doc,t);n=vi(i);){i=n.find(1,!0).line;t=null}var r=or(i),o=r?r[0].level%2?ro(i):oo(i):i.text.length;return qo(null==t?nr(i):t,o)}function lo(e,t){var n=so(e,t.line),i=Qi(e.doc,n.line),r=or(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return qo(n.line,s?0:o)}return n}function uo(e,t,n){var i=e[0].level;return t==i||n!=i&&t<n}function co(e,t){aa=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n){if(uo(e,r.level,e[n].level)){r.from!=r.to&&(aa=n);return i}r.from!=r.to&&(aa=i);return n}n=i}}return n}function fo(e,t,n,i){if(!i)return t+n;do t+=n;while(t>0&&Gr(e.text.charAt(t)));return t}function po(e,t,n,i){var r=or(e);if(!r)return ho(e,t,n,i);for(var o=co(r,t),s=r[o],a=fo(e,t,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to){if(co(r,a)==o)return a;s=r[o+=n];return n>0==s.level%2?s.to:s.from}s=r[o+=n];if(!s)return null;a=n>0==s.level%2?fo(e,s.to,-1,i):fo(e,s.from,1,i)}}function ho(e,t,n,i){var r=t+n;if(i)for(;r>0&&Gr(e.text.charAt(r));)r+=n;return r<0||r>e.text.length?null:r}var go=navigator.userAgent,mo=navigator.platform,vo=/gecko\/\d/i.test(go),yo=/MSIE \d/.test(go),bo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(go),xo=yo||bo,_o=xo&&(yo?document.documentMode||6:bo[1]),Eo=/WebKit\//.test(go),wo=Eo&&/Qt\/\d+\.\d+/.test(go),To=/Chrome\//.test(go),So=/Opera\//.test(go),Co=/Apple Computer/.test(navigator.vendor),Lo=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(go),No=/PhantomJS/.test(go),Io=/AppleWebKit/.test(go)&&/Mobile\/\w+/.test(go),Ao=Io||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(go),Ro=Io||/Mac/.test(mo),Oo=/\bCrOS\b/.test(go),Po=/win/i.test(mo),ko=So&&go.match(/Version\/(\d*\.\d*)/);ko&&(ko=Number(ko[1]));if(ko&&ko>=15){So=!1;Eo=!0}var Mo=Ro&&(wo||So&&(null==ko||ko<12.11)),Do=vo||xo&&_o>=9,jo=!1,Bo=!1;g.prototype=Br({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block";this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(t){this.horiz.style.display="block";this.horiz.style.right=n?i+"px":"0";this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&e.clientHeight>0){0==i&&this.zeroWidthHack();this.checkedZeroWidth=!0}return{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Ro&&!Lo?"12px":"18px";this.horiz.style.height=this.vert.style.width=e;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Rr;this.disableVert=new Rr},enableZeroWidthBar:function(e,t){function n(){var i=e.getBoundingClientRect(),r=document.elementFromPoint(i.left+1,i.bottom-1);r!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto";t.set(1e3,n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz);e.removeChild(this.vert)}},g.prototype);m.prototype=Br({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},m.prototype);e.scrollbarModel={"native":g,"null":m};S.prototype.signal=function(e,t){Ir(e,t)&&this.events.push(arguments)};S.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ks.apply(null,this.events[e])};var qo=e.Pos=function(e,t){if(!(this instanceof qo))return new qo(e,t);this.line=e;this.ch=t},Uo=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Fo=null;ne.prototype=Br({init:function(e){function t(e){if(!Lr(i,e)){if(i.somethingSelected()){Fo={lineWise:!1,text:i.getSelections()};if(n.inaccurateSelection){n.prevInput="";n.inaccurateSelection=!1;o.value=Fo.text.join("\n");Hs(o)}}else{if(!i.options.lineWiseCopyCut)return;var t=ee(i);Fo={lineWise:!0,text:t.text};if("cut"==e.type)i.setSelections(t.ranges,null,Bs);else{n.prevInput="";o.value=t.text.join("\n");Hs(o)}}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,i=this.cm,r=this.wrapper=ie(),o=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild);Io&&(o.style.width="0px");Rs(o,"input",function(){xo&&_o>=9&&n.hasSelection&&(n.hasSelection=null);n.poll()});Rs(o,"paste",function(e){if(!Lr(i,e)&&!Q(e,i)){i.state.pasteIncoming=!0;n.fastPoll()}});Rs(o,"cut",t);Rs(o,"copy",t);Rs(e.scroller,"paste",function(t){if(!Wt(e,t)&&!Lr(i,t)){i.state.pasteIncoming=!0;n.focus()}});Rs(e.lineSpace,"selectstart",function(t){Wt(e,t)||Ns(t)});Rs(o,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear();n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}});Rs(o,"compositionend",function(){if(n.composing){n.poll();n.composing.range.clear();n.composing=null}})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=Me(e);if(e.options.moveInputWithCursor){var r=dt(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top));i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},showSelection:function(e){var t=this.cm,n=t.display;Vr(n.cursorDiv,e.cursors);Vr(n.selectionDiv,e.selection);if(null!=e.teTop){this.wrapper.style.top=e.teTop+"px";this.wrapper.style.left=e.teLeft+"px"}},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary();t=ra&&(o.to().line-o.from().line>100||(n=i.getSelection()).length>1e3);var s=t?"-":n||i.getSelection();this.textarea.value=s;i.state.focused&&Hs(this.textarea);xo&&_o>=9&&(this.hasSelection=s)}else if(!e){this.prevInput=this.textarea.value="";xo&&_o>=9&&(this.hasSelection=null)}this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ao||Wr()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll();e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var i=n.poll();if(i||t){n.pollingFast=!1;n.slowPoll()}else{t=!0;n.polling.set(60,e)}}var t=!1,n=this;n.pollingFast=!0;n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||ia(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(xo&&_o>=9&&this.hasSelection===i||Ro&&/[\uf700-\uf7ff]/.test(i)){e.display.input.reset();return!1}if(e.doc.sel==e.display.selForContextMenu){var r=i.charCodeAt(0);8203!=r||n||(n="​");if(8666==r){this.reset();return this.cm.execCommand("undo")}}for(var o=0,s=Math.min(n.length,i.length);o<s&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var a=this;At(e,function(){X(e,i.slice(o),n.length-o,null,a.composing?"*compose":null);i.length>1e3||i.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=i;if(a.composing){a.composing.range.clear();a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"})}});return!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){xo&&_o>=9&&(this.hasSelection=null);this.fastPoll()},onContextMenu:function(e){function t(){if(null!=s.selectionStart){var e=r.somethingSelected(),t="​"+(e?s.value:"");s.value="⇚";s.value=t;i.prevInput=e?"":"​";s.selectionStart=1;s.selectionEnd=t.length;o.selForContextMenu=r.doc.sel}}function n(){i.contextMenuPending=!1;i.wrapper.style.cssText=f;s.style.cssText=c;xo&&_o<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l);if(null!=s.selectionStart){(!xo||xo&&_o<9)&&t();var e=0,n=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"​"==i.prevInput?Rt(r,fs.selectAll)(r):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,s=i.textarea,a=Yt(r,e),l=o.scroller.scrollTop;if(a&&!So){var u=r.options.resetSelectionOnContextMenu;u&&r.doc.sel.contains(a)==-1&&Rt(r,Ce)(r.doc,he(a),Bs);var c=s.style.cssText,f=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var p=i.wrapper.getBoundingClientRect();s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px; z-index: 1000; background: "+(xo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(Eo)var h=window.scrollY;o.input.focus();Eo&&window.scrollTo(null,h);o.input.reset();r.somethingSelected()||(s.value=i.prevInput=" ");i.contextMenuPending=!0;o.selForContextMenu=r.doc.sel;clearTimeout(o.detectingSelectAll);xo&&_o>=9&&t();if(Do){As(e);var d=function(){Ps(window,"mouseup",d);setTimeout(n,20)};Rs(window,"mouseup",d)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Dr,needsContentAttribute:!1},ne.prototype);re.prototype=Br({init:function(e){function t(e){if(!Lr(i,e)){if(i.somethingSelected()){Fo={lineWise:!1,text:i.getSelections()};"cut"==e.type&&i.replaceSelection("",null,"cut")}else{if(!i.options.lineWiseCopyCut)return;var t=ee(i);Fo={lineWise:!0,text:t.text};"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Bs);i.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Io){e.preventDefault();e.clipboardData.clearData();e.clipboardData.setData("text/plain",Fo.text.join("\n"))}else{var n=ie(),r=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild);r.value=Fo.text.join("\n");var o=document.activeElement;Hs(r);setTimeout(function(){i.display.lineSpace.removeChild(n);o.focus()},50)}}}var n=this,i=n.cm,r=n.div=e.lineDiv;te(r);Rs(r,"paste",function(e){Lr(i,e)||Q(e,i)});Rs(r,"compositionstart",function(e){var t=e.data;n.composing={sel:i.doc.sel,data:t,startData:t};if(t){var r=i.doc.sel.primary(),o=i.getLine(r.head.line),s=o.indexOf(t,Math.max(0,r.head.ch-t.length));s>-1&&s<=r.head.ch&&(n.composing.sel=he(qo(r.head.line,s),qo(r.head.line,s+t.length)))}});Rs(r,"compositionupdate",function(e){n.composing.data=e.data});Rs(r,"compositionend",function(e){var t=n.composing;if(t){e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data);setTimeout(function(){t.handled||n.applyComposition(t);n.composing==t&&(n.composing=null)},50)}});Rs(r,"touchstart",function(){n.forceCompositionEnd()});Rs(r,"input",function(){n.composing||!i.isReadOnly()&&n.pollContent()||At(n.cm,function(){Dt(i)})});Rs(r,"copy",t);Rs(r,"cut",t)},prepareSelection:function(){var e=Me(this.cm,!1);e.focus=this.cm.state.focused;return e},showSelection:function(e,t){if(e&&this.cm.display.view.length){(e.focus||t)&&this.showPrimarySelection();this.showMultipleSelections(e)}},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=ae(this.cm,e.anchorNode,e.anchorOffset),i=ae(this.cm,e.focusNode,e.focusOffset);
if(!n||n.bad||!i||i.bad||0!=Uo($(n,i),t.from())||0!=Uo(Z(n,i),t.to())){var r=oe(this.cm,t.from()),o=oe(this.cm,t.to());if(r||o){var s=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var c=Vs(r.node,r.offset,o.offset,o.node)}catch(f){}if(c){if(!vo&&this.cm.state.focused){e.collapse(r.node,r.offset);c.collapsed||e.addRange(c)}else{e.removeAllRanges();e.addRange(c)}a&&null==e.anchorNode?e.addRange(a):vo&&this.startGracePeriod()}this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){e.gracePeriod=!1;e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Vr(this.cm.display.cursorDiv,e.cursors);Vr(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode;this.lastAnchorOffset=e.anchorOffset;this.lastFocusNode=e.focusNode;this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return $s(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){if(t.cm.state.focused){t.pollSelection();t.polling.set(t.cm.options.pollInterval,e)}}var t=this;this.selectionInEditor()?this.pollSelection():At(this.cm,function(){t.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=ae(t,e.anchorNode,e.anchorOffset),i=ae(t,e.focusNode,e.focusOffset);n&&i&&At(t,function(){Ce(t.doc,he(n,i),Bs);(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var o;if(i.line==t.viewFrom||0==(o=qt(e,i.line)))var s=nr(t.view[0].line),a=t.view[0].node;else var s=nr(t.view[o].line),a=t.view[o-1].node.nextSibling;var l=qt(e,r.line);if(l==t.view.length-1)var u=t.viewTo-1,c=t.lineDiv.lastChild;else var u=nr(t.view[l+1].line)-1,c=t.view[l+1].node.previousSibling;for(var f=e.doc.splitLines(ue(e,a,c,s,u)),p=Ji(e.doc,qo(s,0),qo(u,Qi(e.doc,u).text.length));f.length>1&&p.length>1;)if(Pr(f)==Pr(p)){f.pop();p.pop();u--}else{if(f[0]!=p[0])break;f.shift();p.shift();s++}for(var h=0,d=0,g=f[0],m=p[0],v=Math.min(g.length,m.length);h<v&&g.charCodeAt(h)==m.charCodeAt(h);)++h;for(var y=Pr(f),b=Pr(p),x=Math.min(y.length-(1==f.length?h:0),b.length-(1==p.length?h:0));d<x&&y.charCodeAt(y.length-d-1)==b.charCodeAt(b.length-d-1);)++d;f[f.length-1]=y.slice(0,y.length-d);f[0]=f[0].slice(h);var _=qo(s,h),E=qo(u,p.length?Pr(p).length-d:0);if(f.length>1||f[0]||Uo(_,E)){Pn(e.doc,f,_,E,"+input");return!0}},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){if(this.composing&&!this.composing.handled){this.applyComposition(this.composing);this.composing.handled=!0;this.div.blur();this.div.focus()}},applyComposition:function(e){this.cm.isReadOnly()?Rt(this.cm,Dt)(this.cm):e.data&&e.data!=e.startData&&Rt(this.cm,X)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault();this.cm.isReadOnly()||Rt(this.cm,X)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Dr,resetPosition:Dr,needsContentAttribute:!0},re.prototype);e.inputStyles={textarea:ne,contenteditable:re};ce.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=Uo(n.anchor,i.anchor)||0!=Uo(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new fe(Y(this.ranges[t].anchor),Y(this.ranges[t].head));return new ce(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(Uo(t,i.from())>=0&&Uo(e,i.to())<=0)return n}return-1}};fe.prototype={from:function(){return $(this.anchor,this.head)},to:function(){return Z(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Go,zo,Ho,Vo={left:0,right:0,top:0,bottom:0},Wo=null,Yo=0,Zo=0,$o=0,Ko=null;xo?Ko=-.53:vo?Ko=15:To?Ko=-.7:Co&&(Ko=-1/3);var Xo=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail);null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta);return{x:t,y:n}};e.wheelEventPixels=function(e){var t=Xo(e);t.x*=Ko;t.y*=Ko;return t};var Qo=new Rr,Jo=null,es=e.changeEnd=function(e){return e.text?qo(e.from.line+e.text.length-1,Pr(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus();this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];if(n[e]!=t||"mode"==e){n[e]=t;ns.hasOwnProperty(e)&&Rt(this,ns[e])(this,t,i)}},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Zn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e){t.splice(n,1);return!0}},addOverlay:Ot(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque});this.state.modeGen++;Dt(this)}),removeOverlay:Ot(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e){t.splice(n,1);this.state.modeGen++;Dt(this);return}}}),indentLine:Ot(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract");ve(this.doc,e)&&Fn(this,e,t,n)}),indentSelection:Ot(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty()){if(r.head.line>n){Fn(this,r.head.line,e,!0);n=r.head.line;i==this.doc.sel.primIndex&&qn(this)}}else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Fn(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[i].from().ch>0&&Ee(this.doc,i,new fe(o,u[i].to()),Bs)}}}),getTokenAt:function(e,t){return Pi(this,e,t)},getLineTokens:function(e,t){return Pi(this,qo(e),t,!0)},getTokenTypeAt:function(e){e=ge(this.doc,e);var t,n=Di(this,Qi(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}i=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!ls.hasOwnProperty(t))return n;var i=ls[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var s=i[r[t][o]];s&&n.push(s)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var o=0;o<i._global.length;o++){var a=i._global[o];a.pred(r,this)&&kr(n,a.val)==-1&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;e=de(n,null==e?n.first+n.size-1:e);return Ge(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();n=null==e?i.head:"object"==typeof e?ge(this.doc,e):e?i.from():i.to();return dt(this,n,t||"page")},charCoords:function(e,t){return ht(this,ge(this.doc,e),t||"page")},coordsChar:function(e,t){e=pt(this,e,t||"page");return vt(this,e.left,e.top)},lineAtHeight:function(e,t){e=pt(this,{top:e,left:0},t||"page").top;return ir(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;if(e<this.doc.first)e=this.doc.first;else if(e>r){e=r;i=!0}n=Qi(this.doc,e)}else n=e;return ft(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-rr(n):0)},defaultTextHeight:function(){return bt(this.display)},defaultCharWidth:function(){return xt(this.display)},setGutterMarker:Ot(function(e,t,n){return Gn(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});i[t]=n;!n&&Fr(i)&&(e.gutterMarkers=null);return!0})}),clearGutter:Ot(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){if(n.gutterMarkers&&n.gutterMarkers[e]){n.gutterMarkers[e]=null;jt(t,i,"gutter");Fr(n.gutterMarkers)&&(n.gutterMarkers=null)}++i})}),lineInfo:function(e){if("number"==typeof e){if(!ve(this.doc,e))return null;var t=e;e=Qi(this.doc,e);if(!e)return null}else{var t=nr(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display;e=dt(this,ge(this.doc,e));var s=e.bottom,a=e.left;t.style.position="absolute";t.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(t);o.sizer.appendChild(t);if("over"==i)s=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom);a+t.offsetWidth>u&&(a=u-t.offsetWidth)}t.style.top=s+"px";t.style.left=t.style.right="";if("right"==r){a=o.sizer.clientWidth-t.offsetWidth;t.style.right="0px"}else{"left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-t.offsetWidth)/2);t.style.left=a+"px"}n&&Dn(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:Ot(hn),triggerOnKeyPress:Ot(mn),triggerOnKeyUp:gn,execCommand:function(e){if(fs.hasOwnProperty(e))return fs[e].call(null,this)},triggerElectric:Ot(function(e){J(this,e)}),findPosH:function(e,t,n,i){var r=1;if(t<0){r=-1;t=-t}for(var o=0,s=ge(this.doc,e);o<t;++o){s=Hn(this.doc,s,r,n,i);if(s.hitSide)break}return s},moveH:Ot(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Hn(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()},Us)}),deleteH:Ot(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):zn(this,function(n){var r=Hn(i,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,o=i;if(t<0){r=-1;t=-t}for(var s=0,a=ge(this.doc,e);s<t;++s){var l=dt(this,a,"div");null==o?o=l.left:l.left=o;a=Vn(this,l,r,n);if(a.hitSide)break}return a},moveV:Ot(function(e,t){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();i.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=dt(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn);r.push(a.left);var l=Vn(n,a,e,t);"page"==t&&s==i.sel.primary()&&Bn(n,null,ht(n,l,"div").top-a.top);return l},Us);if(r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=this.doc,n=Qi(t,e.line).text,i=e.ch,r=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||r==n.length)&&i?--i:++r;for(var s=n.charAt(i),a=Ur(s,o)?function(e){return Ur(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Ur(e)};i>0&&a(n.charAt(i-1));)--i;for(;r<n.length&&a(n.charAt(r));)++r}return new fe(qo(e.line,i),qo(e.line,r))},toggleOverwrite:function(e){if(null==e||e!=this.state.overwrite){(this.state.overwrite=!this.state.overwrite)?Js(this.display.cursorDiv,"CodeMirror-overwrite"):Qs(this.display.cursorDiv,"CodeMirror-overwrite");ks(this,"overwriteToggle",this,this.state.overwrite)}},hasFocus:function(){return this.display.input.getField()==Wr()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ot(function(e,t){null==e&&null==t||Un(this);null!=e&&(this.curOp.scrollLeft=e);null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-We(this)-this.display.barHeight,width:e.scrollWidth-We(this)-this.display.barWidth,clientHeight:Ze(this),clientWidth:Ye(this)}},scrollIntoView:Ot(function(e,t){if(null==e){e={from:this.doc.sel.primary().head,to:null};null==t&&(t=this.options.cursorScrollMargin)}else"number"==typeof e?e={from:qo(e,0),to:null}:null==e.from&&(e={from:e,to:null});e.to||(e.to=e.from);e.margin=t||0;if(null!=e.from.line){Un(this);this.curOp.scrollToPos=e}else{var n=jn(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Ot(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var i=this;null!=e&&(i.display.wrapper.style.width=n(e));null!=t&&(i.display.wrapper.style.height=n(t));i.options.lineWrapping&&at(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){jt(i,r,"widget");break}++r});i.curOp.forceUpdate=!0;ks(i,"refresh",this)}),operation:function(e){return At(this,e)},refresh:Ot(function(){var e=this.display.cachedTextHeight;Dt(this);this.curOp.forceUpdate=!0;lt(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);c(this);(null==e||Math.abs(e-bt(this.display))>.5)&&s(this);ks(this,"refresh",this)}),swapDoc:Ot(function(e){var t=this.doc;t.cm=null;Xi(this,e);lt(this);this.display.input.reset();this.scrollTo(e.scrollLeft,e.scrollTop);this.curOp.forceScroll=!0;Sr(this,"swapDoc",this,t);return t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};Ar(e);var ts=e.defaults={},ns=e.optionHandlers={},is=e.Init={toString:function(){return"CodeMirror.Init"}};Wn("value","",function(e,t){e.setValue(t)},!0);Wn("mode",null,function(e,t){e.doc.modeOption=t;n(e)},!0);Wn("indentUnit",2,n,!0);Wn("indentWithTabs",!1);Wn("smartIndent",!0);Wn("tabSize",4,function(e){i(e);lt(e);Dt(e)},!0);Wn("lineSeparator",null,function(e,t){e.doc.lineSep=t;if(t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(o==-1)break;r=o+t.length;n.push(qo(i,o))}i++});for(var r=n.length-1;r>=0;r--)Pn(e.doc,t,n[r],qo(n[r].line,n[r].ch+t.length))}});Wn("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,i){t.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g");i!=e.Init&&t.refresh()});Wn("specialCharPlaceholder",Ui,function(e){e.refresh()},!0);Wn("electricChars",!0);Wn("inputStyle",Ao?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0);Wn("rtlMoveVisually",!Po);Wn("wholeLineUpdateBefore",!0);Wn("theme","default",function(e){a(e);l(e)},!0);Wn("keyMap","default",function(t,n,i){var r=Zn(n),o=i!=e.Init&&Zn(i);o&&o.detach&&o.detach(t,r);r.attach&&r.attach(t,o||null)});Wn("extraKeys",null);Wn("lineWrapping",!1,r,!0);Wn("gutters",[],function(e){h(e.options);l(e)},!0);Wn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?T(e.display)+"px":"0";e.refresh()},!0);Wn("coverGutterNextToScrollbar",!1,function(e){y(e)},!0);Wn("scrollbarStyle","native",function(e){v(e);y(e);e.display.scrollbars.setScrollTop(e.doc.scrollTop);e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0);Wn("lineNumbers",!1,function(e){h(e.options);l(e)},!0);Wn("firstLineNumber",1,l,!0);Wn("lineNumberFormatter",function(e){return e},l,!0);Wn("showCursorWhenSelecting",!1,ke,!0);Wn("resetSelectionOnContextMenu",!0);Wn("lineWiseCopyCut",!0);Wn("readOnly",!1,function(e,t){if("nocursor"==t){bn(e);e.display.input.blur();e.display.disabled=!0}else e.display.disabled=!1;e.display.input.readOnlyChanged(t)});Wn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0);Wn("dragDrop",!0,Ht);Wn("allowDropFileTypes",null);Wn("cursorBlinkRate",530);Wn("cursorScrollMargin",0);Wn("cursorHeight",1,ke,!0);Wn("singleCursorHeightPerLine",!0,ke,!0);Wn("workTime",100);Wn("workDelay",100);Wn("flattenSpans",!0,i,!0);Wn("addModeClass",!1,i,!0);Wn("pollInterval",100);Wn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t});Wn("historyEventDelay",1250);Wn("viewportMargin",10,function(e){e.refresh()},!0);Wn("maxHighlightLength",1e4,i,!0);Wn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()});Wn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""});Wn("autofocus",null);var rs=e.modes={},os=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t);arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2));rs[t]=n};e.defineMIME=function(e,t){os[e]=t};e.resolveMode=function(t){if("string"==typeof t&&os.hasOwnProperty(t))t=os[t];else if(t&&"string"==typeof t.name&&os.hasOwnProperty(t.name)){var n=os[t.name];"string"==typeof n&&(n={name:n});t=jr(n,t);t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}};e.getMode=function(t,n){var n=e.resolveMode(n),i=rs[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(ss.hasOwnProperty(n.name)){var o=ss[n.name];for(var s in o)if(o.hasOwnProperty(s)){r.hasOwnProperty(s)&&(r["_"+s]=r[s]);r[s]=o[s]}}r.name=n.name;n.helperType&&(r.helperType=n.helperType);if(n.modeProps)for(var s in n.modeProps)r[s]=n.modeProps[s];return r};e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}});e.defineMIME("text/plain","null");var ss=e.modeExtensions={};e.extendMode=function(e,t){var n=ss.hasOwnProperty(e)?ss[e]:ss[e]={};Br(t,n)};e.defineExtension=function(t,n){e.prototype[t]=n};e.defineDocExtension=function(e,t){Ss.prototype[e]=t};e.defineOption=Wn;var as=[];e.defineInitHook=function(e){as.push(e)};var ls=e.helpers={};e.registerHelper=function(t,n,i){ls.hasOwnProperty(t)||(ls[t]=e[t]={_global:[]});ls[t][n]=i};e.registerGlobalHelper=function(t,n,i,r){e.registerHelper(t,n,r);ls[t]._global.push({pred:i,val:r})};var us=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([]));n[i]=r}return n},cs=e.startState=function(e,t,n){return!e.startState||e.startState(t,n)};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state;e=n.mode}return n||{mode:e,state:t}};var fs=e.commands={selectAll:function(e){e.setSelection(qo(e.firstLine(),0),qo(e.lastLine()),Bs)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Bs)},killLine:function(e){zn(e,function(t){if(t.empty()){var n=Qi(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:qo(t.head.line+1,0)}:{from:t.head,to:qo(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){zn(e,function(t){return{from:qo(t.from().line,0),to:ge(e.doc,qo(t.to().line+1,0))}})},delLineLeft:function(e){zn(e,function(e){return{from:qo(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){zn(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){zn(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(qo(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(qo(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return so(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return lo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ao(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Us)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Us)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?lo(e,t.head):i},Us)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=Fs(e.getLine(o.line),o.ch,i);t.push(Or(i-s%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){At(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,o=Qi(e.doc,r.line).text;if(o){r.ch==o.length&&(r=new qo(r.line,r.ch-1));if(r.ch>0){r=new qo(r.line,r.ch+1);e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),qo(r.line,r.ch-2),r,"+transpose")}else if(r.line>e.doc.first){var s=Qi(e.doc,r.line-1).text;s&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),qo(r.line-1,s.length-1),qo(r.line,1),"+transpose")}}n.push(new fe(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){At(e,function(){for(var t=e.listSelections().length,n=0;n<t;n++){var i=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),i.anchor,i.head,"+input");e.indentLine(i.from().line+1,null,!0)}qn(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},ps=e.keyMap={};ps.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};ps.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};ps.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};ps.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};ps["default"]=Ro?ps.macDefault:ps.pcDefault;e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=Mr(n.split(" "),Yn),o=0;o<r.length;o++){var s,a;if(o==r.length-1){a=r.join(" ");s=i}else{a=r.slice(0,o+1).join(" ");s="..."}var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var u in t)e[u]=t[u];return e};var hs=e.lookupKey=function(e,t,n,i){t=Zn(t);var r=t.call?t.call(e,i):t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return hs(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var s=hs(e,t.fallthrough[o],n,i);if(s)return s}}},ds=e.isModifierKey=function(e){var t="string"==typeof e?e:sa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},gs=e.keyName=function(e,t){if(So&&34==e.keyCode&&e["char"])return!1;var n=sa[e.keyCode],i=n;if(null==i||e.altGraphKey)return!1;e.altKey&&"Alt"!=n&&(i="Alt-"+i);(Mo?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i);(Mo?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i);!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i);return i};e.fromTextArea=function(t,n){function i(){t.value=u.getValue()}n=n?Br(n):{};n.value=t.value;!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex);!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder);if(null==n.autofocus){var r=Wr();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form){Rs(t.form,"submit",i);if(!n.leaveSubmitMethodAlone){var o=t.form,s=o.submit;try{var a=o.submit=function(){i();o.submit=s;o.submit();o.submit=a}}catch(l){}}}n.finishInit=function(e){e.save=i;e.getTextArea=function(){return t};e.toTextArea=function(){e.toTextArea=isNaN;i();t.parentNode.removeChild(e.getWrapperElement());t.style.display="";if(t.form){Ps(t.form,"submit",i);"function"==typeof t.form.submit&&(t.form.submit=s)}}};t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return u};var ms=e.StringStream=function(e,t){this.pos=this.start=0;this.string=e;this.tabSize=t||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};ms.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n){++this.pos;return t}},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1){this.pos=t;return!0}},backUp:function(e){this.pos-=e},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=Fs(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?Fs(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Fs(this.string,null,this.tabSize)-(this.lineStart?Fs(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);if(i&&i.index>0)return null;i&&t!==!1&&(this.pos+=i[0].length);return i}var r=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(r(o)==r(e)){t!==!1&&(this.pos+=e.length);return!0}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var vs=0,ys=e.TextMarker=function(e,t){this.lines=[];this.type=t;this.doc=e;this.id=++vs};Ar(ys);ys.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;t&&_t(e);if(Ir(this,"clear")){var n=this.find();n&&Sr(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=ti(s.markedSpans,this);if(e&&!this.collapsed)jt(e,nr(s),"text");else if(e){null!=a.to&&(r=nr(s));null!=a.from&&(i=nr(s))}s.markedSpans=ni(s.markedSpans,a);null==a.from&&this.collapsed&&!wi(this.doc,s)&&e&&tr(s,bt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=bi(this.lines[o]),u=f(l);if(u>e.display.maxLineLength){e.display.maxLine=l;e.display.maxLineLength=u;e.display.maxLineChanged=!0}}null!=i&&e&&this.collapsed&&Dt(e,i,r+1);this.lines.length=0;this.explicitlyCleared=!0;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=!1;e&&Ie(e.doc)}e&&Sr(e,"markerCleared",e,this);t&&wt(e);this.parent&&this.parent.clear()}};ys.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],s=ti(o.markedSpans,this);if(null!=s.from){n=qo(t?o:nr(o),s.from);if(e==-1)return n}if(null!=s.to){i=qo(t?o:nr(o),s.to);if(1==e)return i}}return n&&{from:n,to:i}};ys.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&At(n,function(){var i=e.line,r=nr(e.line),o=Je(n,r);if(o){st(o);n.curOp.selectionChanged=n.curOp.forceUpdate=!0}n.curOp.updateMaxLine=!0;if(!wi(t.doc,i)&&null!=t.height){var s=t.height;t.height=null;var a=Ci(t)-s;a&&tr(i,i.height+a)}})};ys.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&kr(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)};ys.prototype.detachLine=function(e){this.lines.splice(kr(this.lines,e),1);if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;
(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var vs=0,bs=e.SharedTextMarker=function(e,t){this.markers=e;this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Ar(bs);bs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Sr(this,"clear")}};bs.prototype.find=function(e,t){return this.primary.find(e,t)};var xs=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e;this.node=t};Ar(xs);xs.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=nr(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=Ci(this);tr(n,Math.max(0,n.height-o));e&&At(e,function(){Si(e,n,-o);jt(e,i,"widget")})}};xs.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=Ci(this)-e;if(i){tr(n,n.height+i);t&&At(t,function(){t.curOp.forceUpdate=!0;Si(t,n,i)})}};var _s=e.Line=function(e,t,n){this.text=e;fi(this,t);this.height=n?n(this):1};Ar(_s);_s.prototype.lineNo=function(){return nr(this)};var Es={},ws={};Zi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;n<i;++n){var r=this.lines[n];this.height-=r.height;Ii(r);Sr(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n;this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;e<i;++e)if(n(this.lines[e]))return!0}};$i.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(e<r){var o=Math.min(t,r-e),s=i.height;i.removeInner(e,o);this.height-=s-i.height;if(r==o){this.children.splice(n--,1);i.parent=null}if(0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Zi))){var a=[];this.collapse(a);this.children=[new Zi(a)];this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length;this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<=o){r.insertInner(e,t,n);if(r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new Zi(r.lines.slice(a,a+=25));r.height-=l.height;this.children.splice(++i,0,l);l.parent=this}r.lines=r.lines.slice(0,s);this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new $i(t);if(e.parent){e.size-=n.size;e.height-=n.height;var i=kr(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new $i(e.children);r.parent=e;e.children=[r,n];e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<o){var s=Math.min(t,o-e);if(r.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var Ts=0,Ss=e.Doc=function(e,t,n,i){if(!(this instanceof Ss))return new Ss(e,t,n,i);null==n&&(n=0);$i.call(this,[new Zi([new _s("",null)])]);this.first=n;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=n;var r=qo(n,0);this.sel=he(r);this.history=new sr(null);this.id=++Ts;this.modeOption=t;this.lineSep=i;this.extend=!1;"string"==typeof e&&(e=this.splitLines(e));Yi(this,{from:r,to:r,text:e});Ce(this,he(r),Bs)};Ss.prototype=jr($i.prototype,{constructor:Ss,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=er(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Pt(function(e){var t=qo(this.first,0),n=this.first+this.size-1;Ln(this,{from:t,to:qo(n,Qi(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0);Ce(this,he(t))}),replaceRange:function(e,t,n,i){t=ge(this,t);n=n?ge(this,n):t;Pn(this,e,t,n,i)},getRange:function(e,t,n){var i=Ji(this,ge(this,e),ge(this,t));return n===!1?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(ve(this,e))return Qi(this,e)},getLineNumber:function(e){return nr(e)},getLineHandleVisualStart:function(e){"number"==typeof e&&(e=Qi(this,e));return bi(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ge(this,e)},getCursor:function(e){var t,n=this.sel.primary();t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from();return t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Pt(function(e,t,n){we(this,ge(this,"number"==typeof e?qo(e,t||0):e),null,n)}),setSelection:Pt(function(e,t,n){we(this,ge(this,e),ge(this,t||e),n)}),extendSelection:Pt(function(e,t,n){xe(this,ge(this,e),t&&ge(this,t),n)}),extendSelections:Pt(function(e,t){_e(this,ye(this,e),t)}),extendSelectionsBy:Pt(function(e,t){var n=Mr(this.sel.ranges,e);_e(this,ye(this,n),t)}),setSelections:Pt(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new fe(ge(this,e[i].anchor),ge(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex));Ce(this,pe(r,t),n)}}),addSelection:Pt(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new fe(ge(this,e),ge(this,t||e)));Ce(this,pe(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=Ji(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Ji(this,n[i].from(),n[i].to());e!==!1&&(r=r.join(e||this.lineSeparator()));t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:Pt(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n}}for(var a=t&&"end"!=t&&Sn(this,i,t),o=i.length-1;o>=0;o--)Ln(this,i[o]);a?Se(this,a):this.cm&&qn(this.cm)}),undo:Pt(function(){In(this,"undo")}),redo:Pt(function(){In(this,"redo")}),undoSelection:Pt(function(){In(this,"undo",!0)}),redoSelection:Pt(function(){In(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new sr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vr(this.history.done),undone:vr(this.history.undone)}},setHistory:function(e){var t=this.history=new sr(this.history.maxGeneration);t.done=vr(e.done.slice(0),null,!0);t.undone=vr(e.undone.slice(0),null,!0)},addLineClass:Pt(function(e,t,n){return Gn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(Yr(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:Pt(function(e,t,n){return Gn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.match(Yr(n));if(!o)return!1;var s=o.index+o[0].length;e[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Pt(function(e,t,n){return Li(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return $n(this,ge(this,e),ge(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};e=ge(this,e);return $n(this,e,e,n,"bookmark")},findMarksAt:function(e){e=ge(this,e);var t=[],n=Qi(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=ge(this,e);t=ge(this,t);var i=[],r=e.line;this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r});return i},getAllMarks:function(){var e=[];this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)});return e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;this.iter(function(r){var o=r.text.length+i;if(o>e){t=e;return!0}e-=o;++n});return ge(this,qo(n,t))},indexFromPos:function(e){e=ge(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;this.iter(this.first,e.line,function(e){t+=e.text.length+n});return t},copy:function(e){var t=new Ss(er(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);t.scrollTop=this.scrollTop;t.scrollLeft=this.scrollLeft;t.sel=this.sel;t.extend=!1;if(e){t.history.undoDepth=this.history.undoDepth;t.setHistory(this.getHistory())}return t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from);null!=e.to&&e.to<n&&(n=e.to);var i=new Ss(er(this,t,n),e.mode||this.modeOption,t,this.lineSep);e.sharedHist&&(i.history=this.history);(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist});i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}];Qn(i,Xn(this));return i},unlinkDoc:function(t){t instanceof e&&(t=t.doc);if(this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==t){this.linked.splice(n,1);t.unlinkDoc(this);Jn(Xn(this));break}}if(t.history==this.history){var r=[t.id];Ki(t,function(e){r.push(e.id)},!0);t.history=new sr(null);t.history.done=vr(this.history.done,r);t.history.undone=vr(this.history.undone,r)}},iterLinkedDocs:function(e){Ki(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):na(e)},lineSeparator:function(){return this.lineSep||"\n"}});Ss.prototype.eachLine=Ss.prototype.iter;var Cs="iter insert remove copy getEditor constructor".split(" ");for(var Ls in Ss.prototype)Ss.prototype.hasOwnProperty(Ls)&&kr(Cs,Ls)<0&&(e.prototype[Ls]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ss.prototype[Ls]));Ar(Ss);var Ns=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Is=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},As=e.e_stop=function(e){Ns(e);Is(e)},Rs=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={}),r=i[t]||(i[t]=[]);r.push(n)}},Os=[],Ps=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var i=Tr(e,t,!1),r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}},ks=e.signal=function(e,t){var n=Tr(e,t,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},Ms=null,Ds=30,js=e.Pass={toString:function(){return"CodeMirror.Pass"}},Bs={scroll:!1},qs={origin:"*mouse"},Us={origin:"+move"};Rr.prototype.set=function(e,t){clearTimeout(this.id);this.id=setTimeout(t,e)};var Fs=e.countColumn=function(e,t,n,i,r){if(null==t){t=e.search(/[^\s\u00a0]/);t==-1&&(t=e.length)}for(var o=i||0,s=r||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o;s+=n-s%n;o=a+1}},Gs=e.findColumn=function(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);o==-1&&(o=e.length);var s=o-i;if(o==e.length||r+s>=t)return i+Math.min(s,t-r);r+=o-i;r+=n-r%n;i=o+1;if(r>=t)return i}},zs=[""],Hs=function(e){e.select()};Io?Hs=function(e){e.selectionStart=0;e.selectionEnd=e.value.length}:xo&&(Hs=function(e){try{e.select()}catch(t){}});var Vs,Ws=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ys=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ws.test(e))},Zs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Vs=document.createRange?function(e,t,n,i){var r=document.createRange();r.setEnd(i||e,n);r.setStart(e,t);return r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(r){return i}i.collapse(!0);i.moveEnd("character",n);i.moveStart("character",t);return i};var $s=e.contains=function(e,t){3==t.nodeType&&(t=t.parentNode);if(e.contains)return e.contains(t);do{11==t.nodeType&&(t=t.host);if(t==e)return!0}while(t=t.parentNode)};xo&&_o<11&&(Wr=function(){try{return document.activeElement}catch(e){return document.body}});var Ks,Xs,Qs=e.rmClass=function(e,t){var n=e.className,i=Yr(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Js=e.addClass=function(e,t){var n=e.className;Yr(t).test(n)||(e.className+=(n?" ":"")+t)},ea=!1,ta=function(){if(xo&&_o<9)return!1;var e=zr("div");return"draggable"in e||"dragDrop"in e}(),na=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var r=e.indexOf("\n",t);r==-1&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");if(s!=-1){n.push(o.slice(0,s));t+=s+1}else{n.push(o);t=r+1}}return n}:function(e){return e.split(/\r\n?|\n/)},ia=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ra=function(){var e=zr("div");if("oncopy"in e)return!0;e.setAttribute("oncopy","return;");return"function"==typeof e.oncopy}(),oa=null,sa=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};(function(){for(var e=0;e<10;e++)sa[e+48]=sa[e+96]=String(e);for(var e=65;e<=90;e++)sa[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)sa[e+111]=sa[e+63235]="F"+e})();var aa,la=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1773?i.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e;this.from=t;this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,u="L";return function(n){if(!r.test(n))return!1;for(var i,c=n.length,f=[],p=0;p<c;++p)f.push(i=e(n.charCodeAt(p)));for(var p=0,h=u;p<c;++p){var i=f[p];"m"==i?f[p]=h:h=i}for(var p=0,d=u;p<c;++p){var i=f[p];if("1"==i&&"r"==d)f[p]="n";else if(s.test(i)){d=i;"r"==i&&(f[p]="R")}}for(var p=1,h=f[0];p<c-1;++p){var i=f[p];"+"==i&&"1"==h&&"1"==f[p+1]?f[p]="1":","!=i||h!=f[p+1]||"1"!=h&&"n"!=h||(f[p]=h);h=i}for(var p=0;p<c;++p){var i=f[p];if(","==i)f[p]="N";else if("%"==i){for(var g=p+1;g<c&&"%"==f[g];++g);for(var m=p&&"!"==f[p-1]||g<c&&"1"==f[g]?"1":"N",v=p;v<g;++v)f[v]=m;p=g-1}}for(var p=0,d=u;p<c;++p){var i=f[p];"L"==d&&"1"==i?f[p]="L":s.test(i)&&(d=i)}for(var p=0;p<c;++p)if(o.test(f[p])){for(var g=p+1;g<c&&o.test(f[g]);++g);for(var y="L"==(p?f[p-1]:u),b="L"==(g<c?f[g]:u),m=y||b?"L":"R",v=p;v<g;++v)f[v]=m;p=g-1}for(var x,_=[],p=0;p<c;)if(a.test(f[p])){var E=p;for(++p;p<c&&a.test(f[p]);++p);_.push(new t(0,E,p))}else{var w=p,T=_.length;for(++p;p<c&&"L"!=f[p];++p);for(var v=w;v<p;)if(l.test(f[v])){w<v&&_.splice(T,0,new t(1,w,v));var S=v;for(++v;v<p&&l.test(f[v]);++v);_.splice(T,0,new t(2,S,v));w=v}else++v;w<p&&_.splice(T,0,new t(1,w,p))}if(1==_[0].level&&(x=n.match(/^\s+/))){_[0].from=x[0].length;_.unshift(new t(0,0,x[0].length))}if(1==Pr(_).level&&(x=n.match(/\s+$/))){Pr(_).to-=x[0].length;_.push(new t(0,c-x[0].length,c))}2==_[0].level&&_.unshift(new t(1,_[0].to,_[0].to));_[0].level!=Pr(_).level&&_.push(new t(_[0].level,c,c));return _}}();e.version="5.17.0";return e})},{}],18:[function(e,t,n){(function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";function t(e,t,n){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}e.defineMode("javascript",function(n,i){function r(e){for(var t,n=!1,i=!1;null!=(t=e.next());){if(!n){if("/"==t&&!i)return;"["==t?i=!0:i&&"]"==t&&(i=!1)}n=!n&&"\\"==t}}function o(e,t,n){be=e;xe=n;return t}function s(e,n){var i=e.next();if('"'==i||"'"==i){n.tokenize=a(i);return n.tokenize(e,n)}if("."==i&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==i&&e.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return o(i);if("="==i&&e.eat(">"))return o("=>","operator");if("0"==i&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return o("number","number")}if("0"==i&&e.eat(/o/i)){e.eatWhile(/[0-7]/i);return o("number","number")}if("0"==i&&e.eat(/b/i)){e.eatWhile(/[01]/i);return o("number","number")}if(/\d/.test(i)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return o("number","number")}if("/"==i){if(e.eat("*")){n.tokenize=l;return l(e,n)}if(e.eat("/")){e.skipToEnd();return o("comment","comment")}if(t(e,n,1)){r(e);e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return o("regexp","string-2")}e.eatWhile(Ne);return o("operator","operator",e.current())}if("`"==i){n.tokenize=u;return u(e,n)}if("#"==i){e.skipToEnd();return o("error","error")}if(Ne.test(i)){e.eatWhile(Ne);return o("operator","operator",e.current())}if(Ce.test(i)){e.eatWhile(Ce);var s=e.current(),c=Le.propertyIsEnumerable(s)&&Le[s];return c&&"."!=n.lastType?o(c.type,c.style,s):o("variable","variable",s)}}function a(e){return function(t,n){var i,r=!1;if(we&&"@"==t.peek()&&t.match(Ie)){n.tokenize=s;return o("jsonld-keyword","meta")}for(;null!=(i=t.next())&&(i!=e||r);)r=!r&&"\\"==i;r||(n.tokenize=s);return o("string","string")}}function l(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=s;break}i="*"==n}return o("comment","comment")}function u(e,t){for(var n,i=!1;null!=(n=e.next());){if(!i&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=s;break}i=!i&&"\\"==n}return o("quasi","string-2",e.current())}function c(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){for(var i=0,r=!1,o=n-1;o>=0;--o){var s=e.string.charAt(o),a=Ae.indexOf(s);if(a>=0&&a<3){if(!i){++o;break}if(0==--i)break}else if(a>=3&&a<6)++i;else if(Ce.test(s))r=!0;else{if(/["'\/]/.test(s))return;if(r&&!i){++o;break}}}r&&!i&&(t.fatArrowAt=o)}}function f(e,t,n,i,r,o){this.indented=e;this.column=t;this.type=n;this.prev=r;this.info=o;null!=i&&(this.align=i)}function p(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var i=e.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==t)return!0}function h(e,t,n,i,r){var o=e.cc;Oe.state=e;Oe.stream=r;Oe.marked=null,Oe.cc=o;Oe.style=t;e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){var s=o.length?o.pop():Te?w:E;if(s(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Oe.marked?Oe.marked:"variable"==n&&p(e,i)?"variable-2":t}}}function d(){for(var e=arguments.length-1;e>=0;e--)Oe.cc.push(arguments[e])}function g(){d.apply(null,arguments);return!0}function m(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var n=Oe.state;Oe.marked="def";if(n.context){if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;i.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function v(){Oe.state.context={prev:Oe.state.context,vars:Oe.state.localVars};Oe.state.localVars=Pe}function y(){Oe.state.localVars=Oe.state.context.vars;Oe.state.context=Oe.state.context.prev}function b(e,t){var n=function(){var n=Oe.state,i=n.indented;if("stat"==n.lexical.type)i=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)i=r.indented;n.lexical=new f(i,Oe.stream.column(),e,null,n.lexical,t)};n.lex=!0;return n}function x(){var e=Oe.state;if(e.lexical.prev){")"==e.lexical.type&&(e.indented=e.lexical.indented);e.lexical=e.lexical.prev}}function _(e){function t(n){return n==e?g():";"==e?d():g(t)}return t}function E(e,t){if("var"==e)return g(b("vardef",t.length),$,_(";"),x);if("keyword a"==e)return g(b("form"),w,E,x);if("keyword b"==e)return g(b("form"),E,x);if("{"==e)return g(b("}"),H,x);if(";"==e)return g();if("if"==e){"else"==Oe.state.lexical.info&&Oe.state.cc[Oe.state.cc.length-1]==x&&Oe.state.cc.pop()();return g(b("form"),w,E,x,ee)}return"function"==e?g(se):"for"==e?g(b("form"),te,E,x):"variable"==e?g(b("stat"),j):"switch"==e?g(b("form"),w,b("}","switch"),_("{"),H,x,x):"case"==e?g(w,_(":")):"default"==e?g(_(":")):"catch"==e?g(b("form"),v,_("("),ae,_(")"),E,x,y):"class"==e?g(b("form"),le,x):"export"==e?g(b("stat"),pe,x):"import"==e?g(b("stat"),he,x):"module"==e?g(b("form"),K,b("}"),_("{"),H,x,x):"async"==e?g(E):d(b("stat"),w,_(";"),x)}function w(e){return S(e,!1)}function T(e){return S(e,!0)}function S(e,t){if(Oe.state.fatArrowAt==Oe.stream.start){var n=t?P:O;if("("==e)return g(v,b(")"),G(K,")"),x,_("=>"),n,y);if("variable"==e)return d(v,K,_("=>"),n,y)}var i=t?I:N;return Re.hasOwnProperty(e)?g(i):"function"==e?g(se,i):"keyword c"==e||"async"==e?g(t?L:C):"("==e?g(b(")"),C,_(")"),x,i):"operator"==e||"spread"==e?g(t?T:w):"["==e?g(b("]"),ve,x,i):"{"==e?z(q,"}",null,i):"quasi"==e?d(A,i):"new"==e?g(k(t)):g()}function C(e){return e.match(/[;\}\)\],]/)?d():d(w)}function L(e){return e.match(/[;\}\)\],]/)?d():d(T)}function N(e,t){return","==e?g(w):I(e,t,!1)}function I(e,t,n){var i=0==n?N:I,r=0==n?w:T;return"=>"==e?g(v,n?P:O,y):"operator"==e?/\+\+|--/.test(t)?g(i):"?"==t?g(w,_(":"),r):g(r):"quasi"==e?d(A,i):";"!=e?"("==e?z(T,")","call",i):"."==e?g(B,i):"["==e?g(b("]"),C,_("]"),x,i):void 0:void 0}function A(e,t){return"quasi"!=e?d():"${"!=t.slice(t.length-2)?g(A):g(w,R)}function R(e){if("}"==e){Oe.marked="string-2";Oe.state.tokenize=u;return g(A)}}function O(e){c(Oe.stream,Oe.state);return d("{"==e?E:w)}function P(e){c(Oe.stream,Oe.state);return d("{"==e?E:T)}function k(e){return function(t){return"."==t?g(e?D:M):d(e?T:w)}}function M(e,t){if("target"==t){Oe.marked="keyword";return g(N)}}function D(e,t){if("target"==t){Oe.marked="keyword";return g(I)}}function j(e){return":"==e?g(x,E):d(N,_(";"),x)}function B(e){if("variable"==e){Oe.marked="property";return g()}}function q(e,t){if("async"==e)return g(q);if("variable"==e||"keyword"==Oe.style){Oe.marked="property";return g("get"==t||"set"==t?U:F)}if("number"==e||"string"==e){Oe.marked=we?"property":Oe.style+" property";return g(F)}return"jsonld-keyword"==e?g(F):"modifier"==e?g(q):"["==e?g(w,_("]"),F):"spread"==e?g(w):void 0}function U(e){if("variable"!=e)return d(F);Oe.marked="property";return g(se)}function F(e){return":"==e?g(T):"("==e?d(se):void 0}function G(e,t){function n(i,r){if(","==i){var o=Oe.state.lexical;"call"==o.info&&(o.pos=(o.pos||0)+1);return g(function(n,i){return n==t||i==t?d():d(e)},n)}return i==t||r==t?g():g(_(t))}return function(i,r){return i==t||r==t?g():d(e,n)}}function z(e,t,n){for(var i=3;i<arguments.length;i++)Oe.cc.push(arguments[i]);return g(b(t,n),G(e,t),x)}function H(e){return"}"==e?g():d(E,H)}function V(e){if(Se&&":"==e)return g(Y)}function W(e,t){if("="==t)return g(T)}function Y(e){if("variable"==e){Oe.marked="variable-3";return g(Z)}}function Z(e,t){return"<"==t?g(G(Y,">"),Z):"["==e?g(_("]"),Z):void 0}function $(){return d(K,V,Q,J)}function K(e,t){if("modifier"==e)return g(K);if("variable"==e){m(t);return g()}return"spread"==e?g(K):"["==e?z(K,"]"):"{"==e?z(X,"}"):void 0}function X(e,t){if("variable"==e&&!Oe.stream.match(/^\s*:/,!1)){m(t);return g(Q)}"variable"==e&&(Oe.marked="property");return"spread"==e?g(K):"}"==e?d():g(_(":"),K,Q)}function Q(e,t){if("="==t)return g(T)}function J(e){if(","==e)return g($)}function ee(e,t){if("keyword b"==e&&"else"==t)return g(b("form","else"),E,x)}function te(e){if("("==e)return g(b(")"),ne,_(")"),x)}function ne(e){return"var"==e?g($,_(";"),re):";"==e?g(re):"variable"==e?g(ie):d(w,_(";"),re)}function ie(e,t){if("in"==t||"of"==t){Oe.marked="keyword";return g(w)}return g(N,re)}function re(e,t){if(";"==e)return g(oe);if("in"==t||"of"==t){Oe.marked="keyword";return g(w)}return d(w,_(";"),oe)}function oe(e){")"!=e&&g(w)}function se(e,t){if("*"==t){Oe.marked="keyword";return g(se)}if("variable"==e){m(t);return g(se)}if("("==e)return g(v,b(")"),G(ae,")"),x,V,E,y)}function ae(e){return"spread"==e?g(ae):d(K,V,W)}function le(e,t){if("variable"==e){m(t);return g(ue)}}function ue(e,t){return"extends"==t?g(w,ue):"{"==e?g(b("}"),ce,x):void 0}function ce(e,t){if("variable"==e||"keyword"==Oe.style){if("static"==t){Oe.marked="keyword";return g(ce)}Oe.marked="property";return"get"==t||"set"==t?g(fe,se,ce):g(se,ce)}if("*"==t){Oe.marked="keyword";return g(ce)}return";"==e?g(ce):"}"==e?g():void 0}function fe(e){if("variable"!=e)return d();Oe.marked="property";return g()}function pe(e,t){if("*"==t){Oe.marked="keyword";return g(me,_(";"))}if("default"==t){Oe.marked="keyword";return g(w,_(";"))}return d(E)}function he(e){return"string"==e?g():d(de,me)}function de(e,t){if("{"==e)return z(de,"}");"variable"==e&&m(t);"*"==t&&(Oe.marked="keyword");return g(ge)}function ge(e,t){if("as"==t){Oe.marked="keyword";return g(de)}}function me(e,t){if("from"==t){Oe.marked="keyword";return g(w)}}function ve(e){return"]"==e?g():d(T,G(T,"]"))}function ye(e,t){return"operator"==e.lastType||","==e.lastType||Ne.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var be,xe,_e=n.indentUnit,Ee=i.statementIndent,we=i.jsonld,Te=i.json||we,Se=i.typescript,Ce=i.wordCharacters||/[\w$\xa1-\uffff]/,Le=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("operator"),o={type:"atom",style:"atom"},s={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":e("new"),"delete":i,"throw":i,"debugger":i,"var":e("var"),"const":e("var"),"let":e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":e("this"),"class":e("class"),"super":e("atom"),"yield":i,"export":e("export"),"import":e("import"),"extends":i,await:i,async:e("async")};if(Se){var a={type:"variable",style:"variable-3"},l={"interface":e("class"),"implements":i,namespace:i,module:e("module"),"enum":e("module"),"public":e("modifier"),"private":e("modifier"),"protected":e("modifier"),"abstract":e("modifier"),as:r,string:a,number:a,"boolean":a,any:a};for(var u in l)s[u]=l[u]}return s}(),Ne=/[+\-*&%=<>!?|~^]/,Ie=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ae="([{}])",Re={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Oe={state:null,column:null,marked:null,cc:null},Pe={name:"this",next:{name:"arguments"}};x.lex=!0;return{startState:function(e){var t={tokenize:s,lastType:"sof",cc:[],lexical:new f((e||0)-_e,0,"block",(!1)),localVars:i.localVars,context:i.localVars&&{vars:i.localVars},indented:e||0};i.globalVars&&"object"==typeof i.globalVars&&(t.globalVars=i.globalVars);return t},token:function(e,t){if(e.sol()){t.lexical.hasOwnProperty("align")||(t.lexical.align=!1);t.indented=e.indentation();c(e,t)}if(t.tokenize!=l&&e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==be)return n;t.lastType="operator"!=be||"++"!=xe&&"--"!=xe?be:"incdec";return h(t,n,be,xe,e)},indent:function(t,n){if(t.tokenize==l)return e.Pass;if(t.tokenize!=s)return 0;var r=n&&n.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(n))for(var a=t.cc.length-1;a>=0;--a){var u=t.cc[a];if(u==x)o=o.prev;else if(u!=ee)break}"stat"==o.type&&"}"==r&&(o=o.prev);Ee&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var c=o.type,f=r==c;return"vardef"==c?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==c&&"{"==r?o.indented:"form"==c?o.indented+_e:"stat"==c?o.indented+(ye(t,n)?Ee||_e:0):"switch"!=o.info||f||0==i.doubleIndentSwitch?o.align?o.column+(f?0:1):o.indented+(f?0:_e):o.indented+(/^(?:case|default)\b/.test(n)?_e:2*_e)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Te?null:"/*",
blockCommentEnd:Te?null:"*/",lineComment:Te?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Te?"json":"javascript",jsonldMode:we,jsonMode:Te,expressionAllowed:t,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=w&&t!=T||e.cc.pop()}}});e.registerHelper("wordChars","javascript",/[\w$]/);e.defineMIME("text/javascript","javascript");e.defineMIME("text/ecmascript","javascript");e.defineMIME("application/javascript","javascript");e.defineMIME("application/x-javascript","javascript");e.defineMIME("application/ecmascript","javascript");e.defineMIME("application/json",{name:"javascript",json:!0});e.defineMIME("application/x-json",{name:"javascript",json:!0});e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});e.defineMIME("text/typescript",{name:"javascript",typescript:!0});e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},{"../../lib/codemirror":17}],19:[function(e,t,n){(function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(i,r){function o(e,t){function n(n){t.tokenize=n;return n(e,t)}var i=e.next();if("<"==i){if(e.eat("!")){if(e.eat("["))return e.match("CDATA[")?n(l("atom","]]>")):null;if(e.match("--"))return n(l("comment","-->"));if(e.match("DOCTYPE",!0,!0)){e.eatWhile(/[\w\._\-]/);return n(u(1))}return null}if(e.eat("?")){e.eatWhile(/[\w\._\-]/);t.tokenize=l("meta","?>");return"meta"}C=e.eat("/")?"closeTag":"openTag";t.tokenize=s;return"tag bracket"}if("&"==i){var r;r=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";");return r?"atom":"error"}e.eatWhile(/[^&<]/);return null}function s(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">")){t.tokenize=o;C=">"==n?"endTag":"selfcloseTag";return"tag bracket"}if("="==n){C="equals";return null}if("<"==n){t.tokenize=o;t.state=h;t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}if(/[\'\"]/.test(n)){t.tokenize=a(n);t.stringStartCol=e.column();return t.tokenize(e,t)}e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function a(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=s;break}return"string"};t.isInAttribute=!0;return t}function l(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=o;break}n.next()}return e}}function u(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i){n.tokenize=u(e+1);return n.tokenize(t,n)}if(">"==i){if(1==e){n.tokenize=o;break}n.tokenize=u(e-1);return n.tokenize(t,n)}}return"meta"}}function c(e,t,n){this.prev=e.context;this.tagName=t;this.indent=e.indented;this.startOfLine=n;(w.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function f(e){e.context&&(e.context=e.context.prev)}function p(e,t){for(var n;;){if(!e.context)return;n=e.context.tagName;if(!w.contextGrabbers.hasOwnProperty(n)||!w.contextGrabbers[n].hasOwnProperty(t))return;f(e)}}function h(e,t,n){if("openTag"==e){n.tagStart=t.column();return d}return"closeTag"==e?g:h}function d(e,t,n){if("word"==e){n.tagName=t.current();L="tag";return y}L="error";return d}function g(e,t,n){if("word"==e){var i=t.current();n.context&&n.context.tagName!=i&&w.implicitlyClosed.hasOwnProperty(n.context.tagName)&&f(n);if(n.context&&n.context.tagName==i||w.matchClosing===!1){L="tag";return m}L="tag error";return v}L="error";return v}function m(e,t,n){if("endTag"!=e){L="error";return m}f(n);return h}function v(e,t,n){L="error";return m(e,t,n)}function y(e,t,n){if("word"==e){L="attribute";return b}if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;n.tagName=n.tagStart=null;if("selfcloseTag"==e||w.autoSelfClosers.hasOwnProperty(i))p(n,i);else{p(n,i);n.context=new c(n,i,r==n.indented)}return h}L="error";return y}function b(e,t,n){if("equals"==e)return x;w.allowMissing||(L="error");return y(e,t,n)}function x(e,t,n){if("string"==e)return _;if("word"==e&&w.allowUnquoted){L="string";return y}L="error";return y(e,t,n)}function _(e,t,n){return"string"==e?_:y(e,t,n)}var E=i.indentUnit,w={},T=r.htmlMode?t:n;for(var S in T)w[S]=T[S];for(var S in r)w[S]=r[S];var C,L;o.isInText=!0;return{startState:function(e){var t={tokenize:o,state:h,indented:e||0,tagName:null,tagStart:null,context:null};null!=e&&(t.baseIndent=e);return t},token:function(e,t){!t.tagName&&e.sol()&&(t.indented=e.indentation());if(e.eatSpace())return null;C=null;var n=t.tokenize(e,t);if((n||C)&&"comment"!=n){L=null;t.state=t.state(C||n,e,t);L&&(n="error"==L?n+" error":L)}return n},indent:function(t,n,i){var r=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+E;if(r&&r.noIndent)return e.Pass;if(t.tokenize!=s&&t.tokenize!=o)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return w.multilineTagIndentPastTag!==!1?t.tagStart+t.tagName.length+2:t.tagStart+E*(w.multilineTagIndentFactor||1);if(w.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;r;){if(r.tagName==a[2]){r=r.prev;break}if(!w.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(a)for(;r;){var l=w.contextGrabbers[r.tagName];if(!l||!l.hasOwnProperty(a[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+E:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:w.htmlMode?"html":"xml",helperType:w.htmlMode?"html":"xml",skipAttribute:function(e){e.state==x&&(e.state=y)}}});e.defineMIME("text/xml","xml");e.defineMIME("application/xml","xml");e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":17}],20:[function(e,t,n){function i(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}var r=e("color-name"),o={};for(var s in r)r.hasOwnProperty(s)&&(o[r[s]]=s);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var l in a)if(a.hasOwnProperty(l)){if(!("channels"in a[l]))throw new Error("missing channels property: "+l);if(!("labels"in a[l]))throw new Error("missing channel labels property: "+l);if(a[l].labels.length!==a[l].channels)throw new Error("channel and label counts mismatch: "+l);var u=a[l].channels,c=a[l].labels;delete a[l].channels;delete a[l].labels;Object.defineProperty(a[l],"channels",{value:u});Object.defineProperty(a[l],"labels",{value:c})}a.rgb.hsl=function(e){var t,n,i,r=e[0]/255,o=e[1]/255,s=e[2]/255,a=Math.min(r,o,s),l=Math.max(r,o,s),u=l-a;l===a?t=0:r===l?t=(o-s)/u:o===l?t=2+(s-r)/u:s===l&&(t=4+(r-o)/u);t=Math.min(60*t,360);t<0&&(t+=360);i=(a+l)/2;n=l===a?0:i<=.5?u/(l+a):u/(2-l-a);return[t,100*n,100*i]};a.rgb.hsv=function(e){var t,n,i,r=e[0],o=e[1],s=e[2],a=Math.min(r,o,s),l=Math.max(r,o,s),u=l-a;n=0===l?0:u/l*1e3/10;l===a?t=0:r===l?t=(o-s)/u:o===l?t=2+(s-r)/u:s===l&&(t=4+(r-o)/u);t=Math.min(60*t,360);t<0&&(t+=360);i=l/255*1e3/10;return[t,n,i]};a.rgb.hwb=function(e){var t=e[0],n=e[1],i=e[2],r=a.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(n,i));i=1-1/255*Math.max(t,Math.max(n,i));return[r,100*o,100*i]};a.rgb.cmyk=function(e){var t,n,i,r,o=e[0]/255,s=e[1]/255,a=e[2]/255;r=Math.min(1-o,1-s,1-a);t=(1-o-r)/(1-r)||0;n=(1-s-r)/(1-r)||0;i=(1-a-r)/(1-r)||0;return[100*t,100*n,100*i,100*r]};a.rgb.keyword=function(e){var t=o[e];if(t)return t;var n,s=1/0;for(var a in r)if(r.hasOwnProperty(a)){var l=r[a],u=i(e,l);if(u<s){s=u;n=a}}return n};a.keyword.rgb=function(e){return r[e]};a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var r=.4124*t+.3576*n+.1805*i,o=.2126*t+.7152*n+.0722*i,s=.0193*t+.1192*n+.9505*i;return[100*r,100*o,100*s]};a.rgb.lab=function(e){var t,n,i,r=a.rgb.xyz(e),o=r[0],s=r[1],l=r[2];o/=95.047;s/=100;l/=108.883;o=o>.008856?Math.pow(o,1/3):7.787*o+16/116;s=s>.008856?Math.pow(s,1/3):7.787*s+16/116;l=l>.008856?Math.pow(l,1/3):7.787*l+16/116;t=116*s-16;n=500*(o-s);i=200*(s-l);return[t,n,i]};a.hsl.rgb=function(e){var t,n,i,r,o,s=e[0]/360,a=e[1]/100,l=e[2]/100;if(0===a){o=255*l;return[o,o,o]}n=l<.5?l*(1+a):l+a-l*a;t=2*l-n;r=[0,0,0];for(var u=0;u<3;u++){i=s+1/3*-(u-1);i<0&&i++;i>1&&i--;o=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t;r[u]=255*o}return r};a.hsl.hsv=function(e){var t,n,i=e[0],r=e[1]/100,o=e[2]/100,s=r,a=Math.max(o,.01);o*=2;r*=o<=1?o:2-o;s*=a<=1?a:2-a;n=(o+r)/2;t=0===o?2*s/(a+s):2*r/(o+r);return[i,100*t,100*n]};a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,o=t-Math.floor(t),s=255*i*(1-n),a=255*i*(1-n*o),l=255*i*(1-n*(1-o));i*=255;switch(r){case 0:return[i,l,s];case 1:return[a,i,s];case 2:return[s,i,l];case 3:return[s,a,i];case 4:return[l,s,i];case 5:return[i,s,a]}};a.hsv.hsl=function(e){var t,n,i,r=e[0],o=e[1]/100,s=e[2]/100,a=Math.max(s,.01);i=(2-o)*s;t=(2-o)*a;n=o*a;n/=t<=1?t:2-t;n=n||0;i/=2;return[r,100*n,100*i]};a.hwb.rgb=function(e){var t,n,i,r,o=e[0]/360,s=e[1]/100,a=e[2]/100,l=s+a;if(l>1){s/=l;a/=l}t=Math.floor(6*o);n=1-a;i=6*o-t;0!==(1&t)&&(i=1-i);r=s+i*(n-s);var u,c,f;switch(t){default:case 6:case 0:u=n;c=r;f=s;break;case 1:u=r;c=n;f=s;break;case 2:u=s;c=n;f=r;break;case 3:u=s;c=r;f=n;break;case 4:u=r;c=s;f=n;break;case 5:u=n;c=s;f=r}return[255*u,255*c,255*f]};a.cmyk.rgb=function(e){var t,n,i,r=e[0]/100,o=e[1]/100,s=e[2]/100,a=e[3]/100;t=1-Math.min(1,r*(1-a)+a);n=1-Math.min(1,o*(1-a)+a);i=1-Math.min(1,s*(1-a)+a);return[255*t,255*n,255*i]};a.xyz.rgb=function(e){var t,n,i,r=e[0]/100,o=e[1]/100,s=e[2]/100;t=3.2406*r+o*-1.5372+s*-.4986;n=r*-.9689+1.8758*o+.0415*s;i=.0557*r+o*-.204+1.057*s;t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t;n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n;i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i;t=Math.min(Math.max(0,t),1);n=Math.min(Math.max(0,n),1);i=Math.min(Math.max(0,i),1);return[255*t,255*n,255*i]};a.xyz.lab=function(e){var t,n,i,r=e[0],o=e[1],s=e[2];r/=95.047;o/=100;s/=108.883;r=r>.008856?Math.pow(r,1/3):7.787*r+16/116;o=o>.008856?Math.pow(o,1/3):7.787*o+16/116;s=s>.008856?Math.pow(s,1/3):7.787*s+16/116;t=116*o-16;n=500*(r-o);i=200*(o-s);return[t,n,i]};a.lab.xyz=function(e){var t,n,i,r=e[0],o=e[1],s=e[2];n=(r+16)/116;t=o/500+n;i=n-s/200;var a=Math.pow(n,3),l=Math.pow(t,3),u=Math.pow(i,3);n=a>.008856?a:(n-16/116)/7.787;t=l>.008856?l:(t-16/116)/7.787;i=u>.008856?u:(i-16/116)/7.787;t*=95.047;n*=100;i*=108.883;return[t,n,i]};a.lab.lch=function(e){var t,n,i,r=e[0],o=e[1],s=e[2];t=Math.atan2(s,o);n=360*t/2/Math.PI;n<0&&(n+=360);i=Math.sqrt(o*o+s*s);return[r,i,n]};a.lch.lab=function(e){var t,n,i,r=e[0],o=e[1],s=e[2];i=s/360*2*Math.PI;t=o*Math.cos(i);n=o*Math.sin(i);return[r,t,n]};a.rgb.ansi16=function(e){var t=e[0],n=e[1],i=e[2],r=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];r=Math.round(r/50);if(0===r)return 30;var o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(t/255));2===r&&(o+=60);return o};a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])};a.rgb.ansi256=function(e){var t=e[0],n=e[1],i=e[2];if(t===n&&n===i)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var r=16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5);return r};a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t){e>50&&(t+=3.5);t=t/10.5*255;return[t,t,t]}var n=.5*(~~(e>50)+1),i=(1&t)*n*255,r=(t>>1&1)*n*255,o=(t>>2&1)*n*255;return[i,r,o]};a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}e-=16;var n,i=Math.floor(e/36)/5*255,r=Math.floor((n=e%36)/6)/5*255,o=n%6/5*255;return[i,r,o]};a.rgb.hex=function(e){var t=((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2])),n=t.toString(16).toUpperCase();return"000000".substring(n.length)+n};a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map(function(e){return e+e}).join(""));var i=parseInt(n,16),r=i>>16&255,o=i>>8&255,s=255&i;return[r,o,s]};a.rgb.hcg=function(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,s=Math.max(Math.max(i,r),o),a=Math.min(Math.min(i,r),o),l=s-a;t=l<1?a/(1-l):0;n=l<=0?0:s===i?(r-o)/l%6:s===r?2+(o-i)/l:4+(i-r)/l+4;n/=6;n%=1;return[360*n,100*l,100*t]};a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,i=1,r=0;i=n<.5?2*t*n:2*t*(1-n);i<1&&(r=(n-.5*i)/(1-i));return[e[0],100*i,100*r]};a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,i=t*n,r=0;i<1&&(r=(n-i)/(1-i));return[e[0],100*i,100*r]};a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,i=e[2]/100;if(0===n)return[255*i,255*i,255*i];var r=[0,0,0],o=t%1*6,s=o%1,a=1-s,l=0;switch(Math.floor(o)){case 0:r[0]=1;r[1]=s;r[2]=0;break;case 1:r[0]=a;r[1]=1;r[2]=0;break;case 2:r[0]=0;r[1]=1;r[2]=s;break;case 3:r[0]=0;r[1]=a;r[2]=1;break;case 4:r[0]=s;r[1]=0;r[2]=1;break;default:r[0]=1;r[1]=0;r[2]=a}l=(1-n)*i;return[255*(n*r[0]+l),255*(n*r[1]+l),255*(n*r[2]+l)]};a.hcg.hsv=function(e){var t=e[1]/100,n=e[2]/100,i=t+n*(1-t),r=0;i>0&&(r=t/i);return[e[0],100*r,100*i]};a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100,i=n*(1-t)+.5*t,r=0;i>0&&i<.5?r=t/(2*i):i>=.5&&i<1&&(r=t/(2*(1-i)));return[e[0],100*r,100*i]};a.hcg.hwb=function(e){var t=e[1]/100,n=e[2]/100,i=t+n*(1-t);return[e[0],100*(i-t),100*(1-i)]};a.hwb.hcg=function(e){var t=e[1]/100,n=e[2]/100,i=1-n,r=i-t,o=0;r<1&&(o=(i-r)/(1-r));return[e[0],100*r,100*o]};a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]};a.gray.hwb=function(e){return[0,100,e[0]]};a.gray.cmyk=function(e){return[0,0,0,e[0]]};a.gray.lab=function(e){return[e[0],0,0]};a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=(t<<16)+(t<<8)+t,i=n.toString(16).toUpperCase();return"000000".substring(i.length)+i};a.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]}},{"color-name":23}],21:[function(e,t,n){function i(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));return e(t)};"conversion"in e&&(t.conversion=e.conversion);return t}function r(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n};"conversion"in e&&(t.conversion=e.conversion);return t}var o=e("./conversions"),s=e("./route"),a={},l=Object.keys(o);l.forEach(function(e){a[e]={};Object.defineProperty(a[e],"channels",{value:o[e].channels});Object.defineProperty(a[e],"labels",{value:o[e].labels});var t=s(e),n=Object.keys(t);n.forEach(function(n){var o=t[n];a[e][n]=r(o);a[e][n].raw=i(o)})});t.exports=a},{"./conversions":20,"./route":22}],22:[function(e,t,n){function i(){for(var e={},t=l.length,n=0;n<t;n++)e[l[n]]={distance:-1,parent:null};return e}function r(e){var t=i(),n=[e];t[e].distance=0;for(;n.length;)for(var r=n.pop(),o=Object.keys(a[r]),s=o.length,l=0;l<s;l++){var u=o[l],c=t[u];if(c.distance===-1){c.distance=t[r].distance+1;c.parent=r;n.unshift(u)}}return t}function o(e,t){return function(n){return t(e(n))}}function s(e,t){for(var n=[t[e].parent,e],i=a[t[e].parent][e],r=t[e].parent;t[r].parent;){n.unshift(t[r].parent);i=o(a[t[r].parent][r],i);r=t[r].parent}i.conversion=n;return i}var a=e("./conversions"),l=Object.keys(a);t.exports=function(e){for(var t=r(e),n={},i=Object.keys(t),o=i.length,a=0;a<o;a++){var l=i[a],u=t[l];null!==u.parent&&(n[l]=s(l,t))}return n}},{"./conversions":20}],23:[function(e,t,n){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],24:[function(e,t,n){function i(e,t,n){return Math.min(Math.max(t,e),n)}function r(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var o=e("color-name"),s=e("simple-swizzle"),a={};for(var l in o)o.hasOwnProperty(l)&&(a[o[l]]=l);var u=t.exports={to:{}};u.get=function(e){var t,n,i=e.substring(0,3).toLowerCase();switch(i){case"hsl":t=u.get.hsl(e);n="hsl";break;case"hwb":t=u.get.hwb(e);n="hwb";break;default:t=u.get.rgb(e);n="rgb"}return t?{model:n,value:t}:null};u.get.rgb=function(e){if(!e)return null;var t,n,r,s=/^#([a-f0-9]{3,4})$/i,a=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,l=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,u=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,c=/(\D+)/,f=[0,0,0,1];if(t=e.match(a)){r=t[2];t=t[1];for(n=0;n<3;n++){var p=2*n;f[n]=parseInt(t.slice(p,p+2),16)}r&&(f[3]=Math.round(parseInt(r,16)/255*100)/100)}else if(t=e.match(s)){t=t[1];r=t[3];for(n=0;n<3;n++)f[n]=parseInt(t[n]+t[n],16);r&&(f[3]=Math.round(parseInt(r+r,16)/255*100)/100)}else if(t=e.match(l)){for(n=0;n<3;n++)f[n]=parseInt(t[n+1],0);t[4]&&(f[3]=parseFloat(t[4]))}else{if(!(t=e.match(u))){if(t=e.match(c)){if("transparent"===t[1])return[0,0,0,0];f=o[t[1]];if(!f)return null;f[3]=1;return f}return null}for(n=0;n<3;n++)f[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(f[3]=parseFloat(t[4]))}for(n=0;n<3;n++)f[n]=i(f[n],0,255);f[3]=i(f[3],0,1);return f};u.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),o=(parseFloat(n[1])%360+360)%360,s=i(parseFloat(n[2]),0,100),a=i(parseFloat(n[3]),0,100),l=i(isNaN(r)?1:r,0,1);return[o,s,a,l]}return null};u.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),o=(parseFloat(n[1])%360+360)%360,s=i(parseFloat(n[2]),0,100),a=i(parseFloat(n[3]),0,100),l=i(isNaN(r)?1:r,0,1);return[o,s,a,l]}return null};u.to.hex=function(){var e=s(arguments);return"#"+r(e[0])+r(e[1])+r(e[2])+(e[3]<1?r(Math.round(255*e[3])):"")};u.to.rgb=function(){var e=s(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};u.to.rgb.percent=function(){var e=s(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+i+"%)":"rgba("+t+"%, "+n+"%, "+i+"%, "+e[3]+")"};u.to.hsl=function(){var e=s(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};u.to.hwb=function(){var e=s(arguments),t="";e.length>=4&&1!==e[3]&&(t=", "+e[3]);return"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};u.to.keyword=function(e){return a[e.slice(0,3)]}},{"color-name":23,"simple-swizzle":216}],25:[function(e,t,n){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);t&&t in h&&(t=null);if(t&&!(t in f))throw new Error("Unknown model: "+t);var n,r;if(e)if(e instanceof i){this.model=e.model;this.color=e.color.slice();this.valpha=e.valpha}else if("string"==typeof e){var o=c.get(e);if(null===o)throw new Error("Unable to parse color from string: "+e);this.model=o.model;r=f[this.model].channels;this.color=o.value.slice(0,r);this.valpha="number"==typeof o.value[r]?o.value[r]:1}else if(e.length){this.model=t||"rgb";r=f[this.model].channels;var s=p.call(e,0,r);this.color=u(s,r);this.valpha="number"==typeof e[r]?e[r]:1}else if("number"==typeof e){e&=16777215;this.model="rgb";this.color=[e>>16&255,e>>8&255,255&e];this.valpha=1}else{this.valpha=1;var a=Object.keys(e);if("alpha"in e){a.splice(a.indexOf("alpha"),1);this.valpha="number"==typeof e.alpha?e.alpha:0}var l=a.sort().join("");if(!(l in d))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=d[l];var m=f[this.model].labels,v=[];for(n=0;n<m.length;n++)v.push(e[m[n]]);this.color=u(v)}else{this.model="rgb";this.color=[0,0,0];this.valpha=1}if(g[this.model]){r=f[this.model].channels;for(n=0;n<r;n++){var y=g[this.model][n];y&&(this.color[n]=y(this.color[n]))}}this.valpha=Math.max(0,Math.min(1,this.valpha));Object.freeze&&Object.freeze(this)}function r(e,t){return Number(e.toFixed(t))}function o(e){return function(t){return r(t,e)}}function s(e,t,n){e=Array.isArray(e)?e:[e];e.forEach(function(e){(g[e]||(g[e]=[]))[t]=n});e=e[0];return function(i){var r;if(arguments.length){n&&(i=n(i));r=this[e]();r.color[t]=i;return r}r=this[e]().color[t];n&&(r=n(r));return r}}function a(e){return function(t){return Math.max(0,Math.min(e,t))}}function l(e){return Array.isArray(e)?e:[e]}function u(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}var c=e("color-string"),f=e("color-convert"),p=[].slice,h=["keyword","gray","hex"],d={};Object.keys(f).forEach(function(e){d[p.call(f[e].labels).sort().join("")]=e});var g={};i.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in c.to?this:this.rgb();t=t.round("number"==typeof e?e:1);var n=1===t.valpha?t.color:t.color.concat(this.valpha);return c.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return c.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=f[this.model].channels,n=f[this.model].labels,i=0;i<t;i++)e[n[i]]=this.color[i];1!==this.valpha&&(e.alpha=this.valpha);return e},unitArray:function(){var e=this.rgb().color;e[0]/=255;e[1]/=255;e[2]/=255;1!==this.valpha&&e.push(this.valpha);return e},unitObject:function(){var e=this.rgb().object();e.r/=255;e.g/=255;e.b/=255;1!==this.valpha&&(e.alpha=this.valpha);return e},round:function(e){e=Math.max(e||0,0);return new i(this.color.map(o(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new i(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:s("rgb",0,a(255)),green:s("rgb",1,a(255)),blue:s("rgb",2,a(255)),hue:s(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:s("hsl",1,a(100)),lightness:s("hsl",2,a(100)),saturationv:s("hsv",1,a(100)),value:s("hsv",2,a(100)),chroma:s("hcg",1,a(100)),gray:s("hcg",2,a(100)),white:s("hwb",1,a(100)),wblack:s("hwb",2,a(100)),cyan:s("cmyk",0,a(100)),magenta:s("cmyk",1,a(100)),yellow:s("cmyk",2,a(100)),black:s("cmyk",3,a(100)),x:s("xyz",0,a(100)),y:s("xyz",1,a(100)),z:s("xyz",2,a(100)),l:s("lab",0,a(100)),a:s("lab",1),b:s("lab",2),keyword:function(e){return arguments.length?new i(e):f[this.model].keyword(this.color)},hex:function(e){return arguments.length?new i(e):c.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.rgb().color,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return t<128},light:function(){return!this.dark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();t.color[2]+=t.color[2]*e;return t},darken:function(e){var t=this.hsl();t.color[2]-=t.color[2]*e;return t},saturate:function(e){var t=this.hsl();t.color[1]+=t.color[1]*e;return t},desaturate:function(e){var t=this.hsl();t.color[1]-=t.color[1]*e;return t},whiten:function(e){var t=this.hwb();t.color[1]+=t.color[1]*e;return t},blacken:function(e){var t=this.hwb();t.color[2]+=t.color[2]*e;return t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return i.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];n=(n+e)%360;n=n<0?360+n:n;t.color[0]=n;return t},mix:function(e,t){var n=this.rgb(),r=e.rgb(),o=void 0===t?.5:t,s=2*o-1,a=n.alpha()-r.alpha(),l=((s*a===-1?s:(s+a)/(1+s*a))+1)/2,u=1-l;return i.rgb(l*n.red()+u*r.red(),l*n.green()+u*r.green(),l*n.blue()+u*r.blue(),n.alpha()*o+r.alpha()*(1-o))}};Object.keys(f).forEach(function(e){if(h.indexOf(e)===-1){var t=f[e].channels;i.prototype[e]=function(){if(this.model===e)return new i(this);if(arguments.length)return new i(arguments,e);var n="number"==typeof arguments[t]?t:this.valpha;return new i(l(f[this.model][e].raw(this.color)).concat(n),e)};i[e]=function(n){"number"==typeof n&&(n=u(p.call(arguments),t));return new i(n,e)}}});t.exports=i},{"color-convert":21,"color-string":24}],26:[function(e,t,n){!function(){var e={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],
6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};"function"==typeof define&&define.amd?define(e):"object"==typeof t&&t.exports?t.exports=e:this.colorbrewer=e}()},{}],27:[function(e,t,n){t.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},{}],28:[function(e,t,n){"use strict";function i(e){var t,n,i,u,c,f,p,h,d,g,m;e||(e={});h=(e.nshades||72)-1;p=e.format||"hex";f=e.colormap;f||(f="jet");if("string"==typeof f){f=f.toLowerCase();if(!a[f])throw Error(f+" not a supported colorscale");c=a[f]}else{if(!Array.isArray(f))throw Error("unsupported colormap option",f);c=f.slice()}if(c.length>h)throw new Error(f+" map requires nshades to be at least size "+c.length);g=Array.isArray(e.alpha)?2!==e.alpha.length?[1,1]:e.alpha.slice():"number"==typeof e.alpha?[e.alpha,e.alpha]:[1,1];t=c.map(function(e){return Math.round(e.index*h)});g[0]=Math.min(Math.max(g[0],0),1);g[1]=Math.min(Math.max(g[1],0),1);var v=c.map(function(e,t){var n=c[t].index,i=c[t].rgb.slice();if(4===i.length&&i[3]>=0&&i[3]<=1)return i;i[3]=g[0]+(g[1]-g[0])*n;return i}),d=[];for(m=0;m<t.length-1;++m){u=t[m+1]-t[m];n=v[m];i=v[m+1];for(var y=0;y<u;y++){var b=y/u;d.push([Math.round(l(n[0],i[0],b)),Math.round(l(n[1],i[1],b)),Math.round(l(n[2],i[2],b)),l(n[3],i[3],b)])}}d.push(c[c.length-1].rgb.concat(g[1]));"hex"===p?d=d.map(o):"rgbaString"===p?d=d.map(s):"float"===p&&(d=d.map(r));return d}function r(e){return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function o(e){for(var t,n="#",i=0;i<3;++i){t=e[i];t=t.toString(16);n+=("00"+t).substr(t.length)}return n}function s(e){return"rgba("+e.join(",")+")"}var a=e("./colorScale"),l=e("lerp");t.exports=i},{"./colorScale":27,lerp:75}],29:[function(e,t,n){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===m(e)}function i(e){return"boolean"==typeof e}function r(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function c(e){return"[object RegExp]"===m(e)}function f(e){return"object"==typeof e&&null!==e}function p(e){return"[object Date]"===m(e)}function h(e){return"[object Error]"===m(e)||e instanceof Error}function d(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function m(e){return Object.prototype.toString.call(e)}n.isArray=t;n.isBoolean=i;n.isNull=r;n.isNullOrUndefined=o;n.isNumber=s;n.isString=a;n.isSymbol=l;n.isUndefined=u;n.isRegExp=c;n.isObject=f;n.isDate=p;n.isError=h;n.isFunction=d;n.isPrimitive=g;n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":66}],30:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e){return function(t,n){return s(e(t),n)}}function n(e,t){return[e,t]}function i(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=T?10:o>=S?5:o>=C?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=T?10:o>=S?5:o>=C?2:1)}function r(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;o>=T?r*=10:o>=S?r*=5:o>=C&&(r*=2);return t<e?-r:r}function o(e){return e.length}var s=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},a=function(e){1===e.length&&(e=t(e));return{left:function(t,n,i,r){null==i&&(i=0);null==r&&(r=t.length);for(;i<r;){var o=i+r>>>1;e(t[o],n)<0?i=o+1:r=o}return i},right:function(t,n,i,r){null==i&&(i=0);null==r&&(r=t.length);for(;i<r;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}},l=a(s),u=l.right,c=l.left,f=function(e,t){null==t&&(t=n);for(var i=0,r=e.length-1,o=e[0],s=new Array(r<0?0:r);i<r;)s[i]=t(o,o=e[++i]);return s},p=function(e,t,i){var r,o,s,a,l=e.length,u=t.length,c=new Array(l*u);null==i&&(i=n);for(r=s=0;r<l;++r)for(a=e[r],o=0;o<u;++o,++s)c[s]=i(a,t[o]);return c},h=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d=function(e){return null===e?NaN:+e},g=function(e,t){var n,i,r=e.length,o=0,s=-1,a=0,l=0;if(null==t){for(;++s<r;)if(!isNaN(n=d(e[s]))){i=n-a;a+=i/++o;l+=i*(n-a)}}else for(;++s<r;)if(!isNaN(n=d(t(e[s],s,e)))){i=n-a;a+=i/++o;l+=i*(n-a)}if(o>1)return l/(o-1)},m=function(e,t){var n=g(e,t);return n?Math.sqrt(n):n},v=function(e,t){var n,i,r,o=e.length,s=-1;if(null==t){for(;++s<o;)if(null!=(n=e[s])&&n>=n){i=r=n;for(;++s<o;)if(null!=(n=e[s])){i>n&&(i=n);r<n&&(r=n)}}}else for(;++s<o;)if(null!=(n=t(e[s],s,e))&&n>=n){i=r=n;for(;++s<o;)if(null!=(n=t(e[s],s,e))){i>n&&(i=n);r<n&&(r=n)}}return[i,r]},y=Array.prototype,b=y.slice,x=y.map,_=function(e){return function(){return e}},E=function(e){return e},w=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o},T=Math.sqrt(50),S=Math.sqrt(10),C=Math.sqrt(2),L=function(e,t,n){var r,o,s,a,l=-1;t=+t,e=+e,n=+n;if(e===t&&n>0)return[e];(r=t<e)&&(o=e,e=t,t=o);if(0===(a=i(e,t,n))||!isFinite(a))return[];if(a>0){e=Math.ceil(e/a);t=Math.floor(t/a);s=new Array(o=Math.ceil(t-e+1));for(;++l<o;)s[l]=(e+l)*a}else{e=Math.floor(e*a);t=Math.ceil(t*a);s=new Array(o=Math.ceil(e-t+1));for(;++l<o;)s[l]=(e-l)/a}r&&s.reverse();return s},N=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},I=function(){function e(e){var o,s,a=e.length,l=new Array(a);for(o=0;o<a;++o)l[o]=t(e[o],o,e);var c=n(l),f=c[0],p=c[1],h=i(l,f,p);if(!Array.isArray(h)){h=r(f,p,h);h=w(Math.ceil(f/h)*h,Math.floor(p/h)*h,h)}for(var d=h.length;h[0]<=f;)h.shift(),--d;for(;h[d-1]>p;)h.pop(),--d;var g,m=new Array(d+1);for(o=0;o<=d;++o){g=m[o]=[];g.x0=o>0?h[o-1]:f;g.x1=o<d?h[o]:p}for(o=0;o<a;++o){s=l[o];f<=s&&s<=p&&m[u(h,s,0,d)].push(e[o])}return m}var t=E,n=v,i=N;e.value=function(n){return arguments.length?(t="function"==typeof n?n:_(n),e):t};e.domain=function(t){return arguments.length?(n="function"==typeof t?t:_([t[0],t[1]]),e):n};e.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:_(Array.isArray(t)?b.call(t):t),e):i};return e},A=function(e,t,n){null==n&&(n=d);if(i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,o=Math.floor(r),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(r-o)}},R=function(e,t,n){e=x.call(e,d).sort(s);return Math.ceil((n-t)/(2*(A(e,.75)-A(e,.25))*Math.pow(e.length,-1/3)))},O=function(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))},P=function(e,t){var n,i,r=e.length,o=-1;if(null==t){for(;++o<r;)if(null!=(n=e[o])&&n>=n){i=n;for(;++o<r;)null!=(n=e[o])&&n>i&&(i=n)}}else for(;++o<r;)if(null!=(n=t(e[o],o,e))&&n>=n){i=n;for(;++o<r;)null!=(n=t(e[o],o,e))&&n>i&&(i=n)}return i;
},k=function(e,t){var n,i=e.length,r=i,o=-1,s=0;if(null==t)for(;++o<i;)isNaN(n=d(e[o]))?--r:s+=n;else for(;++o<i;)isNaN(n=d(t(e[o],o,e)))?--r:s+=n;if(r)return s/r},M=function(e,t){var n,i=e.length,r=-1,o=[];if(null==t)for(;++r<i;)isNaN(n=d(e[r]))||o.push(n);else for(;++r<i;)isNaN(n=d(t(e[r],r,e)))||o.push(n);return A(o.sort(s),.5)},D=function(e){for(var t,n,i,r=e.length,o=-1,s=0;++o<r;)s+=e[o].length;n=new Array(s);for(;--r>=0;){i=e[r];t=i.length;for(;--t>=0;)n[--s]=i[t]}return n},j=function(e,t){var n,i,r=e.length,o=-1;if(null==t){for(;++o<r;)if(null!=(n=e[o])&&n>=n){i=n;for(;++o<r;)null!=(n=e[o])&&i>n&&(i=n)}}else for(;++o<r;)if(null!=(n=t(e[o],o,e))&&n>=n){i=n;for(;++o<r;)null!=(n=t(e[o],o,e))&&i>n&&(i=n)}return i},B=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},q=function(e,t){if(n=e.length){var n,i,r=0,o=0,a=e[o];null==t&&(t=s);for(;++r<n;)(t(i=e[r],a)<0||0!==t(a,a))&&(a=i,o=r);return 0===t(a,a)?o:void 0}},U=function(e,t,n){for(var i,r,o=(null==n?e.length:n)-(t=null==t?0:+t);o;){r=Math.random()*o--|0;i=e[o+t];e[o+t]=e[r+t];e[r+t]=i}return e},F=function(e,t){var n,i=e.length,r=-1,o=0;if(null==t)for(;++r<i;)(n=+e[r])&&(o+=n);else for(;++r<i;)(n=+t(e[r],r,e))&&(o+=n);return o},G=function(e){if(!(r=e.length))return[];for(var t=-1,n=j(e,o),i=new Array(n);++t<n;)for(var r,s=-1,a=i[t]=new Array(r);++s<r;)a[s]=e[s][t];return i},z=function(){return G(arguments)};e.bisect=u;e.bisectRight=u;e.bisectLeft=c;e.ascending=s;e.bisector=a;e.cross=p;e.descending=h;e.deviation=m;e.extent=v;e.histogram=I;e.thresholdFreedmanDiaconis=R;e.thresholdScott=O;e.thresholdSturges=N;e.max=P;e.mean=k;e.median=M;e.merge=D;e.min=j;e.pairs=f;e.permute=B;e.quantile=A;e.range=w;e.scan=q;e.shuffle=U;e.sum=F;e.ticks=L;e.tickIncrement=i;e.tickStep=r;e.transpose=G;e.variance=g;e.zip=z;Object.defineProperty(e,"__esModule",{value:!0})})},{}],31:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e){return"translate("+(e+.5)+",0)"}function n(e){return"translate(0,"+(e+.5)+")"}function i(e){return function(t){return+e(t)}}function r(e){var t=Math.max(0,e.bandwidth()-1)/2;e.round()&&(t=Math.round(t));return function(n){return+e(n)+t}}function o(){return!this.__axis}function s(e,s){function a(t){var n=null==u?s.ticks?s.ticks.apply(s,l):s.domain():u,a=null==c?s.tickFormat?s.tickFormat.apply(s,l):p:c,f=Math.max(y,0)+x,T=s.range(),S=+T[0]+.5,C=+T[T.length-1]+.5,L=(s.bandwidth?r:i)(s.copy()),N=t.selection?t.selection():t,I=N.selectAll(".domain").data([null]),A=N.selectAll(".tick").data(n,s).order(),R=A.exit(),O=A.enter().append("g").attr("class","tick"),P=A.select("line"),k=A.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000"));A=A.merge(O);P=P.merge(O.append("line").attr("stroke","#000").attr(E+"2",_*y));k=k.merge(O.append("text").attr("fill","#000").attr(E,_*f).attr("dy",e===h?"0em":e===g?"0.71em":"0.32em"));if(t!==N){I=I.transition(t);A=A.transition(t);P=P.transition(t);k=k.transition(t);R=R.transition(t).attr("opacity",v).attr("transform",function(e){return isFinite(e=L(e))?w(e):this.getAttribute("transform")});O.attr("opacity",v).attr("transform",function(e){var t=this.parentNode.__axis;return w(t&&isFinite(t=t(e))?t:L(e))})}R.remove();I.attr("d",e===m||e==d?"M"+_*b+","+S+"H0.5V"+C+"H"+_*b:"M"+S+","+_*b+"V0.5H"+C+"V"+_*b);A.attr("opacity",1).attr("transform",function(e){return w(L(e))});P.attr(E+"2",_*y);k.attr(E,_*f).text(a);N.filter(o).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===d?"start":e===m?"end":"middle");N.each(function(){this.__axis=L})}var l=[],u=null,c=null,y=6,b=6,x=3,_=e===h||e===m?-1:1,E=e===m||e===d?"x":"y",w=e===h||e===g?t:n;a.scale=function(e){return arguments.length?(s=e,a):s};a.ticks=function(){return l=f.call(arguments),a};a.tickArguments=function(e){return arguments.length?(l=null==e?[]:f.call(e),a):l.slice()};a.tickValues=function(e){return arguments.length?(u=null==e?null:f.call(e),a):u&&u.slice()};a.tickFormat=function(e){return arguments.length?(c=e,a):c};a.tickSize=function(e){return arguments.length?(y=b=+e,a):y};a.tickSizeInner=function(e){return arguments.length?(y=+e,a):y};a.tickSizeOuter=function(e){return arguments.length?(b=+e,a):b};a.tickPadding=function(e){return arguments.length?(x=+e,a):x};return a}function a(e){return s(h,e)}function l(e){return s(d,e)}function u(e){return s(g,e)}function c(e){return s(m,e)}var f=Array.prototype.slice,p=function(e){return e},h=1,d=2,g=3,m=4,v=1e-6;e.axisTop=a;e.axisRight=l;e.axisBottom=u;e.axisLeft=c;Object.defineProperty(e,"__esModule",{value:!0})})},{}],32:[function(e,t,n){(function(i,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("d3-dispatch"),e("d3-drag"),e("d3-interpolate"),e("d3-selection"),e("d3-transition")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],r):r(i.d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3)})(this,function(e,t,n,i,r,o){"use strict";function s(){r.event.stopImmediatePropagation()}function a(e){return{type:e}}function l(){return!r.event.button}function u(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function c(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function f(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function p(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function h(){return g(w)}function d(){return g(T)}function g(e){function p(t){var n=t.property("__brush",R).selectAll(".overlay").data([a("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",C.overlay).merge(n).each(function(){var e=c(this).extent;r.select(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])});t.selectAll(".selection").data([a("selection")]).enter().append("rect").attr("class","selection").attr("cursor",C.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,function(e){return e.type});i.exit().remove();i.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return C[e.type]});t.each(h).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",S)}function h(){var e=r.select(this),t=c(this).selection;if(t){e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]);e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-D/2:t[0][0]-D/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-D/2:t[0][1]-D/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+D:D}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+D:D})}else e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(e,t){return e.__brush.emitter||new g(e,t)}function g(e,t){this.that=e;this.args=t;this.state=e.__brush;this.active=0}function S(){function t(){var e=r.mouse(F);!J||q||U||(Math.abs(e[0]-te[0])>Math.abs(e[1]-te[1])?U=!0:q=!0);te=e;B=!0;y();i()}function i(){var e;D=te[0]-ee[0];j=te[1]-ee[1];switch(z){case x:case b:H&&(D=Math.max($-p,Math.min(X-S,D)),g=p+D,R=S+D);V&&(j=Math.max(K-m,Math.min(Q-P,j)),v=m+j,M=P+j);break;case _:H<0?(D=Math.max($-p,Math.min(X-p,D)),g=p+D,R=S):H>0&&(D=Math.max($-S,Math.min(X-S,D)),g=p,R=S+D);V<0?(j=Math.max(K-m,Math.min(Q-m,j)),v=m+j,M=P):V>0&&(j=Math.max(K-P,Math.min(Q-P,j)),v=m,M=P+j);break;case E:H&&(g=Math.max($,Math.min(X,p-D*H)),R=Math.max($,Math.min(X,S+D*H)));V&&(v=Math.max(K,Math.min(Q,m-j*V)),M=Math.max(K,Math.min(Q,P+j*V)))}if(R<g){H*=-1;e=p,p=S,S=e;e=g,g=R,R=e;G in L&&re.attr("cursor",C[G=L[G]])}if(M<v){V*=-1;e=m,m=P,P=e;e=v,v=M,M=e;G in N&&re.attr("cursor",C[G=N[G]])}W.selection&&(Z=W.selection);q&&(g=Z[0][0],R=Z[1][0]);U&&(v=Z[0][1],M=Z[1][1]);if(Z[0][0]!==g||Z[0][1]!==v||Z[1][0]!==R||Z[1][1]!==M){W.selection=[[g,v],[R,M]];h.call(F);ne.brush()}}function a(){s();if(r.event.touches){if(r.event.touches.length)return;O&&clearTimeout(O);O=setTimeout(function(){O=null},500);ie.on("touchmove.brush touchend.brush touchcancel.brush",null)}else{n.dragEnable(r.event.view,B);oe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null)}ie.attr("pointer-events","all");re.attr("cursor",C.overlay);W.selection&&(Z=W.selection);f(Z)&&(W.selection=null,h.call(F));ne.end()}function l(){switch(r.event.keyCode){case 16:J=H&&V;break;case 18:if(z===_){H&&(S=R-D*H,p=g+D*H);V&&(P=M-j*V,m=v+j*V);z=E;i()}break;case 32:if(z===_||z===E){H<0?S=R-D:H>0&&(p=g-D);V<0?P=M-j:V>0&&(m=v-j);z=x;re.attr("cursor",C.selection);i()}break;default:return}y()}function u(){switch(r.event.keyCode){case 16:if(J){q=U=J=!1;i()}break;case 18:if(z===E){H<0?S=R:H>0&&(p=g);V<0?P=M:V>0&&(m=v);z=_;i()}break;case 32:if(z===x){if(r.event.altKey){H&&(S=R-D*H,p=g+D*H);V&&(P=M-j*V,m=v+j*V);z=E}else{H<0?S=R:H>0&&(p=g);V<0?P=M:V>0&&(m=v);z=_}re.attr("cursor",C[G]);i()}break;default:return}y()}if(r.event.touches){if(r.event.changedTouches.length<r.event.touches.length)return y()}else if(O)return;if(k.apply(this,arguments)){var p,g,m,v,S,R,P,M,D,j,B,q,U,F=this,G=r.event.target.__data__.type,z="selection"===(r.event.metaKey?G="overlay":G)?b:r.event.altKey?E:_,H=e===T?null:I[G],V=e===w?null:A[G],W=c(F),Y=W.extent,Z=W.selection,$=Y[0][0],K=Y[0][1],X=Y[1][0],Q=Y[1][1],J=H&&V&&r.event.shiftKey,ee=r.mouse(F),te=ee,ne=d(F,arguments).beforestart();if("overlay"===G)W.selection=Z=[[p=e===T?$:ee[0],m=e===w?K:ee[1]],[S=e===T?X:p,P=e===w?Q:m]];else{p=Z[0][0];m=Z[0][1];S=Z[1][0];P=Z[1][1]}g=p;v=m;R=S;M=P;var ie=r.select(F).attr("pointer-events","none"),re=ie.selectAll(".overlay").attr("cursor",C[G]);if(r.event.touches)ie.on("touchmove.brush",t,!0).on("touchend.brush touchcancel.brush",a,!0);else{var oe=r.select(r.event.view).on("keydown.brush",l,!0).on("keyup.brush",u,!0).on("mousemove.brush",t,!0).on("mouseup.brush",a,!0);n.dragDisable(r.event.view)}s();o.interrupt(F);h.call(F);ne.start()}}function R(){var t=this.__brush||{selection:null};t.extent=P.apply(this,arguments);t.dim=e;return t}var O,P=u,k=l,M=t.dispatch(p,"start","brush","end"),D=6;p.move=function(t,n){t.selection?t.on("start.brush",function(){d(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){d(this,arguments).end()}).tween("brush",function(){function t(e){o.selection=1===e&&f(l)?null:u(e);h.call(r);s.brush()}var r=this,o=r.__brush,s=d(r,arguments),a=o.selection,l=e.input("function"==typeof n?n.apply(this,arguments):n,o.extent),u=i.interpolate(a,l);return a&&l?t:t(1)}):t.each(function(){var t=this,i=arguments,r=t.__brush,s=e.input("function"==typeof n?n.apply(t,i):n,r.extent),a=d(t,i).beforestart();o.interrupt(t);r.selection=null==s||f(s)?null:s;h.call(t);a.start().brush().end()})};g.prototype={beforestart:function(){1===++this.active&&(this.state.emitter=this,this.starting=!0);return this},start:function(){this.starting&&(this.starting=!1,this.emit("start"));return this},brush:function(){this.emit("brush");return this},end:function(){0===--this.active&&(delete this.state.emitter,this.emit("end"));return this},emit:function(t){r.customEvent(new v(p,t,e.output(this.state.selection)),M.apply,M,[t,this.that,this.args])}};p.extent=function(e){return arguments.length?(P="function"==typeof e?e:m([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),p):P};p.filter=function(e){return arguments.length?(k="function"==typeof e?e:m(!!e),p):k};p.handleSize=function(e){return arguments.length?(D=+e,p):D};p.on=function(){var e=M.on.apply(M,arguments);return e===M?p:e};return p}var m=function(e){return function(){return e}},v=function(e,t,n){this.target=e;this.type=t;this.selection=n},y=function(){r.event.preventDefault();r.event.stopImmediatePropagation()},b={name:"drag"},x={name:"space"},_={name:"handle"},E={name:"center"},w={name:"x",handles:["e","w"].map(a),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},T={name:"y",handles:["n","s"].map(a),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},S={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(a),input:function(e){return e},output:function(e){return e}},C={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},L={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},N={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},I={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},A={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},R=function(){return g(S)};e.brush=R;e.brushX=h;e.brushY=d;e.brushSelection=p;Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-dispatch":36,"d3-drag":37,"d3-interpolate":44,"d3-selection":52,"d3-transition":57}],33:[function(e,t,n){(function(i,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("d3-array"),e("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-path"],r):r(i.d3=i.d3||{},i.d3,i.d3)})(this,function(e,t,n){"use strict";function i(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function r(e){return e.source}function o(e){return e.target}function s(e){return e.radius}function a(e){return e.startAngle}function l(e){return e.endAngle}var u=Math.cos,c=Math.sin,f=Math.PI,p=f/2,h=2*f,d=Math.max,g=function(){function e(e){var i,a,l,u,c,f,p=e.length,g=[],m=t.range(p),v=[],y=[],b=y.groups=new Array(p),x=new Array(p*p);i=0,c=-1;for(;++c<p;){a=0,f=-1;for(;++f<p;)a+=e[c][f];g.push(a);v.push(t.range(p));i+=a}r&&m.sort(function(e,t){return r(g[e],g[t])});o&&v.forEach(function(t,n){t.sort(function(t,i){return o(e[n][t],e[n][i])})});i=d(0,h-n*p)/i;u=i?n:h/p;a=0,c=-1;for(;++c<p;){l=a,f=-1;for(;++f<p;){var _=m[c],E=v[_][f],w=e[_][E],T=a,S=a+=w*i;x[E*p+_]={index:_,subindex:E,startAngle:T,endAngle:S,value:w}}b[_]={index:_,startAngle:l,endAngle:a,value:g[_]};a+=u}c=-1;for(;++c<p;){f=c-1;for(;++f<p;){var C=x[f*p+c],L=x[c*p+f];(C.value||L.value)&&y.push(C.value<L.value?{source:L,target:C}:{source:C,target:L})}}return s?y.sort(s):y}var n=0,r=null,o=null,s=null;e.padAngle=function(t){return arguments.length?(n=d(0,t),e):n};e.sortGroups=function(t){return arguments.length?(r=t,e):r};e.sortSubgroups=function(t){return arguments.length?(o=t,e):o};e.sortChords=function(t){return arguments.length?(null==t?s=null:(s=i(t))._=t,e):s&&s._};return e},m=Array.prototype.slice,v=function(e){return function(){return e}},y=function(){function e(){var e,r=m.call(arguments),o=t.apply(this,r),s=i.apply(this,r),a=+f.apply(this,(r[0]=o,r)),l=h.apply(this,r)-p,v=d.apply(this,r)-p,y=a*u(l),b=a*c(l),x=+f.apply(this,(r[0]=s,r)),_=h.apply(this,r)-p,E=d.apply(this,r)-p;g||(g=e=n.path());g.moveTo(y,b);g.arc(0,0,a,l,v);if(l!==_||v!==E){g.quadraticCurveTo(0,0,x*u(_),x*c(_));g.arc(0,0,x,_,E)}g.quadraticCurveTo(0,0,y,b);g.closePath();if(e)return g=null,e+""||null}var t=r,i=o,f=s,h=a,d=l,g=null;e.radius=function(t){return arguments.length?(f="function"==typeof t?t:v(+t),e):f};e.startAngle=function(t){return arguments.length?(h="function"==typeof t?t:v(+t),e):h};e.endAngle=function(t){return arguments.length?(d="function"==typeof t?t:v(+t),e):d};e.source=function(n){return arguments.length?(t=n,e):t};e.target=function(t){return arguments.length?(i=t,e):i};e.context=function(t){return arguments.length?(g=null==t?null:t,e):g};return e};e.chord=g;e.ribbon=y;Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-array":30,"d3-path":45}],34:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(){}function n(e,n){var i=new t;if(e instanceof t)e.each(function(e,t){i.set(t,e)});else if(Array.isArray(e)){var r,o=-1,s=e.length;if(null==n)for(;++o<s;)i.set(o,e[o]);else for(;++o<s;)i.set(n(r=e[o],o,e),r)}else if(e)for(var a in e)i.set(a,e[a]);return i}function i(){return{}}function r(e,t,n){e[t]=n}function o(){return n()}function s(e,t,n){e.set(t,n)}function a(){}function l(e,t){var n=new a;if(e instanceof a)e.each(function(e){n.add(e)});else if(e){var i=-1,r=e.length;if(null==t)for(;++i<r;)n.add(e[i]);else for(;++i<r;)n.add(t(e[i],i,e))}return n}var u="$";t.prototype=n.prototype={constructor:t,has:function(e){return u+e in this},get:function(e){return this[u+e]},set:function(e,t){this[u+e]=t;return this},remove:function(e){var t=u+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===u&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===u&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===u&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===u&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===u&&++e;return e},empty:function(){for(var e in this)if(e[0]===u)return!1;return!0},each:function(e){for(var t in this)t[0]===u&&e(this[t],t.slice(1),this)}};var c=function(){function e(t,i,r,o){if(i>=c.length){null!=a&&t.sort(a);return null!=l?l(t):t}for(var s,u,f,p=-1,h=t.length,d=c[i++],g=n(),m=r();++p<h;)(f=g.get(s=d(u=t[p])+""))?f.push(u):g.set(s,[u]);g.each(function(t,n){o(m,n,e(t,i,r,o))});return m}function t(e,n){if(++n>c.length)return e;var i,r=f[n-1];null!=l&&n>=c.length?i=e.entries():(i=[],e.each(function(e,r){i.push({key:r,values:t(e,n)})}));return null!=r?i.sort(function(e,t){return r(e.key,t.key)}):i}var a,l,u,c=[],f=[];return u={object:function(t){return e(t,0,i,r)},map:function(t){return e(t,0,o,s)},entries:function(n){return t(e(n,0,o,s),0)},key:function(e){c.push(e);return u},sortKeys:function(e){f[c.length-1]=e;return u},sortValues:function(e){a=e;return u},rollup:function(e){l=e;return u}}},f=n.prototype;a.prototype=l.prototype={constructor:a,has:f.has,add:function(e){e+="";this[u+e]=e;return this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var p=function(e){var t=[];for(var n in e)t.push(n);return t},h=function(e){var t=[];for(var n in e)t.push(e[n]);return t},d=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};e.nest=c;e.set=l;e.map=n;e.keys=p;e.values=h;e.entries=d;Object.defineProperty(e,"__esModule",{value:!0})})},{}],35:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function n(){}function i(e){var t;e=(e+"").trim().toLowerCase();return(t=P.exec(e))?(t=parseInt(t[1],16),new l(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=k.exec(e))?r(parseInt(t[1],16)):(t=M.exec(e))?new l(t[1],t[2],t[3],1):(t=D.exec(e))?new l(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=j.exec(e))?o(t[1],t[2],t[3],t[4]):(t=B.exec(e))?o(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=q.exec(e))?u(t[1],t[2]/100,t[3]/100,1):(t=U.exec(e))?u(t[1],t[2]/100,t[3]/100,t[4]):F.hasOwnProperty(e)?r(F[e]):"transparent"===e?new l(NaN,NaN,NaN,0):null}function r(e){return new l(e>>16&255,e>>8&255,255&e,1)}function o(e,t,n,i){i<=0&&(e=t=n=NaN);return new l(e,t,n,i)}function s(e){e instanceof n||(e=i(e));if(!e)return new l;e=e.rgb();return new l(e.r,e.g,e.b,e.opacity)}function a(e,t,n,i){return 1===arguments.length?s(e):new l(e,t,n,null==i?1:i)}function l(e,t,n,i){this.r=+e;this.g=+t;this.b=+n;this.opacity=+i}function u(e,t,n,i){i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN);return new p(e,t,n,i)}function c(e){if(e instanceof p)return new p(e.h,e.s,e.l,e.opacity);e instanceof n||(e=i(e));if(!e)return new p;if(e instanceof p)return e;e=e.rgb();var t=e.r/255,r=e.g/255,o=e.b/255,s=Math.min(t,r,o),a=Math.max(t,r,o),l=NaN,u=a-s,c=(a+s)/2;if(u){l=t===a?(r-o)/u+6*(r<o):r===a?(o-t)/u+2:(t-r)/u+4;u/=c<.5?a+s:2-a-s;l*=60}else u=c>0&&c<1?0:l;return new p(l,u,c,e.opacity)}function f(e,t,n,i){return 1===arguments.length?c(e):new p(e,t,n,null==i?1:i)}function p(e,t,n,i){this.h=+e;this.s=+t;this.l=+n;this.opacity=+i}function h(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function d(e){if(e instanceof m)return new m(e.l,e.a,e.b,e.opacity);if(e instanceof w){var t=e.h*G;return new m(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof l||(e=s(e));var n=x(e.r),i=x(e.g),r=x(e.b),o=v((.4124564*n+.3575761*i+.1804375*r)/V),a=v((.2126729*n+.7151522*i+.072175*r)/W),u=v((.0193339*n+.119192*i+.9503041*r)/Y);return new m(116*a-16,500*(o-a),200*(a-u),e.opacity)}function g(e,t,n,i){return 1===arguments.length?d(e):new m(e,t,n,null==i?1:i)}function m(e,t,n,i){this.l=+e;this.a=+t;this.b=+n;this.opacity=+i}function v(e){return e>X?Math.pow(e,1/3):e/K+Z}function y(e){return e>$?e*e*e:K*(e-Z)}function b(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function x(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function _(e){if(e instanceof w)return new w(e.h,e.c,e.l,e.opacity);e instanceof m||(e=d(e));var t=Math.atan2(e.b,e.a)*z;return new w(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function E(e,t,n,i){return 1===arguments.length?_(e):new w(e,t,n,null==i?1:i)}function w(e,t,n,i){this.h=+e;this.c=+t;this.l=+n;this.opacity=+i}function T(e){if(e instanceof C)return new C(e.h,e.s,e.l,e.opacity);e instanceof l||(e=s(e));var t=e.r/255,n=e.g/255,i=e.b/255,r=(oe*i+ie*t-re*n)/(oe+ie-re),o=i-r,a=(ne*(n-r)-ee*o)/te,u=Math.sqrt(a*a+o*o)/(ne*r*(1-r)),c=u?Math.atan2(a,o)*z-120:NaN;return new C(c<0?c+360:c,u,r,e.opacity)}function S(e,t,n,i){return 1===arguments.length?T(e):new C(e,t,n,null==i?1:i)}function C(e,t,n,i){this.h=+e;this.s=+t;this.l=+n;this.opacity=+i}var L=function(e,t,n){e.prototype=t.prototype=n;n.constructor=e},N=.7,I=1/N,A="\\s*([+-]?\\d+)\\s*",R="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",O="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P=/^#([0-9a-f]{3})$/,k=/^#([0-9a-f]{6})$/,M=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),D=new RegExp("^rgb\\("+[O,O,O]+"\\)$"),j=new RegExp("^rgba\\("+[A,A,A,R]+"\\)$"),B=new RegExp("^rgba\\("+[O,O,O,R]+"\\)$"),q=new RegExp("^hsl\\("+[R,O,O]+"\\)$"),U=new RegExp("^hsla\\("+[R,O,O,R]+"\\)$"),F={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};L(n,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}});L(l,a,t(n,{brighter:function(e){e=null==e?I:Math.pow(I,e);return new l(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){e=null==e?N:Math.pow(N,e);return new l(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;e=isNaN(e)?1:Math.max(0,Math.min(1,e));return(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}}));L(p,f,t(n,{brighter:function(e){e=null==e?I:Math.pow(I,e);return new p(this.h,this.s,this.l*e,this.opacity)},darker:function(e){e=null==e?N:Math.pow(N,e);return new p(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new l(h(e>=240?e-240:e+120,r,i),h(e,r,i),h(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var G=Math.PI/180,z=180/Math.PI,H=18,V=.95047,W=1,Y=1.08883,Z=4/29,$=6/29,K=3*$*$,X=$*$*$;L(m,g,t(n,{brighter:function(e){return new m(this.l+H*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new m(this.l-H*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;e=W*y(e);t=V*y(t);n=Y*y(n);return new l(b(3.2404542*t-1.5371385*e-.4985314*n),b(-.969266*t+1.8760108*e+.041556*n),b(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}}));L(w,E,t(n,{brighter:function(e){return new w(this.h,this.c,this.l+H*(null==e?1:e),this.opacity)},darker:function(e){return new w(this.h,this.c,this.l-H*(null==e?1:e),this.opacity)},rgb:function(){return d(this).rgb()}}));var Q=-.14861,J=1.78277,ee=-.29227,te=-.90649,ne=1.97294,ie=ne*te,re=ne*J,oe=J*ee-te*Q;L(C,S,t(n,{brighter:function(e){e=null==e?I:Math.pow(I,e);return new C(this.h,this.s,this.l*e,this.opacity)},darker:function(e){e=null==e?N:Math.pow(N,e);return new C(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*G,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new l(255*(t+n*(Q*i+J*r)),255*(t+n*(ee*i+te*r)),255*(t+n*(ne*i)),this.opacity)}}));e.color=i;e.rgb=a;e.hsl=f;e.lab=g;e.hcl=E;e.cubehelix=S;Object.defineProperty(e,"__esModule",{value:!0})})},{}],36:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(){for(var e,t=0,i=arguments.length,r={};t<i;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new n(r)}function n(e){this._=e}function i(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");i>=0&&(n=e.slice(i+1),e=e.slice(0,i));if(e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function r(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function o(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=s,e=e.slice(0,i).concat(e.slice(i+1));break}null!=n&&e.push({name:t,value:n});return e}var s={value:function(){}};n.prototype=t.prototype={constructor:n,on:function(e,t){var n,s=this._,a=i(e+"",s),l=-1,u=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<u;)if(n=(e=a[l]).type)s[n]=o(s[n],e.name,t);else if(null==t)for(n in s)s[n]=o(s[n],e.name,null);return this}for(;++l<u;)if((n=(e=a[l]).type)&&(n=r(s[n],e.name)))return n},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new n(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,n=i.length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};e.dispatch=t;Object.defineProperty(e,"__esModule",{value:!0})})},{}],37:[function(e,t,n){(function(i,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("d3-dispatch"),e("d3-selection")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-selection"],r):r(i.d3=i.d3||{},i.d3,i.d3)})(this,function(e,t,n){"use strict";function i(){n.event.stopImmediatePropagation()}function r(e,t){var i=e.document.documentElement,r=n.select(e).on("dragstart.drag",null);if(t){r.on("click.drag",c,!0);setTimeout(function(){r.on("click.drag",null)},0)}if("onselectstart"in i)r.on("selectstart.drag",null);else{i.style.MozUserSelect=i.__noselect;delete i.__noselect}}function o(e,t,n,i,r,o,s,a,l,u){this.target=e;this.type=t;this.subject=n;this.identifier=i;this.active=r;this.x=o;this.y=s;this.dx=a;this.dy=l;this._=u}function s(){return!n.event.button}function a(){return this.parentNode}function l(e){return null==e?{x:n.event.x,y:n.event.y}:e}function u(){return"ontouchstart"in this}var c=function(){n.event.preventDefault();n.event.stopImmediatePropagation()},f=function(e){var t=e.document.documentElement,i=n.select(e).on("dragstart.drag",c,!0);if("onselectstart"in t)i.on("selectstart.drag",c,!0);else{t.__noselect=t.style.MozUserSelect;t.style.MozUserSelect="none"}},p=function(e){return function(){return e}};o.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var h=function(){function e(e){e.on("mousedown.drag",h).filter(L).on("touchstart.drag",m).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){if(!w&&T.apply(this,arguments)){var e=b("mouse",S.apply(this,arguments),n.mouse,this,arguments);if(e){n.select(n.event.view).on("mousemove.drag",d,!0).on("mouseup.drag",g,!0);f(n.event.view);i();E=!1;x=n.event.clientX;_=n.event.clientY;e("start")}}}function d(){c();if(!E){var e=n.event.clientX-x,t=n.event.clientY-_;E=e*e+t*t>R}N.mouse("drag")}function g(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null);r(n.event.view,E);c();N.mouse("end")}function m(){if(T.apply(this,arguments)){var e,t,r=n.event.changedTouches,o=S.apply(this,arguments),s=r.length;for(e=0;e<s;++e)if(t=b(r[e].identifier,o,n.touch,this,arguments)){
i();t("start")}}}function v(){var e,t,i=n.event.changedTouches,r=i.length;for(e=0;e<r;++e)if(t=N[i[e].identifier]){c();t("drag")}}function y(){var e,t,r=n.event.changedTouches,o=r.length;w&&clearTimeout(w);w=setTimeout(function(){w=null},500);for(e=0;e<o;++e)if(t=N[r[e].identifier]){i();t("end")}}function b(t,i,r,s,a){var l,u,c,f=r(i,t),p=I.copy();if(n.customEvent(new o(e,"beforestart",l,t,A,f[0],f[1],0,0,p),function(){if(null==(n.event.subject=l=C.apply(s,a)))return!1;u=l.x-f[0]||0;c=l.y-f[1]||0;return!0}))return function h(d){var g,m=f;switch(d){case"start":N[t]=h,g=A++;break;case"end":delete N[t],--A;case"drag":f=r(i,t),g=A}n.customEvent(new o(e,d,l,t,g,f[0]+u,f[1]+c,f[0]-m[0],f[1]-m[1],p),p.apply,p,[d,s,a])}}var x,_,E,w,T=s,S=a,C=l,L=u,N={},I=t.dispatch("start","drag","end"),A=0,R=0;e.filter=function(t){return arguments.length?(T="function"==typeof t?t:p(!!t),e):T};e.container=function(t){return arguments.length?(S="function"==typeof t?t:p(t),e):S};e.subject=function(t){return arguments.length?(C="function"==typeof t?t:p(t),e):C};e.touchable=function(t){return arguments.length?(L="function"==typeof t?t:p(!!t),e):L};e.on=function(){var t=I.on.apply(I,arguments);return t===I?e:t};e.clickDistance=function(t){return arguments.length?(R=(t=+t)*t,e):Math.sqrt(R)};return e};e.drag=h;e.dragDisable=f;e.dragEnable=r;Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-dispatch":36,"d3-selection":52}],38:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function n(e,n){var i=t(e);return function(t,r){return n(i(t),r,e)}}function i(e){var t=Object.create(null),n=[];e.forEach(function(e){for(var i in e)i in t||n.push(t[i]=i)});return n}var r={},o={},s=34,a=10,l=13,u=function(e){function u(e,i){var r,o,s=c(e,function(e,s){if(r)return r(e,s-1);o=e,r=i?n(e,i):t(e)});s.columns=o||[];return s}function c(e,t){function n(){if(h)return o;if(d)return d=!1,r;var t,n,i=f;if(e.charCodeAt(i)===s){for(;f++<c&&e.charCodeAt(f)!==s||e.charCodeAt(++f)===s;);if((t=f)>=c)h=!0;else if((n=e.charCodeAt(f++))===a)d=!0;else if(n===l){d=!0;e.charCodeAt(f)===a&&++f}return e.slice(i+1,t-1).replace(/""/g,'"')}for(;f<c;){if((n=e.charCodeAt(t=f++))===a)d=!0;else if(n===l){d=!0;e.charCodeAt(f)===a&&++f}else if(n!==m)continue;return e.slice(i,t)}return h=!0,e.slice(i,c)}var i,u=[],c=e.length,f=0,p=0,h=c<=0,d=!1;e.charCodeAt(c-1)===a&&--c;e.charCodeAt(c-1)===l&&--c;for(;(i=n())!==o;){for(var g=[];i!==r&&i!==o;)g.push(i),i=n();t&&null==(g=t(g,p++))||u.push(g)}return u}function f(t,n){null==n&&(n=i(t));return[n.map(d).join(e)].concat(t.map(function(t){return n.map(function(e){return d(t[e])}).join(e)})).join("\n")}function p(e){return e.map(h).join("\n")}function h(t){return t.map(d).join(e)}function d(e){return null==e?"":g.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}var g=new RegExp('["'+e+"\n\r]"),m=e.charCodeAt(0);return{parse:u,parseRows:c,format:f,formatRows:p}},c=u(","),f=c.parse,p=c.parseRows,h=c.format,d=c.formatRows,g=u("\t"),m=g.parse,v=g.parseRows,y=g.format,b=g.formatRows;e.dsvFormat=u;e.csvParse=f;e.csvParseRows=p;e.csvFormat=h;e.csvFormatRows=d;e.tsvParse=m;e.tsvParseRows=v;e.tsvFormat=y;e.tsvFormatRows=b;Object.defineProperty(e,"__esModule",{value:!0})})},{}],39:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e){return+e}function n(e){return e*e}function i(e){return e*(2-e)}function r(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function o(e){return e*e*e}function s(e){return--e*e*e+1}function a(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function l(e){return 1-Math.cos(e*S)}function u(e){return Math.sin(e*S)}function c(e){return(1-Math.cos(T*e))/2}function f(e){return Math.pow(2,10*e-10)}function p(e){return 1-Math.pow(2,-10*e)}function h(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function d(e){return 1-Math.sqrt(1-e*e)}function g(e){return Math.sqrt(1- --e*e)}function m(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}function v(e){return 1-y(1-e)}function y(e){return(e=+e)<C?M*e*e:e<N?M*(e-=L)*e+I:e<R?M*(e-=A)*e+O:M*(e-=P)*e+k}function b(e){return((e*=2)<=1?1-y(1-e):y(e-1)+1)/2}var x=3,_=function W(e){function t(t){return Math.pow(t,e)}e=+e;t.exponent=W;return t}(x),E=function Y(e){function t(t){return 1-Math.pow(1-t,e)}e=+e;t.exponent=Y;return t}(x),w=function Z(e){function t(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}e=+e;t.exponent=Z;return t}(x),T=Math.PI,S=T/2,C=4/11,L=6/11,N=8/11,I=.75,A=9/11,R=10/11,O=.9375,P=21/22,k=63/64,M=1/C/C,D=1.70158,j=function $(e){function t(t){return t*t*((e+1)*t-e)}e=+e;t.overshoot=$;return t}(D),B=function K(e){function t(t){return--t*t*((e+1)*t+e)+1}e=+e;t.overshoot=K;return t}(D),q=function X(e){function t(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}e=+e;t.overshoot=X;return t}(D),U=2*Math.PI,F=1,G=.3,z=function Q(e,t){function n(n){return e*Math.pow(2,10*--n)*Math.sin((i-n)/t)}var i=Math.asin(1/(e=Math.max(1,e)))*(t/=U);n.amplitude=function(e){return Q(e,t*U)};n.period=function(t){return Q(e,t)};return n}(F,G),H=function J(e,t){function n(n){return 1-e*Math.pow(2,-10*(n=+n))*Math.sin((n+i)/t)}var i=Math.asin(1/(e=Math.max(1,e)))*(t/=U);n.amplitude=function(e){return J(e,t*U)};n.period=function(t){return J(e,t)};return n}(F,G),V=function ee(e,t){function n(n){return((n=2*n-1)<0?e*Math.pow(2,10*n)*Math.sin((i-n)/t):2-e*Math.pow(2,-10*n)*Math.sin((i+n)/t))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(t/=U);n.amplitude=function(e){return ee(e,t*U)};n.period=function(t){return ee(e,t)};return n}(F,G);e.easeLinear=t;e.easeQuad=r;e.easeQuadIn=n;e.easeQuadOut=i;e.easeQuadInOut=r;e.easeCubic=a;e.easeCubicIn=o;e.easeCubicOut=s;e.easeCubicInOut=a;e.easePoly=w;e.easePolyIn=_;e.easePolyOut=E;e.easePolyInOut=w;e.easeSin=c;e.easeSinIn=l;e.easeSinOut=u;e.easeSinInOut=c;e.easeExp=h;e.easeExpIn=f;e.easeExpOut=p;e.easeExpInOut=h;e.easeCircle=m;e.easeCircleIn=d;e.easeCircleOut=g;e.easeCircleInOut=m;e.easeBounce=y;e.easeBounceIn=v;e.easeBounceOut=y;e.easeBounceInOut=b;e.easeBack=q;e.easeBackIn=j;e.easeBackOut=B;e.easeBackInOut=q;e.easeElastic=H;e.easeElasticIn=z;e.easeElasticOut=H;e.easeElasticInOut=V;Object.defineProperty(e,"__esModule",{value:!0})})},{}],40:[function(e,t,n){(function(i,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("d3-quadtree"),e("d3-collection"),e("d3-dispatch"),e("d3-timer")):"function"==typeof define&&define.amd?define(["exports","d3-quadtree","d3-collection","d3-dispatch","d3-timer"],r):r(i.d3=i.d3||{},i.d3,i.d3,i.d3,i.d3)})(this,function(e,t,n,i,r){"use strict";function o(e){return e.x+e.vx}function s(e){return e.y+e.vy}function a(e){return e.index}function l(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function u(e){return e.x}function c(e){return e.y}var f=function(e,t){function n(){var n,r,o=i.length,s=0,a=0;for(n=0;n<o;++n)r=i[n],s+=r.x,a+=r.y;for(s=s/o-e,a=a/o-t,n=0;n<o;++n)r=i[n],r.x-=s,r.y-=a}var i;null==e&&(e=0);null==t&&(t=0);n.initialize=function(e){i=e};n.x=function(t){return arguments.length?(e=+t,n):e};n.y=function(e){return arguments.length?(t=+e,n):t};return n},p=function(e){return function(){return e}},h=function(){return 1e-6*(Math.random()-.5)},d=function(e){function n(){function e(e,t,n,i,r){var o=e.data,s=e.r,a=g+s;if(!o)return t>p+a||i<p-a||n>d+a||r<d-a;if(o.index>f.index){var l=p-o.x-o.vx,c=d-o.y-o.vy,v=l*l+c*c;if(v<a*a){0===l&&(l=h(),v+=l*l);0===c&&(c=h(),v+=c*c);v=(a-(v=Math.sqrt(v)))/v*u;f.vx+=(l*=v)*(a=(s*=s)/(m+s));f.vy+=(c*=v)*a;o.vx-=l*(a=1-a);o.vy-=c*a}}}for(var n,r,f,p,d,g,m,v=a.length,y=0;y<c;++y){r=t.quadtree(a,o,s).visitAfter(i);for(n=0;n<v;++n){f=a[n];g=l[f.index],m=g*g;p=f.x+f.vx;d=f.y+f.vy;r.visit(e)}}}function i(e){if(e.data)return e.r=l[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function r(){if(a){var t,n,i=a.length;l=new Array(i);for(t=0;t<i;++t)n=a[t],l[n.index]=+e(n,t,a)}}var a,l,u=1,c=1;"function"!=typeof e&&(e=p(null==e?1:+e));n.initialize=function(e){a=e;r()};n.iterations=function(e){return arguments.length?(c=+e,n):c};n.strength=function(e){return arguments.length?(u=+e,n):u};n.radius=function(t){return arguments.length?(e="function"==typeof t?t:p(+t),r(),n):e};return n},g=function(e){function t(e){return 1/Math.min(d[e.source.index],d[e.target.index])}function i(t){for(var n=0,i=e.length;n<b;++n)for(var r,o,s,a,l,f,p,d=0;d<i;++d){r=e[d],o=r.source,s=r.target;a=s.x+s.vx-o.x-o.vx||h();l=s.y+s.vy-o.y-o.vy||h();f=Math.sqrt(a*a+l*l);f=(f-c[d])/f*t*u[d];a*=f,l*=f;s.vx-=a*(p=g[d]);s.vy-=l*p;o.vx+=a*(p=1-p);o.vy+=l*p}}function r(){if(f){var t,i,r=f.length,a=e.length,p=n.map(f,m);for(t=0,d=new Array(r);t<a;++t){i=e[t],i.index=t;"object"!=typeof i.source&&(i.source=l(p,i.source));"object"!=typeof i.target&&(i.target=l(p,i.target));d[i.source.index]=(d[i.source.index]||0)+1;d[i.target.index]=(d[i.target.index]||0)+1}for(t=0,g=new Array(a);t<a;++t)i=e[t],g[t]=d[i.source.index]/(d[i.source.index]+d[i.target.index]);u=new Array(a),o();c=new Array(a),s()}}function o(){if(f)for(var t=0,n=e.length;t<n;++t)u[t]=+v(e[t],t,e)}function s(){if(f)for(var t=0,n=e.length;t<n;++t)c[t]=+y(e[t],t,e)}var u,c,f,d,g,m=a,v=t,y=p(30),b=1;null==e&&(e=[]);i.initialize=function(e){f=e;r()};i.links=function(t){return arguments.length?(e=t,r(),i):e};i.id=function(e){return arguments.length?(m=e,i):m};i.iterations=function(e){return arguments.length?(b=+e,i):b};i.strength=function(e){return arguments.length?(v="function"==typeof e?e:p(+e),o(),i):v};i.distance=function(e){return arguments.length?(y="function"==typeof e?e:p(+e),s(),i):y};return i},m=10,v=Math.PI*(3-Math.sqrt(5)),y=function(e){function t(){o();y.call("tick",l);if(u<c){g.stop();y.call("end",l)}}function o(){var t,n,i=e.length;u+=(p-u)*f;d.each(function(e){e(u)});for(t=0;t<i;++t){n=e[t];null==n.fx?n.x+=n.vx*=h:(n.x=n.fx,n.vx=0);null==n.fy?n.y+=n.vy*=h:(n.y=n.fy,n.vy=0)}}function s(){for(var t,n=0,i=e.length;n<i;++n){t=e[n],t.index=n;if(isNaN(t.x)||isNaN(t.y)){var r=m*Math.sqrt(n),o=n*v;t.x=r*Math.cos(o);t.y=r*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function a(t){t.initialize&&t.initialize(e);return t}var l,u=1,c=.001,f=1-Math.pow(c,1/300),p=0,h=.6,d=n.map(),g=r.timer(t),y=i.dispatch("tick","end");null==e&&(e=[]);s();return l={tick:o,restart:function(){return g.restart(t),l},stop:function(){return g.stop(),l},nodes:function(t){return arguments.length?(e=t,s(),d.each(a),l):e},alpha:function(e){return arguments.length?(u=+e,l):u},alphaMin:function(e){return arguments.length?(c=+e,l):c},alphaDecay:function(e){return arguments.length?(f=+e,l):+f},alphaTarget:function(e){return arguments.length?(p=+e,l):p},velocityDecay:function(e){return arguments.length?(h=1-e,l):1-h},force:function(e,t){return arguments.length>1?(null==t?d.remove(e):d.set(e,a(t)),l):d.get(e)},find:function(t,n,i){var r,o,s,a,l,u=0,c=e.length;null==i?i=1/0:i*=i;for(u=0;u<c;++u){a=e[u];r=t-a.x;o=n-a.y;s=r*r+o*o;s<i&&(l=a,i=s)}return l},on:function(e,t){return arguments.length>1?(y.on(e,t),l):y.on(e)}}},b=function(){function e(e){var n,l=o.length,f=t.quadtree(o,u,c).visitAfter(i);for(a=e,n=0;n<l;++n)s=o[n],f.visit(r)}function n(){if(o){var e,t,n=o.length;l=new Array(n);for(e=0;e<n;++e)t=o[e],l[t.index]=+f(t,e,o)}}function i(e){var t,n,i,r,o,s=0,a=0;if(e.length){for(i=r=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(s+=t.value,a+=n,i+=n*t.x,r+=n*t.y);e.x=i/a;e.y=r/a}else{t=e;t.x=t.data.x;t.y=t.data.y;do s+=l[t.data.index];while(t=t.next)}e.value=s}function r(e,t,n,i){if(!e.value)return!0;var r=e.x-s.x,o=e.y-s.y,u=i-t,c=r*r+o*o;if(u*u/m<c){if(c<g){0===r&&(r=h(),c+=r*r);0===o&&(o=h(),c+=o*o);c<d&&(c=Math.sqrt(d*c));s.vx+=r*e.value*a/c;s.vy+=o*e.value*a/c}return!0}if(!(e.length||c>=g)){if(e.data!==s||e.next){0===r&&(r=h(),c+=r*r);0===o&&(o=h(),c+=o*o);c<d&&(c=Math.sqrt(d*c))}do if(e.data!==s){u=l[e.data.index]*a/c;s.vx+=r*u;s.vy+=o*u}while(e=e.next)}}var o,s,a,l,f=p(-30),d=1,g=1/0,m=.81;e.initialize=function(e){o=e;n()};e.strength=function(t){return arguments.length?(f="function"==typeof t?t:p(+t),n(),e):f};e.distanceMin=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)};e.distanceMax=function(t){return arguments.length?(g=t*t,e):Math.sqrt(g)};e.theta=function(t){return arguments.length?(m=t*t,e):Math.sqrt(m)};return e},x=function(e,t,n){function i(e){for(var i=0,r=o.length;i<r;++i){var l=o[i],u=l.x-t||1e-6,c=l.y-n||1e-6,f=Math.sqrt(u*u+c*c),p=(a[i]-f)*s[i]*e/f;l.vx+=u*p;l.vy+=c*p}}function r(){if(o){var t,n=o.length;s=new Array(n);a=new Array(n);for(t=0;t<n;++t){a[t]=+e(o[t],t,o);s[t]=isNaN(a[t])?0:+l(o[t],t,o)}}}var o,s,a,l=p(.1);"function"!=typeof e&&(e=p(+e));null==t&&(t=0);null==n&&(n=0);i.initialize=function(e){o=e,r()};i.strength=function(e){return arguments.length?(l="function"==typeof e?e:p(+e),r(),i):l};i.radius=function(t){return arguments.length?(e="function"==typeof t?t:p(+t),r(),i):e};i.x=function(e){return arguments.length?(t=+e,i):t};i.y=function(e){return arguments.length?(n=+e,i):n};return i},_=function(e){function t(e){for(var t,n=0,s=i.length;n<s;++n)t=i[n],t.vx+=(o[n]-t.x)*r[n]*e}function n(){if(i){var t,n=i.length;r=new Array(n);o=new Array(n);for(t=0;t<n;++t)r[t]=isNaN(o[t]=+e(i[t],t,i))?0:+s(i[t],t,i)}}var i,r,o,s=p(.1);"function"!=typeof e&&(e=p(null==e?0:+e));t.initialize=function(e){i=e;n()};t.strength=function(e){return arguments.length?(s="function"==typeof e?e:p(+e),n(),t):s};t.x=function(i){return arguments.length?(e="function"==typeof i?i:p(+i),n(),t):e};return t},E=function(e){function t(e){for(var t,n=0,s=i.length;n<s;++n)t=i[n],t.vy+=(o[n]-t.y)*r[n]*e}function n(){if(i){var t,n=i.length;r=new Array(n);o=new Array(n);for(t=0;t<n;++t)r[t]=isNaN(o[t]=+e(i[t],t,i))?0:+s(i[t],t,i)}}var i,r,o,s=p(.1);"function"!=typeof e&&(e=p(null==e?0:+e));t.initialize=function(e){i=e;n()};t.strength=function(e){return arguments.length?(s="function"==typeof e?e:p(+e),n(),t):s};t.y=function(i){return arguments.length?(e="function"==typeof i?i:p(+i),n(),t):e};return t};e.forceCenter=f;e.forceCollide=d;e.forceLink=g;e.forceManyBody=b;e.forceRadial=x;e.forceSimulation=y;e.forceX=_;e.forceY=E;Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-collection":34,"d3-dispatch":36,"d3-quadtree":47,"d3-timer":56}],41:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e){return new n(e)}function n(e){if(!(t=h.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",i=t[2]||">",r=t[3]||"-",o=t[4]||"",s=!!t[5],a=t[6]&&+t[6],l=!!t[7],u=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(l=!0,c="g"):p[c]||(c="");(s||"0"===n&&"="===i)&&(s=!0,n="0",i="=");this.fill=n;this.align=i;this.sign=r;this.symbol=o;this.zero=s;this.width=a;this.comma=l;this.precision=u;this.type=c}function i(t){d=v(t);e.format=d.format;e.formatPrefix=d.formatPrefix;return d}var r,o=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]},s=function(e){return e=o(Math.abs(e)),e?e[1]:NaN},a=function(e,t){return function(n,i){for(var r=n.length,o=[],s=0,a=e[0],l=0;r>0&&a>0;){l+a+1>i&&(a=Math.max(1,i-l));o.push(n.substring(r-=a,r+a));if((l+=a+1)>i)break;a=e[s=(s+1)%e.length]}return o.reverse().join(t)}},l=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},u=function(e,t){e=e.toPrecision(t);e:for(var n,i=e.length,r=1,o=-1;r<i;++r)switch(e[r]){case".":o=n=r;break;case"0":0===o&&(o=r);n=r;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e},c=function(e,t){var n=o(e,t);if(!n)return e+"";var i=n[0],s=n[1],a=s-(r=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,l=i.length;return a===l?i:a>l?i+new Array(a-l+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+o(e,Math.max(0,t+a-1))[0]},f=function(e,t){var n=o(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array((-r)).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},p={"":u,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return f(100*e,t)},r:f,s:c,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},h=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;t.prototype=n.prototype;n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var d,g=function(e){return e},m=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],v=function(e){function n(e){function n(e){var t,n,l,u=x,p=_;if("c"===b){p=E(e)+p;e=""}else{e=+e;var h=e<0;e=E(Math.abs(e),y);h&&0===+e&&(h=!1);u=(h?"("===a?a:"-":"-"===a||"("===a?"":a)+u;p=("s"===b?m[8+r/3]:"")+p+(h&&"("===a?")":"");if(w){t=-1,n=e.length;for(;++t<n;)if(l=e.charCodeAt(t),48>l||l>57){p=(46===l?c+e.slice(t+1):e.slice(t))+p;e=e.slice(0,t);break}}}v&&!d&&(e=o(e,1/0));var T=u.length+e.length+p.length,S=T<g?new Array(g-T+1).join(i):"";v&&d&&(e=o(S+e,S.length?g-p.length:1/0),S="");switch(s){case"<":e=u+e+p+S;break;case"=":e=u+S+e+p;break;case"^":e=S.slice(0,T=S.length>>1)+u+e+p+S.slice(T);break;default:e=S+u+e+p}return f(e)}e=t(e);var i=e.fill,s=e.align,a=e.sign,l=e.symbol,d=e.zero,g=e.width,v=e.comma,y=e.precision,b=e.type,x="$"===l?u[0]:"#"===l&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===l?u[1]:/[%p]/.test(b)?h:"",E=p[b],w=!b||/[defgprs%]/.test(b);y=null==y?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));n.toString=function(){return e+""};return n}function i(e,i){var r=n((e=t(e),e.type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor(s(i)/3))),a=Math.pow(10,-o),l=m[8+o/3];return function(e){return r(a*e)+l}}var o=e.grouping&&e.thousands?a(e.grouping,e.thousands):g,u=e.currency,c=e.decimal,f=e.numerals?l(e.numerals):g,h=e.percent||"%";return{format:n,formatPrefix:i}};i({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var y=function(e){return Math.max(0,-s(Math.abs(e)))},b=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(s(t)/3)))-s(Math.abs(e)))},x=function(e,t){e=Math.abs(e),t=Math.abs(t)-e;return Math.max(0,s(t)-s(e))+1};e.formatDefaultLocale=i;e.formatLocale=v;e.formatSpecifier=t;e.precisionFixed=y;e.precisionPrefix=b;e.precisionRound=x;Object.defineProperty(e,"__esModule",{value:!0})})},{}],42:[function(e,t,n){(function(i,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-array"],r):r(i.d3=i.d3||{},i.d3)})(this,function(e,t){"use strict";function n(){this.reset()}function i(e,t,n){var i=e.s=t+n,r=i-t,o=i-r;e.t=t-o+(n-r)}function r(e){return e>1?0:e<-1?Yt:Math.acos(e)}function o(e){return e>1?Zt:e<-1?-Zt:Math.asin(e)}function s(e){return(e=ln(e/2))*e}function a(){}function l(e,t){e&&hn.hasOwnProperty(e.type)&&hn[e.type](e,t)}function u(e,t,n){var i,r=-1,o=e.length-n;t.lineStart();for(;++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function c(e,t){var n=-1,i=e.length;t.polygonStart();for(;++n<i;)u(e[n],t,1);t.polygonEnd()}function f(){vn.point=h}function p(){d(ht,dt)}function h(e,t){vn.point=d;ht=e,dt=t;e*=Qt,t*=Qt;gt=e,mt=nn(t=t/2+$t),vt=ln(t)}function d(e,t){e*=Qt,t*=Qt;t=t/2+$t;var n=e-gt,i=n>=0?1:-1,r=i*n,o=nn(t),s=ln(t),a=vt*s,l=mt*o+a*nn(r),u=a*i*ln(r);gn.add(tn(u,l));gt=e,mt=o,vt=s}function g(e){return[tn(e[1],e[0]),o(e[2])]}function m(e){var t=e[0],n=e[1],i=nn(n);return[i*nn(t),i*ln(t),ln(n)]}function v(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function y(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function b(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function x(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function _(e){var t=cn(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function E(e,t){Ct.push(Lt=[yt=e,xt=e]);t<bt&&(bt=t);t>_t&&(_t=t)}function w(e,t){var n=m([e*Qt,t*Qt]);if(St){var i=y(St,n),r=[i[1],-i[0],0],o=y(r,i);_(o);o=g(o);var s,a=e-Et,l=a>0?1:-1,u=o[0]*Xt*l,c=Jt(a)>180;if(c^(l*Et<u&&u<l*e)){s=o[1]*Xt;s>_t&&(_t=s)}else if(u=(u+360)%360-180,c^(l*Et<u&&u<l*e)){s=-o[1]*Xt;s<bt&&(bt=s)}else{t<bt&&(bt=t);t>_t&&(_t=t)}if(c)e<Et?I(yt,e)>I(yt,xt)&&(xt=e):I(e,xt)>I(yt,xt)&&(yt=e);else if(xt>=yt){e<yt&&(yt=e);e>xt&&(xt=e)}else e>Et?I(yt,e)>I(yt,xt)&&(xt=e):I(e,xt)>I(yt,xt)&&(yt=e)}else Ct.push(Lt=[yt=e,xt=e]);t<bt&&(bt=t);t>_t&&(_t=t);St=n,Et=e}function T(){xn.point=w}function S(){Lt[0]=yt,Lt[1]=xt;xn.point=E;St=null}function C(e,t){if(St){var n=e-Et;bn.add(Jt(n)>180?n+(n>0?360:-360):n)}else wt=e,Tt=t;vn.point(e,t);w(e,t)}function L(){vn.lineStart()}function N(){C(wt,Tt);vn.lineEnd();Jt(bn)>Vt&&(yt=-(xt=180));Lt[0]=yt,Lt[1]=xt;St=null}function I(e,t){return(t-=e)<0?t+360:t}function A(e,t){return e[0]-t[0]}function R(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function O(e,t){e*=Qt,t*=Qt;var n=nn(t);P(n*nn(e),n*ln(e),ln(t))}function P(e,t,n){++Nt;At+=(e-At)/Nt;Rt+=(t-Rt)/Nt;Ot+=(n-Ot)/Nt}function k(){En.point=M}function M(e,t){e*=Qt,t*=Qt;var n=nn(t);Ft=n*nn(e);Gt=n*ln(e);zt=ln(t);En.point=D;P(Ft,Gt,zt)}function D(e,t){e*=Qt,t*=Qt;var n=nn(t),i=n*nn(e),r=n*ln(e),o=ln(t),s=tn(cn((s=Gt*o-zt*r)*s+(s=zt*i-Ft*o)*s+(s=Ft*r-Gt*i)*s),Ft*i+Gt*r+zt*o);It+=s;Pt+=s*(Ft+(Ft=i));kt+=s*(Gt+(Gt=r));Mt+=s*(zt+(zt=o));P(Ft,Gt,zt)}function j(){En.point=O}function B(){En.point=U}function q(){F(qt,Ut);En.point=O}function U(e,t){qt=e,Ut=t;e*=Qt,t*=Qt;En.point=F;var n=nn(t);Ft=n*nn(e);Gt=n*ln(e);zt=ln(t);P(Ft,Gt,zt)}function F(e,t){e*=Qt,t*=Qt;var n=nn(t),i=n*nn(e),r=n*ln(e),s=ln(t),a=Gt*s-zt*r,l=zt*i-Ft*s,u=Ft*r-Gt*i,c=cn(a*a+l*l+u*u),f=o(c),p=c&&-f/c;Dt+=p*a;jt+=p*l;Bt+=p*u;It+=f;Pt+=f*(Ft+(Ft=i));kt+=f*(Gt+(Gt=r));Mt+=f*(zt+(zt=s));P(Ft,Gt,zt)}function G(e,t){return[e>Yt?e-Kt:e<-Yt?e+Kt:e,t]}function z(e,t,n){return(e%=Kt)?t||n?Sn(V(e),W(t,n)):V(e):t||n?W(t,n):G}function H(e){return function(t,n){return t+=e,[t>Yt?t-Kt:t<-Yt?t+Kt:t,n]}}function V(e){var t=H(e);t.invert=H(-e);return t}function W(e,t){function n(e,t){var n=nn(t),l=nn(e)*n,u=ln(e)*n,c=ln(t),f=c*i+l*r;return[tn(u*s-f*a,l*i-c*r),o(f*s+u*a)]}var i=nn(e),r=ln(e),s=nn(t),a=ln(t);n.invert=function(e,t){var n=nn(t),l=nn(e)*n,u=ln(e)*n,c=ln(t),f=c*s-u*a;return[tn(u*s+c*a,l*i+f*r),o(f*i-l*r)]};return n}function Y(e,t,n,i,r,o){if(n){var s=nn(t),a=ln(t),l=i*n;if(null==r){r=t+i*Kt;o=t-l/2}else{r=Z(s,r);o=Z(s,o);(i>0?r<o:r>o)&&(r+=i*Kt)}for(var u,c=r;i>0?c>o:c<o;c-=l){u=g([s,-a*nn(c),-a*ln(c)]);e.point(u[0],u[1])}}}function Z(e,t){t=m(t),t[0]-=e;_(t);var n=r(-t[1]);return((-t[2]<0?-n:n)+Kt-Vt)%Kt}function $(e,t,n,i){this.x=e;this.z=t;this.o=n;this.e=i;this.v=!1;this.n=this.p=null}function K(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;){r.n=n=e[i];n.p=r;r=n}r.n=n=e[0];n.p=r}}function X(e){return e.length>1}function Q(e,t){return((e=e.x)[0]<0?e[1]-Zt-Vt:Zt-e[1])-((t=t.x)[0]<0?t[1]-Zt-Vt:Zt-t[1])}function J(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart();t=1},point:function(o,s){var a=o>0?Yt:-Yt,l=Jt(o-n);if(Jt(l-Yt)<Vt){e.point(n,i=(i+s)/2>0?Zt:-Zt);e.point(r,i);e.lineEnd();e.lineStart();e.point(a,i);e.point(o,i);t=0}else if(r!==a&&l>=Yt){Jt(n-r)<Vt&&(n-=r*Vt);Jt(o-a)<Vt&&(o-=a*Vt);i=ee(n,i,o,s);e.point(r,i);e.lineEnd();e.lineStart();e.point(a,i);t=0}e.point(n=o,i=s);r=a},lineEnd:function(){e.lineEnd();n=i=NaN},clean:function(){return 2-t}}}function ee(e,t,n,i){var r,o,s=ln(e-n);return Jt(s)>Vt?en((ln(t)*(o=nn(i))*ln(n)-ln(i)*(r=nn(t))*ln(e))/(r*o*s)):(t+i)/2}function te(e,t,n,i){var r;if(null==e){r=n*Zt;i.point(-Yt,r);i.point(0,r);i.point(Yt,r);i.point(Yt,0);i.point(Yt,-r);i.point(0,-r);i.point(-Yt,-r);i.point(-Yt,0);i.point(-Yt,r)}else if(Jt(e[0]-t[0])>Vt){var o=e[0]<t[0]?Yt:-Yt;r=n*o/2;i.point(-o,r);i.point(0,r);i.point(o,r)}else i.point(t[0],t[1])}function ne(e,n,i,r){function o(t,o){return e<=t&&t<=i&&n<=o&&o<=r}function s(t,o,s,l){var c=0,f=0;if(null==t||(c=a(t,s))!==(f=a(o,s))||u(t,o)<0^s>0){do l.point(0===c||3===c?e:i,c>1?r:n);while((c=(c+s+4)%4)!==f)}else l.point(o[0],o[1])}function a(t,r){return Jt(t[0]-e)<Vt?r>0?0:3:Jt(t[0]-i)<Vt?r>0?2:1:Jt(t[1]-n)<Vt?r>0?1:0:r>0?3:2}function l(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),i=a(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){function u(e,t){o(e,t)&&L.point(e,t)}function c(){for(var t=0,n=0,i=v.length;n<i;++n)for(var o,s,a=v[n],l=1,u=a.length,c=a[0],f=c[0],p=c[1];l<u;++l){o=f,s=p,c=a[l],f=c[0],p=c[1];s<=r?p>r&&(f-o)*(r-s)>(p-s)*(e-o)&&++t:p<=r&&(f-o)*(r-s)<(p-s)*(e-o)&&--t}return t}function f(){L=N,m=[],v=[],C=!0}function p(){var e=c(),n=C&&e,i=(m=t.merge(m)).length;if(n||i){a.polygonStart();if(n){a.lineStart();s(null,null,1,a);a.lineEnd()}i&&Fn(m,l,e,s,a);a.polygonEnd()}L=a,m=v=y=null}function h(){I.point=g;v&&v.push(y=[]);S=!0;T=!1;E=w=NaN}function d(){if(m){g(b,x);_&&T&&N.rejoin();m.push(N.result())}I.point=u;T&&L.lineEnd()}function g(t,s){var a=o(t,s);v&&y.push([t,s]);if(S){b=t,x=s,_=a;S=!1;if(a){L.lineStart();L.point(t,s)}}else if(a&&T)L.point(t,s);else{var l=[E=Math.max($n,Math.min(Zn,E)),w=Math.max($n,Math.min(Zn,w))],u=[t=Math.max($n,Math.min(Zn,t)),s=Math.max($n,Math.min(Zn,s))];if(Yn(l,u,e,n,i,r)){if(!T){L.lineStart();L.point(l[0],l[1])}L.point(u[0],u[1]);a||L.lineEnd();C=!1}else if(a){L.lineStart();L.point(t,s);C=!1}}E=t,w=s,T=a}var m,v,y,b,x,_,E,w,T,S,C,L=a,N=qn(),I={point:u,lineStart:h,lineEnd:d,polygonStart:f,polygonEnd:p};return I}}function ie(){Qn.point=oe;Qn.lineEnd=re}function re(){Qn.point=Qn.lineEnd=a}function oe(e,t){e*=Qt,t*=Qt;Cn=e,Ln=ln(t),Nn=nn(t);Qn.point=se}function se(e,t){e*=Qt,t*=Qt;var n=ln(t),i=nn(t),r=Jt(e-Cn),o=nn(r),s=ln(r),a=i*s,l=Nn*n-Ln*i*o,u=Ln*n+Nn*i*o;Xn.add(tn(cn(a*a+l*l),u));Cn=e,Ln=n,Nn=i}function ae(e,t){return!(!e||!ri.hasOwnProperty(e.type))&&ri[e.type](e,t)}function le(e,t){return 0===ni(e,t)}function ue(e,t){var n=ni(e[0],e[1]),i=ni(e[0],t),r=ni(t,e[1]);return i+r<=n+Vt}function ce(e,t){return!!zn(e.map(fe),pe(t))}function fe(e){return e=e.map(pe),e.pop(),e}function pe(e){return[e[0]*Qt,e[1]*Qt]}function he(e,n,i){var r=t.range(e,n-Vt,i).concat(n);return function(e){return r.map(function(t){return[e,t]})}}function de(e,n,i){var r=t.range(e,n-Vt,i).concat(n);return function(e){return r.map(function(t){return[t,e]})}}function ge(){function e(){return{type:"MultiLineString",coordinates:n()}}function n(){return t.range(rn(s/v)*v,o,v).map(h).concat(t.range(rn(c/y)*y,u,y).map(d)).concat(t.range(rn(r/g)*g,i,g).filter(function(e){return Jt(e%v)>Vt}).map(f)).concat(t.range(rn(l/m)*m,a,m).filter(function(e){return Jt(e%y)>Vt}).map(p))}var i,r,o,s,a,l,u,c,f,p,h,d,g=10,m=g,v=90,y=360,b=2.5;e.lines=function(){return n().map(function(e){return{type:"LineString",coordinates:e}})};e.outline=function(){return{type:"Polygon",coordinates:[h(s).concat(d(u).slice(1),h(o).reverse().slice(1),d(c).reverse().slice(1))]}};e.extent=function(t){return arguments.length?e.extentMajor(t).extentMinor(t):e.extentMinor()};e.extentMajor=function(t){if(!arguments.length)return[[s,c],[o,u]];s=+t[0][0],o=+t[1][0];c=+t[0][1],u=+t[1][1];s>o&&(t=s,s=o,o=t);c>u&&(t=c,c=u,u=t);return e.precision(b)};e.extentMinor=function(t){if(!arguments.length)return[[r,l],[i,a]];r=+t[0][0],i=+t[1][0];l=+t[0][1],a=+t[1][1];r>i&&(t=r,r=i,i=t);l>a&&(t=l,l=a,a=t);return e.precision(b)};e.step=function(t){return arguments.length?e.stepMajor(t).stepMinor(t):e.stepMinor()};e.stepMajor=function(t){if(!arguments.length)return[v,y];v=+t[0],y=+t[1];return e};e.stepMinor=function(t){if(!arguments.length)return[g,m];g=+t[0],m=+t[1];return e};e.precision=function(t){if(!arguments.length)return b;b=+t;f=he(l,a,90);p=de(r,i,b);h=he(c,u,90);d=de(s,o,b);return e};return e.extentMajor([[-180,-90+Vt],[180,90-Vt]]).extentMinor([[-180,-80-Vt],[180,80+Vt]])}function me(){return ge()()}function ve(){ci.point=ye}function ye(e,t){ci.point=be;In=Rn=e,An=On=t}function be(e,t){ui.add(On*e-Rn*t);Rn=e,On=t}function xe(){be(In,An)}function _e(e,t){e<fi&&(fi=e);e>hi&&(hi=e);t<pi&&(pi=t);t>di&&(di=t)}function Ee(e,t){mi+=e;vi+=t;++yi}function we(){Si.point=Te}function Te(e,t){Si.point=Se;Ee(Mn=e,Dn=t)}function Se(e,t){var n=e-Mn,i=t-Dn,r=cn(n*n+i*i);bi+=r*(Mn+e)/2;xi+=r*(Dn+t)/2;_i+=r;Ee(Mn=e,Dn=t)}function Ce(){Si.point=Ee}function Le(){Si.point=Ie}function Ne(){Ae(Pn,kn)}function Ie(e,t){Si.point=Ae;Ee(Pn=Mn=e,kn=Dn=t)}function Ae(e,t){var n=e-Mn,i=t-Dn,r=cn(n*n+i*i);bi+=r*(Mn+e)/2;xi+=r*(Dn+t)/2;_i+=r;r=Dn*e-Mn*t;Ei+=r*(Mn+e);wi+=r*(Dn+t);Ti+=3*r;Ee(Mn=e,Dn=t)}function Re(e){this._context=e}function Oe(e,t){Oi.point=Pe;Li=Ii=e,Ni=Ai=t}function Pe(e,t){Ii-=e,Ai-=t;Ri.add(cn(Ii*Ii+Ai*Ai));Ii=e,Ai=t}function ke(){this._string=[]}function Me(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function De(e){return function(t){var n=new je;for(var i in e)n[i]=e[i];n.stream=t;return n}}function je(){}function Be(e,t,n){var i=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]);null!=i&&e.clipExtent(null);dn(n,e.stream(gi));t(gi.result());null!=i&&e.clipExtent(i);return e}function qe(e,t,n){return Be(e,function(n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+t[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+t[0][1]+(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([s,a])},n)}function Ue(e,t,n){return qe(e,[[0,0],t],n)}function Fe(e,t,n){return Be(e,function(n){var i=+t,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];e.scale(150*r).translate([o,s])},n)}function Ge(e,t,n){return Be(e,function(n){var i=+t,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([o,s])},n)}function ze(e){return De({point:function(t,n){t=e(t,n);this.stream.point(t[0],t[1])}})}function He(e,t){function n(i,r,s,a,l,u,c,f,p,h,d,g,m,v){var y=c-i,b=f-r,x=y*y+b*b;if(x>4*t&&m--){var _=a+h,E=l+d,w=u+g,T=cn(_*_+E*E+w*w),S=o(w/=T),C=Jt(Jt(w)-1)<Vt||Jt(s-p)<Vt?(s+p)/2:tn(E,_),L=e(C,S),N=L[0],I=L[1],A=N-i,R=I-r,O=b*A-y*R;if(O*O/x>t||Jt((y*A+b*R)/x-.5)>.3||a*h+l*d+u*g<Di){n(i,r,s,a,l,u,N,I,C,_/=T,E/=T,w,m,v);v.point(N,I);n(N,I,C,_,E,w,c,f,p,h,d,g,m,v)}}}return function(t){function i(n,i){n=e(n,i);t.point(n[0],n[1])}function r(){y=NaN;w.point=o;t.lineStart()}function o(i,r){var o=m([i,r]),s=e(i,r);n(y,b,v,x,_,E,y=s[0],b=s[1],v=i,x=o[0],_=o[1],E=o[2],Mi,t);t.point(y,b)}function s(){w.point=i;t.lineEnd()}function a(){r();w.point=l;w.lineEnd=u}function l(e,t){o(c=e,t),f=y,p=b,h=x,d=_,g=E;w.point=o}function u(){n(y,b,v,x,_,E,f,p,c,h,d,g,Mi,t);w.lineEnd=s;s()}var c,f,p,h,d,g,v,y,b,x,_,E,w={point:i,lineStart:r,lineEnd:s,polygonStart:function(){t.polygonStart();w.lineStart=a},polygonEnd:function(){t.polygonEnd();w.lineStart=r}};return w}}function Ve(e){return De({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function We(e){return Ye(function(){return e})()}function Ye(e){function t(e){e=c(e[0]*Qt,e[1]*Qt);return[e[0]*m+a,l-e[1]*m]}function n(e){e=c.invert((e[0]-a)/m,(l-e[1])/m);return e&&[e[0]*Xt,e[1]*Xt]}function i(e,t){return e=s(e,t),[e[0]*m+a,l-e[1]*m]}function r(){c=Sn(u=z(_,E,w),s);var e=s(b,x);a=v-e[0]*m;l=y+e[1]*m;return o()}function o(){d=g=null;return t}var s,a,l,u,c,f,p,h,d,g,m=150,v=480,y=250,b=0,x=0,_=0,E=0,w=0,T=null,S=Vn,C=null,L=ai,N=.5,I=ji(i,N);t.stream=function(e){return d&&g===e?d:d=Bi(Ve(u)(S(I(L(g=e)))))};t.preclip=function(e){return arguments.length?(S=e,T=void 0,o()):S};t.postclip=function(e){
return arguments.length?(L=e,C=f=p=h=null,o()):L};t.clipAngle=function(e){return arguments.length?(S=+e?Wn(T=e*Qt):(T=null,Vn),o()):T*Xt};t.clipExtent=function(e){return arguments.length?(L=null==e?(C=f=p=h=null,ai):ne(C=+e[0][0],f=+e[0][1],p=+e[1][0],h=+e[1][1]),o()):null==C?null:[[C,f],[p,h]]};t.scale=function(e){return arguments.length?(m=+e,r()):m};t.translate=function(e){return arguments.length?(v=+e[0],y=+e[1],r()):[v,y]};t.center=function(e){return arguments.length?(b=e[0]%360*Qt,x=e[1]%360*Qt,r()):[b*Xt,x*Xt]};t.rotate=function(e){return arguments.length?(_=e[0]%360*Qt,E=e[1]%360*Qt,w=e.length>2?e[2]%360*Qt:0,r()):[_*Xt,E*Xt,w*Xt]};t.precision=function(e){return arguments.length?(I=ji(i,N=e*e),o()):cn(N)};t.fitExtent=function(e,n){return qe(t,e,n)};t.fitSize=function(e,n){return Ue(t,e,n)};t.fitWidth=function(e,n){return Fe(t,e,n)};t.fitHeight=function(e,n){return Ge(t,e,n)};return function(){s=e.apply(this,arguments);t.invert=s.invert&&n;return r()}}function Ze(e){var t=0,n=Yt/3,i=Ye(e),r=i(t,n);r.parallels=function(e){return arguments.length?i(t=e[0]*Qt,n=e[1]*Qt):[t*Xt,n*Xt]};return r}function $e(e){function t(e,t){return[e*n,ln(t)/n]}var n=nn(e);t.invert=function(e,t){return[e/n,o(t*n)]};return t}function Ke(e,t){function n(e,t){var n=cn(s-2*r*ln(t))/r;return[n*ln(e*=r),a-n*nn(e)]}var i=ln(e),r=(i+ln(t))/2;if(Jt(r)<Vt)return $e(e);var s=1+i*(2*r-i),a=cn(s)/r;n.invert=function(e,t){var n=a-t;return[tn(e,Jt(n))/r*un(n),o((s-(e*e+n*n)*r*r)/(2*r))]};return n}function Xe(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Qe(e){return function(t,n){var i=nn(t),r=nn(n),o=e(i*r);return[o*r*ln(t),o*ln(n)]}}function Je(e){return function(t,n){var i=cn(t*t+n*n),r=e(i),s=ln(r),a=nn(r);return[tn(t*s,i*a),o(i&&n*s/i)]}}function et(e,t){return[e,sn(fn((Zt+t)/2))]}function tt(e){function t(){var t=Yt*a(),s=o(jn(o.rotate()).invert([0,0]));return u(null==c?[[s[0]-t,s[1]-t],[s[0]+t,s[1]+t]]:e===et?[[Math.max(s[0]-t,c),n],[Math.min(s[0]+t,i),r]]:[[c,Math.max(s[1]-t,n)],[i,Math.min(s[1]+t,r)]])}var n,i,r,o=We(e),s=o.center,a=o.scale,l=o.translate,u=o.clipExtent,c=null;o.scale=function(e){return arguments.length?(a(e),t()):a()};o.translate=function(e){return arguments.length?(l(e),t()):l()};o.center=function(e){return arguments.length?(s(e),t()):s()};o.clipExtent=function(e){return arguments.length?(null==e?c=n=i=r=null:(c=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),t()):null==c?null:[[c,n],[i,r]]};return t()}function nt(e){return fn((Zt+e)/2)}function it(e,t){function n(e,t){o>0?t<-Zt+Vt&&(t=-Zt+Vt):t>Zt-Vt&&(t=Zt-Vt);var n=o/an(nt(t),r);return[n*ln(r*e),o-n*nn(r*e)]}var i=nn(e),r=e===t?ln(e):sn(i/nn(t))/sn(nt(t)/nt(e)),o=i*an(nt(e),r)/r;if(!r)return et;n.invert=function(e,t){var n=o-t,i=un(r)*cn(e*e+n*n);return[tn(e,Jt(n))/r*un(n),2*en(an(o/i,1/r))-Zt]};return n}function rt(e,t){return[e,t]}function ot(e,t){function n(e,t){var n=o-t,i=r*e;return[n*ln(i),o-n*nn(i)]}var i=nn(e),r=e===t?ln(e):(i-nn(t))/(t-e),o=i/r+e;if(Jt(r)<Vt)return rt;n.invert=function(e,t){var n=o-t;return[tn(e,Jt(n))/r*un(n),o-un(r)*cn(e*e+n*n)]};return n}function st(e,t){var n=nn(t),i=nn(e)*n;return[n*ln(e)/i,ln(t)/i]}function at(e,t,n,i){return 1===e&&1===t&&0===n&&0===i?ai:De({point:function(r,o){this.stream.point(r*e+n,o*t+i)}})}function lt(e,t){var n=t*t,i=n*n;return[e*(.8707-.131979*n+i*(-.013791+i*(.003971*n-.001529*i))),t*(1.007226+n*(.015085+i*(-.044475+.028874*n-.005916*i)))]}function ut(e,t){return[nn(t)*ln(e),ln(t)]}function ct(e,t){var n=nn(t),i=1+nn(e)*n;return[n*ln(e)/i,ln(t)/i]}function ft(e,t){return[sn(fn((Zt+t)/2)),-e]}var pt=function(){return new n};n.prototype={constructor:n,reset:function(){this.s=this.t=0},add:function(e){i(Ht,e,this.t);i(this,Ht.s,this.s);this.s?this.t+=Ht.t:this.s=Ht.t},valueOf:function(){return this.s}};var ht,dt,gt,mt,vt,yt,bt,xt,_t,Et,wt,Tt,St,Ct,Lt,Nt,It,At,Rt,Ot,Pt,kt,Mt,Dt,jt,Bt,qt,Ut,Ft,Gt,zt,Ht=new n,Vt=1e-6,Wt=1e-12,Yt=Math.PI,Zt=Yt/2,$t=Yt/4,Kt=2*Yt,Xt=180/Yt,Qt=Yt/180,Jt=Math.abs,en=Math.atan,tn=Math.atan2,nn=Math.cos,rn=Math.ceil,on=Math.exp,sn=Math.log,an=Math.pow,ln=Math.sin,un=Math.sign||function(e){return e>0?1:e<0?-1:0},cn=Math.sqrt,fn=Math.tan,pn={Feature:function(e,t){l(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)l(n[i].geometry,t)}},hn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates;t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){u(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)u(n[i],t,0)},Polygon:function(e,t){c(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)c(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)l(n[i],t)}},dn=function(e,t){e&&pn.hasOwnProperty(e.type)?pn[e.type](e,t):l(e,t)},gn=pt(),mn=pt(),vn={point:a,lineStart:a,lineEnd:a,polygonStart:function(){gn.reset();vn.lineStart=f;vn.lineEnd=p},polygonEnd:function(){var e=+gn;mn.add(e<0?Kt+e:e);this.lineStart=this.lineEnd=this.point=a},sphere:function(){mn.add(Kt)}},yn=function(e){mn.reset();dn(e,vn);return 2*mn},bn=pt(),xn={point:E,lineStart:T,lineEnd:S,polygonStart:function(){xn.point=C;xn.lineStart=L;xn.lineEnd=N;bn.reset();vn.polygonStart()},polygonEnd:function(){vn.polygonEnd();xn.point=E;xn.lineStart=T;xn.lineEnd=S;gn<0?(yt=-(xt=180),bt=-(_t=90)):bn>Vt?_t=90:bn<-Vt&&(bt=-90);Lt[0]=yt,Lt[1]=xt}},_n=function(e){var t,n,i,r,o,s,a;_t=xt=-(yt=bt=1/0);Ct=[];dn(e,xn);if(n=Ct.length){Ct.sort(A);for(t=1,i=Ct[0],o=[i];t<n;++t){r=Ct[t];if(R(i,r[0])||R(i,r[1])){I(i[0],r[1])>I(i[0],i[1])&&(i[1]=r[1]);I(r[0],i[1])>I(i[0],i[1])&&(i[0]=r[0])}else o.push(i=r)}for(s=-(1/0),n=o.length-1,t=0,i=o[n];t<=n;i=r,++t){r=o[t];(a=I(i[1],r[0]))>s&&(s=a,yt=r[0],xt=i[1])}}Ct=Lt=null;return yt===1/0||bt===1/0?[[NaN,NaN],[NaN,NaN]]:[[yt,bt],[xt,_t]]},En={sphere:a,point:O,lineStart:k,lineEnd:j,polygonStart:function(){En.lineStart=B;En.lineEnd=q},polygonEnd:function(){En.lineStart=k;En.lineEnd=j}},wn=function(e){Nt=It=At=Rt=Ot=Pt=kt=Mt=Dt=jt=Bt=0;dn(e,En);var t=Dt,n=jt,i=Bt,r=t*t+n*n+i*i;if(r<Wt){t=Pt,n=kt,i=Mt;It<Vt&&(t=At,n=Rt,i=Ot);r=t*t+n*n+i*i;if(r<Wt)return[NaN,NaN]}return[tn(n,t)*Xt,o(i/cn(r))*Xt]},Tn=function(e){return function(){return e}},Sn=function(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}e.invert&&t.invert&&(n.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])});return n};G.invert=G;var Cn,Ln,Nn,In,An,Rn,On,Pn,kn,Mn,Dn,jn=function(e){function t(t){t=e(t[0]*Qt,t[1]*Qt);return t[0]*=Xt,t[1]*=Xt,t}e=z(e[0]*Qt,e[1]*Qt,e.length>2?e[2]*Qt:0);t.invert=function(t){t=e.invert(t[0]*Qt,t[1]*Qt);return t[0]*=Xt,t[1]*=Xt,t};return t},Bn=function(){function e(e,t){n.push(e=i(e,t));e[0]*=Xt,e[1]*=Xt}function t(){var e=r.apply(this,arguments),t=o.apply(this,arguments)*Qt,l=s.apply(this,arguments)*Qt;n=[];i=z(-e[0]*Qt,-e[1]*Qt,0).invert;Y(a,t,l,1);e={type:"Polygon",coordinates:[n]};n=i=null;return e}var n,i,r=Tn([0,0]),o=Tn(90),s=Tn(6),a={point:e};t.center=function(e){return arguments.length?(r="function"==typeof e?e:Tn([+e[0],+e[1]]),t):r};t.radius=function(e){return arguments.length?(o="function"==typeof e?e:Tn(+e),t):o};t.precision=function(e){return arguments.length?(s="function"==typeof e?e:Tn(+e),t):s};return t},qn=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:a,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;t=[];e=null;return n}}},Un=function(e,t){return Jt(e[0]-t[0])<Vt&&Jt(e[1]-t[1])<Vt},Fn=function(e,t,n,i,r){var o,s,a=[],l=[];e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],s=e[t];if(Un(i,s)){r.lineStart();for(o=0;o<t;++o)r.point((i=e[o])[0],i[1]);r.lineEnd()}else{a.push(n=new $(i,e,null,(!0)));l.push(n.o=new $(i,null,n,(!1)));a.push(n=new $(s,e,null,(!1)));l.push(n.o=new $(s,null,n,(!0)))}}});if(a.length){l.sort(t);K(a);K(l);for(o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var u,c,f=a[0];;){for(var p=f,h=!0;p.v;)if((p=p.n)===f)return;u=p.z;r.lineStart();do{p.v=p.o.v=!0;if(p.e){if(h)for(o=0,s=u.length;o<s;++o)r.point((c=u[o])[0],c[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(h){u=p.p.z;for(o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1])}else i(p.x,p.p.x,-1,r);p=p.p}p=p.o;u=p.z;h=!h}while(!p.v);r.lineEnd()}}},Gn=pt(),zn=function(e,t){var n=t[0],i=t[1],r=[ln(n),-nn(n),0],s=0,a=0;Gn.reset();for(var l=0,u=e.length;l<u;++l)if(f=(c=e[l]).length)for(var c,f,p=c[f-1],h=p[0],d=p[1]/2+$t,g=ln(d),v=nn(d),b=0;b<f;++b,h=E,g=T,v=S,p=x){var x=c[b],E=x[0],w=x[1]/2+$t,T=ln(w),S=nn(w),C=E-h,L=C>=0?1:-1,N=L*C,I=N>Yt,A=g*T;Gn.add(tn(A*L*ln(N),v*S+A*nn(N)));s+=I?C+L*Kt:C;if(I^h>=n^E>=n){var R=y(m(p),m(x));_(R);var O=y(r,R);_(O);var P=(I^C>=0?-1:1)*o(O[2]);(i>P||i===P&&(R[0]||R[1]))&&(a+=I^C>=0?1:-1)}}return(s<-Vt||s<Vt&&Gn<-Vt)^1&a},Hn=function(e,n,i,r){return function(o){function s(t,n){e(t,n)&&o.point(t,n)}function a(e,t){m.point(e,t)}function l(){x.point=a;m.lineStart()}function u(){x.point=s;m.lineEnd()}function c(e,t){g.push([e,t]);y.point(e,t)}function f(){y.lineStart();g=[]}function p(){c(g[0][0],g[0][1]);y.lineEnd();var e,t,n,i,r=y.clean(),s=v.result(),a=s.length;g.pop();h.push(g);g=null;if(a)if(1&r){n=s[0];if((t=n.length-1)>0){b||(o.polygonStart(),b=!0);o.lineStart();for(e=0;e<t;++e)o.point((i=n[e])[0],i[1]);o.lineEnd()}}else{a>1&&2&r&&s.push(s.pop().concat(s.shift()));d.push(s.filter(X))}}var h,d,g,m=n(o),v=qn(),y=n(v),b=!1,x={point:s,lineStart:l,lineEnd:u,polygonStart:function(){x.point=c;x.lineStart=f;x.lineEnd=p;d=[];h=[]},polygonEnd:function(){x.point=s;x.lineStart=l;x.lineEnd=u;d=t.merge(d);var e=zn(h,r);if(d.length){b||(o.polygonStart(),b=!0);Fn(d,Q,e,i,o)}else if(e){b||(o.polygonStart(),b=!0);o.lineStart();i(null,null,1,o);o.lineEnd()}b&&(o.polygonEnd(),b=!1);d=h=null},sphere:function(){o.polygonStart();o.lineStart();i(null,null,1,o);o.lineEnd();o.polygonEnd()}};return x}},Vn=Hn(function(){return!0},J,te,[-Yt,-Zt]),Wn=function(e){function t(t,n,i,r){Y(r,e,a,i,t,n)}function n(e,t){return nn(e)*nn(t)>s}function i(e){var t,i,s,a,c;return{lineStart:function(){a=s=!1;c=1},point:function(f,p){var h,d=[f,p],g=n(f,p),m=l?g?0:o(f,p):g?o(f+(f<0?Yt:-Yt),p):0;!t&&(a=s=g)&&e.lineStart();if(g!==s){h=r(t,d);if(!h||Un(t,h)||Un(d,h)){d[0]+=Vt;d[1]+=Vt;g=n(d[0],d[1])}}if(g!==s){c=0;if(g){e.lineStart();h=r(d,t);e.point(h[0],h[1])}else{h=r(t,d);e.point(h[0],h[1]);e.lineEnd()}t=h}else if(u&&t&&l^g){var v;if(!(m&i)&&(v=r(d,t,!0))){c=0;if(l){e.lineStart();e.point(v[0][0],v[0][1]);e.point(v[1][0],v[1][1]);e.lineEnd()}else{e.point(v[1][0],v[1][1]);e.lineEnd();e.lineStart();e.point(v[0][0],v[0][1])}}}!g||t&&Un(t,d)||e.point(d[0],d[1]);t=d,s=g,i=m},lineEnd:function(){s&&e.lineEnd();t=null},clean:function(){return c|(a&&s)<<1}}}function r(e,t,n){var i=m(e),r=m(t),o=[1,0,0],a=y(i,r),l=v(a,a),u=a[0],c=l-u*u;if(!c)return!n&&e;var f=s*l/c,p=-s*u/c,h=y(o,a),d=x(o,f),_=x(a,p);b(d,_);var E=h,w=v(d,E),T=v(E,E),S=w*w-T*(v(d,d)-1);if(!(S<0)){var C=cn(S),L=x(E,(-w-C)/T);b(L,d);L=g(L);if(!n)return L;var N,I=e[0],A=t[0],R=e[1],O=t[1];A<I&&(N=I,I=A,A=N);var P=A-I,k=Jt(P-Yt)<Vt,M=k||P<Vt;!k&&O<R&&(N=R,R=O,O=N);if(M?k?R+O>0^L[1]<(Jt(L[0]-I)<Vt?R:O):R<=L[1]&&L[1]<=O:P>Yt^(I<=L[0]&&L[0]<=A)){var D=x(E,(-w+C)/T);b(D,d);return[L,g(D)]}}}function o(t,n){var i=l?e:Yt-e,r=0;t<-i?r|=1:t>i&&(r|=2);n<-i?r|=4:n>i&&(r|=8);return r}var s=nn(e),a=6*Qt,l=s>0,u=Jt(s)>Vt;return Hn(n,i,t,l?[0,-e]:[-Yt,e-Yt])},Yn=function(e,t,n,i,r,o){var s,a=e[0],l=e[1],u=t[0],c=t[1],f=0,p=1,h=u-a,d=c-l;s=n-a;if(h||!(s>0)){s/=h;if(h<0){if(s<f)return;s<p&&(p=s)}else if(h>0){if(s>p)return;s>f&&(f=s)}s=r-a;if(h||!(s<0)){s/=h;if(h<0){if(s>p)return;s>f&&(f=s)}else if(h>0){if(s<f)return;s<p&&(p=s)}s=i-l;if(d||!(s>0)){s/=d;if(d<0){if(s<f)return;s<p&&(p=s)}else if(d>0){if(s>p)return;s>f&&(f=s)}s=o-l;if(d||!(s<0)){s/=d;if(d<0){if(s>p)return;s>f&&(f=s)}else if(d>0){if(s<f)return;s<p&&(p=s)}f>0&&(e[0]=a+f*h,e[1]=l+f*d);p<1&&(t[0]=a+p*h,t[1]=l+p*d);return!0}}}}},Zn=1e9,$n=-Zn,Kn=function(){var e,t,n,i=0,r=0,o=960,s=500;return n={stream:function(n){return e&&t===n?e:e=ne(i,r,o,s)(t=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],o=+a[1][0],s=+a[1][1],e=t=null,n):[[i,r],[o,s]]}}},Xn=pt(),Qn={sphere:a,point:a,lineStart:ie,lineEnd:a,polygonStart:a,polygonEnd:a},Jn=function(e){Xn.reset();dn(e,Qn);return+Xn},ei=[null,null],ti={type:"LineString",coordinates:ei},ni=function(e,t){ei[0]=e;ei[1]=t;return Jn(ti)},ii={Feature:function(e,t){return ae(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)if(ae(n[i].geometry,t))return!0;return!1}},ri={Sphere:function(){return!0},Point:function(e,t){return le(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(le(n[i],t))return!0;return!1},LineString:function(e,t){return ue(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(ue(n[i],t))return!0;return!1},Polygon:function(e,t){return ce(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(ce(n[i],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)if(ae(n[i],t))return!0;return!1}},oi=function(e,t){return(e&&ii.hasOwnProperty(e.type)?ii[e.type]:ae)(e,t)},si=function(e,t){var n=e[0]*Qt,i=e[1]*Qt,r=t[0]*Qt,a=t[1]*Qt,l=nn(i),u=ln(i),c=nn(a),f=ln(a),p=l*nn(n),h=l*ln(n),d=c*nn(r),g=c*ln(r),m=2*o(cn(s(a-i)+l*c*s(r-n))),v=ln(m),y=m?function(e){var t=ln(e*=m)/v,n=ln(m-e)/v,i=n*p+t*d,r=n*h+t*g,o=n*u+t*f;return[tn(r,i)*Xt,tn(o,cn(i*i+r*r))*Xt]}:function(){return[n*Xt,i*Xt]};y.distance=m;return y},ai=function(e){return e},li=pt(),ui=pt(),ci={point:a,lineStart:a,lineEnd:a,polygonStart:function(){ci.lineStart=ve;ci.lineEnd=xe},polygonEnd:function(){ci.lineStart=ci.lineEnd=ci.point=a;li.add(Jt(ui));ui.reset()},result:function(){var e=li/2;li.reset();return e}},fi=1/0,pi=fi,hi=-fi,di=hi,gi={point:_e,lineStart:a,lineEnd:a,polygonStart:a,polygonEnd:a,result:function(){var e=[[fi,pi],[hi,di]];hi=di=-(pi=fi=1/0);return e}},mi=0,vi=0,yi=0,bi=0,xi=0,_i=0,Ei=0,wi=0,Ti=0,Si={point:Ee,lineStart:we,lineEnd:Ce,polygonStart:function(){Si.lineStart=Le;Si.lineEnd=Ne},polygonEnd:function(){Si.point=Ee;Si.lineStart=we;Si.lineEnd=Ce},result:function(){var e=Ti?[Ei/Ti,wi/Ti]:_i?[bi/_i,xi/_i]:yi?[mi/yi,vi/yi]:[NaN,NaN];mi=vi=yi=bi=xi=_i=Ei=wi=Ti=0;return e}};Re.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t);this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t);this._context.arc(e,t,this._radius,0,Kt)}},result:a};var Ci,Li,Ni,Ii,Ai,Ri=pt(),Oi={point:a,lineStart:function(){Oi.point=Oe},lineEnd:function(){Ci&&Pe(Li,Ni);Oi.point=a},polygonStart:function(){Ci=!0},polygonEnd:function(){Ci=null},result:function(){var e=+Ri;Ri.reset();return e}};ke.prototype={_radius:4.5,_circle:Me(4.5),pointRadius:function(e){(e=+e)!==this._radius&&(this._radius=e,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t);this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Me(this._radius));this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");this._string=[];return e}return null}};var Pi=function(e,t){function n(e){if(e){"function"==typeof o&&r.pointRadius(+o.apply(this,arguments));dn(e,i(r))}return r.result()}var i,r,o=4.5;n.area=function(e){dn(e,i(ci));return ci.result()};n.measure=function(e){dn(e,i(Oi));return Oi.result()};n.bounds=function(e){dn(e,i(gi));return gi.result()};n.centroid=function(e){dn(e,i(Si));return Si.result()};n.projection=function(t){return arguments.length?(i=null==t?(e=null,ai):(e=t).stream,n):e};n.context=function(e){if(!arguments.length)return t;r=null==e?(t=null,new ke):new Re(t=e);"function"!=typeof o&&r.pointRadius(o);return n};n.pointRadius=function(e){if(!arguments.length)return o;o="function"==typeof e?e:(r.pointRadius(+e),+e);return n};return n.projection(e).context(t)},ki=function(e){return{stream:De(e)}};je.prototype={constructor:je,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Mi=16,Di=nn(30*Qt),ji=function(e,t){return+t?He(e,t):ze(e)},Bi=De({point:function(e,t){this.stream.point(e*Qt,t*Qt)}}),qi=function(){return Ze(Ke).scale(155.424).center([0,33.6442])},Ui=function(){return qi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Fi=function(){function e(e){var t=e[0],n=e[1];return a=null,(r.point(t,n),a)||(o.point(t,n),a)||(s.point(t,n),a)}function t(){n=i=null;return e}var n,i,r,o,s,a,l=Ui(),u=qi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=qi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(e,t){a=[e,t]}};e.invert=function(e){var t=l.scale(),n=l.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?u:r>=.166&&r<.234&&i>=-.214&&i<-.115?c:l).invert(e)};e.stream=function(e){return n&&i===e?n:n=Xe([l.stream(i=e),u.stream(e),c.stream(e)])};e.precision=function(e){if(!arguments.length)return l.precision();l.precision(e),u.precision(e),c.precision(e);return t()};e.scale=function(t){if(!arguments.length)return l.scale();l.scale(t),u.scale(.35*t),c.scale(t);return e.translate(l.translate())};e.translate=function(e){if(!arguments.length)return l.translate();var n=l.scale(),i=+e[0],a=+e[1];r=l.translate(e).clipExtent([[i-.455*n,a-.238*n],[i+.455*n,a+.238*n]]).stream(f);o=u.translate([i-.307*n,a+.201*n]).clipExtent([[i-.425*n+Vt,a+.12*n+Vt],[i-.214*n-Vt,a+.234*n-Vt]]).stream(f);s=c.translate([i-.205*n,a+.212*n]).clipExtent([[i-.214*n+Vt,a+.166*n+Vt],[i-.115*n-Vt,a+.234*n-Vt]]).stream(f);return t()};e.fitExtent=function(t,n){return qe(e,t,n)};e.fitSize=function(t,n){return Ue(e,t,n)};e.fitWidth=function(t,n){return Fe(e,t,n)};e.fitHeight=function(t,n){return Ge(e,t,n)};return e.scale(1070)},Gi=Qe(function(e){return cn(2/(1+e))});Gi.invert=Je(function(e){return 2*o(e/2)});var zi=function(){return We(Gi).scale(124.75).clipAngle(179.999)},Hi=Qe(function(e){return(e=r(e))&&e/ln(e)});Hi.invert=Je(function(e){return e});var Vi=function(){return We(Hi).scale(79.4188).clipAngle(179.999)};et.invert=function(e,t){return[e,2*en(on(t))-Zt]};var Wi=function(){return tt(et).scale(961/Kt)},Yi=function(){return Ze(it).scale(109.5).parallels([30,30])};rt.invert=rt;var Zi=function(){return We(rt).scale(152.63)},$i=function(){return Ze(ot).scale(131.154).center([0,13.9389])};st.invert=Je(en);var Ki=function(){return We(st).scale(144.049).clipAngle(60)},Xi=function(){function e(){r=o=null;return s}var t,n,i,r,o,s,a=1,l=0,u=0,c=1,f=1,p=ai,h=null,d=ai;return s={stream:function(e){return r&&o===e?r:r=p(d(o=e))},postclip:function(r){return arguments.length?(d=r,h=t=n=i=null,e()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=i=null,ai):ne(h=+r[0][0],t=+r[0][1],n=+r[1][0],i=+r[1][1]),e()):null==h?null:[[h,t],[n,i]]},scale:function(t){return arguments.length?(p=at((a=+t)*c,a*f,l,u),e()):a},translate:function(t){return arguments.length?(p=at(a*c,a*f,l=+t[0],u=+t[1]),e()):[l,u]},reflectX:function(t){return arguments.length?(p=at(a*(c=t?-1:1),a*f,l,u),e()):c<0},reflectY:function(t){return arguments.length?(p=at(a*c,a*(f=t?-1:1),l,u),e()):f<0},fitExtent:function(e,t){return qe(s,e,t)},fitSize:function(e,t){return Ue(s,e,t)},fitWidth:function(e,t){return Fe(s,e,t)},fitHeight:function(e,t){return Ge(s,e,t)}}};lt.invert=function(e,t){var n,i=t,r=25;do{var o=i*i,s=o*o;i-=n=(i*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.045255+s*(-.311325+.259866*o-.005916*11*s)))}while(Jt(n)>Vt&&--r>0);return[e/(.8707+(o=i*i)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),i]};var Qi=function(){return We(lt).scale(175.295)};ut.invert=Je(o);var Ji=function(){return We(ut).scale(249.5).clipAngle(90+Vt)};ct.invert=Je(function(e){return 2*en(e)});var er=function(){return We(ct).scale(250).clipAngle(142)};ft.invert=function(e,t){return[-t,2*en(on(e))-Zt]};var tr=function(){var e=tt(ft),t=e.center,n=e.rotate;e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])};e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])};return n([0,0,90]).scale(159.155)};e.geoArea=yn;e.geoBounds=_n;e.geoCentroid=wn;e.geoCircle=Bn;e.geoClipAntimeridian=Vn;e.geoClipCircle=Wn;e.geoClipExtent=Kn;e.geoClipRectangle=ne;e.geoContains=oi;e.geoDistance=ni;e.geoGraticule=ge;e.geoGraticule10=me;e.geoInterpolate=si;e.geoLength=Jn;e.geoPath=Pi;e.geoAlbers=Ui;e.geoAlbersUsa=Fi;e.geoAzimuthalEqualArea=zi;e.geoAzimuthalEqualAreaRaw=Gi;e.geoAzimuthalEquidistant=Vi;e.geoAzimuthalEquidistantRaw=Hi;e.geoConicConformal=Yi;e.geoConicConformalRaw=it;e.geoConicEqualArea=qi;e.geoConicEqualAreaRaw=Ke;e.geoConicEquidistant=$i;e.geoConicEquidistantRaw=ot;e.geoEquirectangular=Zi;e.geoEquirectangularRaw=rt;e.geoGnomonic=Ki;e.geoGnomonicRaw=st;e.geoIdentity=Xi;e.geoProjection=We;e.geoProjectionMutator=Ye;e.geoMercator=Wi;e.geoMercatorRaw=et;e.geoNaturalEarth1=Qi;e.geoNaturalEarth1Raw=lt;e.geoOrthographic=Ji;e.geoOrthographicRaw=ut;e.geoStereographic=er;e.geoStereographicRaw=ct;e.geoTransverseMercator=tr;e.geoTransverseMercatorRaw=ft;e.geoRotation=jn;e.geoStream=dn;e.geoTransform=ki;Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-array":30}],43:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e,t){return e.parent===t.parent?1:2}function n(e){return e.reduce(i,0)/e.length}function i(e,t){return e+t.x}function r(e){return 1+e.reduce(o,0)}function o(e,t){return Math.max(e,t.y)}function s(e){for(var t;t=e.children;)e=t[0];return e}function a(e){for(var t;t=e.children;)e=t[t.length-1];return e}function l(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}function u(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;e=n.pop();t=i.pop();for(;e===t;){r=e;e=n.pop();t=i.pop()}return r}function c(e,t){var n,i,r,o,s,a=new g(e),l=+e.value&&(a.value=e.value),u=[a];null==t&&(t=p);for(;n=u.pop();){l&&(n.value=+n.data.value);if((r=t(n.data))&&(s=r.length)){n.children=new Array(s);for(o=s-1;o>=0;--o){u.push(i=n.children[o]=new g(r[o]));i.parent=n;i.depth=n.depth+1}}}return a.eachBefore(d)}function f(){return c(this).eachBefore(h)}function p(e){return e.children}function h(e){e.data=e.data.data}function d(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function g(e){this.data=e;this.depth=this.height=0;this.parent=null}function m(e){for(var t,n,i=e.length;i;){n=Math.random()*i--|0;t=e[i];e[i]=e[n];e[n]=t}return e}function v(e,t){var n,i;if(x(t,e))return[t];for(n=0;n<e.length;++n)if(y(t,e[n])&&x(w(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(i=n+1;i<e.length;++i)if(y(w(e[n],e[i]),t)&&y(w(e[n],t),e[i])&&y(w(e[i],t),e[n])&&x(T(e[n],e[i],t),e))return[e[n],e[i],t];throw new Error}function y(e,t){var n=e.r-t.r,i=t.x-e.x,r=t.y-e.y;return n<0||n*n<i*i+r*r}function b(e,t){var n=e.r-t.r+1e-6,i=t.x-e.x,r=t.y-e.y;return n>0&&n*n>i*i+r*r}function x(e,t){for(var n=0;n<t.length;++n)if(!b(e,t[n]))return!1;return!0}function _(e){switch(e.length){case 1:return E(e[0]);case 2:return w(e[0],e[1]);case 3:return T(e[0],e[1],e[2])}}function E(e){return{x:e.x,y:e.y,r:e.r}}function w(e,t){var n=e.x,i=e.y,r=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-i,c=a-r,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(i+s+u/f*c)/2,r:(f+r+a)/2}}function T(e,t,n){var i=e.x,r=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,f=n.r,p=i-s,h=i-u,d=r-a,g=r-c,m=l-o,v=f-o,y=i*i+r*r-o*o,b=y-s*s-a*a+l*l,x=y-u*u-c*c+f*f,_=h*d-p*g,E=(d*x-g*b)/(2*_)-i,w=(g*m-d*v)/_,T=(h*b-p*x)/(2*_)-r,S=(p*v-h*m)/_,C=w*w+S*S-1,L=2*(o+E*w+T*S),N=E*E+T*T-o*o,I=-(C?(L+Math.sqrt(L*L-4*C*N))/(2*C):N/L);return{x:i+E+w*I,y:r+T+S*I,r:I}}function S(e,t,n){var i=e.x,r=e.y,o=t.r+n.r,s=e.r+n.r,a=t.x-i,l=t.y-r,u=a*a+l*l;if(u){var c=.5+((s*=s)-(o*=o))/(2*u),f=Math.sqrt(Math.max(0,2*o*(s+u)-(s-=u)*s-o*o))/(2*u);n.x=i+c*a+f*l;n.y=r+c*l-f*a}else{n.x=i+s;n.y=r}}function C(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return r*r-1e-6>n*n+i*i}function L(e){var t=e._,n=e.next._,i=t.r+n.r,r=(t.x*n.r+n.x*t.r)/i,o=(t.y*n.r+n.y*t.r)/i;return r*r+o*o}function N(e){this._=e;this.next=null;this.previous=null}function I(e){if(!(r=e.length))return 0;var t,n,i,r,o,s,a,l,u,c,f;t=e[0],t.x=0,t.y=0;if(!(r>1))return t.r;n=e[1],t.x=-n.r,n.x=t.r,n.y=0;if(!(r>2))return t.r+n.r;S(n,t,i=e[2]);t=new N(t),n=new N(n),i=new N(i);t.next=i.previous=n;n.next=t.previous=i;i.next=n.previous=t;e:for(a=3;a<r;++a){S(t._,n._,i=e[a]),i=new N(i);l=n.next,u=t.previous,c=n._.r,f=t._.r;do if(c<=f){if(C(l._,i._)){n=l,t.next=n,n.previous=t,--a;continue e}c+=l._.r,l=l.next}else{if(C(u._,i._)){t=u,t.next=n,n.previous=t,--a;continue e}f+=u._.r,u=u.previous}while(l!==u.next);i.previous=t,i.next=n,t.next=n.previous=n=i;o=L(t);for(;(i=i.next)!==n;)(s=L(i))<o&&(t=i,o=s);n=t.next}t=[n._],i=n;for(;(i=i.next)!==n;)t.push(i._);i=ae(t);for(a=0;a<r;++a)t=e[a],t.x-=i.x,t.y-=i.y;return i.r}function A(e){return null==e?null:R(e)}function R(e){if("function"!=typeof e)throw new Error;return e}function O(){return 0}function P(e){return Math.sqrt(e.value)}function k(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function M(e,t){return function(n){if(i=n.children){var i,r,o,s=i.length,a=e(n)*t||0;if(a)for(r=0;r<s;++r)i[r].r+=a;o=I(i);if(a)for(r=0;r<s;++r)i[r].r-=a;n.r=o+a}}}function D(e){return function(t){var n=t.parent;t.r*=e;if(n){t.x=n.x+e*t.x;t.y=n.y+e*t.y}}}function j(e){return e.id}function B(e){return e.parentId}function q(e,t){return e.parent===t.parent?1:2}function U(e){var t=e.children;return t?t[0]:e.t}function F(e){var t=e.children;return t?t[t.length-1]:e.t}function G(e,t,n){var i=n/(t.i-e.i);t.c-=i;t.s+=n;e.c+=i;t.z+=n;t.m+=n}function z(e){for(var t,n=0,i=0,r=e.children,o=r.length;--o>=0;){t=r[o];t.z+=n;t.m+=n;n+=t.s+(i+=t.c)}}function H(e,t,n){return e.a.parent===t.parent?e.a:n}function V(e,t){this._=e;this.parent=null;this.children=null;this.A=null;this.a=this;this.z=0;this.m=0;this.c=0;this.s=0;this.t=null;this.i=t}function W(e){for(var t,n,i,r,o,s=new V(e,0),a=[s];t=a.pop();)if(i=t._.children){t.children=new Array(o=i.length);for(r=o-1;r>=0;--r){a.push(n=t.children[r]=new V(i[r],r));n.parent=t}}(s.parent=new V(null,0)).children=[s];return s}function Y(e,t,n,i,r,o){for(var s,a,l,u,c,f,p,h,d,g,m,v=[],y=t.children,b=0,x=0,_=y.length,E=t.value;b<_;){l=r-n,u=o-i;do c=y[x++].value;while(!c&&x<_);f=p=c;g=Math.max(u/l,l/u)/(E*e);m=c*c*g;d=Math.max(p/m,m/f);for(;x<_;++x){c+=a=y[x].value;a<f&&(f=a);a>p&&(p=a);m=c*c*g;h=Math.max(p/m,m/f);if(h>d){c-=a;break}d=h}v.push(s={value:c,dice:l<u,children:y.slice(b,x)});s.dice?pe(s,n,i,r,E?i+=u*c/E:o):be(s,n,i,E?n+=l*c/E:r,o);E-=c,b=x}return v}var Z=function(){function e(e){var t,c=0;e.eachAfter(function(e){var o=e.children;if(o){e.x=n(o);e.y=r(o)}else{e.x=t?c+=i(e,t):0;e.y=0;t=e}});var f=s(e),p=a(e),h=f.x-i(f,p)/2,d=p.x+i(p,f)/2;return e.eachAfter(u?function(t){t.x=(t.x-e.x)*o;t.y=(e.y-t.y)*l}:function(t){t.x=(t.x-h)/(d-h)*o;t.y=(1-(e.y?t.y/e.y:1))*l})}var i=t,o=1,l=1,u=!1;e.separation=function(t){return arguments.length?(i=t,e):i};e.size=function(t){return arguments.length?(u=!1,o=+t[0],l=+t[1],e):u?null:[o,l]};e.nodeSize=function(t){return arguments.length?(u=!0,o=+t[0],l=+t[1],e):u?[o,l]:null};return e},$=function(){return this.eachAfter(l)},K=function(e){var t,n,i,r,o=this,s=[o];do{t=s.reverse(),s=[];for(;o=t.pop();){e(o),n=o.children;if(n)for(i=0,r=n.length;i<r;++i)s.push(n[i])}}while(s.length);return this},X=function(e){for(var t,n,i=this,r=[i];i=r.pop();){e(i),t=i.children;if(t)for(n=t.length-1;n>=0;--n)r.push(t[n])}return this},Q=function(e){for(var t,n,i,r=this,o=[r],s=[];r=o.pop();){s.push(r),t=r.children;if(t)for(n=0,i=t.length;n<i;++n)o.push(t[n])}for(;r=s.pop();)e(r);return this},J=function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n})},ee=function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},te=function(e){for(var t=this,n=u(t,e),i=[t];t!==n;){t=t.parent;i.push(t)}for(var r=i.length;e!==n;){i.splice(r,0,e);e=e.parent}return i},ne=function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},ie=function(){var e=[];this.each(function(t){e.push(t)});return e},re=function(){var e=[];this.eachBefore(function(t){t.children||e.push(t)});return e},oe=function(){var e=this,t=[];e.each(function(n){n!==e&&t.push({source:n.parent,target:n})});return t};g.prototype=c.prototype={constructor:g,count:$,each:K,eachAfter:Q,eachBefore:X,sum:J,sort:ee,path:te,ancestors:ne,descendants:ie,leaves:re,links:oe,copy:f};var se=Array.prototype.slice,ae=function(e){for(var t,n,i=0,r=(e=m(se.call(e))).length,o=[];i<r;){t=e[i];n&&b(n,t)?++i:(n=_(o=v(o,t)),i=0)}return n},le=function(e){I(e);return e},ue=function(e){return function(){return e}},ce=function(){function e(e){e.x=n/2,e.y=i/2;t?e.eachBefore(k(t)).eachAfter(M(r,.5)).eachBefore(D(1)):e.eachBefore(k(P)).eachAfter(M(O,1)).eachAfter(M(r,e.r/Math.min(n,i))).eachBefore(D(Math.min(n,i)/(2*e.r)));return e}var t=null,n=1,i=1,r=O;e.radius=function(n){return arguments.length?(t=A(n),e):t};e.size=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]};e.padding=function(t){return arguments.length?(r="function"==typeof t?t:ue(+t),e):r};return e},fe=function(e){e.x0=Math.round(e.x0);e.y0=Math.round(e.y0);e.x1=Math.round(e.x1);e.y1=Math.round(e.y1)},pe=function(e,t,n,i,r){for(var o,s=e.children,a=-1,l=s.length,u=e.value&&(i-t)/e.value;++a<l;){o=s[a],o.y0=n,o.y1=r;o.x0=t,o.x1=t+=o.value*u}},he=function(){function e(e){var s=e.height+1;e.x0=e.y0=r;e.x1=n;e.y1=i/s;e.eachBefore(t(i,s));o&&e.eachBefore(fe);return e}function t(e,t){return function(n){n.children&&pe(n,n.x0,e*(n.depth+1)/t,n.x1,e*(n.depth+2)/t);var i=n.x0,o=n.y0,s=n.x1-r,a=n.y1-r;s<i&&(i=s=(i+s)/2);a<o&&(o=a=(o+a)/2);n.x0=i;n.y0=o;n.x1=s;n.y1=a}}var n=1,i=1,r=0,o=!1;e.round=function(t){return arguments.length?(o=!!t,e):o};e.size=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]};e.padding=function(t){return arguments.length?(r=+t,e):r};return e},de="$",ge={depth:-1},me={},ve=function(){function e(e){var i,r,o,s,a,l,u,c=e.length,f=new Array(c),p={};for(r=0;r<c;++r){i=e[r],a=f[r]=new g(i);if(null!=(l=t(i,r,e))&&(l+="")){u=de+(a.id=l);p[u]=u in p?me:a}}for(r=0;r<c;++r){a=f[r],l=n(e[r],r,e);if(null!=l&&(l+="")){s=p[de+l];if(!s)throw new Error("missing: "+l);if(s===me)throw new Error("ambiguous: "+l);s.children?s.children.push(a):s.children=[a];a.parent=s}else{if(o)throw new Error("multiple roots");o=a}}if(!o)throw new Error("no root");o.parent=ge;o.eachBefore(function(e){e.depth=e.parent.depth+1;--c}).eachBefore(d);o.parent=null;if(c>0)throw new Error("cycle");return o}var t=j,n=B;e.id=function(n){return arguments.length?(t=R(n),
e):t};e.parentId=function(t){return arguments.length?(n=R(t),e):n};return e};V.prototype=Object.create(g.prototype);var ye=function(){function e(e){var i=W(e);i.eachAfter(t),i.parent.m=-i.z;i.eachBefore(n);if(l)e.eachBefore(r);else{var u=e,c=e,f=e;e.eachBefore(function(e){e.x<u.x&&(u=e);e.x>c.x&&(c=e);e.depth>f.depth&&(f=e)});var p=u===c?1:o(u,c)/2,h=p-u.x,d=s/(c.x+p+h),g=a/(f.depth||1);e.eachBefore(function(e){e.x=(e.x+h)*d;e.y=e.depth*g})}return e}function t(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t){z(e);var s=(t[0].z+t[t.length-1].z)/2;if(r){e.z=r.z+o(e._,r._);e.m=e.z-s}else e.z=s}else r&&(e.z=r.z+o(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function n(e){e._.x=e.z+e.parent.m;e.m+=e.parent.m}function i(e,t,n){if(t){for(var i,r=e,s=e,a=t,l=r.parent.children[0],u=r.m,c=s.m,f=a.m,p=l.m;a=F(a),r=U(r),a&&r;){l=U(l);s=F(s);s.a=e;i=a.z+f-r.z-u+o(a._,r._);if(i>0){G(H(a,e,n),e,i);u+=i;c+=i}f+=a.m;u+=r.m;p+=l.m;c+=s.m}if(a&&!F(s)){s.t=a;s.m+=f-c}if(r&&!U(l)){l.t=r;l.m+=u-p;n=e}}return n}function r(e){e.x*=s;e.y=e.depth*a}var o=q,s=1,a=1,l=null;e.separation=function(t){return arguments.length?(o=t,e):o};e.size=function(t){return arguments.length?(l=!1,s=+t[0],a=+t[1],e):l?null:[s,a]};e.nodeSize=function(t){return arguments.length?(l=!0,s=+t[0],a=+t[1],e):l?[s,a]:null};return e},be=function(e,t,n,i,r){for(var o,s=e.children,a=-1,l=s.length,u=e.value&&(r-n)/e.value;++a<l;){o=s[a],o.x0=t,o.x1=i;o.y0=n,o.y1=n+=o.value*u}},xe=(1+Math.sqrt(5))/2,_e=function Ce(e){function t(t,n,i,r,o){Y(e,t,n,i,r,o)}t.ratio=function(e){return Ce((e=+e)>1?e:1)};return t}(xe),Ee=function(){function e(e){e.x0=e.y0=0;e.x1=r;e.y1=o;e.eachBefore(t);s=[0];i&&e.eachBefore(fe);return e}function t(e){var t=s[e.depth],i=e.x0+t,r=e.y0+t,o=e.x1-t,p=e.y1-t;o<i&&(i=o=(i+o)/2);p<r&&(r=p=(r+p)/2);e.x0=i;e.y0=r;e.x1=o;e.y1=p;if(e.children){t=s[e.depth+1]=a(e)/2;i+=f(e)-t;r+=l(e)-t;o-=u(e)-t;p-=c(e)-t;o<i&&(i=o=(i+o)/2);p<r&&(r=p=(r+p)/2);n(e,i,r,o,p)}}var n=_e,i=!1,r=1,o=1,s=[0],a=O,l=O,u=O,c=O,f=O;e.round=function(t){return arguments.length?(i=!!t,e):i};e.size=function(t){return arguments.length?(r=+t[0],o=+t[1],e):[r,o]};e.tile=function(t){return arguments.length?(n=R(t),e):n};e.padding=function(t){return arguments.length?e.paddingInner(t).paddingOuter(t):e.paddingInner()};e.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:ue(+t),e):a};e.paddingOuter=function(t){return arguments.length?e.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):e.paddingTop()};e.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:ue(+t),e):l};e.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:ue(+t),e):u};e.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:ue(+t),e):c};e.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:ue(+t),e):f};return e},we=function(e,t,n,i,r){function o(e,t,n,i,r,s,a){if(e>=t-1){var u=l[e];u.x0=i,u.y0=r;u.x1=s,u.y1=a}else{for(var f=c[e],p=n/2+f,h=e+1,d=t-1;h<d;){var g=h+d>>>1;c[g]<p?h=g+1:d=g}p-c[h-1]<c[h]-p&&e+1<h&&--h;var m=c[h]-f,v=n-m;if(s-i>a-r){var y=(i*v+s*m)/n;o(e,h,m,i,r,y,a);o(h,t,v,y,r,s,a)}else{var b=(r*v+a*m)/n;o(e,h,m,i,r,s,b);o(h,t,v,i,b,s,a)}}}var s,a,l=e.children,u=l.length,c=new Array(u+1);for(c[0]=a=s=0;s<u;++s)c[s+1]=a+=l[s].value;o(0,u,e.value,t,n,i,r)},Te=function(e,t,n,i,r){(1&e.depth?be:pe)(e,t,n,i,r)},Se=function Le(e){function t(t,n,i,r,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,l,u,c,f=-1,p=s.length,h=t.value;++f<p;){a=s[f],l=a.children;for(u=a.value=0,c=l.length;u<c;++u)a.value+=l[u].value;a.dice?pe(a,n,i,r,i+=(o-i)*a.value/h):be(a,n,i,n+=(r-n)*a.value/h,o);h-=a.value}else{t._squarify=s=Y(e,t,n,i,r,o);s.ratio=e}}t.ratio=function(e){return Le((e=+e)>1?e:1)};return t}(xe);e.cluster=Z;e.hierarchy=c;e.pack=ce;e.packSiblings=le;e.packEnclose=ae;e.partition=he;e.stratify=ve;e.tree=ye;e.treemap=Ee;e.treemapBinary=we;e.treemapDice=pe;e.treemapSlice=be;e.treemapSliceDice=Te;e.treemapSquarify=_e;e.treemapResquarify=Se;Object.defineProperty(e,"__esModule",{value:!0})})},{}],44:[function(e,t,n){(function(i,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],r):r(i.d3=i.d3||{},i.d3)})(this,function(e,t){"use strict";function n(e,t,n,i,r){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*i+s*r)/6}function i(e,t){return function(n){return e+n*t}}function r(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function o(e,t){var n=t-e;return n?i(e,n>180||n<-180?n-360*Math.round(n/360):n):L(isNaN(e)?t:e)}function s(e){return 1===(e=+e)?a:function(t,n){return n-t?r(t,n,e):L(isNaN(t)?n:t)}}function a(e,t){var n=t-e;return n?i(e,n):L(isNaN(e)?t:e)}function l(e){return function(n){var i,r,o=n.length,s=new Array(o),a=new Array(o),l=new Array(o);for(i=0;i<o;++i){r=t.rgb(n[i]);s[i]=r.r||0;a[i]=r.g||0;l[i]=r.b||0}s=e(s);a=e(a);l=e(l);r.opacity=1;return function(e){r.r=s(e);r.g=a(e);r.b=l(e);return r+""}}}function u(e){return function(){return e}}function c(e){return function(t){return e(t)+""}}function f(e){if("none"===e)return F;_||(_=document.createElement("DIV"),E=document.documentElement,w=document.defaultView);_.style.transform=e;e=w.getComputedStyle(E.appendChild(_),null).getPropertyValue("transform");E.removeChild(_);e=e.slice(7,-1).split(",");return G(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5])}function p(e){if(null==e)return F;T||(T=document.createElementNS("http://www.w3.org/2000/svg","g"));T.setAttribute("transform",e);if(!(e=T.transform.baseVal.consolidate()))return F;e=e.matrix;return G(e.a,e.b,e.c,e.d,e.e,e.f)}function h(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}function o(e,i,r,o,s,a){if(e!==r||i!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:P(e,r)},{i:l-2,x:P(i,o)})}else(r||o)&&s.push("translate("+r+t+o+n)}function s(e,t,n,o){if(e!==t){e-t>180?t+=360:t-e>180&&(e+=360);o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:P(e,t)})}else t&&n.push(r(n)+"rotate("+t+i)}function a(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:P(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}function l(e,t,n,i,o,s){if(e!==n||t!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:P(e,n)},{i:a-2,x:P(t,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(t,n){var i=[],r=[];t=e(t),n=e(n);o(t.translateX,t.translateY,n.translateX,n.translateY,i,r);s(t.rotate,n.rotate,i,r);a(t.skewX,n.skewX,i,r);l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,i,r);t=n=null;return function(e){for(var t,n=-1,o=r.length;++n<o;)i[(t=r[n]).i]=t.x(e);return i.join("")}}}function d(e){return((e=Math.exp(e))+1/e)/2}function g(e){return((e=Math.exp(e))-1/e)/2}function m(e){return((e=Math.exp(2*e))-1)/(e+1)}function v(e){return function(n,i){var r=e((n=t.hsl(n)).h,(i=t.hsl(i)).h),o=a(n.s,i.s),s=a(n.l,i.l),l=a(n.opacity,i.opacity);return function(e){n.h=r(e);n.s=o(e);n.l=s(e);n.opacity=l(e);return n+""}}}function y(e,n){var i=a((e=t.lab(e)).l,(n=t.lab(n)).l),r=a(e.a,n.a),o=a(e.b,n.b),s=a(e.opacity,n.opacity);return function(t){e.l=i(t);e.a=r(t);e.b=o(t);e.opacity=s(t);return e+""}}function b(e){return function(n,i){var r=e((n=t.hcl(n)).h,(i=t.hcl(i)).h),o=a(n.c,i.c),s=a(n.l,i.l),l=a(n.opacity,i.opacity);return function(e){n.h=r(e);n.c=o(e);n.l=s(e);n.opacity=l(e);return n+""}}}function x(e){return function n(i){function r(n,r){var o=e((n=t.cubehelix(n)).h,(r=t.cubehelix(r)).h),s=a(n.s,r.s),l=a(n.l,r.l),u=a(n.opacity,r.opacity);return function(e){n.h=o(e);n.s=s(e);n.l=l(Math.pow(e,i));n.opacity=u(e);return n+""}}i=+i;r.gamma=n;return r}(1)}var _,E,w,T,S=function(e){var t=e.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),o=e[r],s=e[r+1],a=r>0?e[r-1]:2*o-s,l=r<t-1?e[r+2]:2*s-o;return n((i-r/t)*t,a,o,s,l)}},C=function(e){var t=e.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*t),o=e[(r+t-1)%t],s=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return n((i-r/t)*t,o,s,a,l)}},L=function(e){return function(){return e}},N=function ie(e){function n(e,n){var r=i((e=t.rgb(e)).r,(n=t.rgb(n)).r),o=i(e.g,n.g),s=i(e.b,n.b),l=a(e.opacity,n.opacity);return function(t){e.r=r(t);e.g=o(t);e.b=s(t);e.opacity=l(t);return e+""}}var i=s(e);n.gamma=ie;return n}(1),I=l(S),A=l(C),R=function(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=B(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<r;++n)s[n]=o[n](e);return s}},O=function(e,t){var n=new Date;return e=+e,t-=e,function(i){return n.setTime(e+t*i),n}},P=function(e,t){return e=+e,t-=e,function(n){return e+t*n}},k=function(e,t){var n,i={},r={};null!==e&&"object"==typeof e||(e={});null!==t&&"object"==typeof t||(t={});for(n in t)n in e?i[n]=B(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}},M=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,D=new RegExp(M.source,"g"),j=function(e,t){var n,i,r,o=M.lastIndex=D.lastIndex=0,s=-1,a=[],l=[];e+="",t+="";for(;(n=M.exec(e))&&(i=D.exec(t));){if((r=i.index)>o){r=t.slice(o,r);a[s]?a[s]+=r:a[++s]=r}if((n=n[0])===(i=i[0]))a[s]?a[s]+=i:a[++s]=i;else{a[++s]=null;l.push({i:s,x:P(n,i)})}o=D.lastIndex}if(o<t.length){r=t.slice(o);a[s]?a[s]+=r:a[++s]=r}return a.length<2?l[0]?c(l[0].x):u(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)a[(n=l[i]).i]=n.x(e);return a.join("")})},B=function(e,n){var i,r=typeof n;return null==n||"boolean"===r?L(n):("number"===r?P:"string"===r?(i=t.color(n))?(n=i,N):j:n instanceof t.color?N:n instanceof Date?O:Array.isArray(n)?R:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?k:P)(e,n)},q=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}},U=180/Math.PI,F={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},G=function(e,t,n,i,r,o){var s,a,l;(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s);(l=e*n+t*i)&&(n-=e*l,i-=t*l);(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a);e*i<t*n&&(e=-e,t=-t,l=-l,s=-s);return{translateX:r,translateY:o,rotate:Math.atan2(t,e)*U,skewX:Math.atan(l)*U,scaleX:s,scaleY:a}},z=h(f,"px, ","px)","deg)"),H=h(p,", ",")",")"),V=Math.SQRT2,W=2,Y=4,Z=1e-12,$=function(e,t){var n,i,r=e[0],o=e[1],s=e[2],a=t[0],l=t[1],u=t[2],c=a-r,f=l-o,p=c*c+f*f;if(p<Z){i=Math.log(u/s)/V;n=function(e){return[r+e*c,o+e*f,s*Math.exp(V*e*i)]}}else{var h=Math.sqrt(p),v=(u*u-s*s+Y*p)/(2*s*W*h),y=(u*u-s*s-Y*p)/(2*u*W*h),b=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(y*y+1)-y);i=(x-b)/V;n=function(e){var t=e*i,n=d(b),a=s/(W*h)*(n*m(V*t+b)-g(b));return[r+a*c,o+a*f,s*n/d(V*t+b)]}}n.duration=1e3*i;return n},K=v(o),X=v(a),Q=b(o),J=b(a),ee=x(o),te=x(a),ne=function(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n};e.interpolate=B;e.interpolateArray=R;e.interpolateBasis=S;e.interpolateBasisClosed=C;e.interpolateDate=O;e.interpolateNumber=P;e.interpolateObject=k;e.interpolateRound=q;e.interpolateString=j;e.interpolateTransformCss=z;e.interpolateTransformSvg=H;e.interpolateZoom=$;e.interpolateRgb=N;e.interpolateRgbBasis=I;e.interpolateRgbBasisClosed=A;e.interpolateHsl=K;e.interpolateHslLong=X;e.interpolateLab=y;e.interpolateHcl=Q;e.interpolateHclLong=J;e.interpolateCubehelix=ee;e.interpolateCubehelixLong=te;e.quantize=ne;Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-color":35}],45:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function n(){return new t}var i=Math.PI,r=2*i,o=1e-6,s=r-o;t.prototype=n.prototype={constructor:t,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){if(null!==this._x1){this._x1=this._x0,this._y1=this._y0;this._+="Z"}},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(e,t,n,r,s){e=+e,t=+t,n=+n,r=+r,s=+s;var a=this._x1,l=this._y1,u=n-e,c=r-t,f=a-e,p=l-t,h=f*f+p*p;if(s<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>o)if(Math.abs(p*u-c*f)>o&&s){var d=n-a,g=r-l,m=u*u+c*c,v=d*d+g*g,y=Math.sqrt(m),b=Math.sqrt(h),x=s*Math.tan((i-Math.acos((m+h-v)/(2*y*b)))/2),_=x/b,E=x/y;Math.abs(_-1)>o&&(this._+="L"+(e+_*f)+","+(t+_*p));this._+="A"+s+","+s+",0,0,"+ +(p*d>f*g)+","+(this._x1=e+E*u)+","+(this._y1=t+E*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,a,l,u){e=+e,t=+t,n=+n;var c=n*Math.cos(a),f=n*Math.sin(a),p=e+c,h=t+f,d=1^u,g=u?a-l:l-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+p+","+h:(Math.abs(this._x1-p)>o||Math.abs(this._y1-h)>o)&&(this._+="L"+p+","+h);if(n){g<0&&(g=g%r+r);g>s?this._+="A"+n+","+n+",0,1,"+d+","+(e-c)+","+(t-f)+"A"+n+","+n+",0,1,"+d+","+(this._x1=p)+","+(this._y1=h):g>o&&(this._+="A"+n+","+n+",0,"+ +(g>=i)+","+d+","+(this._x1=e+n*Math.cos(l))+","+(this._y1=t+n*Math.sin(l)))}},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};e.path=n;Object.defineProperty(e,"__esModule",{value:!0})})},{}],46:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e,t){return e[0]-t[0]||e[1]-t[1]}function n(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;++r){for(;i>1&&o(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}var i=function(e){for(var t,n=-1,i=e.length,r=e[i-1],o=0;++n<i;){t=r;r=e[n];o+=t[1]*r[0]-t[0]*r[1]}return o/2},r=function(e){for(var t,n,i=-1,r=e.length,o=0,s=0,a=e[r-1],l=0;++i<r;){t=a;a=e[i];l+=n=t[0]*a[1]-a[0]*t[1];o+=(t[0]+a[0])*n;s+=(t[1]+a[1])*n}return l*=3,[o/l,s/l]},o=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])},s=function(e){if((r=e.length)<3)return null;var i,r,o=new Array(r),s=new Array(r);for(i=0;i<r;++i)o[i]=[+e[i][0],+e[i][1],i];o.sort(t);for(i=0;i<r;++i)s[i]=[o[i][0],-o[i][1]];var a=n(o),l=n(s),u=l[0]===a[0],c=l[l.length-1]===a[a.length-1],f=[];for(i=a.length-1;i>=0;--i)f.push(e[o[a[i]][2]]);for(i=+u;i<l.length-c;++i)f.push(e[o[l[i]][2]]);return f},a=function(e,t){for(var n,i,r=e.length,o=e[r-1],s=t[0],a=t[1],l=o[0],u=o[1],c=!1,f=0;f<r;++f){o=e[f],n=o[0],i=o[1];i>a!=u>a&&s<(l-n)*(a-i)/(u-i)+n&&(c=!c);l=n,u=i}return c},l=function(e){for(var t,n,i=-1,r=e.length,o=e[r-1],s=o[0],a=o[1],l=0;++i<r;){t=s;n=a;o=e[i];s=o[0];a=o[1];t-=s;n-=a;l+=Math.sqrt(t*t+n*n)}return l};e.polygonArea=i;e.polygonCentroid=r;e.polygonHull=s;e.polygonContains=a;e.polygonLength=l;Object.defineProperty(e,"__esModule",{value:!0})})},{}],47:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var r,o,s,a,l,u,c,f,p,h=e._root,d={data:i},g=e._x0,m=e._y0,v=e._x1,y=e._y1;if(!h)return e._root=d,e;for(;h.length;){(u=t>=(o=(g+v)/2))?g=o:v=o;(c=n>=(s=(m+y)/2))?m=s:y=s;if(r=h,!(h=h[f=c<<1|u]))return r[f]=d,e}a=+e._x.call(null,h.data);l=+e._y.call(null,h.data);if(t===a&&n===l)return d.next=h,r?r[f]=d:e._root=d,e;do{r=r?r[f]=new Array(4):e._root=new Array(4);(u=t>=(o=(g+v)/2))?g=o:v=o;(c=n>=(s=(m+y)/2))?m=s:y=s}while((f=c<<1|u)===(p=(l>=s)<<1|a>=o));return r[p]=h,r[f]=d,e}function n(e){var n,i,r,o,s=e.length,a=new Array(s),l=new Array(s),u=1/0,c=1/0,f=-(1/0),p=-(1/0);for(i=0;i<s;++i)if(!isNaN(r=+this._x.call(null,n=e[i]))&&!isNaN(o=+this._y.call(null,n))){a[i]=r;l[i]=o;r<u&&(u=r);r>f&&(f=r);o<c&&(c=o);o>p&&(p=o)}f<u&&(u=this._x0,f=this._x1);p<c&&(c=this._y0,p=this._y1);this.cover(u,c).cover(f,p);for(i=0;i<s;++i)t(this,a[i],l[i],e[i]);return this}function i(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function r(e){return e[0]}function o(e){return e[1]}function s(e,t,n){var i=new a(null==t?r:t,null==n?o:n,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function a(e,t,n,i,r,o){this._x=e;this._y=t;this._x0=n;this._y0=i;this._x1=r;this._y1=o;this._root=void 0}function l(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var u=function(e){var n=+this._x.call(null,e),i=+this._y.call(null,e);return t(this.cover(n,i),n,i,e)},c=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n)){r=(n=Math.floor(e))+1;o=(i=Math.floor(t))+1}else{if(!(n>e||e>r||i>t||t>o))return this;var s,a,l=r-n,u=this._root;switch(a=(t<(i+o)/2)<<1|e<(n+r)/2){case 0:do s=new Array(4),s[a]=u,u=s;while(l*=2,r=n+l,o=i+l,e>r||t>o);break;case 1:do s=new Array(4),s[a]=u,u=s;while(l*=2,n=r-l,o=i+l,n>e||t>o);break;case 2:do s=new Array(4),s[a]=u,u=s;while(l*=2,r=n+l,i=o-l,e>r||i>t);break;case 3:do s=new Array(4),s[a]=u,u=s;while(l*=2,n=r-l,i=o-l,n>e||i>t)}this._root&&this._root.length&&(this._root=u)}this._x0=n;this._y0=i;this._x1=r;this._y1=o;return this},f=function(){var e=[];this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)});return e},p=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},h=function(e,t,n,i,r){this.node=e;this.x0=t;this.y0=n;this.x1=i;this.y1=r},d=function(e,t,n){var i,r,o,s,a,l,u,c=this._x0,f=this._y0,p=this._x1,d=this._y1,g=[],m=this._root;m&&g.push(new h(m,c,f,p,d));if(null==n)n=1/0;else{c=e-n,f=t-n;p=e+n,d=t+n;n*=n}for(;l=g.pop();)if(!(!(m=l.node)||(r=l.x0)>p||(o=l.y0)>d||(s=l.x1)<c||(a=l.y1)<f))if(m.length){var v=(r+s)/2,y=(o+a)/2;g.push(new h(m[3],v,y,s,a),new h(m[2],r,y,v,a),new h(m[1],v,o,s,y),new h(m[0],r,o,v,y));if(u=(t>=y)<<1|e>=v){l=g[g.length-1];g[g.length-1]=g[g.length-1-u];g[g.length-1-u]=l}}else{var b=e-+this._x.call(null,m.data),x=t-+this._y.call(null,m.data),_=b*b+x*x;if(_<n){var E=Math.sqrt(n=_);c=e-E,f=t-E;p=e+E,d=t+E;i=m.data}}return i},g=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,i,r,o,s,a,l,u,c,f,p,h=this._root,d=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!h)return this;if(h.length)for(;;){(u=o>=(a=(d+m)/2))?d=a:m=a;(c=s>=(l=(g+v)/2))?g=l:v=l;if(!(t=h,h=h[f=c<<1|u]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,p=f)}for(;h.data!==e;)if(!(i=h,h=h.next))return this;(r=h.next)&&delete h.next;if(i)return r?i.next=r:delete i.next,this;if(!t)return this._root=r,this;r?t[f]=r:delete t[f];(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[p]=h:this._root=h);return this},m=function(){return this._root},v=function(){var e=0;this.visit(function(t){if(!t.length)do++e;while(t=t.next)});return e},y=function(e){var t,n,i,r,o,s,a=[],l=this._root;l&&a.push(new h(l,this._x0,this._y0,this._x1,this._y1));for(;t=a.pop();)if(!e(l=t.node,i=t.x0,r=t.y0,o=t.x1,s=t.y1)&&l.length){var u=(i+o)/2,c=(r+s)/2;(n=l[3])&&a.push(new h(n,u,c,o,s));(n=l[2])&&a.push(new h(n,i,c,u,s));(n=l[1])&&a.push(new h(n,u,r,o,c));(n=l[0])&&a.push(new h(n,i,r,u,c))}return this},b=function(e){var t,n=[],i=[];this._root&&n.push(new h(this._root,this._x0,this._y0,this._x1,this._y1));for(;t=n.pop();){var r=t.node;if(r.length){var o,s=t.x0,a=t.y0,l=t.x1,u=t.y1,c=(s+l)/2,f=(a+u)/2;(o=r[0])&&n.push(new h(o,s,a,c,f));(o=r[1])&&n.push(new h(o,c,a,l,f));(o=r[2])&&n.push(new h(o,s,f,c,u));(o=r[3])&&n.push(new h(o,c,f,l,u))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},x=function(e){return arguments.length?(this._x=e,this):this._x},_=function(e){return arguments.length?(this._y=e,this):this._y},E=s.prototype=a.prototype;E.copy=function(){var e,t,n=new a(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=l(i),n;e=[{source:i,target:n._root=new Array(4)}];for(;i=e.pop();)for(var r=0;r<4;++r)(t=i.source[r])&&(t.length?e.push({source:t,target:i.target[r]=new Array(4)}):i.target[r]=l(t));return n};E.add=u;E.addAll=n;E.cover=c;E.data=f;E.extent=p;E.find=d;E.remove=g;E.removeAll=i;E.root=m;E.size=v;E.visit=y;E.visitAfter=b;E.x=x;E.y=_;e.quadtree=s;Object.defineProperty(e,"__esModule",{value:!0})})},{}],48:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e){this._size=e;this._call=this._error=null;this._tasks=[];this._data=[];this._waiting=this._active=this._ended=this._start=0}function n(e){if(!e._start)try{i(e)}catch(t){if(e._tasks[e._ended+e._active-1])o(e,t);else if(!e._data)throw t}}function i(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],i=n.length-1,o=n[i];n[i]=r(e,t);--e._waiting,++e._active;n=o.apply(null,n);e._tasks[t]&&(e._tasks[t]=n||u)}}function r(e,t){return function(i,r){if(e._tasks[t]){--e._active,++e._ended;e._tasks[t]=null;if(null==e._error)if(null!=i)o(e,i);else{e._data[t]=r;e._waiting?n(e):s(e)}}}}function o(e,t){var n,i=e._tasks.length;e._error=t;e._data=void 0;e._waiting=NaN;for(;--i>=0;)if(n=e._tasks[i]){e._tasks[i]=null;if(n.abort)try{n.abort()}catch(t){}}e._active=NaN;s(e)}function s(e){if(!e._active&&e._call){var t=e._data;e._data=void 0;e._call(e._error,t)}}function a(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new t(e)}var l=[].slice,u={};t.prototype=a.prototype={constructor:t,defer:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=l.call(arguments,1);t.push(e);++this._waiting,this._tasks.push(t);n(this);return this},abort:function(){null==this._error&&o(this,new Error("abort"));return this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");this._call=function(t,n){e.apply(null,[t].concat(n))};s(this);return this},awaitAll:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");this._call=e;s(this);return this}};e.queue=a;Object.defineProperty(e,"__esModule",{value:!0})})},{}],49:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";var t=function(){return Math.random()},n=function l(e){function t(t,n){t=null==t?0:+t;n=null==n?1:+n;1===arguments.length?(n=t,t=0):n-=t;return function(){return e()*n+t}}t.source=l;return t}(t),i=function u(e){function t(t,n){var i,r;t=null==t?0:+t;n=null==n?1:+n;return function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1;o=2*e()-1;r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}t.source=u;return t}(t),r=function c(e){function t(){var t=i.source(e).apply(this,arguments);return function(){return Math.exp(t())}}t.source=c;return t}(t),o=function f(e){function t(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}t.source=f;return t}(t),s=function p(e){function t(t){var n=o.source(e)(t);return function(){return n()/t}}t.source=p;return t}(t),a=function h(e){function t(t){return function(){return-Math.log(1-e())/t}}t.source=h;return t}(t);e.randomUniform=n;e.randomNormal=i;e.randomLogNormal=r;e.randomBates=s;e.randomIrwinHall=o;e.randomExponential=a;Object.defineProperty(e,"__esModule",{value:!0})})},{}],50:[function(e,t,n){"use strict";function i(e){return function(t,n){e(null==t?n:null)}}function r(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function o(e,t){return function(n){return e(n.responseText,t)}}var s=e("xmlhttprequest").XMLHttpRequest;Object.defineProperty(n,"__esModule",{value:!0});var a=e("d3-collection"),l=e("d3-dispatch"),u=e("d3-dsv"),c=function(e,t){function n(e){var t,n=d.status;if(!n&&r(d)||n>=200&&n<300||304===n){if(c)try{t=c.call(o,d)}catch(i){p.call("error",o,i);return}else t=d;p.call("load",o,t)}else p.call("error",o,e)}var o,u,c,f,p=l.dispatch("beforesend","progress","load","error"),h=a.map(),d=new s,g=null,m=null,v=0;"undefined"==typeof XDomainRequest||"withCredentials"in d||!/^(http(s)?:)?\/\//.test(e)||(d=new XDomainRequest);"onload"in d?d.onload=d.onerror=d.ontimeout=n:d.onreadystatechange=function(e){d.readyState>3&&n(e)};d.onprogress=function(e){p.call("progress",o,e)};o={header:function(e,t){e=(e+"").toLowerCase();if(arguments.length<2)return h.get(e);null==t?h.remove(e):h.set(e,t+"");return o},mimeType:function(e){if(!arguments.length)return u;u=null==e?null:e+"";return o},responseType:function(e){if(!arguments.length)return f;f=e;return o},timeout:function(e){if(!arguments.length)return v;v=+e;return o},user:function(e){return arguments.length<1?g:(g=null==e?null:e+"",o)},password:function(e){return arguments.length<1?m:(m=null==e?null:e+"",o)},response:function(e){c=e;return o},get:function(e,t){return o.send("GET",e,t)},post:function(e,t){return o.send("POST",e,t)},send:function(t,n,r){d.open(t,e,!0,g,m);null==u||h.has("accept")||h.set("accept",u+",*/*");d.setRequestHeader&&h.each(function(e,t){d.setRequestHeader(t,e)});null!=u&&d.overrideMimeType&&d.overrideMimeType(u);null!=f&&(d.responseType=f);v>0&&(d.timeout=v);null==r&&"function"==typeof n&&(r=n,n=null);null!=r&&1===r.length&&(r=i(r));null!=r&&o.on("error",r).on("load",function(e){r(null,e)});p.call("beforesend",o,d);d.send(null==n?null:n);return o},abort:function(){d.abort();return o},on:function(){var e=p.on.apply(p,arguments);return e===p?o:e}};if(null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return o.get(t)}return o},f=function(e,t){return function(n,i){var r=c(n).mimeType(e).response(t);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return r.get(i)}return r}},p=f("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),h=f("application/json",function(e){return JSON.parse(e.responseText)}),d=f("text/plain",function(e){return e.responseText}),g=f("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t}),m=function(e,t){return function(n,i,r){arguments.length<3&&(r=i,i=null);var s=c(n).mimeType(e);s.row=function(e){return arguments.length?s.response(o(t,i=e)):i};s.row(i);return r?s.get(r):s}},v=m("text/csv",u.csvParse),y=m("text/tab-separated-values",u.tsvParse);n.request=c;n.html=p;n.json=h;n.text=d;n.xml=g;n.csv=v;n.tsv=y},{"d3-collection":34,"d3-dispatch":36,"d3-dsv":38,xmlhttprequest:252}],51:[function(e,t,n){(function(i,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("d3-array"),e("d3-collection"),e("d3-interpolate"),e("d3-format"),e("d3-time"),e("d3-time-format"),e("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],r):r(i.d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3,i.d3,i.d3)})(this,function(e,t,n,i,r,o,s,a){"use strict";function l(e){function t(t){var n=t+"",s=i.get(n);if(!s){if(o!==z)return o;i.set(n,s=r.push(t))}return e[(s-1)%e.length]}var i=n.map(),r=[],o=z;e=null==e?[]:G.call(e);t.domain=function(e){if(!arguments.length)return r.slice();r=[],i=n.map();for(var o,s,a=-1,l=e.length;++a<l;)i.has(s=(o=e[a])+"")||i.set(s,r.push(o));return t};t.range=function(n){return arguments.length?(e=G.call(n),t):e.slice()};t.unknown=function(e){return arguments.length?(o=e,t):o};t.copy=function(){return l().domain(r).range(e).unknown(o)};return t}function u(){function e(){var e=o().length,r=a[1]<a[0],l=a[r-0],u=a[1-r];n=(u-l)/Math.max(1,e-f+2*p);c&&(n=Math.floor(n));l+=(u-l-n*(e-f))*h;i=n*(1-f);c&&(l=Math.round(l),i=Math.round(i));var d=t.range(e).map(function(e){return l+n*e});return s(r?d.reverse():d)}var n,i,r=l().unknown(void 0),o=r.domain,s=r.range,a=[0,1],c=!1,f=0,p=0,h=.5;delete r.unknown;r.domain=function(t){return arguments.length?(o(t),e()):o()};r.range=function(t){return arguments.length?(a=[+t[0],+t[1]],e()):a.slice()};r.rangeRound=function(t){return a=[+t[0],+t[1]],c=!0,e()};r.bandwidth=function(){return i};r.step=function(){return n};r.round=function(t){return arguments.length?(c=!!t,e()):c};r.padding=function(t){return arguments.length?(f=p=Math.max(0,Math.min(1,t)),e()):f};r.paddingInner=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f};r.paddingOuter=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p};r.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h};r.copy=function(){return u().domain(o()).range(a).round(c).paddingInner(f).paddingOuter(p).align(h)};return e()}function c(e){var t=e.copy;e.padding=e.paddingOuter;delete e.paddingInner;delete e.paddingOuter;e.copy=function(){return c(t())};return e}function f(){return c(u().paddingInner(1))}function p(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:H(t)}function h(e){return function(t,n){var i=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:i(e)}}}function d(e){return function(t,n){var i=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:i(e)}}}function g(e,t,n,i){var r=e[0],o=e[1],s=t[0],a=t[1];o<r?(r=n(o,r),s=i(a,s)):(r=n(r,o),s=i(s,a));return function(e){return s(r(e))}}function m(e,n,i,r){var o=Math.min(e.length,n.length)-1,s=new Array(o),a=new Array(o),l=-1;if(e[o]<e[0]){e=e.slice().reverse();n=n.slice().reverse()}for(;++l<o;){s[l]=i(e[l],e[l+1]);a[l]=r(n[l],n[l+1])}return function(n){var i=t.bisect(e,n,1,o)-1;return a[i](s[i](n))}}function v(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function y(e,t){function n(){o=Math.min(l.length,u.length)>2?m:g;s=a=null;return r}function r(t){return(s||(s=o(l,u,f?h(e):e,c)))(+t)}var o,s,a,l=W,u=W,c=i.interpolate,f=!1;r.invert=function(e){return(a||(a=o(u,l,p,f?d(t):t)))(+e)};r.domain=function(e){return arguments.length?(l=F.call(e,V),n()):l.slice()};r.range=function(e){return arguments.length?(u=G.call(e),n()):u.slice()};r.rangeRound=function(e){return u=G.call(e),c=i.interpolateRound,n()};r.clamp=function(e){return arguments.length?(f=!!e,n()):f};r.interpolate=function(e){return arguments.length?(c=e,n()):c};return n()}function b(e){var n=e.domain;e.ticks=function(e){var i=n();return t.ticks(i[0],i[i.length-1],null==e?10:e)};e.tickFormat=function(e,t){return Y(n(),e,t)};e.nice=function(i){null==i&&(i=10);var r,o=n(),s=0,a=o.length-1,l=o[s],u=o[a];if(u<l){r=l,l=u,u=r;r=s,s=a,a=r}r=t.tickIncrement(l,u,i);if(r>0){l=Math.floor(l/r)*r;u=Math.ceil(u/r)*r;r=t.tickIncrement(l,u,i)}else if(r<0){l=Math.ceil(l*r)/r;u=Math.floor(u*r)/r;r=t.tickIncrement(l,u,i)}if(r>0){o[s]=Math.floor(l/r)*r;o[a]=Math.ceil(u/r)*r;n(o)}else if(r<0){o[s]=Math.ceil(l*r)/r;o[a]=Math.floor(u*r)/r;n(o)}return e};return e}function x(){var e=y(p,i.interpolateNumber);e.copy=function(){return v(e,x())};return b(e)}function _(){function e(e){return+e}var t=[0,1];e.invert=e;e.domain=e.range=function(n){return arguments.length?(t=F.call(n,V),e):t.slice()};e.copy=function(){return _().domain(t)};return b(e)}function E(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:H(t)}function w(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function T(e){return isFinite(e)?+("1e"+e):e<0?0:e}function S(e){return 10===e?T:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function C(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function L(e){return function(t){return-e(-t)}}function N(){function e(){s=C(o),a=S(o);i()[0]<0&&(s=L(s),a=L(a));return n}var n=y(E,w).domain([1,10]),i=n.domain,o=10,s=C(10),a=S(10);n.base=function(t){return arguments.length?(o=+t,e()):o};n.domain=function(t){return arguments.length?(i(t),e()):i()};n.ticks=function(e){
var n,r=i(),l=r[0],u=r[r.length-1];(n=u<l)&&(h=l,l=u,u=h);var c,f,p,h=s(l),d=s(u),g=null==e?10:+e,m=[];if(!(o%1)&&d-h<g){h=Math.round(h)-1,d=Math.round(d)+1;if(l>0)for(;h<d;++h)for(f=1,c=a(h);f<o;++f){p=c*f;if(!(p<l)){if(p>u)break;m.push(p)}}else for(;h<d;++h)for(f=o-1,c=a(h);f>=1;--f){p=c*f;if(!(p<l)){if(p>u)break;m.push(p)}}}else m=t.ticks(h,d,Math.min(d-h,g)).map(a);return n?m.reverse():m};n.tickFormat=function(e,t){null==t&&(t=10===o?".0e":",");"function"!=typeof t&&(t=r.format(t));if(e===1/0)return t;null==e&&(e=10);var i=Math.max(1,o*e/n.ticks().length);return function(e){var n=e/a(Math.round(s(e)));n*o<o-.5&&(n*=o);return n<=i?t(e):""}};n.nice=function(){return i(Z(i(),{floor:function(e){return a(Math.floor(s(e)))},ceil:function(e){return a(Math.ceil(s(e)))}}))};n.copy=function(){return v(n,N().base(o))};return n}function I(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function A(){function e(e,t){return(t=I(t,n)-(e=I(e,n)))?function(i){return(I(i,n)-e)/t}:H(t)}function t(e,t){t=I(t,n)-(e=I(e,n));return function(i){return I(e+t*i,1/n)}}var n=1,i=y(e,t),r=i.domain;i.exponent=function(e){return arguments.length?(n=+e,r(r())):n};i.copy=function(){return v(i,A().exponent(n))};return b(i)}function R(){return A().exponent(.5)}function O(){function e(){var e=0,s=Math.max(1,r.length);o=new Array(s-1);for(;++e<s;)o[e-1]=t.quantile(i,e/s);return n}function n(e){if(!isNaN(e=+e))return r[t.bisect(o,e)]}var i=[],r=[],o=[];n.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?o[t-1]:i[0],t<o.length?o[t]:i[i.length-1]]};n.domain=function(n){if(!arguments.length)return i.slice();i=[];for(var r,o=0,s=n.length;o<s;++o)(r=n[o],null==r||isNaN(r=+r))||i.push(r);i.sort(t.ascending);return e()};n.range=function(t){return arguments.length?(r=G.call(t),e()):r.slice()};n.quantiles=function(){return o.slice()};n.copy=function(){return O().domain(i).range(r)};return n}function P(){function e(e){if(e<=e)return a[t.bisect(s,e,0,o)]}function n(){var t=-1;s=new Array(o);for(;++t<o;)s[t]=((t+1)*r-(t-o)*i)/(o+1);return e}var i=0,r=1,o=1,s=[.5],a=[0,1];e.domain=function(e){return arguments.length?(i=+e[0],r=+e[1],n()):[i,r]};e.range=function(e){return arguments.length?(o=(a=G.call(e)).length-1,n()):a.slice()};e.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[i,s[0]]:t>=o?[s[o-1],r]:[s[t-1],s[t]]};e.copy=function(){return P().domain([i,r]).range(a)};return b(e)}function k(){function e(e){if(e<=e)return i[t.bisect(n,e,0,r)]}var n=[.5],i=[0,1],r=1;e.domain=function(t){return arguments.length?(n=G.call(t),r=Math.min(n.length,i.length-1),e):n.slice()};e.range=function(t){return arguments.length?(i=G.call(t),r=Math.min(n.length,i.length-1),e):i.slice()};e.invertExtent=function(e){var t=i.indexOf(e);return[n[t-1],n[t]]};e.copy=function(){return k().domain(n).range(i)};return e}function M(e){return new Date(e)}function D(e){return e instanceof Date?+e:+new Date((+e))}function j(e,n,r,o,s,a,l,u,c){function f(t){return(l(t)<t?b:a(t)<t?x:s(t)<t?_:o(t)<t?E:n(t)<t?r(t)<t?w:T:e(t)<t?S:C)(t)}function h(n,i,r,o){null==n&&(n=10);if("number"==typeof n){var s=Math.abs(r-i)/n,a=t.bisector(function(e){return e[2]}).right(L,s);if(a===L.length){o=t.tickStep(i/te,r/te,n);n=e}else if(a){a=L[s/L[a-1][2]<L[a][2]/s?a-1:a];o=a[1];n=a[0]}else{o=Math.max(t.tickStep(i,r,n),1);n=u}}return null==o?n:n.every(o)}var d=y(p,i.interpolateNumber),g=d.invert,m=d.domain,b=c(".%L"),x=c(":%S"),_=c("%I:%M"),E=c("%I %p"),w=c("%a %d"),T=c("%b %d"),S=c("%B"),C=c("%Y"),L=[[l,1,$],[l,5,5*$],[l,15,15*$],[l,30,30*$],[a,1,K],[a,5,5*K],[a,15,15*K],[a,30,30*K],[s,1,X],[s,3,3*X],[s,6,6*X],[s,12,12*X],[o,1,Q],[o,2,2*Q],[r,1,J],[n,1,ee],[n,3,3*ee],[e,1,te]];d.invert=function(e){return new Date(g(e))};d.domain=function(e){return arguments.length?m(F.call(e,D)):m().map(M)};d.ticks=function(e,t){var n,i=m(),r=i[0],o=i[i.length-1],s=o<r;s&&(n=r,r=o,o=n);n=h(e,r,o,t);n=n?n.range(r,o+1):[];return s?n.reverse():n};d.tickFormat=function(e,t){return null==t?f:c(t)};d.nice=function(e,t){var n=m();return(e=h(e,n[0],n[n.length-1],t))?m(Z(n,e)):d};d.copy=function(){return v(d,j(e,n,r,o,s,a,l,u,c))};return d}function B(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function q(e){function t(t){var o=(t-n)/(i-n);return e(r?Math.max(0,Math.min(1,o)):o)}var n=0,i=1,r=!1;t.domain=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]};t.clamp=function(e){return arguments.length?(r=!!e,t):r};t.interpolator=function(n){return arguments.length?(e=n,t):e};t.copy=function(){return q(e).domain([n,i]).clamp(r)};return b(t)}var U=Array.prototype,F=U.map,G=U.slice,z={name:"implicit"},H=function(e){return function(){return e}},V=function(e){return+e},W=[0,1],Y=function(e,n,i){var o,s=e[0],a=e[e.length-1],l=t.tickStep(s,a,null==n?10:n);i=r.formatSpecifier(null==i?",f":i);switch(i.type){case"s":var u=Math.max(Math.abs(s),Math.abs(a));null!=i.precision||isNaN(o=r.precisionPrefix(l,u))||(i.precision=o);return r.formatPrefix(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=r.precisionRound(l,Math.max(Math.abs(s),Math.abs(a))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=r.precisionFixed(l))||(i.precision=o-2*("%"===i.type))}return r.format(i)},Z=function(e,t){e=e.slice();var n,i=0,r=e.length-1,o=e[i],s=e[r];if(s<o){n=i,i=r,r=n;n=o,o=s,s=n}e[i]=t.floor(o);e[r]=t.ceil(s);return e},$=1e3,K=60*$,X=60*K,Q=24*X,J=7*Q,ee=30*Q,te=365*Q,ne=function(){return j(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,s.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},ie=function(){return j(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,s.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},re=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})},oe=re("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),se=re("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ae=re("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),le=re("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ue=i.interpolateCubehelixLong(a.cubehelix(300,.5,0),a.cubehelix(-240,.5,1)),ce=i.interpolateCubehelixLong(a.cubehelix(-100,.75,.35),a.cubehelix(80,1.5,.8)),fe=i.interpolateCubehelixLong(a.cubehelix(260,.75,.35),a.cubehelix(80,1.5,.8)),pe=a.cubehelix(),he=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);pe.h=360*e-100;pe.s=1.5-1.5*t;pe.l=.8-.9*t;return pe+""},de=B(re("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ge=B(re("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),me=B(re("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ve=B(re("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));e.scaleBand=u;e.scalePoint=f;e.scaleIdentity=_;e.scaleLinear=x;e.scaleLog=N;e.scaleOrdinal=l;e.scaleImplicit=z;e.scalePow=A;e.scaleSqrt=R;e.scaleQuantile=O;e.scaleQuantize=P;e.scaleThreshold=k;e.scaleTime=ne;e.scaleUtc=ie;e.schemeCategory10=oe;e.schemeCategory20b=se;e.schemeCategory20c=ae;e.schemeCategory20=le;e.interpolateCubehelixDefault=ue;e.interpolateRainbow=he;e.interpolateWarm=ce;e.interpolateCool=fe;e.interpolateViridis=de;e.interpolateMagma=ge;e.interpolateInferno=me;e.interpolatePlasma=ve;e.scaleSequential=q;Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-array":30,"d3-collection":34,"d3-color":35,"d3-format":41,"d3-interpolate":44,"d3-time":55,"d3-time-format":54}],52:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e){var t=e+="",n=t.indexOf(":");n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1));return Ye.hasOwnProperty(t)?{space:Ye[t],local:e}:e}function n(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===We&&t.documentElement.namespaceURI===We?t.createElement(e):t.createElementNS(n,e)}}function i(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function r(e){var r=t(e);return(r.local?i:n)(r)}function o(){}function s(e){return null==e?o:function(){return this.querySelector(e)}}function a(e){"function"!=typeof e&&(e=s(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a,l=t[r],u=l.length,c=i[r]=new Array(u),f=0;f<u;++f)if((o=l[f])&&(a=e.call(o,o.__data__,f,l))){"__data__"in o&&(a.__data__=o.__data__);c[f]=a}return new ke(i,this._parents)}function l(){return[]}function u(e){return null==e?l:function(){return this.querySelectorAll(e)}}function c(e){"function"!=typeof e&&(e=u(e));for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var s,a=t[o],l=a.length,c=0;c<l;++c)if(s=a[c]){i.push(e.call(s,s.__data__,c,a));r.push(s)}return new ke(i,r)}function f(e){"function"!=typeof e&&(e=Xe(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s=t[r],a=s.length,l=i[r]=[],u=0;u<a;++u)(o=s[u])&&e.call(o,o.__data__,u,s)&&l.push(o);return new ke(i,this._parents)}function p(e){return new Array(e.length)}function h(){return new ke(this._enter||this._groups.map(p),this._parents)}function d(e,t){this.ownerDocument=e.ownerDocument;this.namespaceURI=e.namespaceURI;this._next=null;this._parent=e;this.__data__=t}function g(e){return function(){return e}}function m(e,t,n,i,r,o){for(var s,a=0,l=t.length,u=o.length;a<u;++a)if(s=t[a]){s.__data__=o[a];i[a]=s}else n[a]=new d(e,o[a]);for(;a<l;++a)(s=t[a])&&(r[a]=s)}function v(e,t,n,i,r,o,s){var a,l,u,c={},f=t.length,p=o.length,h=new Array(f);for(a=0;a<f;++a)if(l=t[a]){h[a]=u=Qe+s.call(l,l.__data__,a,t);u in c?r[a]=l:c[u]=l}for(a=0;a<p;++a){u=Qe+s.call(e,o[a],a,o);if(l=c[u]){i[a]=l;l.__data__=o[a];c[u]=null}else n[a]=new d(e,o[a])}for(a=0;a<f;++a)(l=t[a])&&c[h[a]]===l&&(r[a]=l)}function y(e,t){if(!e){h=new Array(this.size()),u=-1;this.each(function(e){h[++u]=e});return h}var n=t?v:m,i=this._parents,r=this._groups;"function"!=typeof e&&(e=g(e));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=i[u],f=r[u],p=f.length,h=e.call(c,c&&c.__data__,u,i),d=h.length,y=a[u]=new Array(d),b=s[u]=new Array(d),x=l[u]=new Array(p);n(c,f,y,b,x,h,t);for(var _,E,w=0,T=0;w<d;++w)if(_=y[w]){w>=T&&(T=w+1);for(;!(E=b[T])&&++T<d;);_._next=E||null}}s=new ke(s,i);s._enter=a;s._exit=l;return s}function b(){return new ke(this._exit||this._groups.map(p),this._parents)}function x(e){for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,u=t[a],c=n[a],f=u.length,p=s[a]=new Array(f),h=0;h<f;++h)(l=u[h]||c[h])&&(p[h]=l);for(;a<i;++a)s[a]=t[a];return new ke(s,this._parents)}function _(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,s=r[o];--o>=0;)if(i=r[o]){s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s);s=i}return this}function E(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=w);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,u=r[o]=new Array(l),c=0;c<l;++c)(s=a[c])&&(u[c]=s);u.sort(t)}return new ke(r,this._parents).order()}function w(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function T(){var e=arguments[0];arguments[0]=this;e.apply(null,arguments);return this}function S(){var e=new Array(this.size()),t=-1;this.each(function(){e[++t]=this});return e}function C(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function L(){var e=0;this.each(function(){++e});return e}function N(){return!this.node()}function I(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],s=0,a=o.length;s<a;++s)(r=o[s])&&e.call(r,r.__data__,s,o);return this}function A(e){return function(){this.removeAttribute(e)}}function R(e){return function(){this.removeAttributeNS(e.space,e.local)}}function O(e,t){return function(){this.setAttribute(e,t)}}function P(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function k(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function M(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function D(e,n){var i=t(e);if(arguments.length<2){var r=this.node();return i.local?r.getAttributeNS(i.space,i.local):r.getAttribute(i)}return this.each((null==n?i.local?R:A:"function"==typeof n?i.local?M:k:i.local?P:O)(i,n))}function j(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function B(e){return function(){this.style.removeProperty(e)}}function q(e,t,n){return function(){this.style.setProperty(e,t,n)}}function U(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function F(e,t,n){return arguments.length>1?this.each((null==t?B:"function"==typeof t?U:q)(e,t,null==n?"":n)):G(this.node(),e)}function G(e,t){return e.style.getPropertyValue(t)||j(e).getComputedStyle(e,null).getPropertyValue(t)}function z(e){return function(){delete this[e]}}function H(e,t){return function(){this[e]=t}}function V(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function W(e,t){return arguments.length>1?this.each((null==t?z:"function"==typeof t?V:H)(e,t)):this.node()[e]}function Y(e){return e.trim().split(/^|\s+/)}function Z(e){return e.classList||new $(e)}function $(e){this._node=e;this._names=Y(e.getAttribute("class")||"")}function K(e,t){for(var n=Z(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function X(e,t){for(var n=Z(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function Q(e){return function(){K(this,e)}}function J(e){return function(){X(this,e)}}function ee(e,t){return function(){(t.apply(this,arguments)?K:X)(this,e)}}function te(e,t){var n=Y(e+"");if(arguments.length<2){for(var i=Z(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?ee:t?Q:J)(n,t))}function ne(){this.textContent=""}function ie(e){return function(){this.textContent=e}}function re(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function oe(e){return arguments.length?this.each(null==e?ne:("function"==typeof e?re:ie)(e)):this.node().textContent}function se(){this.innerHTML=""}function ae(e){return function(){this.innerHTML=e}}function le(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ue(e){return arguments.length?this.each(null==e?se:("function"==typeof e?le:ae)(e)):this.node().innerHTML}function ce(){this.nextSibling&&this.parentNode.appendChild(this)}function fe(){return this.each(ce)}function pe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function he(){return this.each(pe)}function de(e){var t="function"==typeof e?e:r(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ge(){return null}function me(e,t){var n="function"==typeof e?e:r(e),i=null==t?ge:"function"==typeof t?t:s(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function ve(){var e=this.parentNode;e&&e.removeChild(this)}function ye(){return this.each(ve)}function be(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function xe(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function _e(e){return this.select(e?xe:be)}function Ee(e){return arguments.length?this.property("__data__",e):this.node().__data__}function we(e,t,n){e=Te(e,t,n);return function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function Te(t,n,i){return function(r){var o=e.event;e.event=r;try{t.call(this,this.__data__,n,i)}finally{e.event=o}}}function Se(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");n>=0&&(t=e.slice(n+1),e=e.slice(0,n));return{type:e,name:t}})}function Ce(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function Le(e,t,n){var i=Je.hasOwnProperty(e.type)?we:Te;return function(r,o,s){var a,l=this.__on,u=i(t,o,s);if(l)for(var c=0,f=l.length;c<f;++c)if((a=l[c]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.capture);this.addEventListener(a.type,a.listener=u,a.capture=n);a.value=t;return}this.addEventListener(e.type,u,n);a={type:e.type,name:e.name,value:t,listener:u,capture:n};l?l.push(a):this.__on=[a]}}function Ne(e,t,n){var i,r,o=Se(e+""),s=o.length;if(!(arguments.length<2)){a=t?Le:Ce;null==n&&(n=!1);for(i=0;i<s;++i)this.each(a(o[i],t,n));return this}var a=this.node().__on;if(a)for(var l,u=0,c=a.length;u<c;++u)for(i=0,l=a[u];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value}function Ie(t,n,i,r){var o=e.event;t.sourceEvent=e.event;e.event=t;try{return n.apply(i,r)}finally{e.event=o}}function Ae(e,t,n){var i=j(e),r=i.CustomEvent;if("function"==typeof r)r=new r(t,n);else{r=i.document.createEvent("Event");n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)}e.dispatchEvent(r)}function Re(e,t){return function(){return Ae(this,e,t)}}function Oe(e,t){return function(){return Ae(this,e,t.apply(this,arguments))}}function Pe(e,t){return this.each(("function"==typeof t?Oe:Re)(e,t))}function ke(e,t){this._groups=e;this._parents=t}function Me(){return new ke([[document.documentElement]],tt)}function De(e){return"string"==typeof e?new ke([[document.querySelector(e)]],[document.documentElement]):new ke([[e]],tt)}function je(e){return De(r(e).call(document.documentElement))}function Be(){return new qe}function qe(){this._="@"+(++nt).toString(36)}function Ue(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function Fe(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();i.x=t.clientX,i.y=t.clientY;i=i.matrixTransform(e.getScreenCTM().inverse());return[i.x,i.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}function Ge(e){var t=Ue();t.changedTouches&&(t=t.changedTouches[0]);return Fe(e,t)}function ze(e){return"string"==typeof e?new ke([document.querySelectorAll(e)],[document.documentElement]):new ke([null==e?[]:e],tt)}function He(e,t,n){arguments.length<3&&(n=t,t=Ue().changedTouches);for(var i,r=0,o=t?t.length:0;r<o;++r)if((i=t[r]).identifier===n)return Fe(e,i);return null}function Ve(e,t){null==t&&(t=Ue().touches);for(var n=0,i=t?t.length:0,r=new Array(i);n<i;++n)r[n]=Fe(e,t[n]);return r}var We="http://www.w3.org/1999/xhtml",Ye={svg:"http://www.w3.org/2000/svg",xhtml:We,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ze=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var $e=document.documentElement;if(!$e.matches){var Ke=$e.webkitMatchesSelector||$e.msMatchesSelector||$e.mozMatchesSelector||$e.oMatchesSelector;Ze=function(e){return function(){return Ke.call(this,e)}}}}var Xe=Ze;d.prototype={constructor:d,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Qe="$";$.prototype={add:function(e){var t=this._names.indexOf(e);if(t<0){this._names.push(e);this._node.setAttribute("class",this._names.join(" "))}},remove:function(e){var t=this._names.indexOf(e);if(t>=0){this._names.splice(t,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(e){return this._names.indexOf(e)>=0}};var Je={};e.event=null;if("undefined"!=typeof document){var et=document.documentElement;"onmouseenter"in et||(Je={mouseenter:"mouseover",mouseleave:"mouseout"})}var tt=[null];ke.prototype=Me.prototype={constructor:ke,select:a,selectAll:c,filter:f,data:y,enter:h,exit:b,merge:x,order:_,sort:E,call:T,nodes:S,node:C,size:L,empty:N,each:I,attr:D,style:F,property:W,classed:te,text:oe,html:ue,raise:fe,lower:he,append:de,insert:me,remove:ye,clone:_e,datum:Ee,on:Ne,dispatch:Pe};var nt=0;qe.prototype=Be.prototype={constructor:qe,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};e.create=je;e.creator=r;e.local=Be;e.matcher=Xe;e.mouse=Ge;e.namespace=t;e.namespaces=Ye;e.clientPoint=Fe;e.select=De;e.selectAll=ze;e.selection=Me;e.selector=s;e.selectorAll=u;e.style=G;e.touch=He;e.touches=Ve;e.window=j;e.customEvent=Ie;Object.defineProperty(e,"__esModule",{value:!0})})},{}],53:[function(e,t,n){(function(i,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-path"],r):r(i.d3=i.d3||{},i.d3)})(this,function(e,t){"use strict";function n(e){return e>1?0:e<-1?fe:Math.acos(e)}function i(e){return e>=1?pe:e<=-1?-pe:Math.asin(e)}function r(e){return e.innerRadius}function o(e){return e.outerRadius}function s(e){return e.startAngle}function a(e){return e.endAngle}function l(e){return e&&e.padAngle}function u(e,t,n,i,r,o,s,a){var l=n-e,u=i-t,c=s-r,f=a-o,p=(c*(t-o)-f*(e-r))/(f*l-c*u);return[e+p*l,t+p*u]}function c(e,t,n,i,r,o,s){var a=e-n,l=t-i,u=(s?o:-o)/ue(a*a+l*l),c=u*l,f=-u*a,p=e+c,h=t+f,d=n+c,g=i+f,m=(p+d)/2,v=(h+g)/2,y=d-p,b=g-h,x=y*y+b*b,_=r-o,E=p*g-d*h,w=(b<0?-1:1)*ue(se(0,_*_*x-E*E)),T=(E*b-y*w)/x,S=(-E*y-b*w)/x,C=(E*b+y*w)/x,L=(-E*y+b*w)/x,N=T-m,I=S-v,A=C-m,R=L-v;N*N+I*I>A*A+R*R&&(T=C,S=L);return{cx:T,cy:S,x01:-c,y01:-f,x11:T*(r/_-1),y11:S*(r/_-1)}}function f(e){this._context=e}function p(e){return e[0]}function h(e){return e[1]}function d(e){this._curve=e}function g(e){function t(t){return new d(e(t))}t._curve=e;return t}function m(e){var t=e.curve;e.angle=e.x,delete e.x;e.radius=e.y,delete e.y;e.curve=function(e){return arguments.length?t(g(e)):t()._curve};return e}function v(e){return e.source}function y(e){return e.target}function b(e){function n(){var n,l=Se.call(arguments),u=i.apply(this,l),c=r.apply(this,l);a||(a=n=t.path());e(a,+o.apply(this,(l[0]=u,l)),+s.apply(this,l),+o.apply(this,(l[0]=c,l)),+s.apply(this,l));if(n)return a=null,n+""||null}var i=v,r=y,o=p,s=h,a=null;n.source=function(e){return arguments.length?(i=e,n):i};n.target=function(e){return arguments.length?(r=e,n):r};n.x=function(e){return arguments.length?(o="function"==typeof e?e:ne(+e),n):o};n.y=function(e){return arguments.length?(s="function"==typeof e?e:ne(+e),n):s};n.context=function(e){return arguments.length?(a=null==e?null:e,n):a};return n}function x(e,t,n,i,r){e.moveTo(t,n);e.bezierCurveTo(t=(t+i)/2,n,t,r,i,r)}function _(e,t,n,i,r){e.moveTo(t,n);e.bezierCurveTo(t,n=(n+r)/2,i,n,i,r)}function E(e,t,n,i,r){var o=Te(t,n),s=Te(t,n=(n+r)/2),a=Te(i,n),l=Te(i,r);e.moveTo(o[0],o[1]);e.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}function w(){return b(x)}function T(){return b(_)}function S(){var e=b(E);e.angle=e.x,delete e.x;e.radius=e.y,delete e.y;return e}function C(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function L(e){this._context=e}function N(e){this._context=e}function I(e){this._context=e}function A(e,t){this._basis=new L(e);this._beta=t}function R(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function O(e,t){this._context=e;this._k=(1-t)/6}function P(e,t){this._context=e;this._k=(1-t)/6}function k(e,t){this._context=e;this._k=(1-t)/6}function M(e,t,n){var i=e._x1,r=e._y1,o=e._x2,s=e._y2;if(e._l01_a>ce){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l;r=(r*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>ce){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c;s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(i,r,o,s,e._x2,e._y2)}function D(e,t){this._context=e;this._alpha=t}function j(e,t){this._context=e;this._alpha=t}function B(e,t){this._context=e;this._alpha=t}function q(e){this._context=e}function U(e){return e<0?-1:1}function F(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),s=(n-e._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(U(o)+U(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function G(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function z(e,t,n){var i=e._x0,r=e._y0,o=e._x1,s=e._y1,a=(o-i)/3;e._context.bezierCurveTo(i+a,r+a*t,o-a,s-a*n,o,s)}function H(e){this._context=e}function V(e){this._context=new W(e)}function W(e){this._context=e}function Y(e){return new H(e)}function Z(e){return new V(e)}function $(e){this._context=e}function K(e){var t,n,i=e.length-1,r=new Array(i),o=new Array(i),s=new Array(i);r[0]=0,o[0]=2,s[0]=e[0]+2*e[1];for(t=1;t<i-1;++t)r[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];r[i-1]=2,o[i-1]=7,s[i-1]=8*e[i-1]+e[i];for(t=1;t<i;++t)n=r[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];r[i-1]=s[i-1]/o[i-1];for(t=i-2;t>=0;--t)r[t]=(s[t]-r[t+1])/o[t];o[i-1]=(e[i]+r[i-1])/2;for(t=0;t<i-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function X(e,t){this._context=e;this._t=t}function Q(e){return new X(e,0)}function J(e){return new X(e,1)}function ee(e,t){return e[t]}function te(e){for(var t,n=0,i=-1,r=e.length;++i<r;)(t=+e[i][1])&&(n+=t);return n}var ne=function(e){return function(){return e}},ie=Math.abs,re=Math.atan2,oe=Math.cos,se=Math.max,ae=Math.min,le=Math.sin,ue=Math.sqrt,ce=1e-12,fe=Math.PI,pe=fe/2,he=2*fe,de=function(){function e(){
var e,r,o=+f.apply(this,arguments),s=+p.apply(this,arguments),a=g.apply(this,arguments)-pe,l=m.apply(this,arguments)-pe,b=ie(l-a),x=l>a;y||(y=e=t.path());s<o&&(r=s,s=o,o=r);if(s>ce)if(b>he-ce){y.moveTo(s*oe(a),s*le(a));y.arc(0,0,s,a,l,!x);if(o>ce){y.moveTo(o*oe(l),o*le(l));y.arc(0,0,o,l,a,x)}}else{var _,E,w=a,T=l,S=a,C=l,L=b,N=b,I=v.apply(this,arguments)/2,A=I>ce&&(d?+d.apply(this,arguments):ue(o*o+s*s)),R=ae(ie(s-o)/2,+h.apply(this,arguments)),O=R,P=R;if(A>ce){var k=i(A/o*le(I)),M=i(A/s*le(I));(L-=2*k)>ce?(k*=x?1:-1,S+=k,C-=k):(L=0,S=C=(a+l)/2);(N-=2*M)>ce?(M*=x?1:-1,w+=M,T-=M):(N=0,w=T=(a+l)/2)}var D=s*oe(w),j=s*le(w),B=o*oe(C),q=o*le(C);if(R>ce){var U=s*oe(T),F=s*le(T),G=o*oe(S),z=o*le(S);if(b<fe){var H=L>ce?u(D,j,G,z,U,F,B,q):[B,q],V=D-H[0],W=j-H[1],Y=U-H[0],Z=F-H[1],$=1/le(n((V*Y+W*Z)/(ue(V*V+W*W)*ue(Y*Y+Z*Z)))/2),K=ue(H[0]*H[0]+H[1]*H[1]);O=ae(R,(o-K)/($-1));P=ae(R,(s-K)/($+1))}}if(N>ce)if(P>ce){_=c(G,z,D,j,s,P,x);E=c(U,F,B,q,s,P,x);y.moveTo(_.cx+_.x01,_.cy+_.y01);if(P<R)y.arc(_.cx,_.cy,P,re(_.y01,_.x01),re(E.y01,E.x01),!x);else{y.arc(_.cx,_.cy,P,re(_.y01,_.x01),re(_.y11,_.x11),!x);y.arc(0,0,s,re(_.cy+_.y11,_.cx+_.x11),re(E.cy+E.y11,E.cx+E.x11),!x);y.arc(E.cx,E.cy,P,re(E.y11,E.x11),re(E.y01,E.x01),!x)}}else y.moveTo(D,j),y.arc(0,0,s,w,T,!x);else y.moveTo(D,j);if(o>ce&&L>ce)if(O>ce){_=c(B,q,U,F,o,-O,x);E=c(D,j,G,z,o,-O,x);y.lineTo(_.cx+_.x01,_.cy+_.y01);if(O<R)y.arc(_.cx,_.cy,O,re(_.y01,_.x01),re(E.y01,E.x01),!x);else{y.arc(_.cx,_.cy,O,re(_.y01,_.x01),re(_.y11,_.x11),!x);y.arc(0,0,o,re(_.cy+_.y11,_.cx+_.x11),re(E.cy+E.y11,E.cx+E.x11),x);y.arc(E.cx,E.cy,O,re(E.y11,E.x11),re(E.y01,E.x01),!x)}}else y.arc(0,0,o,C,S,x);else y.lineTo(B,q)}else y.moveTo(0,0);y.closePath();if(e)return y=null,e+""||null}var f=r,p=o,h=ne(0),d=null,g=s,m=a,v=l,y=null;e.centroid=function(){var e=(+f.apply(this,arguments)+ +p.apply(this,arguments))/2,t=(+g.apply(this,arguments)+ +m.apply(this,arguments))/2-fe/2;return[oe(t)*e,le(t)*e]};e.innerRadius=function(t){return arguments.length?(f="function"==typeof t?t:ne(+t),e):f};e.outerRadius=function(t){return arguments.length?(p="function"==typeof t?t:ne(+t),e):p};e.cornerRadius=function(t){return arguments.length?(h="function"==typeof t?t:ne(+t),e):h};e.padRadius=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:ne(+t),e):d};e.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:ne(+t),e):g};e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:ne(+t),e):m};e.padAngle=function(t){return arguments.length?(v="function"==typeof t?t:ne(+t),e):v};e.context=function(t){return arguments.length?(y=null==t?null:t,e):y};return e};f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var ge=function(e){return new f(e)},me=function(){function e(e){var l,u,c,f=e.length,p=!1;null==o&&(a=s(c=t.path()));for(l=0;l<=f;++l){!(l<f&&r(u=e[l],l,e))===p&&((p=!p)?a.lineStart():a.lineEnd());p&&a.point(+n(u,l,e),+i(u,l,e))}if(c)return a=null,c+""||null}var n=p,i=h,r=ne(!0),o=null,s=ge,a=null;e.x=function(t){return arguments.length?(n="function"==typeof t?t:ne(+t),e):n};e.y=function(t){return arguments.length?(i="function"==typeof t?t:ne(+t),e):i};e.defined=function(t){return arguments.length?(r="function"==typeof t?t:ne(!!t),e):r};e.curve=function(t){return arguments.length?(s=t,null!=o&&(a=s(o)),e):s};e.context=function(t){return arguments.length?(null==t?o=a=null:a=s(o=t),e):o};return e},ve=function(){function e(e){var n,f,p,h,d,g=e.length,m=!1,v=new Array(g),y=new Array(g);null==l&&(c=u(d=t.path()));for(n=0;n<=g;++n){if(!(n<g&&a(h=e[n],n,e))===m)if(m=!m){f=n;c.areaStart();c.lineStart()}else{c.lineEnd();c.lineStart();for(p=n-1;p>=f;--p)c.point(v[p],y[p]);c.lineEnd();c.areaEnd()}if(m){v[n]=+i(h,n,e),y[n]=+o(h,n,e);c.point(r?+r(h,n,e):v[n],s?+s(h,n,e):y[n])}}if(d)return c=null,d+""||null}function n(){return me().defined(a).curve(u).context(l)}var i=p,r=null,o=ne(0),s=h,a=ne(!0),l=null,u=ge,c=null;e.x=function(t){return arguments.length?(i="function"==typeof t?t:ne(+t),r=null,e):i};e.x0=function(t){return arguments.length?(i="function"==typeof t?t:ne(+t),e):i};e.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ne(+t),e):r};e.y=function(t){return arguments.length?(o="function"==typeof t?t:ne(+t),s=null,e):o};e.y0=function(t){return arguments.length?(o="function"==typeof t?t:ne(+t),e):o};e.y1=function(t){return arguments.length?(s=null==t?null:"function"==typeof t?t:ne(+t),e):s};e.lineX0=e.lineY0=function(){return n().x(i).y(o)};e.lineY1=function(){return n().x(i).y(s)};e.lineX1=function(){return n().x(r).y(o)};e.defined=function(t){return arguments.length?(a="function"==typeof t?t:ne(!!t),e):a};e.curve=function(t){return arguments.length?(u=t,null!=l&&(c=u(l)),e):u};e.context=function(t){return arguments.length?(null==t?l=c=null:c=u(l=t),e):l};return e},ye=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},be=function(e){return e},xe=function(){function e(e){var a,l,u,c,f,p=e.length,h=0,d=new Array(p),g=new Array(p),m=+r.apply(this,arguments),v=Math.min(he,Math.max(-he,o.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/p,s.apply(this,arguments)),b=y*(v<0?-1:1);for(a=0;a<p;++a)(f=g[d[a]=a]=+t(e[a],a,e))>0&&(h+=f);null!=n?d.sort(function(e,t){return n(g[e],g[t])}):null!=i&&d.sort(function(t,n){return i(e[t],e[n])});for(a=0,u=h?(v-p*b)/h:0;a<p;++a,m=c)l=d[a],f=g[l],c=m+(f>0?f*u:0)+b,g[l]={data:e[l],index:a,value:f,startAngle:m,endAngle:c,padAngle:y};return g}var t=be,n=ye,i=null,r=ne(0),o=ne(he),s=ne(0);e.value=function(n){return arguments.length?(t="function"==typeof n?n:ne(+n),e):t};e.sortValues=function(t){return arguments.length?(n=t,i=null,e):n};e.sort=function(t){return arguments.length?(i=t,n=null,e):i};e.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:ne(+t),e):r};e.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:ne(+t),e):o};e.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:ne(+t),e):s};return e},_e=g(ge);d.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var Ee=function(){return m(me().curve(_e))},we=function(){var e=ve().curve(_e),t=e.curve,n=e.lineX0,i=e.lineX1,r=e.lineY0,o=e.lineY1;e.angle=e.x,delete e.x;e.startAngle=e.x0,delete e.x0;e.endAngle=e.x1,delete e.x1;e.radius=e.y,delete e.y;e.innerRadius=e.y0,delete e.y0;e.outerRadius=e.y1,delete e.y1;e.lineStartAngle=function(){return m(n())},delete e.lineX0;e.lineEndAngle=function(){return m(i())},delete e.lineX1;e.lineInnerRadius=function(){return m(r())},delete e.lineY0;e.lineOuterRadius=function(){return m(o())},delete e.lineY1;e.curve=function(e){return arguments.length?t(g(e)):t()._curve};return e},Te=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},Se=Array.prototype.slice,Ce={draw:function(e,t){var n=Math.sqrt(t/fe);e.moveTo(n,0);e.arc(0,0,n,0,he)}},Le={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n);e.lineTo(-n,-n);e.lineTo(-n,-3*n);e.lineTo(n,-3*n);e.lineTo(n,-n);e.lineTo(3*n,-n);e.lineTo(3*n,n);e.lineTo(n,n);e.lineTo(n,3*n);e.lineTo(-n,3*n);e.lineTo(-n,n);e.lineTo(-3*n,n);e.closePath()}},Ne=Math.sqrt(1/3),Ie=2*Ne,Ae={draw:function(e,t){var n=Math.sqrt(t/Ie),i=n*Ne;e.moveTo(0,-n);e.lineTo(i,0);e.lineTo(0,n);e.lineTo(-i,0);e.closePath()}},Re=.8908130915292852,Oe=Math.sin(fe/10)/Math.sin(7*fe/10),Pe=Math.sin(he/10)*Oe,ke=-Math.cos(he/10)*Oe,Me={draw:function(e,t){var n=Math.sqrt(t*Re),i=Pe*n,r=ke*n;e.moveTo(0,-n);e.lineTo(i,r);for(var o=1;o<5;++o){var s=he*o/5,a=Math.cos(s),l=Math.sin(s);e.lineTo(l*n,-a*n);e.lineTo(a*i-l*r,l*i+a*r)}e.closePath()}},De={draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},je=Math.sqrt(3),Be={draw:function(e,t){var n=-Math.sqrt(t/(3*je));e.moveTo(0,2*n);e.lineTo(-je*n,-n);e.lineTo(je*n,-n);e.closePath()}},qe=-.5,Ue=Math.sqrt(3)/2,Fe=1/Math.sqrt(12),Ge=3*(Fe/2+1),ze={draw:function(e,t){var n=Math.sqrt(t/Ge),i=n/2,r=n*Fe,o=i,s=n*Fe+n,a=-o,l=s;e.moveTo(i,r);e.lineTo(o,s);e.lineTo(a,l);e.lineTo(qe*i-Ue*r,Ue*i+qe*r);e.lineTo(qe*o-Ue*s,Ue*o+qe*s);e.lineTo(qe*a-Ue*l,Ue*a+qe*l);e.lineTo(qe*i+Ue*r,qe*r-Ue*i);e.lineTo(qe*o+Ue*s,qe*s-Ue*o);e.lineTo(qe*a+Ue*l,qe*l-Ue*a);e.closePath()}},He=[Ce,Le,Ae,De,Me,Be,ze],Ve=function(){function e(){var e;r||(r=e=t.path());n.apply(this,arguments).draw(r,+i.apply(this,arguments));if(e)return r=null,e+""||null}var n=ne(Ce),i=ne(64),r=null;e.type=function(t){return arguments.length?(n="function"==typeof t?t:ne(t),e):n};e.size=function(t){return arguments.length?(i="function"==typeof t?t:ne(+t),e):i};e.context=function(t){return arguments.length?(r=null==t?null:t,e):r};return e},We=function(){};L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:C(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C(this,e,t)}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};var Ye=function(e){return new L(e)};N.prototype={areaStart:We,areaEnd:We,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2);this.point(this._x3,this._y3);this.point(this._x4,this._y4)}},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._x2=e,this._y2=t;break;case 1:this._point=2;this._x3=e,this._y3=t;break;case 2:this._point=3;this._x4=e,this._y4=t;this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:C(this,e,t)}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};var Ze=function(e){return new N(e)};I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:C(this,e,t)}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};var $e=function(e){return new I(e)};A.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i,r=e[0],o=t[0],s=e[n]-r,a=t[n]-o,l=-1;++l<=n;){i=l/n;this._basis.point(this._beta*e[l]+(1-this._beta)*(r+i*s),this._beta*t[l]+(1-this._beta)*(o+i*a))}this._x=this._y=null;this._basis.lineEnd()},point:function(e,t){this._x.push(+e);this._y.push(+t)}};var Ke=function vt(e){function t(t){return 1===e?new L(t):new A(t,e)}t.beta=function(e){return vt(+e)};return t}(.85);O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:R(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;this._x1=e,this._y1=t;break;case 2:this._point=3;default:R(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Xe=function yt(e){function t(t){return new O(t,e)}t.tension=function(e){return yt(+e)};return t}(0);P.prototype={areaStart:We,areaEnd:We,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5)}},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._x3=e,this._y3=t;break;case 1:this._point=2;this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3;this._x5=e,this._y5=t;break;default:R(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Qe=function bt(e){function t(t){return new P(t,e)}t.tension=function(e){return bt(+e)};return t}(0);k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:R(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Je=function xt(e){function t(t){return new k(t,e)}t.tension=function(e){return xt(+e)};return t}(0);D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:M(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var et=function _t(e){function t(t){return e?new D(t,e):new O(t,0)}t.alpha=function(e){return _t(+e)};return t}(.5);j.prototype={areaStart:We,areaEnd:We,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5)}},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=e,this._y3=t;break;case 1:this._point=2;this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3;this._x5=e,this._y5=t;break;default:M(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tt=function Et(e){function t(t){return e?new j(t,e):new P(t,0)}t.alpha=function(e){return Et(+e)};return t}(.5);B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:M(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var nt=function wt(e){function t(t){return e?new B(t,e):new k(t,0)}t.alpha=function(e){return wt(+e)};return t}(.5);q.prototype={areaStart:We,areaEnd:We,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t;this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var it=function(e){return new q(e)};H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z(this,this._t0,G(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(e,t){var n=NaN;e=+e,t=+t;if(e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;z(this,G(this,n=F(this,e,t)),n);break;default:z(this,this._t0,n=F(this,e,t))}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t;this._t0=n}}};(V.prototype=Object.create(H.prototype)).point=function(e,t){H.prototype.point.call(this,t,e)};W.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}};$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n){this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]);if(2===n)this._context.lineTo(e[1],t[1]);else for(var i=K(e),r=K(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[s],t[s])}(this._line||0!==this._line&&1===n)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(e,t){this._x.push(+e);this._y.push(+t)}};var rt=function(e){return new $(e)};X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0){this._context.lineTo(this._x,t);this._context.lineTo(e,t)}else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y);this._context.lineTo(n,t)}}this._x=e,this._y=t}};var ot=function(e){return new X(e,.5)},st=function(e,t){if((r=e.length)>1)for(var n,i,r,o=1,s=e[t[0]],a=s.length;o<r;++o){i=s,s=e[t[o]];for(n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}},at=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n},lt=function(){function e(e){var o,s,a=t.apply(this,arguments),l=e.length,u=a.length,c=new Array(u);for(o=0;o<u;++o){for(var f,p=a[o],h=c[o]=new Array(l),d=0;d<l;++d){h[d]=f=[0,+r(e[d],p,d,e)];f.data=e[d]}h.key=p}for(o=0,s=n(c);o<u;++o)c[s[o]].index=o;i(c,s);return c}var t=ne([]),n=at,i=st,r=ee;e.keys=function(n){return arguments.length?(t="function"==typeof n?n:ne(Se.call(n)),e):t};e.value=function(t){return arguments.length?(r="function"==typeof t?t:ne(+t),e):r};e.order=function(t){return arguments.length?(n=null==t?at:"function"==typeof t?t:ne(Se.call(t)),e):n};e.offset=function(t){return arguments.length?(i=null==t?st:t,e):i};return e},ut=function(e,t){if((i=e.length)>0){for(var n,i,r,o=0,s=e[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=e[n][o][1]||0;if(r)for(n=0;n<i;++n)e[n][o][1]/=r}st(e,t)}},ct=function(e,t){if((a=e.length)>1)for(var n,i,r,o,s,a,l=0,u=e[t[0]].length;l<u;++l)for(o=s=0,n=0;n<a;++n)(r=(i=e[t[n]][l])[1]-i[0])>=0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):i[0]=o},ft=function(e,t){if((n=e.length)>0){for(var n,i=0,r=e[t[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=e[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}st(e,t)}},pt=function(e,t){if((r=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,l=0,u=0;a<r;++a){for(var c=e[t[a]],f=c[s][1]||0,p=c[s-1][1]||0,h=(f-p)/2,d=0;d<a;++d){var g=e[t[d]],m=g[s][1]||0,v=g[s-1][1]||0;h+=m-v}l+=f,u+=h*f}n[s-1][1]+=n[s-1][0]=o;l&&(o-=u/l)}n[s-1][1]+=n[s-1][0]=o;st(e,t)}},ht=function(e){var t=e.map(te);return at(e).sort(function(e,n){return t[e]-t[n]})},dt=function(e){return ht(e).reverse()},gt=function(e){var t,n,i=e.length,r=e.map(te),o=at(e).sort(function(e,t){return r[t]-r[e]}),s=0,a=0,l=[],u=[];for(t=0;t<i;++t){n=o[t];if(s<a){s+=r[n];l.push(n)}else{a+=r[n];u.push(n)}}return u.reverse().concat(l)},mt=function(e){return at(e).reverse()};e.arc=de;e.area=ve;e.line=me;e.pie=xe;e.areaRadial=we;e.radialArea=we;e.lineRadial=Ee;e.radialLine=Ee;e.pointRadial=Te;e.linkHorizontal=w;e.linkVertical=T;e.linkRadial=S;e.symbol=Ve;e.symbols=He;e.symbolCircle=Ce;e.symbolCross=Le;e.symbolDiamond=Ae;e.symbolSquare=De;e.symbolStar=Me;e.symbolTriangle=Be;e.symbolWye=ze;e.curveBasisClosed=Ze;e.curveBasisOpen=$e;e.curveBasis=Ye;e.curveBundle=Ke;e.curveCardinalClosed=Qe;e.curveCardinalOpen=Je;e.curveCardinal=Xe;e.curveCatmullRomClosed=tt;e.curveCatmullRomOpen=nt;e.curveCatmullRom=et;e.curveLinearClosed=it;e.curveLinear=ge;e.curveMonotoneX=Y;e.curveMonotoneY=Z;e.curveNatural=rt;e.curveStep=ot;e.curveStepAfter=J;e.curveStepBefore=Q;e.stack=lt;e.stackOffsetExpand=ut;e.stackOffsetDiverging=ct;e.stackOffsetNone=st;e.stackOffsetSilhouette=ft;e.stackOffsetWiggle=pt;e.stackOrderAscending=ht;e.stackOrderDescending=dt;e.stackOrderInsideOut=gt;e.stackOrderNone=at;e.stackOrderReverse=mt;Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-path":45}],54:[function(e,t,n){(function(i,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("d3-time")):"function"==typeof define&&define.amd?define(["exports","d3-time"],r):r(i.d3=i.d3||{},i.d3)})(this,function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date((-1),e.m,e.d,e.H,e.M,e.S,e.L);t.setFullYear(e.y);return t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));t.setUTCFullYear(e.y);return t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function r(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function o(e){function o(e,t){return function(n){var i,r,o,s=[],a=-1,l=0,u=e.length;n instanceof Date||(n=new Date((+n)));for(;++a<u;)if(37===e.charCodeAt(a)){s.push(e.slice(l,a));null!=(r=me[i=e.charAt(++a)])?i=e.charAt(++a):r="e"===i?" ":"0";(o=t[i])&&(i=o(n,r));s.push(i);l=a+1}s.push(e.slice(l,a));return s.join("")}}function s(e,n){return function(o){var s,l,u=r(1900),c=a(u,e,o+="",0);if(c!=o.length)return null;if("Q"in u)return new Date(u.Q);"p"in u&&(u.H=u.H%12+12*u.p);if("V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1);if("Z"in u){s=i(r(u.y)),l=s.getUTCDay();s=l>4||0===l?t.utcMonday.ceil(s):t.utcMonday(s);s=t.utcDay.offset(s,7*(u.V-1));u.y=s.getUTCFullYear();u.m=s.getUTCMonth();u.d=s.getUTCDate()+(u.w+6)%7}else{s=n(r(u.y)),l=s.getDay();s=l>4||0===l?t.timeMonday.ceil(s):t.timeMonday(s);s=t.timeDay.offset(s,7*(u.V-1));u.y=s.getFullYear();u.m=s.getMonth();u.d=s.getDate()+(u.w+6)%7}}else if("W"in u||"U"in u){"w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0);l="Z"in u?i(r(u.y)).getUTCDay():n(r(u.y)).getDay();u.m=0;u.d="W"in u?(u.w+6)%7+7*u.W-(l+5)%7:u.w+7*u.U-(l+6)%7}if("Z"in u){u.H+=u.Z/100|0;u.M+=u.Z%100;return i(u)}return n(u)}}function a(e,t,n,i){for(var r,o,s=0,a=t.length,l=n.length;s<a;){if(i>=l)return-1;r=t.charCodeAt(s++);if(37===r){r=t.charAt(s++);o=Xe[r in me?t.charAt(s++):r];if(!o||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function pe(e,t,n){var i=qe.exec(t.slice(n));return i?(e.p=Ue[i[0].toLowerCase()],n+i[0].length):-1}function he(e,t,n){var i=ze.exec(t.slice(n));return i?(e.w=He[i[0].toLowerCase()],n+i[0].length):-1}function de(e,t,n){var i=Fe.exec(t.slice(n));return i?(e.w=Ge[i[0].toLowerCase()],n+i[0].length):-1}function ge(e,t,n){var i=Ye.exec(t.slice(n));return i?(e.m=Ze[i[0].toLowerCase()],n+i[0].length):-1}function ve(e,t,n){var i=Ve.exec(t.slice(n));return i?(e.m=We[i[0].toLowerCase()],n+i[0].length):-1}function ye(e,t,n){return a(e,Re,t,n)}function be(e,t,n){return a(e,Oe,t,n)}function xe(e,t,n){return a(e,Pe,t,n)}function _e(e){return De[e.getDay()]}function Ee(e){return Me[e.getDay()]}function we(e){return Be[e.getMonth()]}function Te(e){return je[e.getMonth()]}function Se(e){return ke[+(e.getHours()>=12)]}function Ce(e){return De[e.getUTCDay()]}function Le(e){return Me[e.getUTCDay()]}function Ne(e){return Be[e.getUTCMonth()]}function Ie(e){return je[e.getUTCMonth()]}function Ae(e){return ke[+(e.getUTCHours()>=12)]}var Re=e.dateTime,Oe=e.date,Pe=e.time,ke=e.periods,Me=e.days,De=e.shortDays,je=e.months,Be=e.shortMonths,qe=l(ke),Ue=u(ke),Fe=l(Me),Ge=u(Me),ze=l(De),He=u(De),Ve=l(je),We=u(je),Ye=l(Be),Ze=u(Be),$e={a:_e,A:Ee,b:we,B:Te,c:null,d:I,e:I,f:k,H:A,I:R,j:O,L:P,m:M,M:D,p:Se,Q:ce,s:fe,S:j,u:B,U:q,V:U,w:F,W:G,x:null,X:null,y:z,Y:H,Z:V,"%":ue},Ke={a:Ce,A:Le,b:Ne,B:Ie,c:null,d:W,e:W,f:X,H:Y,I:Z,j:$,L:K,m:Q,M:J,p:Ae,Q:ce,s:fe,S:ee,u:te,U:ne,V:ie,w:re,W:oe,x:null,X:null,y:se,Y:ae,Z:le,"%":ue},Xe={a:he,A:de,b:ge,B:ve,c:ye,d:b,e:b,f:S,H:_,I:_,j:x,L:T,m:y,M:E,p:pe,Q:L,s:N,S:w,u:f,U:p,V:h,w:c,W:d,x:be,X:xe,y:m,Y:g,Z:v,"%":C};$e.x=o(Oe,$e);$e.X=o(Pe,$e);$e.c=o(Re,$e);Ke.x=o(Oe,Ke);Ke.X=o(Pe,Ke);Ke.c=o(Re,Ke);return{format:function(e){var t=o(e+="",$e);t.toString=function(){return e};return t},parse:function(e){var t=s(e+="",n);t.toString=function(){return e};return t},utcFormat:function(e){var t=o(e+="",Ke);t.toString=function(){return e};return t},utcParse:function(e){var t=s(e,i);t.toString=function(){return e};return t}}}function s(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function a(e){return e.replace(be,"\\$&")}function l(e){return new RegExp("^(?:"+e.map(a).join("|")+")","i")}function u(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function c(e,t,n){var i=ve.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function f(e,t,n){var i=ve.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function p(e,t,n){var i=ve.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function h(e,t,n){var i=ve.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function d(e,t,n){var i=ve.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function g(e,t,n){var i=ve.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function m(e,t,n){var i=ve.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function v(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function y(e,t,n){var i=ve.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function b(e,t,n){var i=ve.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function x(e,t,n){var i=ve.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function _(e,t,n){var i=ve.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function E(e,t,n){var i=ve.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function w(e,t,n){var i=ve.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function T(e,t,n){var i=ve.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function S(e,t,n){var i=ve.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function C(e,t,n){var i=ye.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function L(e,t,n){var i=ve.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function N(e,t,n){var i=ve.exec(t.slice(n));return i?(e.Q=1e3*+i[0],n+i[0].length):-1}function I(e,t){return s(e.getDate(),t,2)}function A(e,t){return s(e.getHours(),t,2)}function R(e,t){return s(e.getHours()%12||12,t,2)}function O(e,n){return s(1+t.timeDay.count(t.timeYear(e),e),n,3)}function P(e,t){return s(e.getMilliseconds(),t,3)}function k(e,t){return P(e,t)+"000"}function M(e,t){return s(e.getMonth()+1,t,2)}function D(e,t){return s(e.getMinutes(),t,2)}function j(e,t){return s(e.getSeconds(),t,2)}function B(e){var t=e.getDay();return 0===t?7:t}function q(e,n){return s(t.timeSunday.count(t.timeYear(e),e),n,2)}function U(e,n){var i=e.getDay();e=i>=4||0===i?t.timeThursday(e):t.timeThursday.ceil(e);return s(t.timeThursday.count(t.timeYear(e),e)+(4===t.timeYear(e).getDay()),n,2)}function F(e){return e.getDay()}function G(e,n){return s(t.timeMonday.count(t.timeYear(e),e),n,2)}function z(e,t){return s(e.getFullYear()%100,t,2)}function H(e,t){return s(e.getFullYear()%1e4,t,4)}function V(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+s(t/60|0,"0",2)+s(t%60,"0",2)}function W(e,t){return s(e.getUTCDate(),t,2)}function Y(e,t){return s(e.getUTCHours(),t,2)}function Z(e,t){return s(e.getUTCHours()%12||12,t,2)}function $(e,n){return s(1+t.utcDay.count(t.utcYear(e),e),n,3)}function K(e,t){return s(e.getUTCMilliseconds(),t,3)}function X(e,t){return K(e,t)+"000"}function Q(e,t){return s(e.getUTCMonth()+1,t,2)}function J(e,t){return s(e.getUTCMinutes(),t,2)}function ee(e,t){return s(e.getUTCSeconds(),t,2)}function te(e){var t=e.getUTCDay();return 0===t?7:t}function ne(e,n){return s(t.utcSunday.count(t.utcYear(e),e),n,2)}function ie(e,n){var i=e.getUTCDay();e=i>=4||0===i?t.utcThursday(e):t.utcThursday.ceil(e);return s(t.utcThursday.count(t.utcYear(e),e)+(4===t.utcYear(e).getUTCDay()),n,2)}function re(e){return e.getUTCDay()}function oe(e,n){return s(t.utcMonday.count(t.utcYear(e),e),n,2)}function se(e,t){return s(e.getUTCFullYear()%100,t,2)}function ae(e,t){return s(e.getUTCFullYear()%1e4,t,4)}function le(){return"+0000"}function ue(){return"%"}function ce(e){return+e}function fe(e){return Math.floor(+e/1e3)}function pe(t){ge=o(t);e.timeFormat=ge.format;e.timeParse=ge.parse;e.utcFormat=ge.utcFormat;e.utcParse=ge.utcParse;return ge;
}function he(e){return e.toISOString()}function de(e){var t=new Date(e);return isNaN(t)?null:t}var ge,me={"-":"",_:" ",0:"0"},ve=/^\s*\d+/,ye=/^%/,be=/[\\^$*+?|[\]().{}]/g;pe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var xe="%Y-%m-%dT%H:%M:%S.%LZ",_e=Date.prototype.toISOString?he:e.utcFormat(xe),Ee=+new Date("2000-01-01T00:00:00.000Z")?de:e.utcParse(xe);e.timeFormatDefaultLocale=pe;e.timeFormatLocale=o;e.isoFormat=_e;e.isoParse=Ee;Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-time":55}],55:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e,n,i,s){function a(t){return e(t=new Date((+t))),t}a.floor=a;a.ceil=function(t){return e(t=new Date(t-1)),n(t,1),e(t),t};a.round=function(e){var t=a(e),n=a.ceil(e);return e-t<n-e?t:n};a.offset=function(e,t){return n(e=new Date((+e)),null==t?1:Math.floor(t)),e};a.range=function(t,i,r){var o,s=[];t=a.ceil(t);r=null==r?1:Math.floor(r);if(!(t<i&&r>0))return s;do s.push(o=new Date((+t))),n(t,r),e(t);while(o<t&&t<i);return s};a.filter=function(i){return t(function(t){if(t>=t)for(;e(t),!i(t);)t.setTime(t-1)},function(e,t){if(e>=e)if(t<0)for(;++t<=0;)for(;n(e,-1),!i(e););else for(;--t>=0;)for(;n(e,1),!i(e););})};if(i){a.count=function(t,n){r.setTime(+t),o.setTime(+n);e(r),e(o);return Math.floor(i(r,o))};a.every=function(e){e=Math.floor(e);return isFinite(e)&&e>0?e>1?a.filter(s?function(t){return s(t)%e===0}:function(t){return a.count(0,t)%e===0}):a:null}}return a}function n(e){return t(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7);t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*u)/p})}function i(e){return t(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7);t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/p})}var r=new Date,o=new Date,s=t(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});s.every=function(e){e=Math.floor(e);return isFinite(e)&&e>0?e>1?t(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):s:null};var a=s.range,l=1e3,u=6e4,c=36e5,f=864e5,p=6048e5,h=t(function(e){e.setTime(Math.floor(e/l)*l)},function(e,t){e.setTime(+e+t*l)},function(e,t){return(t-e)/l},function(e){return e.getUTCSeconds()}),d=h.range,g=t(function(e){e.setTime(Math.floor(e/u)*u)},function(e,t){e.setTime(+e+t*u)},function(e,t){return(t-e)/u},function(e){return e.getMinutes()}),m=g.range,v=t(function(e){var t=e.getTimezoneOffset()*u%c;t<0&&(t+=c);e.setTime(Math.floor((+e-t)/c)*c+t)},function(e,t){e.setTime(+e+t*c)},function(e,t){return(t-e)/c},function(e){return e.getHours()}),y=v.range,b=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*u)/f},function(e){return e.getDate()-1}),x=b.range,_=n(0),E=n(1),w=n(2),T=n(3),S=n(4),C=n(5),L=n(6),N=_.range,I=E.range,A=w.range,R=T.range,O=S.range,P=C.range,k=L.range,M=t(function(e){e.setDate(1);e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),D=M.range,j=t(function(e){e.setMonth(0,1);e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});j.every=function(e){return isFinite(e=Math.floor(e))&&e>0?t(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e);t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var B=j.range,q=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*u)},function(e,t){return(t-e)/u},function(e){return e.getUTCMinutes()}),U=q.range,F=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*c)},function(e,t){return(t-e)/c},function(e){return e.getUTCHours()}),G=F.range,z=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/f},function(e){return e.getUTCDate()-1}),H=z.range,V=i(0),W=i(1),Y=i(2),Z=i(3),$=i(4),K=i(5),X=i(6),Q=V.range,J=W.range,ee=Y.range,te=Z.range,ne=$.range,ie=K.range,re=X.range,oe=t(function(e){e.setUTCDate(1);e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),se=oe.range,ae=t(function(e){e.setUTCMonth(0,1);e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});ae.every=function(e){return isFinite(e=Math.floor(e))&&e>0?t(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e);t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var le=ae.range;e.timeInterval=t;e.timeMillisecond=s;e.timeMilliseconds=a;e.utcMillisecond=s;e.utcMilliseconds=a;e.timeSecond=h;e.timeSeconds=d;e.utcSecond=h;e.utcSeconds=d;e.timeMinute=g;e.timeMinutes=m;e.timeHour=v;e.timeHours=y;e.timeDay=b;e.timeDays=x;e.timeWeek=_;e.timeWeeks=N;e.timeSunday=_;e.timeSundays=N;e.timeMonday=E;e.timeMondays=I;e.timeTuesday=w;e.timeTuesdays=A;e.timeWednesday=T;e.timeWednesdays=R;e.timeThursday=S;e.timeThursdays=O;e.timeFriday=C;e.timeFridays=P;e.timeSaturday=L;e.timeSaturdays=k;e.timeMonth=M;e.timeMonths=D;e.timeYear=j;e.timeYears=B;e.utcMinute=q;e.utcMinutes=U;e.utcHour=F;e.utcHours=G;e.utcDay=z;e.utcDays=H;e.utcWeek=V;e.utcWeeks=Q;e.utcSunday=V;e.utcSundays=Q;e.utcMonday=W;e.utcMondays=J;e.utcTuesday=Y;e.utcTuesdays=ee;e.utcWednesday=Z;e.utcWednesdays=te;e.utcThursday=$;e.utcThursdays=ne;e.utcFriday=K;e.utcFridays=ie;e.utcSaturday=X;e.utcSaturdays=re;e.utcMonth=oe;e.utcMonths=se;e.utcYear=ae;e.utcYears=le;Object.defineProperty(e,"__esModule",{value:!0})})},{}],56:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(){return v||(x(n),v=b.now()+y)}function n(){v=0}function i(){this._call=this._time=this._next=null}function r(e,t,n){var r=new i;r.restart(e,t,n);return r}function o(){t();++p;for(var e,n=c;n;){(e=v-n._time)>=0&&n._call.call(null,e);n=n._next}--p}function s(){v=(m=b.now())+y;p=h=0;try{o()}finally{p=0;l();v=0}}function a(){var e=b.now(),t=e-m;t>g&&(y-=t,m=e)}function l(){for(var e,t,n=c,i=1/0;n;)if(n._call){i>n._time&&(i=n._time);e=n,n=n._next}else{t=n._next,n._next=null;n=e?e._next=t:c=t}f=e;u(i)}function u(e){if(!p){h&&(h=clearTimeout(h));var t=e-v;if(t>24){e<1/0&&(h=setTimeout(s,e-b.now()-y));d&&(d=clearInterval(d))}else{d||(m=b.now(),d=setInterval(a,g));p=1,x(s)}}}var c,f,p=0,h=0,d=0,g=1e3,m=0,v=0,y=0,b="object"==typeof performance&&performance.now?performance:Date,x="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};i.prototype=r.prototype={constructor:i,restart:function(e,n,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?t():+i)+(null==n?0:+n);if(!this._next&&f!==this){f?f._next=this:c=this;f=this}this._call=e;this._time=i;u()},stop:function(){if(this._call){this._call=null;this._time=1/0;u()}}};var _=function(e,t,n){var r=new i;t=null==t?0:+t;r.restart(function(n){r.stop();e(n+t)},t,n);return r},E=function(e,n,r){var o=new i,s=n;if(null==n)return o.restart(e,n,r),o;n=+n,r=null==r?t():+r;o.restart(function a(t){t+=s;o.restart(a,s+=n,r);e(t)},n,r);return o};e.now=t;e.timer=r;e.timerFlush=o;e.timeout=_;e.interval=E;Object.defineProperty(e,"__esModule",{value:!0})})},{}],57:[function(e,t,n){(function(i,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("d3-selection"),e("d3-dispatch"),e("d3-timer"),e("d3-interpolate"),e("d3-color"),e("d3-ease")):"function"==typeof define&&define.amd?define(["exports","d3-selection","d3-dispatch","d3-timer","d3-interpolate","d3-color","d3-ease"],r):r(i.d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3,i.d3)})(this,function(e,t,n,i,r,o,s){"use strict";function a(e,t){var n=u(e,t);if(n.state>z)throw new Error("too late; already scheduled");return n}function l(e,t){var n=u(e,t);if(n.state>V)throw new Error("too late; already started");return n}function u(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function c(e,t,n){function r(e){n.state=H;n.timer.restart(o,n.delay,n.time);n.delay<=e&&o(e-n.delay)}function o(r){var c,f,p,h;if(n.state!==H)return a();for(c in u){h=u[c];if(h.name===n.name){if(h.state===W)return i.timeout(o);if(h.state===Y){h.state=$;h.timer.stop();h.on.call("interrupt",e,e.__data__,h.index,h.group);delete u[c]}else if(+c<t){h.state=$;h.timer.stop();delete u[c]}}}i.timeout(function(){if(n.state===W){n.state=Y;n.timer.restart(s,n.delay,n.time);s(r)}});n.state=V;n.on.call("start",e,e.__data__,n.index,n.group);if(n.state===V){n.state=W;l=new Array(p=n.tween.length);for(c=0,f=-1;c<p;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(l[++f]=h);l.length=f+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=Z,1),r=-1,o=l.length;++r<o;)l[r].call(null,i);if(n.state===Z){n.on.call("end",e,e.__data__,n.index,n.group);a()}}function a(){n.state=$;n.timer.stop();delete u[t];for(var i in u)return;delete e.__transition}var l,u=e.__transition;u[t]=n;n.timer=i.timer(r,0,n.time)}function f(e,t){var n,i;return function(){var r=l(this,e),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===t){i=i.slice();i.splice(s,1);break}}r.tween=i}}function p(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=l(this,e),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:t,value:n},u=0,c=r.length;u<c;++u)if(r[u].name===t){r[u]=a;break}u===c&&r.push(a)}o.tween=r}}function h(e,t,n){var i=e._id;e.each(function(){var e=l(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)});return function(e){return u(e,i).value[t]}}function d(e){return function(){this.removeAttribute(e)}}function g(e){return function(){this.removeAttributeNS(e.space,e.local)}}function m(e,t,n){var i,r;return function(){var o=this.getAttribute(e);return o===n?null:o===i?r:r=t(i=o,n)}}function v(e,t,n){var i,r;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===i?r:r=t(i=o,n)}}function y(e,t,n){var i,r,o;return function(){var s,a=n(this);if(null==a)return void this.removeAttribute(e);s=this.getAttribute(e);return s===a?null:s===i&&a===r?o:o=t(i=s,r=a)}}function b(e,t,n){var i,r,o;return function(){var s,a=n(this);if(null==a)return void this.removeAttributeNS(e.space,e.local);s=this.getAttributeNS(e.space,e.local);return s===a?null:s===i&&a===r?o:o=t(i=s,r=a)}}function x(e,t){function n(){var n=this,i=t.apply(n,arguments);return i&&function(t){n.setAttributeNS(e.space,e.local,i(t))}}n._value=t;return n}function _(e,t){function n(){var n=this,i=t.apply(n,arguments);return i&&function(t){n.setAttribute(e,i(t))}}n._value=t;return n}function E(e,t){return function(){a(this,e).delay=+t.apply(this,arguments)}}function w(e,t){return t=+t,function(){a(this,e).delay=t}}function T(e,t){return function(){l(this,e).duration=+t.apply(this,arguments)}}function S(e,t){return t=+t,function(){l(this,e).duration=t}}function C(e,t){if("function"!=typeof t)throw new Error;return function(){l(this,e).ease=t}}function L(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");t>=0&&(e=e.slice(0,t));return!e||"start"===e})}function N(e,t,n){var i,r,o=L(t)?a:l;return function(){var s=o(this,e),a=s.on;a!==i&&(r=(i=a).copy()).on(t,n);s.on=r}}function I(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function A(e,n){var i,r,o;return function(){var s=t.style(this,e),a=(this.style.removeProperty(e),t.style(this,e));return s===a?null:s===i&&a===r?o:o=n(i=s,r=a)}}function R(e){return function(){this.style.removeProperty(e)}}function O(e,n,i){var r,o;return function(){var s=t.style(this,e);return s===i?null:s===r?o:o=n(r=s,i)}}function P(e,n,i){var r,o,s;return function(){var a=t.style(this,e),l=i(this);null==l&&(l=(this.style.removeProperty(e),t.style(this,e)));return a===l?null:a===r&&l===o?s:s=n(r=a,o=l)}}function k(e,t,n){function i(){var i=this,r=t.apply(i,arguments);return r&&function(t){i.style.setProperty(e,r(t),n)}}i._value=t;return i}function M(e){return function(){this.textContent=e}}function D(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function j(e,t,n,i){this._groups=e;this._parents=t;this._name=n;this._id=i}function B(e){return t.selection().transition(e)}function q(){return++ye}function U(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return xe.time=i.now(),xe;return n}var F=n.dispatch("start","end","interrupt"),G=[],z=0,H=1,V=2,W=3,Y=4,Z=5,$=6,K=function(e,t,n,i,r,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};c(e,n,{name:t,index:i,group:r,on:F,tween:G,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:z})},X=function(e,t){var n,i,r,o=e.__transition,s=!0;if(o){t=null==t?null:t+"";for(r in o)if((n=o[r]).name===t){i=n.state>V&&n.state<Z;n.state=$;n.timer.stop();i&&n.on.call("interrupt",e,e.__data__,n.index,n.group);delete o[r]}else s=!1;s&&delete e.__transition}},Q=function(e){return this.each(function(){X(this,e)})},J=function(e,t){var n=this._id;e+="";if(arguments.length<2){for(var i,r=u(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((null==t?f:p)(n,e,t))},ee=function(e,t){var n;return("number"==typeof t?r.interpolateNumber:t instanceof o.color?r.interpolateRgb:(n=o.color(t))?(t=n,r.interpolateRgb):r.interpolateString)(e,t)},te=function(e,n){var i=t.namespace(e),o="transform"===i?r.interpolateTransformSvg:ee;return this.attrTween(e,"function"==typeof n?(i.local?b:y)(i,o,h(this,"attr."+e,n)):null==n?(i.local?g:d)(i):(i.local?v:m)(i,o,n+""))},ne=function(e,n){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;var r=t.namespace(e);return this.tween(i,(r.local?x:_)(r,n))},ie=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?E:w)(t,e)):u(this.node(),t).delay},re=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?T:S)(t,e)):u(this.node(),t).duration},oe=function(e){var t=this._id;return arguments.length?this.each(C(t,e)):u(this.node(),t).ease},se=function(e){"function"!=typeof e&&(e=t.matcher(e));for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o)for(var s,a=n[o],l=a.length,u=r[o]=[],c=0;c<l;++c)(s=a[c])&&e.call(s,s.__data__,c,a)&&u.push(s);return new j(r,this._parents,this._name,this._id)},ae=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,u=t[a],c=n[a],f=u.length,p=s[a]=new Array(f),h=0;h<f;++h)(l=u[h]||c[h])&&(p[h]=l);for(;a<i;++a)s[a]=t[a];return new j(s,this._parents,this._name,this._id)},le=function(e,t){var n=this._id;return arguments.length<2?u(this.node(),n).on.on(e):this.each(N(n,e,t))},ue=function(){return this.on("end.remove",I(this._id))},ce=function(e){var n=this._name,i=this._id;"function"!=typeof e&&(e=t.selector(e));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var l,c,f=r[a],p=f.length,h=s[a]=new Array(p),d=0;d<p;++d)if((l=f[d])&&(c=e.call(l,l.__data__,d,f))){"__data__"in l&&(c.__data__=l.__data__);h[d]=c;K(h[d],n,i,d,h,u(l,i))}return new j(s,this._parents,n,i)},fe=function(e){var n=this._name,i=this._id;"function"!=typeof e&&(e=t.selectorAll(e));for(var r=this._groups,o=r.length,s=[],a=[],l=0;l<o;++l)for(var c,f=r[l],p=f.length,h=0;h<p;++h)if(c=f[h]){for(var d,g=e.call(c,c.__data__,h,f),m=u(c,i),v=0,y=g.length;v<y;++v)(d=g[v])&&K(d,n,i,v,g,m);s.push(g);a.push(c)}return new j(s,a,n,i)},pe=t.selection.prototype.constructor,he=function(){return new pe(this._groups,this._parents)},de=function(e,t,n){var i="transform"==(e+="")?r.interpolateTransformCss:ee;return null==t?this.styleTween(e,A(e,i)).on("end.style."+e,R(e)):this.styleTween(e,"function"==typeof t?P(e,i,h(this,"style."+e,t)):O(e,i,t+""),n)},ge=function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,k(e,t,null==n?"":n))},me=function(e){return this.tween("text","function"==typeof e?D(h(this,"text",e)):M(null==e?"":e+""))},ve=function(){for(var e=this._name,t=this._id,n=q(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var f=u(s,t);K(s,e,n,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new j(i,this._parents,e,n)},ye=0,be=t.selection.prototype;j.prototype=B.prototype={constructor:j,select:ce,selectAll:fe,filter:se,merge:ae,selection:he,transition:ve,call:be.call,nodes:be.nodes,node:be.node,size:be.size,empty:be.empty,each:be.each,on:le,attr:te,attrTween:ne,style:de,styleTween:ge,text:me,remove:ue,tween:J,delay:ie,duration:re,ease:oe};var xe={time:null,delay:0,duration:250,ease:s.easeCubicInOut},_e=function(e){var t,n;e instanceof j?(t=e._id,e=e._name):(t=q(),(n=xe).time=i.now(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var a,l=r[s],u=l.length,c=0;c<u;++c)(a=l[c])&&K(a,e,t,c,l,n||U(a,t));return new j(r,this._parents,e,t)};t.selection.prototype.interrupt=Q;t.selection.prototype.transition=_e;var Ee=[null],we=function(e,t){var n,i,r=e.__transition;if(r){t=null==t?null:t+"";for(i in r)if((n=r[i]).state>H&&n.name===t)return new j([[e]],Ee,t,(+i))}return null};e.transition=B;e.active=we;e.interrupt=X;Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-color":35,"d3-dispatch":36,"d3-ease":39,"d3-interpolate":44,"d3-selection":52,"d3-timer":56}],58:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.d3=e.d3||{})})(this,function(e){"use strict";function t(e){return e[0]}function n(e){return e[1]}function i(){this._=null}function r(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function o(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i;i.U=r;n.U=i;n.R=i.L;n.R&&(n.R.U=n);i.L=n}function s(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i;i.U=r;n.U=i;n.L=i.R;n.L&&(n.L.U=n);i.R=n}function a(e){for(;e.L;)e=e.L;return e}function l(e,t,n,i){var r=[null,null],o=B.push(r)-1;r.left=e;r.right=t;n&&c(r,e,t,n);i&&c(r,t,e,i);D[e.index].halfedges.push(o);D[t.index].halfedges.push(o);return r}function u(e,t,n){var i=[t,n];i.left=e;return i}function c(e,t,n,i){if(e[0]||e[1])e.left===n?e[1]=i:e[0]=i;else{e[0]=i;e.left=t;e.right=n}}function f(e,t,n,i,r){var o,s=e[0],a=e[1],l=s[0],u=s[1],c=a[0],f=a[1],p=0,h=1,d=c-l,g=f-u;o=t-l;if(d||!(o>0)){o/=d;if(d<0){if(o<p)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>p&&(p=o)}o=i-l;if(d||!(o<0)){o/=d;if(d<0){if(o>h)return;o>p&&(p=o)}else if(d>0){if(o<p)return;o<h&&(h=o)}o=n-u;if(g||!(o>0)){o/=g;if(g<0){if(o<p)return;o<h&&(h=o)}else if(g>0){if(o>h)return;o>p&&(p=o)}o=r-u;if(g||!(o<0)){o/=g;if(g<0){if(o>h)return;o>p&&(p=o)}else if(g>0){if(o<p)return;o<h&&(h=o)}if(!(p>0||h<1))return!0;p>0&&(e[0]=[l+p*d,u+p*g]);h<1&&(e[1]=[l+h*d,u+h*g]);return!0}}}}}function p(e,t,n,i,r){var o=e[1];if(o)return!0;var s,a,l=e[0],u=e.left,c=e.right,f=u[0],p=u[1],h=c[0],d=c[1],g=(f+h)/2,m=(p+d)/2;if(d===p){if(g<t||g>=i)return;if(f>h){if(l){if(l[1]>=r)return}else l=[g,n];o=[g,r]}else{if(l){if(l[1]<n)return}else l=[g,r];o=[g,n]}}else{s=(f-h)/(d-p);a=m-s*g;if(s<-1||s>1)if(f>h){if(l){if(l[1]>=r)return}else l=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(l){if(l[1]<n)return}else l=[(r-a)/s,r];o=[(n-a)/s,n]}else if(p<d){if(l){if(l[0]>=i)return}else l=[t,s*t+a];o=[i,s*i+a]}else{if(l){if(l[0]<t)return}else l=[i,s*i+a];o=[t,s*t+a]}}e[0]=l;e[1]=o;return!0}function h(e,t,n,i){for(var r,o=B.length;o--;)p(r=B[o],e,t,n,i)&&f(r,e,t,n,i)&&(Math.abs(r[0][0]-r[1][0])>F||Math.abs(r[0][1]-r[1][1])>F)||delete B[o]}function d(e){return D[e.index]={site:e,halfedges:[]}}function g(e,t){var n=e.site,i=t.left,r=t.right;n===r&&(r=i,i=n);if(r)return Math.atan2(r[1]-i[1],r[0]-i[0]);n===i?(i=t[1],r=t[0]):(i=t[0],r=t[1]);return Math.atan2(i[0]-r[0],r[1]-i[1])}function m(e,t){return t[+(t.left!==e.site)]}function v(e,t){return t[+(t.left===e.site)]}function y(){for(var e,t,n,i,r=0,o=D.length;r<o;++r)if((e=D[r])&&(i=(t=e.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=g(e,B[t[n]]);s.sort(function(e,t){return a[t]-a[e]});for(n=0;n<i;++n)a[n]=t[s[n]];for(n=0;n<i;++n)t[n]=a[n]}}function b(e,t,n,i){var r,o,s,a,l,c,f,p,h,d,g,y,b=D.length,x=!0;for(r=0;r<b;++r)if(o=D[r]){s=o.site;l=o.halfedges;a=l.length;for(;a--;)B[l[a]]||l.splice(a,1);a=0,c=l.length;for(;a<c;){d=v(o,B[l[a]]),g=d[0],y=d[1];f=m(o,B[l[++a%c]]),p=f[0],h=f[1];if(Math.abs(g-p)>F||Math.abs(y-h)>F){l.splice(a,0,B.push(u(s,d,Math.abs(g-e)<F&&i-y>F?[e,Math.abs(p-e)<F?h:i]:Math.abs(y-i)<F&&n-g>F?[Math.abs(h-i)<F?p:n,i]:Math.abs(g-n)<F&&y-t>F?[n,Math.abs(p-n)<F?h:t]:Math.abs(y-t)<F&&g-e>F?[Math.abs(h-t)<F?p:e,t]:null))-1);++c}}c&&(x=!1)}if(x){var _,E,w,T=1/0;for(r=0,x=null;r<b;++r)if(o=D[r]){s=o.site;_=s[0]-e;E=s[1]-t;w=_*_+E*E;w<T&&(T=w,x=o)}if(x){var S=[e,t],C=[e,i],L=[n,i],N=[n,t];x.halfedges.push(B.push(u(s=x.site,S,C))-1,B.push(u(s,C,L))-1,B.push(u(s,L,N))-1,B.push(u(s,N,S))-1)}}for(r=0;r<b;++r)(o=D[r])&&(o.halfedges.length||delete D[r])}function x(){r(this);this.x=this.y=this.arc=this.site=this.cy=null}function _(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,o=n.site;if(i!==o){var s=r[0],a=r[1],l=i[0]-s,u=i[1]-a,c=o[0]-s,f=o[1]-a,p=2*(l*f-u*c);if(!(p>=-G)){var h=l*l+u*u,d=c*c+f*f,g=(f*h-u*d)/p,m=(l*d-c*h)/p,v=q.pop()||new x;v.arc=e;v.site=r;v.x=g+s;v.y=(v.cy=m+a)+Math.sqrt(g*g+m*m);e.circle=v;for(var y=null,b=j._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}j.insert(y,v);y||(k=v)}}}}function E(e){var t=e.circle;if(t){t.P||(k=t.N);j.remove(t);q.push(t);r(t);e.circle=null}}function w(){r(this);this.edge=this.site=this.circle=null}function T(e){var t=U.pop()||new w;t.site=e;return t}function S(e){E(e);M.remove(e);U.push(e);r(e)}function C(e){var t=e.circle,n=t.x,i=t.cy,r=[n,i],o=e.P,s=e.N,a=[e];S(e);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<F&&Math.abs(i-u.circle.cy)<F;){o=u.P;a.unshift(u);S(u);u=o}a.unshift(u);E(u);for(var f=s;f.circle&&Math.abs(n-f.circle.x)<F&&Math.abs(i-f.circle.cy)<F;){s=f.N;a.push(f);S(f);f=s}a.push(f);E(f);var p,h=a.length;for(p=1;p<h;++p){f=a[p];u=a[p-1];c(f.edge,u.site,f.site,r)}u=a[0];f=a[h-1];f.edge=l(u.site,f.site,null,r);_(u);_(f)}function L(e){for(var t,n,i,r,o=e[0],s=e[1],a=M._;a;){i=N(a,s)-o;if(i>F)a=a.L;else{r=o-I(a,s);if(!(r>F)){if(i>-F){t=a.P;n=a}else if(r>-F){t=a;n=a.N}else t=n=a;break}if(!a.R){t=a;break}a=a.R}}d(e);var u=T(e);M.insert(t,u);if(t||n)if(t!==n)if(n){E(t);E(n);var f=t.site,p=f[0],h=f[1],g=e[0]-p,m=e[1]-h,v=n.site,y=v[0]-p,b=v[1]-h,x=2*(g*b-m*y),w=g*g+m*m,S=y*y+b*b,C=[(b*w-m*S)/x+p,(g*S-y*w)/x+h];c(n.edge,f,v,C);u.edge=l(f,e,null,C);n.edge=l(e,v,null,C);_(t);_(n)}else u.edge=l(t.site,u.site);else{E(t);n=T(t.site);M.insert(u,n);u.edge=n.edge=l(t.site,u.site);_(t);_(n)}}function N(e,t){var n=e.site,i=n[0],r=n[1],o=r-t;if(!o)return i;var s=e.P;if(!s)return-(1/0);n=s.site;var a=n[0],l=n[1],u=l-t;if(!u)return a;var c=a-i,f=1/o-1/u,p=c/u;return f?(-p+Math.sqrt(p*p-2*f*(c*c/(-2*u)-l+u/2+r-o/2)))/f+i:(i+a)/2}function I(e,t){var n=e.N;if(n)return N(n,t);var i=e.site;return i[1]===t?i[0]:1/0}function A(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function R(e,t){return t[1]-e[1]||t[0]-e[0]}function O(e,t){var n,r,o,s=e.sort(R).pop();B=[];D=new Array(e.length);M=new i;j=new i;for(;;){o=k;if(s&&(!o||s[1]<o.y||s[1]===o.y&&s[0]<o.x)){if(s[0]!==n||s[1]!==r){L(s);n=s[0],r=s[1]}s=e.pop()}else{if(!o)break;C(o.arc)}}y();if(t){var a=+t[0][0],l=+t[0][1],u=+t[1][0],c=+t[1][1];h(a,l,u,c);b(a,l,u,c)}this.edges=B;this.cells=D;M=j=B=D=null}var P=function(e){return function(){return e}};i.prototype={constructor:i,insert:function(e,t){var n,i,r;if(e){t.P=e;t.N=e.N;e.N&&(e.N.P=t);e.N=t;if(e.R){e=e.R;for(;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else if(this._){e=a(this._);t.P=null;t.N=e;e.P=e.L=t;n=e}else{t.P=t.N=null;this._=t;n=null}t.L=t.R=null;t.U=n;t.C=!0;e=t;for(;n&&n.C;){i=n.U;if(n===i.L){r=i.R;if(r&&r.C){n.C=r.C=!1;i.C=!0;e=i}else{if(e===n.R){o(this,n);e=n;n=e.U}n.C=!1;i.C=!0;s(this,i)}}else{r=i.L;if(r&&r.C){n.C=r.C=!1;i.C=!0;e=i}else{if(e===n.L){s(this,n);e=n;n=e.U}n.C=!1;i.C=!0;o(this,i)}}n=e.U}this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P);e.P&&(e.P.N=e.N);e.N=e.P=null;var t,n,i,r=e.U,l=e.L,u=e.R;n=l?u?a(u):l:u;r?r.L===e?r.L=n:r.R=n:this._=n;if(l&&u){i=n.C;n.C=e.C;n.L=l;l.U=n;if(n!==u){r=n.U;n.U=e.U;e=n.R;r.L=e;n.R=u;u.U=n}else{n.U=r;r=n;e=n.R}}else{i=e.C;e=n}e&&(e.U=r);if(!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){t=r.R;if(t.C){t.C=!1;r.C=!0;o(this,r);t=r.R}if(t.L&&t.L.C||t.R&&t.R.C){if(!t.R||!t.R.C){t.L.C=!1;t.C=!0;s(this,t);t=r.R}t.C=r.C;r.C=t.R.C=!1;o(this,r);e=this._;break}}else{t=r.L;if(t.C){t.C=!1;r.C=!0;s(this,r);t=r.L}if(t.L&&t.L.C||t.R&&t.R.C){if(!t.L||!t.L.C){t.R.C=!1;t.C=!0;o(this,t);t=r.L}t.C=r.C;r.C=t.L.C=!1;s(this,r);e=this._;break}}t.C=!0;e=r;r=r.U}while(!e.C);e&&(e.C=!1)}}};var k,M,D,j,B,q=[],U=[],F=1e-6,G=1e-12;O.prototype={constructor:O,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return m(t,e[n])});n.data=t.site.data;return n})},triangles:function(){var e=[],t=this.edges;this.cells.forEach(function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a=n.site,l=-1,u=t[r[o-1]],c=u.left===a?u.right:u.left;++l<o;){s=c;u=t[r[l]];c=u.left===a?u.right:u.left;s&&c&&i<s.index&&i<c.index&&A(a,s,c)<0&&e.push([a.data,s.data,c.data])}});return e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var l=e-r.site[0],u=t-r.site[1],c=l*l+u*u;do{r=o.cells[i=s],s=null;r.halfedges.forEach(function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var l=e-a[0],u=t-a[1],f=l*l+u*u;f<c&&(c=f,s=a.index)}})}while(null!==s);o._found=i;return null==n||c<=n*n?r.site:null}};var z=function(){function e(e){return new O(e.map(function(t,n){var o=[Math.round(i(t,n,e)/F)*F,Math.round(r(t,n,e)/F)*F];o.index=n;o.data=t;return o}),o)}var i=t,r=n,o=null;e.polygons=function(t){return e(t).polygons()};e.links=function(t){return e(t).links()};e.triangles=function(t){return e(t).triangles()};e.x=function(t){return arguments.length?(i="function"==typeof t?t:P(+t),e):i};e.y=function(t){return arguments.length?(r="function"==typeof t?t:P(+t),e):r};e.extent=function(t){return arguments.length?(o=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):o&&[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]};e.size=function(t){return arguments.length?(o=null==t?null:[[0,0],[+t[0],+t[1]]],e):o&&[o[1][0]-o[0][0],o[1][1]-o[0][1]]};return e};e.voronoi=z;Object.defineProperty(e,"__esModule",{value:!0})})},{}],59:[function(e,t,n){(function(i,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("d3-dispatch"),e("d3-drag"),e("d3-interpolate"),e("d3-selection"),e("d3-transition")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],r):r(i.d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3)})(this,function(e,t,n,i,r,o){"use strict";function s(e,t,n){this.target=e;this.type=t;this.transform=n}function a(e,t,n){this.k=e;this.x=t;this.y=n}function l(e){return e.__zoom||v}function u(){r.event.stopImmediatePropagation()}function c(){return!r.event.button}function f(){var e,t,n=this;if(n instanceof SVGElement){n=n.ownerSVGElement||n;e=n.width.baseVal.value;t=n.height.baseVal.value}else{e=n.clientWidth;t=n.clientHeight}return[[0,0],[e,t]]}function p(){return this.__zoom||v}function h(){return-r.event.deltaY*(r.event.deltaMode?120:1)/500}function d(){return"ontouchstart"in this}function g(e,t,n){var i=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}var m=function(e){return function(){return e}};a.prototype={constructor:a,scale:function(e){return 1===e?this:new a(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new a(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var v=new a(1,0,0);l.prototype=a.prototype;var y=function(){r.event.preventDefault();r.event.stopImmediatePropagation()},b=function(){function e(e){e.property("__zoom",p).on("wheel.zoom",T).on("mousedown.zoom",S).on("dblclick.zoom",C).filter(D).on("touchstart.zoom",L).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(e,t){t=Math.max(j[0],Math.min(j[1],t));return t===e.k?e:new a(t,e.x,e.y)}function b(e,t,n){var i=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return i===e.x&&r===e.y?e:new a(e.k,i,r)}function x(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function _(e,t,n){e.on("start.zoom",function(){E(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).end()}).tween("zoom",function(){var e=this,i=arguments,r=E(e,i),o=P.apply(e,i),s=n||x(o),l=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=e.__zoom,c="function"==typeof t?t.apply(e,i):t,f=U(u.invert(s).concat(l/u.k),c.invert(s).concat(l/c.k));return function(e){if(1===e)e=c;else{var t=f(e),n=l/t[2];e=new a(n,s[0]-t[0]*n,s[1]-t[1]*n)}r.zoom(null,e)}})}function E(e,t){for(var n,i=0,r=F.length;i<r;++i)if((n=F[i]).that===e)return n;return new w(e,t)}function w(e,t){this.that=e;this.args=t;this.index=-1;this.active=0;this.extent=P.apply(e,t)}function T(){function e(){t.wheel=null;t.end()}if(O.apply(this,arguments)){var t=E(this,arguments),n=this.__zoom,i=Math.max(j[0],Math.min(j[1],n.k*Math.pow(2,M.apply(this,arguments)))),s=r.mouse(this);if(t.wheel){t.mouse[0][0]===s[0]&&t.mouse[0][1]===s[1]||(t.mouse[1]=n.invert(t.mouse[0]=s));clearTimeout(t.wheel)}else{if(n.k===i)return;t.mouse=[s,n.invert(s)];o.interrupt(this);t.start()}y();t.wheel=setTimeout(e,H);t.zoom("mouse",k(b(l(n,i),t.mouse[0],t.mouse[1]),t.extent,B))}}function S(){function e(){y();if(!i.moved){var e=r.event.clientX-l,t=r.event.clientY-c;i.moved=e*e+t*t>V}i.zoom("mouse",k(b(i.that.__zoom,i.mouse[0]=r.mouse(i.that),i.mouse[1]),i.extent,B))}function t(){s.on("mousemove.zoom mouseup.zoom",null);n.dragEnable(r.event.view,i.moved);y();i.end()}if(!R&&O.apply(this,arguments)){
var i=E(this,arguments),s=r.select(r.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",t,!0),a=r.mouse(this),l=r.event.clientX,c=r.event.clientY;n.dragDisable(r.event.view);u();i.mouse=[a,this.__zoom.invert(a)];o.interrupt(this);i.start()}}function C(){if(O.apply(this,arguments)){var t=this.__zoom,n=r.mouse(this),i=t.invert(n),o=t.k*(r.event.shiftKey?.5:2),s=k(b(l(t,o),n,i),P.apply(this,arguments),B);y();q>0?r.select(this).transition().duration(q).call(_,s,n):r.select(this).call(e.transform,s)}}function L(){if(O.apply(this,arguments)){var e,t,n,i,s=E(this,arguments),a=r.event.changedTouches,l=a.length;u();for(t=0;t<l;++t){n=a[t],i=r.touch(this,a,n.identifier);i=[i,this.__zoom.invert(i),n.identifier];s.touch0?s.touch1||(s.touch1=i):(s.touch0=i,e=!0)}if(A){A=clearTimeout(A);if(!s.touch1){s.end();i=r.select(this).on("dblclick.zoom");i&&i.apply(this,arguments);return}}if(e){A=setTimeout(function(){A=null},z);o.interrupt(this);s.start()}}}function N(){var e,t,n,i,o=E(this,arguments),s=r.event.changedTouches,a=s.length;y();A&&(A=clearTimeout(A));for(e=0;e<a;++e){t=s[e],n=r.touch(this,s,t.identifier);o.touch0&&o.touch0[2]===t.identifier?o.touch0[0]=n:o.touch1&&o.touch1[2]===t.identifier&&(o.touch1[0]=n)}t=o.that.__zoom;if(o.touch1){var u=o.touch0[0],c=o.touch0[1],f=o.touch1[0],p=o.touch1[1],h=(h=f[0]-u[0])*h+(h=f[1]-u[1])*h,d=(d=p[0]-c[0])*d+(d=p[1]-c[1])*d;t=l(t,Math.sqrt(h/d));n=[(u[0]+f[0])/2,(u[1]+f[1])/2];i=[(c[0]+p[0])/2,(c[1]+p[1])/2]}else{if(!o.touch0)return;n=o.touch0[0],i=o.touch0[1]}o.zoom("touch",k(b(t,n,i),o.extent,B))}function I(){var e,t,n=E(this,arguments),i=r.event.changedTouches,o=i.length;u();R&&clearTimeout(R);R=setTimeout(function(){R=null},z);for(e=0;e<o;++e){t=i[e];n.touch0&&n.touch0[2]===t.identifier?delete n.touch0:n.touch1&&n.touch1[2]===t.identifier&&delete n.touch1}n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1);n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}var A,R,O=c,P=f,k=g,M=h,D=d,j=[0,1/0],B=[[-(1/0),-(1/0)],[1/0,1/0]],q=250,U=i.interpolateZoom,F=[],G=t.dispatch("start","zoom","end"),z=500,H=150,V=0;e.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",p);e!==n?_(e,t):n.interrupt().each(function(){E(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})};e.scaleBy=function(t,n){e.scaleTo(t,function(){var e=this.__zoom.k,t="function"==typeof n?n.apply(this,arguments):n;return e*t})};e.scaleTo=function(t,n){e.transform(t,function(){var e=P.apply(this,arguments),t=this.__zoom,i=x(e),r=t.invert(i),o="function"==typeof n?n.apply(this,arguments):n;return k(b(l(t,o),i,r),e,B)})};e.translateBy=function(t,n,i){e.transform(t,function(){return k(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),P.apply(this,arguments),B)})};e.translateTo=function(t,n,i){e.transform(t,function(){var e=P.apply(this,arguments),t=this.__zoom,r=x(e);return k(v.translate(r[0],r[1]).scale(t.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof i?-i.apply(this,arguments):-i),e,B)})};w.prototype={start:function(){if(1===++this.active){this.index=F.push(this)-1;this.emit("start")}return this},zoom:function(e,t){this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0]));this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0]));this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0]));this.that.__zoom=t;this.emit("zoom");return this},end:function(){if(0===--this.active){F.splice(this.index,1);this.index=-1;this.emit("end")}return this},emit:function(t){r.customEvent(new s(e,t,this.that.__zoom),G.apply,G,[t,this.that,this.args])}};e.wheelDelta=function(t){return arguments.length?(M="function"==typeof t?t:m(+t),e):M};e.filter=function(t){return arguments.length?(O="function"==typeof t?t:m(!!t),e):O};e.touchable=function(t){return arguments.length?(D="function"==typeof t?t:m(!!t),e):D};e.extent=function(t){return arguments.length?(P="function"==typeof t?t:m([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):P};e.scaleExtent=function(t){return arguments.length?(j[0]=+t[0],j[1]=+t[1],e):[j[0],j[1]]};e.translateExtent=function(t){return arguments.length?(B[0][0]=+t[0][0],B[1][0]=+t[1][0],B[0][1]=+t[0][1],B[1][1]=+t[1][1],e):[[B[0][0],B[0][1]],[B[1][0],B[1][1]]]};e.constrain=function(t){return arguments.length?(k=t,e):k};e.duration=function(t){return arguments.length?(q=+t,e):q};e.interpolate=function(t){return arguments.length?(U=t,e):U};e.on=function(){var t=G.on.apply(G,arguments);return t===G?e:t};e.clickDistance=function(t){return arguments.length?(V=(t=+t)*t,e):Math.sqrt(V)};return e};e.zoom=b;e.zoomTransform=l;e.zoomIdentity=v;Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-dispatch":36,"d3-drag":37,"d3-interpolate":44,"d3-selection":52,"d3-transition":57}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("d3-array"),r=e("d3-axis"),o=e("d3-brush"),s=e("d3-chord"),a=e("d3-collection"),l=e("d3-color"),u=e("d3-dispatch"),c=e("d3-drag"),f=e("d3-dsv"),p=e("d3-ease"),h=e("d3-force"),d=e("d3-format"),g=e("d3-geo"),m=e("d3-hierarchy"),v=e("d3-interpolate"),y=e("d3-path"),b=e("d3-polygon"),x=e("d3-quadtree"),_=e("d3-queue"),E=e("d3-random"),w=e("d3-request"),T=e("d3-scale"),S=e("d3-selection"),C=e("d3-shape"),L=e("d3-time"),N=e("d3-time-format"),I=e("d3-timer"),A=e("d3-transition"),R=e("d3-voronoi"),O=e("d3-zoom"),P="4.13.0";n.version=P;Object.keys(i).forEach(function(e){n[e]=i[e]});Object.keys(r).forEach(function(e){n[e]=r[e]});Object.keys(o).forEach(function(e){n[e]=o[e]});Object.keys(s).forEach(function(e){n[e]=s[e]});Object.keys(a).forEach(function(e){n[e]=a[e]});Object.keys(l).forEach(function(e){n[e]=l[e]});Object.keys(u).forEach(function(e){n[e]=u[e]});Object.keys(c).forEach(function(e){n[e]=c[e]});Object.keys(f).forEach(function(e){n[e]=f[e]});Object.keys(p).forEach(function(e){n[e]=p[e]});Object.keys(h).forEach(function(e){n[e]=h[e]});Object.keys(d).forEach(function(e){n[e]=d[e]});Object.keys(g).forEach(function(e){n[e]=g[e]});Object.keys(m).forEach(function(e){n[e]=m[e]});Object.keys(v).forEach(function(e){n[e]=v[e]});Object.keys(y).forEach(function(e){n[e]=y[e]});Object.keys(b).forEach(function(e){n[e]=b[e]});Object.keys(x).forEach(function(e){n[e]=x[e]});Object.keys(_).forEach(function(e){n[e]=_[e]});Object.keys(E).forEach(function(e){n[e]=E[e]});Object.keys(w).forEach(function(e){n[e]=w[e]});Object.keys(T).forEach(function(e){n[e]=T[e]});Object.keys(S).forEach(function(e){n[e]=S[e]});Object.keys(C).forEach(function(e){n[e]=C[e]});Object.keys(L).forEach(function(e){n[e]=L[e]});Object.keys(N).forEach(function(e){n[e]=N[e]});Object.keys(I).forEach(function(e){n[e]=I[e]});Object.keys(A).forEach(function(e){n[e]=A[e]});Object.keys(R).forEach(function(e){n[e]=R[e]});Object.keys(O).forEach(function(e){n[e]=O[e]});Object.defineProperty(n,"event",{get:function(){return S.event}})},{"d3-array":30,"d3-axis":31,"d3-brush":32,"d3-chord":33,"d3-collection":34,"d3-color":35,"d3-dispatch":36,"d3-drag":37,"d3-dsv":38,"d3-ease":39,"d3-force":40,"d3-format":41,"d3-geo":42,"d3-hierarchy":43,"d3-interpolate":44,"d3-path":45,"d3-polygon":46,"d3-quadtree":47,"d3-queue":48,"d3-random":49,"d3-request":50,"d3-scale":51,"d3-selection":52,"d3-shape":53,"d3-time":55,"d3-time-format":54,"d3-timer":56,"d3-transition":57,"d3-voronoi":58,"d3-zoom":59}],61:[function(e,t,n){(function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return i(e,window,document)}):"object"==typeof n?t.exports=function(t,n){t||(t=window);n||(n="undefined"!=typeof window?e("jquery"):e("jquery")(t));return i(n,t,t.document)}:i(jQuery,window,document)})(function(e,t,n,i){"use strict";function r(t){var n,i,o="a aa ai ao as b fn i m o s ",s={};e.each(t,function(e,a){n=e.match(/^([^A-Z]+?)([A-Z])/);if(n&&o.indexOf(n[1]+" ")!==-1){i=e.replace(n[0],n[2].toLowerCase());s[i]=e;"o"===n[1]&&r(t[e])}});t._hungarianMap=s}function o(t,n,s){t._hungarianMap||r(t);var a;e.each(n,function(r,l){a=t._hungarianMap[r];if(a!==i&&(s||n[a]===i))if("o"===a.charAt(0)){n[a]||(n[a]={});e.extend(!0,n[a],n[r]);o(t[a],n[a],s)}else n[a]=n[r]})}function s(e){var t=Ze.defaults.oLanguage,n=t.sDecimal;n&&Ge(n);if(e){var i=e.sZeroRecords;!e.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&Pe(e,e,"sZeroRecords","sEmptyTable");!e.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&Pe(e,e,"sZeroRecords","sLoadingRecords");e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var r=e.sDecimal;r&&n!==r&&Ge(r)}}function a(e){dt(e,"ordering","bSort");dt(e,"orderMulti","bSortMulti");dt(e,"orderClasses","bSortClasses");dt(e,"orderCellsTop","bSortCellsTop");dt(e,"order","aaSorting");dt(e,"orderFixed","aaSortingFixed");dt(e,"paging","bPaginate");dt(e,"pagingType","sPaginationType");dt(e,"pageLength","iDisplayLength");dt(e,"searching","bFilter");"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":"");"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var n=0,i=t.length;n<i;n++)t[n]&&o(Ze.models.oSearch,t[n])}function l(t){dt(t,"orderable","bSortable");dt(t,"orderData","aDataSort");dt(t,"orderSequence","asSorting");dt(t,"orderDataType","sortDataType");var n=t.aDataSort;"number"!=typeof n||e.isArray(n)||(t.aDataSort=[n])}function u(n){if(!Ze.__browser){var i={};Ze.__browser=i;var r=e("<div/>").css({position:"fixed",top:0,left:e(t).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),s=o.children();i.barWidth=o[0].offsetWidth-o[0].clientWidth;i.bScrollOversize=100===s[0].offsetWidth&&100!==o[0].clientWidth;i.bScrollbarLeft=1!==Math.round(s.offset().left);i.bBounding=!!r[0].getBoundingClientRect().width;r.remove()}e.extend(n.oBrowser,Ze.__browser);n.oScroll.iBarWidth=Ze.__browser.barWidth}function c(e,t,n,r,o,s){var a,l=r,u=!1;if(n!==i){a=n;u=!0}for(;l!==o;)if(e.hasOwnProperty(l)){a=u?t(a,e[l],l,e):e[l];u=!0;l+=s}return a}function f(t,i){var r=Ze.defaults.column,o=t.aoColumns.length,s=e.extend({},Ze.models.oColumn,r,{nTh:i?i:n.createElement("th"),sTitle:r.sTitle?r.sTitle:i?i.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});t.aoColumns.push(s);var a=t.aoPreSearchCols;a[o]=e.extend({},Ze.models.oSearch,a[o]);p(t,o,e(i).data())}function p(t,n,r){var s=t.aoColumns[n],a=t.oClasses,u=e(s.nTh);if(!s.sWidthOrig){s.sWidthOrig=u.attr("width")||null;var c=(u.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(s.sWidthOrig=c[1])}if(r!==i&&null!==r){l(r);o(Ze.defaults.column,r);r.mDataProp===i||r.mData||(r.mData=r.mDataProp);r.sType&&(s._sManualType=r.sType);r.className&&!r.sClass&&(r.sClass=r.className);r.sClass&&u.addClass(r.sClass);e.extend(s,r);Pe(s,r,"sWidth","sWidthOrig");r.iDataSort!==i&&(s.aDataSort=[r.iDataSort]);Pe(s,r,"aDataSort")}var f=s.mData,p=L(f),h=s.mRender?L(s.mRender):null,d=function(e){return"string"==typeof e&&e.indexOf("@")!==-1};s._bAttrSrc=e.isPlainObject(f)&&(d(f.sort)||d(f.type)||d(f.filter));s._setter=null;s.fnGetData=function(e,t,n){var r=p(e,t,i,n);return h&&t?h(r,t,e,n):r};s.fnSetData=function(e,t,n){return N(f)(e,t,n)};"number"!=typeof f&&(t._rowReadObject=!0);if(!t.oFeatures.bSort){s.bSortable=!1;u.addClass(a.sSortableNone)}var g=e.inArray("asc",s.asSorting)!==-1,m=e.inArray("desc",s.asSorting)!==-1;if(s.bSortable&&(g||m))if(g&&!m){s.sSortingClass=a.sSortableAsc;s.sSortingClassJUI=a.sSortJUIAscAllowed}else if(!g&&m){s.sSortingClass=a.sSortableDesc;s.sSortingClassJUI=a.sSortJUIDescAllowed}else{s.sSortingClass=a.sSortable;s.sSortingClassJUI=a.sSortJUI}else{s.sSortingClass=a.sSortableNone;s.sSortingClassJUI=""}}function h(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;ve(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}var r=e.oScroll;""===r.sY&&""===r.sX||ge(e);je(e,null,"column-sizing",[e])}function d(e,t){var n=v(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function g(t,n){var i=v(t,"bVisible"),r=e.inArray(n,i);return r!==-1?r:null}function m(t){var n=0;e.each(t.aoColumns,function(t,i){i.bVisible&&"none"!==e(i.nTh).css("display")&&n++});return n}function v(t,n){var i=[];e.map(t.aoColumns,function(e,t){e[n]&&i.push(t)});return i}function y(e){var t,n,r,o,s,a,l,u,c,f=e.aoColumns,p=e.aoData,h=Ze.ext.type.detect;for(t=0,n=f.length;t<n;t++){l=f[t];c=[];if(!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=h.length;r<o;r++){for(s=0,a=p.length;s<a;s++){c[s]===i&&(c[s]=T(e,s,t,"type"));u=h[r](c[s],e);if(!u&&r!==h.length-1)break;if("html"===u)break}if(u){l.sType=u;break}}l.sType||(l.sType="string")}}}function b(t,n,r,o){var s,a,l,u,c,p,h,d=t.aoColumns;if(n)for(s=n.length-1;s>=0;s--){h=n[s];var g=h.targets!==i?h.targets:h.aTargets;e.isArray(g)||(g=[g]);for(l=0,u=g.length;l<u;l++)if("number"==typeof g[l]&&g[l]>=0){for(;d.length<=g[l];)f(t);o(g[l],h)}else if("number"==typeof g[l]&&g[l]<0)o(d.length+g[l],h);else if("string"==typeof g[l])for(c=0,p=d.length;c<p;c++)("_all"==g[l]||e(d[c].nTh).hasClass(g[l]))&&o(c,h)}if(r)for(s=0,a=r.length;s<a;s++)o(s,r[s])}function x(t,n,r,o){var s=t.aoData.length,a=e.extend(!0,{},Ze.models.oRow,{src:r?"dom":"data",idx:s});a._aData=n;t.aoData.push(a);for(var l=t.aoColumns,u=0,c=l.length;u<c;u++)l[u].sType=null;t.aiDisplayMaster.push(s);var f=t.rowIdFn(n);f!==i&&(t.aIds[f]=a);!r&&t.oFeatures.bDeferRender||k(t,s,r,o);return s}function _(t,n){var i;n instanceof e||(n=e(n));return n.map(function(e,n){i=P(t,n);return x(t,i.data,n,i.cells)})}function E(e,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null}function w(t,n,i){return e.inArray(i,t.aoData[n].anCells)}function T(e,t,n,r){var o=e.iDraw,s=e.aoColumns[n],a=e.aoData[t]._aData,l=s.sDefaultContent,u=s.fnGetData(a,r,{settings:e,row:t,col:n});if(u===i){if(e.iDrawError!=o&&null===l){Oe(e,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+t+", column "+n,4);e.iDrawError=o}return l}if(u!==a&&null!==u||null===l||r===i){if("function"==typeof u)return u.call(a)}else u=l;return null===u&&"display"==r?"":u}function S(e,t,n,i){var r=e.aoColumns[n],o=e.aoData[t]._aData;r.fnSetData(o,i,{settings:e,row:t,col:n})}function C(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function L(t){if(e.isPlainObject(t)){var n={};e.each(t,function(e,t){t&&(n[e]=L(t))});return function(e,t,r,o){var s=n[t]||n._;return s!==i?s(e,t,r,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,i,r){return t(e,n,i,r)};if("string"!=typeof t||t.indexOf(".")===-1&&t.indexOf("[")===-1&&t.indexOf("(")===-1)return function(e,n){return e[t]};var r=function(t,n,o){var s,a,l,u;if(""!==o)for(var c=C(o),f=0,p=c.length;f<p;f++){s=c[f].match(gt);a=c[f].match(mt);if(s){c[f]=c[f].replace(gt,"");""!==c[f]&&(t=t[c[f]]);l=[];c.splice(0,f+1);u=c.join(".");if(e.isArray(t))for(var h=0,d=t.length;h<d;h++)l.push(r(t[h],n,u));var g=s[0].substring(1,s[0].length-1);t=""===g?l:l.join(g);break}if(a){c[f]=c[f].replace(mt,"");t=t[c[f]]()}else{if(null===t||t[c[f]]===i)return i;t=t[c[f]]}}return t};return function(e,n){return r(e,n,t)}}function N(t){if(e.isPlainObject(t))return N(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"!=typeof t||t.indexOf(".")===-1&&t.indexOf("[")===-1&&t.indexOf("(")===-1)return function(e,n){e[t]=n};var n=function(t,r,o){for(var s,a,l,u,c,f=C(o),p=f[f.length-1],h=0,d=f.length-1;h<d;h++){a=f[h].match(gt);l=f[h].match(mt);if(a){f[h]=f[h].replace(gt,"");t[f[h]]=[];s=f.slice();s.splice(0,h+1);c=s.join(".");if(e.isArray(r))for(var g=0,m=r.length;g<m;g++){u={};n(u,r[g],c);t[f[h]].push(u)}else t[f[h]]=r;return}if(l){f[h]=f[h].replace(mt,"");t=t[f[h]](r)}null!==t[f[h]]&&t[f[h]]!==i||(t[f[h]]={});t=t[f[h]]}p.match(mt)?t=t[p.replace(mt,"")](r):t[p.replace(gt,"")]=r};return function(e,i){return n(e,i,t)}}function I(e){return at(e.aoData,"_aData")}function A(e){e.aoData.length=0;e.aiDisplayMaster.length=0;e.aiDisplay.length=0;e.aIds={}}function R(e,t,n){for(var r=-1,o=0,s=e.length;o<s;o++)e[o]==t?r=o:e[o]>t&&e[o]--;r!=-1&&n===i&&e.splice(r,1)}function O(e,t,n,r){var o,s,a=e.aoData[t],l=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=T(e,t,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==a.src)){var u=a.anCells;if(u)if(r!==i)l(u[r],r);else for(o=0,s=u.length;o<s;o++)l(u[o],o)}else a._aData=P(e,a,r,r===i?i:a._aData).data;a._aSortData=null;a._aFilterData=null;var c=e.aoColumns;if(r!==i)c[r].sType=null;else{for(o=0,s=c.length;o<s;o++)c[o].sType=null;M(e,a)}}function P(t,n,r,o){var s,a,l,u=[],c=n.firstChild,f=0,p=t.aoColumns,h=t._rowReadObject;o=o!==i?o:h?{}:[];var d=function(e,t){if("string"==typeof e){var n=e.indexOf("@");if(n!==-1){var i=e.substring(n+1),r=N(e);r(o,t.getAttribute(i))}}},g=function(t){if(r===i||r===f){a=p[f];l=e.trim(t.innerHTML);if(a&&a._bAttrSrc){var n=N(a.mData._);n(o,l);d(a.mData.sort,t);d(a.mData.type,t);d(a.mData.filter,t)}else if(h){a._setter||(a._setter=N(a.mData));a._setter(o,l)}else o[f]=l}f++};if(c)for(;c;){s=c.nodeName.toUpperCase();if("TD"==s||"TH"==s){g(c);u.push(c)}c=c.nextSibling}else{u=n.anCells;for(var m=0,v=u.length;m<v;m++)g(u[m])}var y=n.firstChild?n:n.nTr;if(y){var b=y.getAttribute("id");b&&N(t.rowId)(o,b)}return{data:o,cells:u}}function k(t,i,r,o){var s,a,l,u,c,f=t.aoData[i],p=f._aData,h=[];if(null===f.nTr){s=r||n.createElement("tr");f.nTr=s;f.anCells=h;s._DT_RowIndex=i;M(t,f);for(u=0,c=t.aoColumns.length;u<c;u++){l=t.aoColumns[u];a=r?o[u]:n.createElement(l.sCellType);a._DT_CellIndex={row:i,column:u};h.push(a);r&&!l.mRender&&l.mData===u||e.isPlainObject(l.mData)&&l.mData._===u+".display"||(a.innerHTML=T(t,i,u,"display"));l.sClass&&(a.className+=" "+l.sClass);l.bVisible&&!r?s.appendChild(a):!l.bVisible&&r&&a.parentNode.removeChild(a);l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,a,T(t,i,u),p,i,u)}je(t,"aoRowCreatedCallback",null,[s,p,i,h])}f.nTr.setAttribute("role","row")}function M(t,n){var i=n.nTr,r=n._aData;if(i){var o=t.rowIdFn(r);o&&(i.id=o);if(r.DT_RowClass){var s=r.DT_RowClass.split(" ");n.__rowc=n.__rowc?ht(n.__rowc.concat(s)):s;e(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)}r.DT_RowAttr&&e(i).attr(r.DT_RowAttr);r.DT_RowData&&e(i).data(r.DT_RowData)}}function D(t){var n,i,r,o,s,a=t.nTHead,l=t.nTFoot,u=0===e("th, td",a).length,c=t.oClasses,f=t.aoColumns;u&&(o=e("<tr/>").appendTo(a));for(n=0,i=f.length;n<i;n++){s=f[n];r=e(s.nTh).addClass(s.sClass);u&&r.appendTo(o);if(t.oFeatures.bSort){r.addClass(s.sSortingClass);if(s.bSortable!==!1){r.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId);Ce(t,s.nTh,n)}}s.sTitle!=r[0].innerHTML&&r.html(s.sTitle);qe(t,"header")(t,r,s,c)}u&&F(t.aoHeader,a);e(a).find(">tr").attr("role","row");e(a).find(">tr>th, >tr>td").addClass(c.sHeaderTH);e(l).find(">tr>th, >tr>td").addClass(c.sFooterTH);if(null!==l){var p=t.aoFooter[0];for(n=0,i=p.length;n<i;n++){s=f[n];s.nTf=p[n].cell;s.sClass&&e(s.nTf).addClass(s.sClass)}}}function j(t,n,r){var o,s,a,l,u,c,f,p,h,d=[],g=[],m=t.aoColumns.length;if(n){r===i&&(r=!1);for(o=0,s=n.length;o<s;o++){d[o]=n[o].slice();d[o].nTr=n[o].nTr;for(a=m-1;a>=0;a--)t.aoColumns[a].bVisible||r||d[o].splice(a,1);g.push([])}for(o=0,s=d.length;o<s;o++){f=d[o].nTr;if(f)for(;c=f.firstChild;)f.removeChild(c);for(a=0,l=d[o].length;a<l;a++){p=1;h=1;if(g[o][a]===i){f.appendChild(d[o][a].cell);g[o][a]=1;for(;d[o+p]!==i&&d[o][a].cell==d[o+p][a].cell;){g[o+p][a]=1;p++}for(;d[o][a+h]!==i&&d[o][a].cell==d[o][a+h].cell;){for(u=0;u<p;u++)g[o+u][a+h]=1;h++}e(d[o][a].cell).attr("rowspan",p).attr("colspan",h)}}}}}function B(t){var n=je(t,"aoPreDrawCallback","preDraw",[t]);if(e.inArray(!1,n)===-1){var r=[],o=0,s=t.asStripeClasses,a=s.length,l=(t.aoOpenRows.length,t.oLanguage),u=t.iInitDisplayStart,c="ssp"==Ue(t),f=t.aiDisplay;t.bDrawing=!0;if(u!==i&&u!==-1){t._iDisplayStart=c?u:u>=t.fnRecordsDisplay()?0:u;t.iInitDisplayStart=-1}var p=t._iDisplayStart,h=t.fnDisplayEnd();if(t.bDeferLoading){t.bDeferLoading=!1;t.iDraw++;he(t,!1)}else if(c){if(!t.bDestroying&&!H(t))return}else t.iDraw++;if(0!==f.length)for(var d=c?0:p,g=c?t.aoData.length:h,v=d;v<g;v++){var y=f[v],b=t.aoData[y];null===b.nTr&&k(t,y);var x=b.nTr;if(0!==a){var _=s[o%a];if(b._sRowStripe!=_){e(x).removeClass(b._sRowStripe).addClass(_);b._sRowStripe=_}}je(t,"aoRowCallback",null,[x,b._aData,o,v,y]);r.push(x);o++}else{var E=l.sZeroRecords;1==t.iDraw&&"ajax"==Ue(t)?E=l.sLoadingRecords:l.sEmptyTable&&0===t.fnRecordsTotal()&&(E=l.sEmptyTable);r[0]=e("<tr/>",{"class":a?s[0]:""}).append(e("<td />",{valign:"top",colSpan:m(t),"class":t.oClasses.sRowEmpty}).html(E))[0]}je(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],I(t),p,h,f]);je(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],I(t),p,h,f]);var w=e(t.nTBody);w.children().detach();w.append(e(r));je(t,"aoDrawCallback","draw",[t]);t.bSorted=!1;t.bFiltered=!1;t.bDrawing=!1}else he(t,!1)}function q(e,t){var n=e.oFeatures,i=n.bSort,r=n.bFilter;i&&we(e);r?$(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice();t!==!0&&(e._iDisplayStart=0);e._drawHold=t;B(e);e._drawHold=!1}function U(t){var n=t.oClasses,i=e(t.nTable),r=e("<div/>").insertBefore(i),o=t.oFeatures,s=e("<div/>",{id:t.sTableId+"_wrapper","class":n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=r[0];t.nTableWrapper=s[0];t.nTableReinsertBefore=t.nTable.nextSibling;for(var a,l,u,c,f,p,h=t.sDom.split(""),d=0;d<h.length;d++){a=null;l=h[d];if("<"==l){u=e("<div/>")[0];c=h[d+1];if("'"==c||'"'==c){f="";p=2;for(;h[d+p]!=c;){f+=h[d+p];p++}"H"==f?f=n.sJUIHeader:"F"==f&&(f=n.sJUIFooter);if(f.indexOf(".")!=-1){var g=f.split(".");u.id=g[0].substr(1,g[0].length-1);u.className=g[1]}else"#"==f.charAt(0)?u.id=f.substr(1,f.length-1):u.className=f;d+=p}s.append(u);s=e(u)}else if(">"==l)s=s.parent();else if("l"==l&&o.bPaginate&&o.bLengthChange)a=ue(t);else if("f"==l&&o.bFilter)a=Z(t);else if("r"==l&&o.bProcessing)a=pe(t);else if("t"==l)a=de(t);else if("i"==l&&o.bInfo)a=ie(t);else if("p"==l&&o.bPaginate)a=ce(t);else if(0!==Ze.ext.feature.length)for(var m=Ze.ext.feature,v=0,y=m.length;v<y;v++)if(l==m[v].cFeature){a=m[v].fnInit(t);break}if(a){var b=t.aanFeatures;b[l]||(b[l]=[]);b[l].push(a);s.append(a)}}r.replaceWith(s);t.nHolding=null}function F(t,n){var i,r,o,s,a,l,u,c,f,p,h,d=e(n).children("tr"),g=function(e,t,n){for(var i=e[t];i[n];)n++;return n};t.splice(0,t.length);for(o=0,l=d.length;o<l;o++)t.push([]);for(o=0,l=d.length;o<l;o++){i=d[o];c=0;r=i.firstChild;for(;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase()){f=1*r.getAttribute("colspan");p=1*r.getAttribute("rowspan");f=f&&0!==f&&1!==f?f:1;p=p&&0!==p&&1!==p?p:1;u=g(t,o,c);h=1===f;for(a=0;a<f;a++)for(s=0;s<p;s++){t[o+s][u+a]={cell:r,unique:h};t[o+s].nTr=i}}r=r.nextSibling}}}function G(e,t,n){var i=[];if(!n){n=e.aoHeader;if(t){n=[];F(n,t)}}for(var r=0,o=n.length;r<o;r++)for(var s=0,a=n[r].length;s<a;s++)!n[r][s].unique||i[s]&&e.bSortCellsTop||(i[s]=n[r][s].cell);return i}function z(t,n,i){je(t,"aoServerParams","serverParams",[n]);if(n&&e.isArray(n)){var r={},o=/(.*?)\[\]$/;e.each(n,function(e,t){var n=t.name.match(o);if(n){var i=n[0];r[i]||(r[i]=[]);r[i].push(t.value)}else r[t.name]=t.value});n=r}var s,a=t.ajax,l=t.oInstance,u=function(e){je(t,null,"xhr",[t,e,t.jqXHR]);i(e)};if(e.isPlainObject(a)&&a.data){s=a.data;var c="function"==typeof s?s(n,t):s;n="function"==typeof s&&c?c:e.extend(!0,n,c);delete a.data}var f={data:n,success:function(e){var n=e.error||e.sError;n&&Oe(t,0,n);t.json=e;u(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,i,r){var o=je(t,null,"xhr",[t,null,t.jqXHR]);e.inArray(!0,o)===-1&&("parsererror"==i?Oe(t,0,"Invalid JSON response",1):4===n.readyState&&Oe(t,0,"Ajax error",7));he(t,!1)}};t.oAjaxData=n;je(t,null,"preXhr",[t,n]);if(t.fnServerData)t.fnServerData.call(l,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),u,t);else if(t.sAjaxSource||"string"==typeof a)t.jqXHR=e.ajax(e.extend(f,{url:a||t.sAjaxSource}));else if("function"==typeof a)t.jqXHR=a.call(l,n,u,t);else{t.jqXHR=e.ajax(e.extend(f,a));a.data=s}}function H(e){if(e.bAjaxDataGet){e.iDraw++;he(e,!0);z(e,V(e),function(t){W(e,t)});return!1}return!0}function V(t){var n,i,r,o,s=t.aoColumns,a=s.length,l=t.oFeatures,u=t.oPreviousSearch,c=t.aoPreSearchCols,f=[],p=Ee(t),h=t._iDisplayStart,d=l.bPaginate!==!1?t._iDisplayLength:-1,g=function(e,t){f.push({name:e,value:t})};g("sEcho",t.iDraw);g("iColumns",a);g("sColumns",at(s,"sName").join(","));g("iDisplayStart",h);g("iDisplayLength",d);var m={draw:t.iDraw,columns:[],order:[],start:h,length:d,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;n<a;n++){r=s[n];o=c[n];i="function"==typeof r.mData?"function":r.mData;m.columns.push({data:i,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}});g("mDataProp_"+n,i);if(l.bFilter){g("sSearch_"+n,o.sSearch);g("bRegex_"+n,o.bRegex);g("bSearchable_"+n,r.bSearchable)}l.bSort&&g("bSortable_"+n,r.bSortable)}if(l.bFilter){g("sSearch",u.sSearch);g("bRegex",u.bRegex)}if(l.bSort){e.each(p,function(e,t){m.order.push({column:t.col,dir:t.dir});g("iSortCol_"+e,t.col);g("sSortDir_"+e,t.dir)});g("iSortingCols",p.length)}var v=Ze.ext.legacy.ajax;return null===v?t.sAjaxSource?f:m:v?f:m}function W(e,t){var n=function(e,n){return t[e]!==i?t[e]:t[n]},r=Y(e,t),o=n("sEcho","draw"),s=n("iTotalRecords","recordsTotal"),a=n("iTotalDisplayRecords","recordsFiltered");if(o){if(1*o<e.iDraw)return;e.iDraw=1*o}A(e);e._iRecordsTotal=parseInt(s,10);e._iRecordsDisplay=parseInt(a,10);for(var l=0,u=r.length;l<u;l++)x(e,r[l]);e.aiDisplay=e.aiDisplayMaster.slice();e.bAjaxDataGet=!1;B(e);e._bInitComplete||ae(e,t);e.bAjaxDataGet=!0;he(e,!1)}function Y(t,n){var r=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==i?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===r?n.aaData||n[r]:""!==r?L(r)(n):n}function Z(t){var i=t.oClasses,r=t.sTableId,o=t.oLanguage,s=t.oPreviousSearch,a=t.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',u=o.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",l):u+l;var c=e("<div/>",{id:a.f?null:r+"_filter","class":i.sFilter}).append(e("<label/>").append(u)),f=function(){var e=(a.f,this.value?this.value:"");if(e!=s.sSearch){$(t,{sSearch:e,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive});t._iDisplayStart=0;B(t)}},p=null!==t.searchDelay?t.searchDelay:"ssp"===Ue(t)?400:0,h=e("input",c).val(s.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",p?_t(f,p):f).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",r);e(t.nTable).on("search.dt.DT",function(e,i){if(t===i)try{h[0]!==n.activeElement&&h.val(s.sSearch)}catch(r){}});return c[0]}function $(e,t,n){var r=e.oPreviousSearch,o=e.aoPreSearchCols,s=function(e){r.sSearch=e.sSearch;r.bRegex=e.bRegex;r.bSmart=e.bSmart;r.bCaseInsensitive=e.bCaseInsensitive},a=function(e){return e.bEscapeRegex!==i?!e.bEscapeRegex:e.bRegex};y(e);if("ssp"!=Ue(e)){Q(e,t.sSearch,n,a(t),t.bSmart,t.bCaseInsensitive);s(t);for(var l=0;l<o.length;l++)X(e,o[l].sSearch,l,a(o[l]),o[l].bSmart,o[l].bCaseInsensitive);K(e)}else s(t);e.bFiltered=!0;je(e,null,"search",[e])}function K(t){for(var n,i,r=Ze.ext.search,o=t.aiDisplay,s=0,a=r.length;s<a;s++){for(var l=[],u=0,c=o.length;u<c;u++){i=o[u];n=t.aoData[i];r[s](t,n._aFilterData,i,n._aData,u)&&l.push(i)}o.length=0;e.merge(o,l)}}function X(e,t,n,i,r,o){if(""!==t){for(var s,a=[],l=e.aiDisplay,u=J(t,i,r,o),c=0;c<l.length;c++){s=e.aoData[l[c]]._aFilterData[n];u.test(s)&&a.push(l[c])}e.aiDisplay=a}}function Q(e,t,n,i,r,o){var s,a,l,u=J(t,i,r,o),c=e.oPreviousSearch.sSearch,f=e.aiDisplayMaster,p=[];0!==Ze.ext.search.length&&(n=!0);a=ee(e);if(t.length<=0)e.aiDisplay=f.slice();else{(a||n||c.length>t.length||0!==t.indexOf(c)||e.bSorted)&&(e.aiDisplay=f.slice());s=e.aiDisplay;for(l=0;l<s.length;l++)u.test(e.aoData[s[l]]._sFilterRow)&&p.push(s[l]);e.aiDisplay=p}}function J(t,n,i,r){t=n?t:vt(t);if(i){var o=e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")});t="^(?=.*?"+o.join(")(?=.*?")+").*$"}return new RegExp(t,r?"i":"")}function ee(e){var t,n,i,r,o,s,a,l,u=e.aoColumns,c=Ze.ext.type.search,f=!1;for(n=0,r=e.aoData.length;n<r;n++){l=e.aoData[n];if(!l._aFilterData){s=[];for(i=0,o=u.length;i<o;i++){t=u[i];if(t.bSearchable){a=T(e,n,i,"filter");c[t.sType]&&(a=c[t.sType](a));null===a&&(a="");"string"!=typeof a&&a.toString&&(a=a.toString())}else a="";if(a.indexOf&&a.indexOf("&")!==-1){yt.innerHTML=a;a=bt?yt.textContent:yt.innerText}a.replace&&(a=a.replace(/[\r\n]/g,""));s.push(a)}l._aFilterData=s;l._sFilterRow=s.join("  ");f=!0}}return f}function te(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ne(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function ie(t){var n=t.sTableId,i=t.aanFeatures.i,r=e("<div/>",{"class":t.oClasses.sInfo,id:i?null:n+"_info"});if(!i){t.aoDrawCallback.push({fn:re,sName:"information"});r.attr("role","status").attr("aria-live","polite");e(t.nTable).attr("aria-describedby",n+"_info")}return r[0]}function re(t){var n=t.aanFeatures.i;if(0!==n.length){var i=t.oLanguage,r=t._iDisplayStart+1,o=t.fnDisplayEnd(),s=t.fnRecordsTotal(),a=t.fnRecordsDisplay(),l=a?i.sInfo:i.sInfoEmpty;a!==s&&(l+=" "+i.sInfoFiltered);l+=i.sInfoPostFix;l=oe(t,l);var u=i.fnInfoCallback;null!==u&&(l=u.call(t.oInstance,t,r,o,s,a,l));e(n).html(l)}}function oe(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,o=e.fnRecordsDisplay(),s=r===-1;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,s?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,s?1:Math.ceil(o/r)))}function se(e){var t,n,i,r=e.iInitDisplayStart,o=e.aoColumns,s=e.oFeatures,a=e.bDeferLoading;if(e.bInitialised){U(e);D(e);j(e,e.aoHeader);j(e,e.aoFooter);he(e,!0);s.bAutoWidth&&ve(e);for(t=0,n=o.length;t<n;t++){i=o[t];i.sWidth&&(i.nTh.style.width=_e(i.sWidth))}je(e,null,"preInit",[e]);q(e);var l=Ue(e);if("ssp"!=l||a)if("ajax"==l)z(e,[],function(n){var i=Y(e,n);for(t=0;t<i.length;t++)x(e,i[t]);e.iInitDisplayStart=r;q(e);he(e,!1);ae(e,n)},e);else{he(e,!1);ae(e)}}else setTimeout(function(){se(e)},200)}function ae(e,t){e._bInitComplete=!0;(t||e.oInit.aaData)&&h(e);je(e,null,"plugin-init",[e,t]);je(e,"aoInitComplete","init",[e,t])}function le(e,t){var n=parseInt(t,10);e._iDisplayLength=n;Be(e);je(e,null,"length",[e,n])}function ue(t){for(var n=t.oClasses,i=t.sTableId,r=t.aLengthMenu,o=e.isArray(r[0]),s=o?r[0]:r,a=o?r[1]:r,l=e("<select/>",{name:i+"_length","aria-controls":i,"class":n.sLengthSelect}),u=0,c=s.length;u<c;u++)l[0][u]=new Option("number"==typeof a[u]?t.fnFormatNumber(a[u]):a[u],s[u]);var f=e("<div><label/></div>").addClass(n.sLength);t.aanFeatures.l||(f[0].id=i+"_length");f.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML));e("select",f).val(t._iDisplayLength).on("change.DT",function(n){le(t,e(this).val());B(t)});e(t.nTable).on("length.dt.DT",function(n,i,r){t===i&&e("select",f).val(r)});return f[0]}function ce(t){var n=t.sPaginationType,i=Ze.ext.pager[n],r="function"==typeof i,o=function(e){B(e)},s=e("<div/>").addClass(t.oClasses.sPaging+n)[0],a=t.aanFeatures;r||i.fnInit(t,s,o);if(!a.p){s.id=t.sTableId+"_paginate";t.aoDrawCallback.push({fn:function(e){if(r){var t,n,s=e._iDisplayStart,l=e._iDisplayLength,u=e.fnRecordsDisplay(),c=l===-1,f=c?0:Math.ceil(s/l),p=c?1:Math.ceil(u/l),h=i(f,p);for(t=0,n=a.p.length;t<n;t++)qe(e,"pageButton")(e,a.p[t],t,h,f,p)}else i.fnUpdate(e,o)},sName:"pagination"})}return s}function fe(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,o=e.fnRecordsDisplay();if(0===o||r===-1)i=0;else if("number"==typeof t){i=t*r;i>o&&(i=0)}else if("first"==t)i=0;else if("previous"==t){
i=r>=0?i-r:0;i<0&&(i=0)}else"next"==t?i+r<o&&(i+=r):"last"==t?i=Math.floor((o-1)/r)*r:Oe(e,0,"Unknown paging action: "+t,5);var s=e._iDisplayStart!==i;e._iDisplayStart=i;if(s){je(e,null,"page",[e]);n&&B(e)}return s}function pe(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function he(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none");je(t,null,"processing",[t,n])}function de(t){var n=e(t.nTable);n.attr("role","grid");var i=t.oScroll;if(""===i.sX&&""===i.sY)return t.nTable;var r=i.sX,o=i.sY,s=t.oClasses,a=n.children("caption"),l=a.length?a[0]._captionSide:null,u=e(n[0].cloneNode(!1)),c=e(n[0].cloneNode(!1)),f=n.children("tfoot"),p="<div/>",h=function(e){return e?_e(e):null};f.length||(f=null);var d=e(p,{"class":s.sScrollWrapper}).append(e(p,{"class":s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?h(r):"100%"}).append(e(p,{"class":s.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(n.children("thead"))))).append(e(p,{"class":s.sScrollBody}).css({position:"relative",overflow:"auto",width:h(r)}).append(n));f&&d.append(e(p,{"class":s.sScrollFoot}).css({overflow:"hidden",border:0,width:r?h(r):"100%"}).append(e(p,{"class":s.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(n.children("tfoot")))));var g=d.children(),m=g[0],v=g[1],y=f?g[2]:null;r&&e(v).on("scroll.DT",function(e){var t=this.scrollLeft;m.scrollLeft=t;f&&(y.scrollLeft=t)});e(v).css(o&&i.bCollapse?"max-height":"height",o);t.nScrollHead=m;t.nScrollBody=v;t.nScrollFoot=y;t.aoDrawCallback.push({fn:ge,sName:"scrolling"});return d[0]}function ge(t){var n,r,o,s,a,l,u,c,f,p=t.oScroll,g=p.sX,m=p.sXInner,v=p.sY,y=p.iBarWidth,b=e(t.nScrollHead),x=b[0].style,_=b.children("div"),E=_[0].style,w=_.children("table"),T=t.nScrollBody,S=e(T),C=T.style,L=e(t.nScrollFoot),N=L.children("div"),I=N.children("table"),A=e(t.nTHead),R=e(t.nTable),O=R[0],P=O.style,k=t.nTFoot?e(t.nTFoot):null,M=t.oBrowser,D=M.bScrollOversize,j=at(t.aoColumns,"nTh"),B=[],q=[],U=[],F=[],z=function(e){var t=e.style;t.paddingTop="0";t.paddingBottom="0";t.borderTopWidth="0";t.borderBottomWidth="0";t.height=0},H=T.scrollHeight>T.clientHeight;if(t.scrollBarVis===H||t.scrollBarVis===i){t.scrollBarVis=H;R.children("thead, tfoot").remove();if(k){l=k.clone().prependTo(R);r=k.find("tr");s=l.find("tr")}a=A.clone().prependTo(R);n=A.find("tr");o=a.find("tr");a.find("th, td").removeAttr("tabindex");if(!g){C.width="100%";b[0].style.width="100%"}e.each(G(t,a),function(e,n){u=d(t,e);n.style.width=t.aoColumns[u].sWidth});k&&me(function(e){e.style.width=""},s);f=R.outerWidth();if(""===g){P.width="100%";D&&(R.find("tbody").height()>T.offsetHeight||"scroll"==S.css("overflow-y"))&&(P.width=_e(R.outerWidth()-y));f=R.outerWidth()}else if(""!==m){P.width=_e(m);f=R.outerWidth()}me(z,o);me(function(t){U.push(t.innerHTML);B.push(_e(e(t).css("width")))},o);me(function(t,n){e.inArray(t,j)!==-1&&(t.style.width=B[n])},n);e(o).height(0);if(k){me(z,s);me(function(t){F.push(t.innerHTML);q.push(_e(e(t).css("width")))},s);me(function(e,t){e.style.width=q[t]},r);e(s).height(0)}me(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+U[t]+"</div>";e.childNodes[0].style.height="0";e.childNodes[0].style.overflow="hidden";e.style.width=B[t]},o);k&&me(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+F[t]+"</div>";e.childNodes[0].style.height="0";e.childNodes[0].style.overflow="hidden";e.style.width=q[t]},s);if(R.outerWidth()<f){c=T.scrollHeight>T.offsetHeight||"scroll"==S.css("overflow-y")?f+y:f;D&&(T.scrollHeight>T.offsetHeight||"scroll"==S.css("overflow-y"))&&(P.width=_e(c-y));""!==g&&""===m||Oe(t,1,"Possible column misalignment",6)}else c="100%";C.width=_e(c);x.width=_e(c);k&&(t.nScrollFoot.style.width=_e(c));v||D&&(C.height=_e(O.offsetHeight+y));var V=R.outerWidth();w[0].style.width=_e(V);E.width=_e(V);var W=R.height()>T.clientHeight||"scroll"==S.css("overflow-y"),Y="padding"+(M.bScrollbarLeft?"Left":"Right");E[Y]=W?y+"px":"0px";if(k){I[0].style.width=_e(V);N[0].style.width=_e(V);N[0].style[Y]=W?y+"px":"0px"}R.children("colgroup").insertBefore(R.children("thead"));S.scroll();!t.bSorted&&!t.bFiltered||t._drawHold||(T.scrollTop=0)}else{t.scrollBarVis=H;h(t)}}function me(e,t,n){for(var i,r,o=0,s=0,a=t.length;s<a;){i=t[s].firstChild;r=n?n[s].firstChild:null;for(;i;){if(1===i.nodeType){n?e(i,r,o):e(i,o);o++}i=i.nextSibling;r=n?r.nextSibling:null}s++}}function ve(n){var i,r,o,s=n.nTable,a=n.aoColumns,l=n.oScroll,u=l.sY,c=l.sX,f=l.sXInner,p=a.length,g=v(n,"bVisible"),y=e("th",n.nTHead),b=s.getAttribute("width"),x=s.parentNode,_=!1,E=n.oBrowser,w=E.bScrollOversize,T=s.style.width;T&&T.indexOf("%")!==-1&&(b=T);for(i=0;i<g.length;i++){r=a[g[i]];if(null!==r.sWidth){r.sWidth=ye(r.sWidthOrig,x);_=!0}}if(w||!_&&!c&&!u&&p==m(n)&&p==y.length)for(i=0;i<p;i++){var S=d(n,i);null!==S&&(a[S].sWidth=_e(y.eq(i).width()))}else{var C=e(s).clone().css("visibility","hidden").removeAttr("id");C.find("tbody tr").remove();var L=e("<tr/>").appendTo(C.find("tbody"));C.find("thead, tfoot").remove();C.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone());C.find("tfoot th, tfoot td").css("width","");y=G(n,C.find("thead")[0]);for(i=0;i<g.length;i++){r=a[g[i]];y[i].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?_e(r.sWidthOrig):"";r.sWidthOrig&&c&&e(y[i]).append(e("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}))}if(n.aoData.length)for(i=0;i<g.length;i++){o=g[i];r=a[o];e(be(n,o)).clone(!1).append(r.sContentPadding).appendTo(L)}e("[name]",C).removeAttr("name");var N=e("<div/>").css(c||u?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(C).appendTo(x);if(c&&f)C.width(f);else if(c){C.css("width","auto");C.removeAttr("width");C.width()<x.clientWidth&&b&&C.width(x.clientWidth)}else u?C.width(x.clientWidth):b&&C.width(b);var I=0;for(i=0;i<g.length;i++){var A=e(y[i]),R=A.outerWidth()-A.width(),O=E.bBounding?Math.ceil(y[i].getBoundingClientRect().width):A.outerWidth();I+=O;a[g[i]].sWidth=_e(O-R)}s.style.width=_e(I);N.remove()}b&&(s.style.width=_e(b));if((b||c)&&!n._reszEvt){var P=function(){e(t).on("resize.DT-"+n.sInstance,_t(function(){h(n)}))};w?setTimeout(P,1e3):P();n._reszEvt=!0}}function ye(t,i){if(!t)return 0;var r=e("<div/>").css("width",_e(t)).appendTo(i||n.body),o=r[0].offsetWidth;r.remove();return o}function be(t,n){var i=xe(t,n);if(i<0)return null;var r=t.aoData[i];return r.nTr?r.anCells[n]:e("<td/>").html(T(t,i,n,"display"))[0]}function xe(e,t){for(var n,i=-1,r=-1,o=0,s=e.aoData.length;o<s;o++){n=T(e,o,t,"display")+"";n=n.replace(xt,"");n=n.replace(/&nbsp;/g," ");if(n.length>i){i=n.length;r=o}}return r}function _e(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Ee(t){var n,r,o,s,a,l,u,c=[],f=t.aoColumns,p=t.aaSortingFixed,h=e.isPlainObject(p),d=[],g=function(t){t.length&&!e.isArray(t[0])?d.push(t):e.merge(d,t)};e.isArray(p)&&g(p);h&&p.pre&&g(p.pre);g(t.aaSorting);h&&p.post&&g(p.post);for(n=0;n<d.length;n++){u=d[n][0];s=f[u].aDataSort;for(r=0,o=s.length;r<o;r++){a=s[r];l=f[a].sType||"string";d[n]._idx===i&&(d[n]._idx=e.inArray(d[n][1],f[a].asSorting));c.push({src:u,col:a,dir:d[n][1],index:d[n]._idx,type:l,formatter:Ze.ext.type.order[l+"-pre"]})}}return c}function we(e){var t,n,i,r,o,s=[],a=Ze.ext.type.order,l=e.aoData,u=(e.aoColumns,0),c=e.aiDisplayMaster;y(e);o=Ee(e);for(t=0,n=o.length;t<n;t++){r=o[t];r.formatter&&u++;Ne(e,r.col)}if("ssp"!=Ue(e)&&0!==o.length){for(t=0,i=c.length;t<i;t++)s[c[t]]=t;u===o.length?c.sort(function(e,t){var n,i,r,a,u,c=o.length,f=l[e]._aSortData,p=l[t]._aSortData;for(r=0;r<c;r++){u=o[r];n=f[u.col];i=p[u.col];a=n<i?-1:n>i?1:0;if(0!==a)return"asc"===u.dir?a:-a}n=s[e];i=s[t];return n<i?-1:n>i?1:0}):c.sort(function(e,t){var n,i,r,u,c,f,p=o.length,h=l[e]._aSortData,d=l[t]._aSortData;for(r=0;r<p;r++){c=o[r];n=h[c.col];i=d[c.col];f=a[c.type+"-"+c.dir]||a["string-"+c.dir];u=f(n,i);if(0!==u)return u}n=s[e];i=s[t];return n<i?-1:n>i?1:0})}e.bSorted=!0}function Te(e){for(var t,n,i=e.aoColumns,r=Ee(e),o=e.oLanguage.oAria,s=0,a=i.length;s<a;s++){var l=i[s],u=l.asSorting,c=l.sTitle.replace(/<.*?>/g,""),f=l.nTh;f.removeAttribute("aria-sort");if(l.bSortable){if(r.length>0&&r[0].col==s){f.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending");n=u[r[0].index+1]||u[0]}else n=u[0];t=c+("asc"===n?o.sSortAscending:o.sSortDescending)}else t=c;f.setAttribute("aria-label",t)}}function Se(t,n,r,o){var s,a=t.aoColumns[n],l=t.aaSorting,u=a.asSorting,c=function(t,n){var r=t._idx;r===i&&(r=e.inArray(t[1],u));return r+1<u.length?r+1:n?null:0};"number"==typeof l[0]&&(l=t.aaSorting=[l]);if(r&&t.oFeatures.bSortMulti){var f=e.inArray(n,at(l,"0"));if(f!==-1){s=c(l[f],!0);null===s&&1===l.length&&(s=0);if(null===s)l.splice(f,1);else{l[f][1]=u[s];l[f]._idx=s}}else{l.push([n,u[0],0]);l[l.length-1]._idx=0}}else if(l.length&&l[0][0]==n){s=c(l[0]);l.length=1;l[0][1]=u[s];l[0]._idx=s}else{l.length=0;l.push([n,u[0]]);l[0]._idx=0}q(t);"function"==typeof o&&o(t)}function Ce(e,t,n,i){var r=e.aoColumns[n];Me(t,{},function(t){if(r.bSortable!==!1)if(e.oFeatures.bProcessing){he(e,!0);setTimeout(function(){Se(e,n,t.shiftKey,i);"ssp"!==Ue(e)&&he(e,!1)},0)}else Se(e,n,t.shiftKey,i)})}function Le(t){var n,i,r,o=t.aLastSort,s=t.oClasses.sSortColumn,a=Ee(t),l=t.oFeatures;if(l.bSort&&l.bSortClasses){for(n=0,i=o.length;n<i;n++){r=o[n].src;e(at(t.aoData,"anCells",r)).removeClass(s+(n<2?n+1:3))}for(n=0,i=a.length;n<i;n++){r=a[n].src;e(at(t.aoData,"anCells",r)).addClass(s+(n<2?n+1:3))}}t.aLastSort=a}function Ne(e,t){var n,i=e.aoColumns[t],r=Ze.ext.order[i.sSortDataType];r&&(n=r.call(e.oInstance,e,t,g(e,t)));for(var o,s,a=Ze.ext.type.order[i.sType+"-pre"],l=0,u=e.aoData.length;l<u;l++){o=e.aoData[l];o._aSortData||(o._aSortData=[]);if(!o._aSortData[t]||r){s=r?n[l]:T(e,l,t,"sort");o._aSortData[t]=a?a(s):s}}}function Ie(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:te(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:te(t.aoPreSearchCols[n])}})};je(t,"aoStateSaveParams","stateSaveParams",[t,n]);t.oSavedState=n;t.fnStateSaveCallback.call(t.oInstance,t,n)}}function Ae(t,n,r){var o,s,a=t.aoColumns,l=function(n){if(n&&n.time){var l=je(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(e.inArray(!1,l)===-1){var u=t.iStateDuration;if(u>0&&n.time<+new Date-1e3*u)r();else if(n.columns&&a.length!==n.columns.length)r();else{t.oLoadedState=e.extend(!0,{},n);if(n.start!==i){t._iDisplayStart=n.start;t.iInitDisplayStart=n.start}n.length!==i&&(t._iDisplayLength=n.length);if(n.order!==i){t.aaSorting=[];e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=a.length?[0,n[1]]:n)})}n.search!==i&&e.extend(t.oPreviousSearch,ne(n.search));if(n.columns)for(o=0,s=n.columns.length;o<s;o++){var c=n.columns[o];c.visible!==i&&(a[o].bVisible=c.visible);c.search!==i&&e.extend(t.aoPreSearchCols[o],ne(c.search))}je(t,"aoStateLoaded","stateLoaded",[t,n]);r()}}else r()}else r()};if(t.oFeatures.bStateSave){var u=t.fnStateLoadCallback.call(t.oInstance,t,l);u!==i&&l(u)}else r()}function Re(t){var n=Ze.settings,i=e.inArray(t,at(n,"nTable"));return i!==-1?n[i]:null}function Oe(e,n,i,r){i="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+i;r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r);if(n)t.console&&console.log&&console.log(i);else{var o=Ze.ext,s=o.sErrMode||o.errMode;e&&je(e,null,"error",[e,r,i]);if("alert"==s)alert(i);else{if("throw"==s)throw new Error(i);"function"==typeof s&&s(e,r,i)}}}function Pe(t,n,r,o){if(e.isArray(r))e.each(r,function(i,r){e.isArray(r)?Pe(t,n,r[0],r[1]):Pe(t,n,r)});else{o===i&&(o=r);n[r]!==i&&(t[o]=n[r])}}function ke(t,n,i){var r;for(var o in n)if(n.hasOwnProperty(o)){r=n[o];if(e.isPlainObject(r)){e.isPlainObject(t[o])||(t[o]={});e.extend(!0,t[o],r)}else i&&"data"!==o&&"aaData"!==o&&e.isArray(r)?t[o]=r.slice():t[o]=r}return t}function Me(t,n,i){e(t).on("click.DT",n,function(n){e(t).blur();i(n)}).on("keypress.DT",n,function(e){if(13===e.which){e.preventDefault();i(e)}}).on("selectstart.DT",function(){return!1})}function De(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function je(t,n,i,r){var o=[];n&&(o=e.map(t[n].slice().reverse(),function(e,n){return e.fn.apply(t.oInstance,r)}));if(null!==i){var s=e.Event(i+".dt");e(t.nTable).trigger(s,r);o.push(s.result)}return o}function Be(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i);t-=t%i;(i===-1||t<0)&&(t=0);e._iDisplayStart=t}function qe(t,n){var i=t.renderer,r=Ze.ext.renderer[n];return e.isPlainObject(i)&&i[n]?r[i[n]]||r._:"string"==typeof i?r[i]||r._:r._}function Ue(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Fe(e,t){var n=[],i=Ht.numbers_length,r=Math.floor(i/2);if(t<=i)n=ut(0,t);else if(e<=r){n=ut(0,i-2);n.push("ellipsis");n.push(t-1)}else if(e>=t-1-r){n=ut(t-(i-2),t);n.splice(0,0,"ellipsis");n.splice(0,0,0)}else{n=ut(e-r+2,e+r-1);n.push("ellipsis");n.push(t-1);n.splice(0,0,"ellipsis");n.splice(0,0,0)}n.DT_el="span";return n}function Ge(t){e.each({num:function(e){return Vt(e,t)},"num-fmt":function(e){return Vt(e,t,et)},"html-num":function(e){return Vt(e,t,Xe)},"html-num-fmt":function(e){return Vt(e,t,Xe,et)}},function(e,n){He.type.order[e+t+"-pre"]=n;e.match(/^html\-/)&&(He.type.search[e+t]=He.type.search.html)})}function ze(e){return function(){var t=[Re(this[Ze.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ze.ext.internal[e].apply(this,t)}}var He,Ve,We,Ye,Ze=function(t){this.$=function(e,t){return this.api(!0).$(e,t)};this._=function(e,t){return this.api(!0).rows(e,t).data()};this.api=function(e){return new Ve(e?Re(this[He.iApiIndex]):this)};this.fnAddData=function(t,n){var r=this.api(!0),o=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?r.rows.add(t):r.row.add(t);(n===i||n)&&r.draw();return o.flatten().toArray()};this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===i||e?t.draw(!1):""===r.sX&&""===r.sY||ge(n)};this.fnClearTable=function(e){var t=this.api(!0).clear();(e===i||e)&&t.draw()};this.fnClose=function(e){this.api(!0).row(e).child.hide()};this.fnDeleteRow=function(e,t,n){var r=this.api(!0),o=r.rows(e),s=o.settings()[0],a=s.aoData[o[0][0]];o.remove();t&&t.call(this,s,a);(n===i||n)&&r.draw();return a};this.fnDestroy=function(e){this.api(!0).destroy(e)};this.fnDraw=function(e){this.api(!0).draw(e)};this.fnFilter=function(e,t,n,r,o,s){var a=this.api(!0);null===t||t===i?a.search(e,n,r,s):a.column(t).search(e,n,r,s);a.draw()};this.fnGetData=function(e,t){var n=this.api(!0);if(e!==i){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==i||"td"==r||"th"==r?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()};this.fnGetNodes=function(e){var t=this.api(!0);return e!==i?t.row(e).node():t.rows().nodes().flatten().toArray()};this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"==n||"TH"==n){var i=t.cell(e).index();return[i.row,i.columnVisible,i.column]}return null};this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()};this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]};this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===i||t)&&n.draw(!1)};this.fnSetColumnVis=function(e,t,n){var r=this.api(!0).column(e).visible(t);(n===i||n)&&r.columns.adjust().draw()};this.fnSettings=function(){return Re(this[He.iApiIndex])};this.fnSort=function(e){this.api(!0).order(e).draw()};this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)};this.fnUpdate=function(e,t,n,r,o){var s=this.api(!0);n===i||null===n?s.row(t).data(e):s.cell(t,n).data(e);(o===i||o)&&s.columns.adjust();(r===i||r)&&s.draw();return 0};this.fnVersionCheck=He.fnVersionCheck;var n=this,r=t===i,c=this.length;r&&(t={});this.oApi=this.internal=He.internal;for(var h in Ze.ext.internal)h&&(this[h]=ze(h));this.each(function(){var h,d={},g=c>1?ke(d,t,!0):t,m=0,v=this.getAttribute("id"),y=!1,E=Ze.defaults,w=e(this);if("table"==this.nodeName.toLowerCase()){a(E);l(E.column);o(E,E,!0);o(E.column,E.column,!0);o(E,e.extend(g,w.data()));var T=Ze.settings;for(m=0,h=T.length;m<h;m++){var S=T[m];if(S.nTable==this||S.nTHead&&S.nTHead.parentNode==this||S.nTFoot&&S.nTFoot.parentNode==this){var C=g.bRetrieve!==i?g.bRetrieve:E.bRetrieve,N=g.bDestroy!==i?g.bDestroy:E.bDestroy;if(r||C)return S.oInstance;if(N){S.oInstance.fnDestroy();break}Oe(S,0,"Cannot reinitialise DataTable",3);return}if(S.sTableId==this.id){T.splice(m,1);break}}if(null===v||""===v){v="DataTables_Table_"+Ze.ext._unique++;this.id=v}var I=e.extend(!0,{},Ze.models.oSettings,{sDestroyWidth:w[0].style.width,sInstance:v,sTableId:v});I.nTable=this;I.oApi=n.internal;I.oInit=g;T.push(I);I.oInstance=1===n.length?n:w.dataTable();a(g);s(g.oLanguage);g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=e.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]);g=ke(e.extend(!0,{},E),g);Pe(I.oFeatures,g,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]);Pe(I,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]);Pe(I.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);Pe(I.oLanguage,g,"fnInfoCallback");De(I,"aoDrawCallback",g.fnDrawCallback,"user");De(I,"aoServerParams",g.fnServerParams,"user");De(I,"aoStateSaveParams",g.fnStateSaveParams,"user");De(I,"aoStateLoadParams",g.fnStateLoadParams,"user");De(I,"aoStateLoaded",g.fnStateLoaded,"user");De(I,"aoRowCallback",g.fnRowCallback,"user");De(I,"aoRowCreatedCallback",g.fnCreatedRow,"user");De(I,"aoHeaderCallback",g.fnHeaderCallback,"user");De(I,"aoFooterCallback",g.fnFooterCallback,"user");De(I,"aoInitComplete",g.fnInitComplete,"user");De(I,"aoPreDrawCallback",g.fnPreDrawCallback,"user");I.rowIdFn=L(g.rowId);u(I);var A=I.oClasses;e.extend(A,Ze.ext.classes,g.oClasses);w.addClass(A.sTable);if(I.iInitDisplayStart===i){I.iInitDisplayStart=g.iDisplayStart;I._iDisplayStart=g.iDisplayStart}if(null!==g.iDeferLoading){I.bDeferLoading=!0;var R=e.isArray(g.iDeferLoading);I._iRecordsDisplay=R?g.iDeferLoading[0]:g.iDeferLoading;I._iRecordsTotal=R?g.iDeferLoading[1]:g.iDeferLoading}var O=I.oLanguage;e.extend(!0,O,g.oLanguage);if(O.sUrl){e.ajax({dataType:"json",url:O.sUrl,success:function(t){s(t);o(E.oLanguage,t);e.extend(!0,O,t);se(I)},error:function(){se(I)}});y=!0}null===g.asStripeClasses&&(I.asStripeClasses=[A.sStripeOdd,A.sStripeEven]);var P=I.asStripeClasses,k=w.children("tbody").find("tr").eq(0);if(e.inArray(!0,e.map(P,function(e,t){return k.hasClass(e)}))!==-1){e("tbody tr",this).removeClass(P.join(" "));I.asDestroyStripes=P.slice()}var M,D=[],j=this.getElementsByTagName("thead");if(0!==j.length){F(I.aoHeader,j[0]);D=G(I)}if(null===g.aoColumns){M=[];for(m=0,h=D.length;m<h;m++)M.push(null)}else M=g.aoColumns;for(m=0,h=M.length;m<h;m++)f(I,D?D[m]:null);b(I,g.aoColumnDefs,M,function(e,t){p(I,e,t)});if(k.length){var B=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(k[0]).children("th, td").each(function(e,t){var n=I.aoColumns[e];if(n.mData===e){var r=B(t,"sort")||B(t,"order"),o=B(t,"filter")||B(t,"search");if(null!==r||null!==o){n.mData={_:e+".display",sort:null!==r?e+".@data-"+r:i,type:null!==r?e+".@data-"+r:i,filter:null!==o?e+".@data-"+o:i};p(I,e)}}})}var q=I.oFeatures,U=function(){if(g.aaSorting===i){var t=I.aaSorting;for(m=0,h=t.length;m<h;m++)t[m][1]=I.aoColumns[m].asSorting[0]}Le(I);q.bSort&&De(I,"aoDrawCallback",function(){if(I.bSorted){var t=Ee(I),n={};e.each(t,function(e,t){n[t.src]=t.dir});je(I,null,"order",[I,t,n]);Te(I)}});De(I,"aoDrawCallback",function(){(I.bSorted||"ssp"===Ue(I)||q.bDeferRender)&&Le(I)},"sc");var n=w.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),r=w.children("thead");0===r.length&&(r=e("<thead/>").appendTo(w));I.nTHead=r[0];var o=w.children("tbody");0===o.length&&(o=e("<tbody/>").appendTo(w));I.nTBody=o[0];var s=w.children("tfoot");0===s.length&&n.length>0&&(""!==I.oScroll.sX||""!==I.oScroll.sY)&&(s=e("<tfoot/>").appendTo(w));if(0===s.length||0===s.children().length)w.addClass(A.sNoFooter);else if(s.length>0){I.nTFoot=s[0];F(I.aoFooter,I.nTFoot)}if(g.aaData)for(m=0;m<g.aaData.length;m++)x(I,g.aaData[m]);else(I.bDeferLoading||"dom"==Ue(I))&&_(I,e(I.nTBody).children("tr"));I.aiDisplay=I.aiDisplayMaster.slice();I.bInitialised=!0;y===!1&&se(I)};if(g.bStateSave){q.bStateSave=!0;De(I,"aoDrawCallback",Ie,"state_save");Ae(I,g,U)}else U()}else Oe(null,0,"Non-table node initialisation ("+this.nodeName+")",2)});n=null;return this},$e={},Ke=/[\r\n]/g,Xe=/<.*?>/g,Qe=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Je=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),et=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,tt=function(e){return!e||e===!0||"-"===e},nt=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},it=function(e,t){$e[t]||($e[t]=new RegExp(vt(t),"g"));return"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace($e[t],"."):e},rt=function(e,t,n){var i="string"==typeof e;if(tt(e))return!0;t&&i&&(e=it(e,t));n&&i&&(e=e.replace(et,""));return!isNaN(parseFloat(e))&&isFinite(e)},ot=function(e){return tt(e)||"string"==typeof e},st=function(e,t,n){if(tt(e))return!0;var i=ot(e);return i?!!rt(ft(e),t,n)||null:null},at=function(e,t,n){var r=[],o=0,s=e.length;if(n!==i)for(;o<s;o++)e[o]&&e[o][t]&&r.push(e[o][t][n]);else for(;o<s;o++)e[o]&&r.push(e[o][t]);return r},lt=function(e,t,n,r){var o=[],s=0,a=t.length;if(r!==i)for(;s<a;s++)e[t[s]][n]&&o.push(e[t[s]][n][r]);else for(;s<a;s++)o.push(e[t[s]][n]);return o},ut=function(e,t){var n,r=[];if(t===i){t=0;n=e}else{n=t;t=e}for(var o=t;o<n;o++)r.push(o);return r},ct=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},ft=function(e){return e.replace(Xe,"")},pt=function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),n=t[0],i=1,r=t.length;i<r;i++){if(t[i]===n)return!1;n=t[i]}return!0},ht=function(e){if(pt(e))return e.slice();var t,n,i,r=[],o=e.length,s=0;e:for(n=0;n<o;n++){t=e[n];for(i=0;i<s;i++)if(r[i]===t)continue e;r.push(t);s++}return r};Ze.util={throttle:function(e,t){var n,r,o=t!==i?t:200;return function(){var t=this,s=+new Date,a=arguments;if(n&&s<n+o){clearTimeout(r);r=setTimeout(function(){n=i;e.apply(t,a)},o)}else{n=s;e.apply(t,a)}}},escapeRegex:function(e){return e.replace(Je,"\\$1")}};var dt=function(e,t,n){e[t]!==i&&(e[n]=e[t])},gt=/\[.*?\]$/,mt=/\(\)$/,vt=Ze.util.escapeRegex,yt=e("<div>")[0],bt=yt.textContent!==i,xt=/<.*?>/g,_t=Ze.util.throttle,Et=[],wt=Array.prototype,Tt=function(t){var n,i,r=Ze.settings,o=e.map(r,function(e,t){return e.nTable});if(!t)return[];if(t.nTable&&t.oApi)return[t];if(t.nodeName&&"table"===t.nodeName.toLowerCase()){n=e.inArray(t,o);return n!==-1?[r[n]]:null}if(t&&"function"==typeof t.settings)return t.settings().toArray();"string"==typeof t?i=e(t):t instanceof e&&(i=t);return i?i.map(function(t){n=e.inArray(this,o);return n!==-1?r[n]:null}).toArray():void 0};Ve=function(t,n){if(!(this instanceof Ve))return new Ve(t,n);var i=[],r=function(e){var t=Tt(e);t&&(i=i.concat(t))};if(e.isArray(t))for(var o=0,s=t.length;o<s;o++)r(t[o]);else r(t);this.context=ht(i);n&&e.merge(this,n);this.selector={rows:null,cols:null,opts:null};Ve.extend(this,this,Et)};Ze.Api=Ve;e.extend(Ve.prototype,{any:function(){return 0!==this.count()},concat:wt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Ve(t[e],this[e]):null},filter:function(e){var t=[];if(wt.filter)t=wt.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new Ve(this.context,t)},flatten:function(){var e=[];return new Ve(this.context,e.concat.apply(e,this.toArray()))},join:wt.join,indexOf:wt.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,r){var o,s,a,l,u,c,f,p,h=[],d=this.context,g=this.selector;if("string"==typeof e){r=n;n=t;t=e;e=!1}for(s=0,a=d.length;s<a;s++){var m=new Ve(d[s]);if("table"===t){o=n.call(m,d[s],s);o!==i&&h.push(o)}else if("columns"===t||"rows"===t){o=n.call(m,d[s],this[s],s);o!==i&&h.push(o)}else if("column"===t||"column-rows"===t||"row"===t||"cell"===t){f=this[s];"column-rows"===t&&(c=At(d[s],g.opts));for(l=0,u=f.length;l<u;l++){p=f[l];o="cell"===t?n.call(m,d[s],p.row,p.column,s,l):n.call(m,d[s],p,s,l,c);o!==i&&h.push(o)}}}if(h.length||r){var v=new Ve(d,e?h.concat.apply([],h):h),y=v.selector;y.rows=g.rows;y.cols=g.cols;y.opts=g.opts;return v}return this},lastIndexOf:wt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(wt.map)t=wt.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new Ve(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:wt.pop,push:wt.push,reduce:wt.reduce||function(e,t){return c(this,e,t,0,this.length,1)},reduceRight:wt.reduceRight||function(e,t){return c(this,e,t,this.length-1,-1,-1)},reverse:wt.reverse,selector:null,shift:wt.shift,slice:function(){return new Ve(this.context,this)},sort:wt.sort,splice:wt.splice,toArray:function(){return wt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new Ve(this.context,ht(this))},unshift:wt.unshift});Ve.extend=function(t,n,i){if(i.length&&n&&(n instanceof Ve||n.__dt_wrapper)){var r,o,s,a=function(e,t,n){return function(){var i=t.apply(e,arguments);Ve.extend(i,i,n.methodExt);return i}};for(r=0,o=i.length;r<o;r++){s=i[r];n[s.name]="function"==typeof s.val?a(t,s.val,s):e.isPlainObject(s.val)?{}:s.val;n[s.name].__dt_wrapper=!0;Ve.extend(t,n[s.name],s.propExt)}}};Ve.register=We=function(t,n){if(e.isArray(t))for(var i=0,r=t.length;i<r;i++)Ve.register(t[i],n);else{var o,s,a,l,u=t.split("."),c=Et,f=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n].name===t)return e[n];return null};for(o=0,s=u.length;o<s;o++){l=u[o].indexOf("()")!==-1;a=l?u[o].replace("()",""):u[o];var p=f(c,a);if(!p){p={name:a,val:{},methodExt:[],propExt:[]};c.push(p)}o===s-1?p.val=n:c=l?p.methodExt:p.propExt}}};Ve.registerPlural=Ye=function(t,n,r){Ve.register(t,r);Ve.register(n,function(){var t=r.apply(this,arguments);return t===this?this:t instanceof Ve?t.length?e.isArray(t[0])?new Ve(t.context,t[0]):t[0]:i:t})};var St=function(t,n){if("number"==typeof t)return[n[t]];var i=e.map(n,function(e,t){return e.nTable});return e(i).filter(t).map(function(t){var r=e.inArray(this,i);return n[r]}).toArray()};We("tables()",function(e){return e?new Ve(St(e,this.context)):this});We("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new Ve(n[0]):t});Ye("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)});Ye("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)});Ye("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)});Ye("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)});Ye("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)});We("draw()",function(e){return this.iterator("table",function(t){if("page"===e)B(t);else{"string"==typeof e&&(e="full-hold"!==e);q(t,e===!1)}})});We("page()",function(e){return e===i?this.page.info().page:this.iterator("table",function(t){fe(t,e)})});We("page.info()",function(e){if(0===this.context.length)return i;var t=this.context[0],n=t._iDisplayStart,r=t.oFeatures.bPaginate?t._iDisplayLength:-1,o=t.fnRecordsDisplay(),s=r===-1;return{page:s?0:Math.floor(n/r),pages:s?1:Math.ceil(o/r),start:n,end:t.fnDisplayEnd(),length:r,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===Ue(t)}});We("page.len()",function(e){return e===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){le(t,e)})});var Ct=function(e,t,n){if(n){var i=new Ve(e);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==Ue(e))q(e,t);else{he(e,!0);var r=e.jqXHR;r&&4!==r.readyState&&r.abort();z(e,[],function(n){A(e);for(var i=Y(e,n),r=0,o=i.length;r<o;r++)x(e,i[r]);q(e,t);he(e,!1)})}};We("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json});We("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData});We("ajax.reload()",function(e,t){return this.iterator("table",function(n){Ct(n,t===!1,e)})});We("ajax.url()",function(t){var n=this.context;if(t===i){if(0===n.length)return i;n=n[0];return n.ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource}return this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})});We("ajax.url().load()",function(e,t){return this.iterator("table",function(n){Ct(n,t===!1,e)})});var Lt=function(t,n,r,o,s){var a,l,u,c,f,p,h=[],d=typeof n;n&&"string"!==d&&"function"!==d&&n.length!==i||(n=[n]);for(u=0,c=n.length;u<c;u++){l=n[u]&&n[u].split&&!n[u].match(/[\[\(:]/)?n[u].split(","):[n[u]];for(f=0,p=l.length;f<p;f++){a=r("string"==typeof l[f]?e.trim(l[f]):l[f]);a&&a.length&&(h=h.concat(a))}}var g=He.selector[t];if(g.length)for(u=0,c=g.length;u<c;u++)h=g[u](o,s,h);return ht(h)},Nt=function(t){t||(t={});t.filter&&t.search===i&&(t.search=t.filter);return e.extend({search:"none",order:"current",page:"all"},t)},It=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0){e[0]=e[t];e[0].length=1;e.length=1;e.context=[e.context[t]];return e}e.length=0;return e},At=function(t,n){var i,r,o,s=[],a=t.aiDisplay,l=t.aiDisplayMaster,u=n.search,c=n.order,f=n.page;if("ssp"==Ue(t))return"removed"===u?[]:ut(0,l.length);if("current"==f)for(i=t._iDisplayStart,r=t.fnDisplayEnd();i<r;i++)s.push(a[i]);else if("current"==c||"applied"==c){if("none"==u)s=l.slice();else if("applied"==u)s=a.slice();else if("removed"==u){for(var p={},i=0,r=a.length;i<r;i++)p[a[i]]=null;s=e.map(l,function(e){return p.hasOwnProperty(e)?null:e})}}else if("index"==c||"original"==c)for(i=0,r=t.aoData.length;i<r;i++)if("none"==u)s.push(i);else{o=e.inArray(i,a);(o===-1&&"removed"==u||o>=0&&"applied"==u)&&s.push(i)}return s},Rt=function(t,n,r){var o,s=function(n){var s=nt(n),a=t.aoData;if(null!==s&&!r)return[s];o||(o=At(t,r));if(null!==s&&e.inArray(s,o)!==-1)return[s];if(null===n||n===i||""===n)return o;if("function"==typeof n)return e.map(o,function(e){var t=a[e];return n(e,t._aData,t.nTr)?e:null});if(n.nodeName){var l=n._DT_RowIndex,u=n._DT_CellIndex;if(l!==i)return a[l]&&a[l].nTr===n?[l]:[];if(u)return a[u.row]&&a[u.row].nTr===n?[u.row]:[];var c=e(n).closest("*[data-dt-row]");return c.length?[c.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var f=t.aIds[n.replace(/^#/,"")];if(f!==i)return[f.idx]}var p=ct(lt(t.aoData,o,"nTr"));return e(p).filter(n).map(function(){return this._DT_RowIndex}).toArray()};return Lt("row",n,s,t,r)};We("rows()",function(t,n){if(t===i)t="";else if(e.isPlainObject(t)){n=t;
t=""}n=Nt(n);var r=this.iterator("table",function(e){return Rt(e,t,n)},1);r.selector.rows=t;r.selector.opts=n;return r});We("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||i},1)});We("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return lt(e.aoData,t,"_aData")},1)});Ye("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData},1)});Ye("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){O(t,n,e)})});Ye("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)});Ye("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,i=0,r=n.length;i<r;i++)for(var o=0,s=this[i].length;o<s;o++){var a=n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);t.push((e===!0?"#":"")+a)}return new Ve(n,t)});Ye("rows().remove()","row().remove()",function(){var e=this;this.iterator("row",function(t,n,r){var o,s,a,l,u,c,f=t.aoData,p=f[n];f.splice(n,1);for(o=0,s=f.length;o<s;o++){u=f[o];c=u.anCells;null!==u.nTr&&(u.nTr._DT_RowIndex=o);if(null!==c)for(a=0,l=c.length;a<l;a++)c[a]._DT_CellIndex.row=o}R(t.aiDisplayMaster,n);R(t.aiDisplay,n);R(e[r],n,!1);t._iRecordsDisplay>0&&t._iRecordsDisplay--;Be(t);var h=t.rowIdFn(p._aData);h!==i&&delete t.aIds[h]});this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t});return this});We("rows.add()",function(t){var n=this.iterator("table",function(e){var n,i,r,o=[];for(i=0,r=t.length;i<r;i++){n=t[i];n.nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(_(e,n)[0]):o.push(x(e,n))}return o},1),i=this.rows(-1);i.pop();e.merge(i,n);return i});We("row()",function(e,t){return It(this.rows(e,t))});We("row().data()",function(t){var n=this.context;if(t===i)return n.length&&this.length?n[0].aoData[this[0]]._aData:i;var r=n[0].aoData[this[0]];r._aData=t;e.isArray(t)&&r.nTr.id&&N(n[0].rowId)(t,r.nTr.id);O(n[0],this[0],"data");return this});We("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null});We("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?_(e,t)[0]:x(e,t)});return this.row(n[0])});var Ot=function(t,n,i,r){var o=[],s=function(n,i){if(e.isArray(n)||n instanceof e)for(var r=0,a=n.length;r<a;r++)s(n[r],i);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())o.push(n);else{var l=e("<tr><td/></tr>").addClass(i);e("td",l).addClass(i).html(n)[0].colSpan=m(t);o.push(l[0])}};s(i,r);n._details&&n._details.detach();n._details=e(o);n._detailsShow&&n._details.insertAfter(n.nTr)},Pt=function(e,t){var n=e.context;if(n.length){var r=n[0].aoData[t!==i?t:e[0]];if(r&&r._details){r._details.remove();r._detailsShow=i;r._details=i}}},kt=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];if(i._details){i._detailsShow=t;t?i._details.insertAfter(i.nTr):i._details.detach();Mt(n[0])}}},Mt=function(e){var t=new Ve(e),n=".dt.DT_details",i="draw"+n,r="column-visibility"+n,o="destroy"+n,s=e.aoData;t.off(i+" "+r+" "+o);if(at(s,"_details").length>0){t.on(i,function(n,i){e===i&&t.rows({page:"current"}).eq(0).each(function(e){var t=s[e];t._detailsShow&&t._details.insertAfter(t.nTr)})});t.on(r,function(t,n,i,r){if(e===n)for(var o,a=m(n),l=0,u=s.length;l<u;l++){o=s[l];o._details&&o._details.children("td[colspan]").attr("colspan",a)}});t.on(o,function(n,i){if(e===i)for(var r=0,o=s.length;r<o;r++)s[r]._details&&Pt(t,r)})}},Dt="",jt=Dt+"row().child",Bt=jt+"()";We(Bt,function(e,t){var n=this.context;if(e===i)return n.length&&this.length?n[0].aoData[this[0]]._details:i;e===!0?this.child.show():e===!1?Pt(this):n.length&&this.length&&Ot(n[0],n[0].aoData[this[0]],e,t);return this});We([jt+".show()",Bt+".show()"],function(e){kt(this,!0);return this});We([jt+".hide()",Bt+".hide()"],function(){kt(this,!1);return this});We([jt+".remove()",Bt+".remove()"],function(){Pt(this);return this});We(jt+".isShown()",function(){var e=this.context;return!(!e.length||!this.length)&&(e[0].aoData[this[0]]._detailsShow||!1)});var qt=/^([^:]+):(name|visIdx|visible)$/,Ut=function(e,t,n,i,r){for(var o=[],s=0,a=r.length;s<a;s++)o.push(T(e,r[s],t));return o},Ft=function(t,n,i){var r=t.aoColumns,o=at(r,"sName"),s=at(r,"nTh"),a=function(n){var a=nt(n);if(""===n)return ut(r.length);if(null!==a)return[a>=0?a:r.length+a];if("function"==typeof n){var l=At(t,i);return e.map(r,function(e,i){return n(i,Ut(t,i,0,0,l),s[i])?i:null})}var u="string"==typeof n?n.match(qt):"";if(u)switch(u[2]){case"visIdx":case"visible":var c=parseInt(u[1],10);if(c<0){var f=e.map(r,function(e,t){return e.bVisible?t:null});return[f[f.length+c]]}return[d(t,c)];case"name":return e.map(o,function(e,t){return e===u[1]?t:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var p=e(s).filter(n).map(function(){return e.inArray(this,s)}).toArray();if(p.length||!n.nodeName)return p;var h=e(n).closest("*[data-dt-column]");return h.length?[h.data("dt-column")]:[]};return Lt("column",n,a,t,i)},Gt=function(t,n,r){var o,s,a,l,u=t.aoColumns,c=u[n],f=t.aoData;if(r===i)return c.bVisible;if(c.bVisible!==r){if(r){var p=e.inArray(!0,at(u,"bVisible"),n+1);for(s=0,a=f.length;s<a;s++){l=f[s].nTr;o=f[s].anCells;l&&l.insertBefore(o[n],o[p]||null)}}else e(at(t.aoData,"anCells",n)).detach();c.bVisible=r;j(t,t.aoHeader);j(t,t.aoFooter);t.aiDisplay.length||e(t.nTBody).find("td[colspan]").attr("colspan",m(t));Ie(t)}};We("columns()",function(t,n){if(t===i)t="";else if(e.isPlainObject(t)){n=t;t=""}n=Nt(n);var r=this.iterator("table",function(e){return Ft(e,t,n)},1);r.selector.cols=t;r.selector.opts=n;return r});Ye("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)});Ye("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)});Ye("columns().data()","column().data()",function(){return this.iterator("column-rows",Ut,1)});Ye("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)});Ye("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,i,r,o){return lt(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)},1)});Ye("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,r){return lt(e.aoData,r,"anCells",t)},1)});Ye("columns().visible()","column().visible()",function(e,t){var n=this.iterator("column",function(t,n){if(e===i)return t.aoColumns[n].bVisible;Gt(t,n,e)});if(e!==i){this.iterator("column",function(n,i){je(n,null,"column-visibility",[n,i,e,t])});(t===i||t)&&this.columns.adjust()}return n});Ye("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?g(t,n):n},1)});We("columns.adjust()",function(){return this.iterator("table",function(e){h(e)},1)});We("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return d(n,t);if("fromData"===e||"toVisible"===e)return g(n,t)}});We("column()",function(e,t){return It(this.columns(e,t))});var zt=function(t,n,r){var o,s,a,l,u,c,f,p=t.aoData,h=At(t,r),d=ct(lt(p,h,"anCells")),g=e([].concat.apply([],d)),m=t.aoColumns.length,v=function(n){var r="function"==typeof n;if(null===n||n===i||r){s=[];for(a=0,l=h.length;a<l;a++){o=h[a];for(u=0;u<m;u++){c={row:o,column:u};if(r){f=p[o];n(c,T(t,o,u),f.anCells?f.anCells[u]:null)&&s.push(c)}else s.push(c)}}return s}if(e.isPlainObject(n))return n.column!==i&&n.row!==i&&e.inArray(n.row,h)!==-1?[n]:[];var d=g.filter(n).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();if(d.length||!n.nodeName)return d;f=e(n).closest("*[data-dt-row]");return f.length?[{row:f.data("dt-row"),column:f.data("dt-column")}]:[]};return Lt("cell",n,v,t,r)};We("cells()",function(t,n,r){if(e.isPlainObject(t))if(t.row===i){r=t;t=null}else{r=n;n=null}if(e.isPlainObject(n)){r=n;n=null}if(null===n||n===i)return this.iterator("table",function(e){return zt(e,t,Nt(r))});var o,s,a,l,u,c=this.columns(n),f=this.rows(t);this.iterator("table",function(e,t){o=[];for(s=0,a=f[t].length;s<a;s++)for(l=0,u=c[t].length;l<u;l++)o.push({row:f[t][s],column:c[t][l]})},1);var p=this.cells(o,r);e.extend(p.selector,{cols:n,rows:t,opts:r});return p});Ye("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){var r=e.aoData[t];return r&&r.anCells?r.anCells[n]:i},1)});We("cells().data()",function(){return this.iterator("cell",function(e,t,n){return T(e,t,n)},1)});Ye("cells().cache()","cell().cache()",function(e){e="search"===e?"_aFilterData":"_aSortData";return this.iterator("cell",function(t,n,i){return t.aoData[n][e][i]},1)});Ye("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,i){return T(t,n,i,e)},1)});Ye("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:g(e,n)}},1)});Ye("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,i){O(t,n,e,i)})});We("cell()",function(e,t,n){return It(this.cells(e,t,n))});We("cell().data()",function(e){var t=this.context,n=this[0];if(e===i)return t.length&&n.length?T(t[0],n[0].row,n[0].column):i;S(t[0],n[0].row,n[0].column,e);O(t[0],n[0].row,"data",n[0].column);return this});We("order()",function(t,n){var r=this.context;if(t===i)return 0!==r.length?r[0].aaSorting:i;"number"==typeof t?t=[[t,n]]:t.length&&!e.isArray(t[0])&&(t=Array.prototype.slice.call(arguments));return this.iterator("table",function(e){e.aaSorting=t.slice()})});We("order.listener()",function(e,t,n){return this.iterator("table",function(i){Ce(i,e,t,n)})});We("order.fixed()",function(t){if(!t){var n=this.context,r=n.length?n[0].aaSortingFixed:i;return e.isArray(r)?{pre:r}:r}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})});We(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(i,r){var o=[];e.each(n[r],function(e,n){o.push([n,t])});i.aaSorting=o})});We("search()",function(t,n,r,o){var s=this.context;return t===i?0!==s.length?s[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&$(i,e.extend({},i.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)})});Ye("columns().search()","column().search()",function(t,n,r,o){return this.iterator("column",function(s,a){var l=s.aoPreSearchCols;if(t===i)return l[a].sSearch;if(s.oFeatures.bFilter){e.extend(l[a],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o});$(s,s.oPreviousSearch,1)}})});We("state()",function(){return this.context.length?this.context[0].oSavedState:null});We("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})});We("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});We("state.save()",function(){return this.iterator("table",function(e){Ie(e)})});Ze.versionCheck=Ze.fnVersionCheck=function(e){for(var t,n,i=Ze.version.split("."),r=e.split("."),o=0,s=r.length;o<s;o++){t=parseInt(i[o],10)||0;n=parseInt(r[o],10)||0;if(t!==n)return t>n}return!0};Ze.isDataTable=Ze.fnIsDataTable=function(t){var n=e(t).get(0),i=!1;if(t instanceof Ze.Api)return!0;e.each(Ze.settings,function(t,r){var o=r.nScrollHead?e("table",r.nScrollHead)[0]:null,s=r.nScrollFoot?e("table",r.nScrollFoot)[0]:null;r.nTable!==n&&o!==n&&s!==n||(i=!0)});return i};Ze.tables=Ze.fnTables=function(t){var n=!1;if(e.isPlainObject(t)){n=t.api;t=t.visible}var i=e.map(Ze.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new Ve(i):i};Ze.camelToHungarian=o;We("$()",function(t,n){var i=this.rows(n).nodes(),r=e(i);return e([].concat(r.filter(t).toArray(),r.find(t).toArray()))});e.each(["on","one","off"],function(t,n){We(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var i=e(this.tables().nodes());i[n].apply(i,t);return this})});We("clear()",function(){return this.iterator("table",function(e){A(e)})});We("settings()",function(){return new Ve(this.context,this.context)});We("init()",function(){var e=this.context;return e.length?e[0].oInit:null});We("data()",function(){return this.iterator("table",function(e){return at(e.aoData,"_aData")}).flatten()});We("destroy()",function(n){n=n||!1;return this.iterator("table",function(i){var r,o=i.nTableWrapper.parentNode,s=i.oClasses,a=i.nTable,l=i.nTBody,u=i.nTHead,c=i.nTFoot,f=e(a),p=e(l),h=e(i.nTableWrapper),d=e.map(i.aoData,function(e){return e.nTr});i.bDestroying=!0;je(i,"aoDestroyCallback","destroy",[i]);n||new Ve(i).columns().visible(!0);h.off(".DT").find(":not(tbody *)").off(".DT");e(t).off(".DT-"+i.sInstance);if(a!=u.parentNode){f.children("thead").detach();f.append(u)}if(c&&a!=c.parentNode){f.children("tfoot").detach();f.append(c)}i.aaSorting=[];i.aaSortingFixed=[];Le(i);e(d).removeClass(i.asStripeClasses.join(" "));e("th, td",u).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone);p.children().detach();p.append(d);var g=n?"remove":"detach";f[g]();h[g]();if(!n&&o){o.insertBefore(a,i.nTableReinsertBefore);f.css("width",i.sDestroyWidth).removeClass(s.sTable);r=i.asDestroyStripes.length;r&&p.children().each(function(t){e(this).addClass(i.asDestroyStripes[t%r])})}var m=e.inArray(i,Ze.settings);m!==-1&&Ze.settings.splice(m,1)})});e.each(["column","row","cell"],function(e,t){We(t+"s().every()",function(e){var n=this.selector.opts,r=this;return this.iterator(t,function(o,s,a,l,u){e.call(r[t](s,"cell"===t?a:n,"cell"===t?n:i),s,a,l,u)})})});We("i18n()",function(t,n,r){var o=this.context[0],s=L(t)(o.oLanguage);s===i&&(s=n);r!==i&&e.isPlainObject(s)&&(s=s[r]!==i?s[r]:s._);return s.replace("%d",r)});Ze.version="1.10.19";Ze.settings=[];Ze.models={};Ze.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};Ze.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};Ze.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};Ze.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((e.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(e.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},Ze.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};r(Ze.defaults);Ze.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};r(Ze.defaults.column);Ze.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Ue(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Ue(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?o===!1||e===-1?t+i:Math.min(t+e,this._iRecordsDisplay):!o||n>i||e===-1?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};Ze.ext=He={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ze.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ze.version};e.extend(He,{afnFiltering:He.search,aTypes:He.type.detect,ofnSearch:He.type.search,oSort:He.type.order,afnSortData:He.order,aoFeatures:He.feature,oApi:He.internal,oStdClasses:He.classes,oPagination:He.pager});e.extend(Ze.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ht=Ze.ext.pager;e.extend(Ht,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[Fe(e,t)]},simple_numbers:function(e,t){return["previous",Fe(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Fe(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Fe(e,t),"last"]},_numbers:Fe,numbers_length:7});e.extend(!0,Ze.ext.renderer,{pageButton:{_:function(t,r,o,s,a,l){var u,c,f,p=t.oClasses,h=t.oLanguage.oPaginate,d=t.oLanguage.oAria.paginate||{},g=0,m=function(n,i){var r,s,f,v,y=function(e){fe(t,e.data.action,!0)};for(r=0,s=i.length;r<s;r++){v=i[r];if(e.isArray(v)){var b=e("<"+(v.DT_el||"div")+"/>").appendTo(n);m(b,v)}else{u=null;c="";switch(v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":u=h.sFirst;c=v+(a>0?"":" "+p.sPageButtonDisabled);break;case"previous":u=h.sPrevious;c=v+(a>0?"":" "+p.sPageButtonDisabled);break;case"next":u=h.sNext;c=v+(a<l-1?"":" "+p.sPageButtonDisabled);break;case"last":u=h.sLast;c=v+(a<l-1?"":" "+p.sPageButtonDisabled);break;default:u=v+1;c=a===v?p.sPageButtonActive:""}if(null!==u){f=e("<a>",{"class":p.sPageButton+" "+c,"aria-controls":t.sTableId,"aria-label":d[v],"data-dt-idx":g,tabindex:t.iTabIndex,id:0===o&&"string"==typeof v?t.sTableId+"_"+v:null}).html(u).appendTo(n);Me(f,{action:v},y);g++}}}};try{f=e(r).find(n.activeElement).data("dt-idx")}catch(v){}m(e(r).empty(),s);f!==i&&e(r).find("[data-dt-idx="+f+"]").focus()}}});e.extend(Ze.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return rt(e,n)?"num"+n:null},function(e,t){if(e&&!(e instanceof Date)&&!Qe.test(e))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||tt(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return rt(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return st(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return st(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return tt(e)||"string"==typeof e&&e.indexOf("<")!==-1?"html":null}]);e.extend(Ze.ext.type.search,{html:function(e){return tt(e)?e:"string"==typeof e?e.replace(Ke," ").replace(Xe,""):""},string:function(e){return tt(e)?e:"string"==typeof e?e.replace(Ke," "):e}});var Vt=function(e,t,n,i){if(0!==e&&(!e||"-"===e))return-(1/0);t&&(e=it(e,t));if(e.replace){n&&(e=e.replace(n,""));i&&(e=e.replace(i,""))}return 1*e};e.extend(He.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-(1/0):t},"html-pre":function(e){return tt(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return tt(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}});Ge("");e.extend(!0,Ze.ext.renderer,{header:{_:function(t,n,i,r){e(t.nTable).on("order.dt.DT",function(e,o,s,a){if(t===o){var l=i.idx;n.removeClass(i.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[l]?r.sSortAsc:"desc"==a[l]?r.sSortDesc:i.sSortingClass)}})},jqueryui:function(t,n,i,r){e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n);e(t.nTable).on("order.dt.DT",function(e,o,s,a){if(t===o){var l=i.idx;n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[l]?r.sSortAsc:"desc"==a[l]?r.sSortDesc:i.sSortingClass);n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==a[l]?r.sSortJUIAsc:"desc"==a[l]?r.sSortJUIDesc:i.sSortingClassJUI)}})}}});var Wt=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};Ze.render={number:function(e,t,n,i,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var s=o<0?"-":"",a=parseFloat(o);if(isNaN(a))return Wt(o);a=a.toFixed(n);o=Math.abs(a);var l=parseInt(o,10),u=n?t+(o-l).toFixed(n).substring(2):"";return s+(i||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+u+(r||"")}}},text:function(){return{display:Wt,filter:Wt}}};e.extend(Ze.ext.internal,{_fnExternApiFunc:ze,_fnBuildAjax:z,_fnAjaxUpdate:H,_fnAjaxParameters:V,_fnAjaxUpdateDraw:W,_fnAjaxDataSrc:Y,_fnAddColumn:f,_fnColumnOptions:p,_fnAdjustColumnSizing:h,_fnVisibleToColumnIndex:d,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:s,_fnBrowserDetect:u,_fnAddData:x,_fnAddTr:_,_fnNodeToDataIndex:E,_fnNodeToColumnIndex:w,_fnGetCellData:T,_fnSetCellData:S,_fnSplitObjNotation:C,_fnGetObjectDataFn:L,_fnSetObjectDataFn:N,_fnGetDataMaster:I,_fnClearTable:A,_fnDeleteIndex:R,_fnInvalidate:O,_fnGetRowElements:P,_fnCreateTr:k,_fnBuildHead:D,_fnDrawHead:j,_fnDraw:B,_fnReDraw:q,_fnAddOptionsHtml:U,_fnDetectHeader:F,_fnGetUniqueThs:G,_fnFeatureHtmlFilter:Z,_fnFilterComplete:$,_fnFilterCustom:K,_fnFilterColumn:X,_fnFilter:Q,_fnFilterCreateSearch:J,_fnEscapeRegex:vt,_fnFilterData:ee,_fnFeatureHtmlInfo:ie,_fnUpdateInfo:re,_fnInfoMacros:oe,_fnInitialise:se,_fnInitComplete:ae,_fnLengthChange:le,_fnFeatureHtmlLength:ue,_fnFeatureHtmlPaginate:ce,_fnPageChange:fe,_fnFeatureHtmlProcessing:pe,_fnProcessingDisplay:he,_fnFeatureHtmlTable:de,_fnScrollDraw:ge,_fnApplyToChildren:me,_fnCalculateColumnWidths:ve,_fnThrottle:_t,_fnConvertToWidth:ye,_fnGetWidestNode:be,_fnGetMaxLenString:xe,_fnStringToCss:_e,_fnSortFlatten:Ee,_fnSort:we,_fnSortAria:Te,_fnSortListener:Se,_fnSortAttachListener:Ce,_fnSortingClasses:Le,_fnSortData:Ne,_fnSaveState:Ie,_fnLoadState:Ae,_fnSettingsFromNode:Re,_fnLog:Oe,_fnMap:Pe,_fnBindAction:Me,_fnCallbackReg:De,_fnCallbackFire:je,_fnLengthOverflow:Be,_fnRenderer:qe,_fnDataSource:Ue,_fnRowAttributes:M,_fnExtend:ke,_fnCalculateEnd:function(){}});e.fn.dataTable=Ze;Ze.$=e;e.fn.dataTableSettings=Ze.settings;e.fn.dataTableExt=Ze.ext;e.fn.DataTable=function(t){return e(this).dataTable(t).api()};e.each(Ze,function(t,n){e.fn.DataTable[t]=n});return e.fn.dataTable})},{jquery:73}],62:[function(e,t,n){function i(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=i;i.EventEmitter=i;i.prototype._events=void 0;i.prototype._maxListeners=void 0;i.defaultMaxListeners=10;i.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};i.prototype.emit=function(e){var t,n,i,o,l,u;this._events||(this._events={});if("error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){t=arguments[1];if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");c.context=t;throw c}n=this._events[e];if(a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1);n.apply(this,o)}else if(s(n)){o=Array.prototype.slice.call(arguments,1);u=n.slice();i=u.length;for(l=0;l<i;l++)u[l].apply(this,o)}return!0};i.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t);this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t;if(s(this._events[e])&&!this._events[e].warned){n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners;if(n&&n>0&&this._events[e].length>n){this._events[e].warned=!0;console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length);"function"==typeof console.trace&&console.trace()}}return this};i.prototype.on=i.prototype.addListener;i.prototype.once=function(e,t){function n(){this.removeListener(e,n);if(!i){i=!0;t.apply(this,arguments)}}if(!r(t))throw TypeError("listener must be a function");var i=!1;n.listener=t;this.on(e,n);return this};i.prototype.removeListener=function(e,t){var n,i,o,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;n=this._events[e];o=n.length;i=-1;if(n===t||r(n.listener)&&n.listener===t){delete this._events[e];this._events.removeListener&&this.emit("removeListener",e,t)}else if(s(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(i<0)return this;if(1===n.length){n.length=0;delete this._events[e]}else n.splice(i,1);this._events.removeListener&&this.emit("removeListener",e,t)}return this};i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener){0===arguments.length?this._events={}:this._events[e]&&delete this._events[e];return this}if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);this.removeAllListeners("removeListener");this._events={};return this}n=this._events[e];if(r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);delete this._events[e];return this};i.prototype.listeners=function(e){var t;t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[];return t};i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0};i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],63:[function(e,t,n){var i=e("http"),r=t.exports;for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);r.request=function(e,t){e||(e={});e.scheme="https";e.protocol="https:";return i.request.call(this,e,t)}},{http:230}],64:[function(e,t,n){n.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,u=l>>1,c=-7,f=n?r-1:0,p=n?-1:1,h=e[t+f];f+=p;o=h&(1<<-c)-1;h>>=-c;c+=a;for(;c>0;o=256*o+e[t+f],f+=p,c-=8);s=o&(1<<-c)-1;o>>=-c;c+=i;for(;c>0;s=256*s+e[t+f],f+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:(h?-1:1)*(1/0);s+=Math.pow(2,i);o-=u}return(h?-1:1)*s*Math.pow(2,o-i)};n.write=function(e,t,n,i,r,o){var s,a,l,u=8*o-r-1,c=(1<<u)-1,f=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,d=i?1:-1,g=t<0||0===t&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===1/0){a=isNaN(t)?1:0;s=c}else{s=Math.floor(Math.log(t)/Math.LN2);if(t*(l=Math.pow(2,-s))<1){s--;l*=2}t+=s+f>=1?p/l:p*Math.pow(2,1-f);if(t*l>=2){s++;l/=2}if(s+f>=c){a=0;s=c}else if(s+f>=1){a=(t*l-1)*Math.pow(2,r);s+=f}else{a=t*Math.pow(2,f-1)*Math.pow(2,r);s=0}}for(;r>=8;e[n+h]=255&a,h+=d,a/=256,r-=8);s=s<<r|a;u+=r;for(;u>0;e[n+h]=255&s,h+=d,s/=256,u-=8);e[n+h-d]|=128*g}},{}],65:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},{}],66:[function(e,t,n){function i(e){
return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&i(e.slice(0,0))}t.exports=function(e){return null!=e&&(i(e)||r(e)||!!e._isBuffer)}},{}],67:[function(e,t,n){var i=e("jquery");(function(e,t){function n(t,n){var r,o,s,a=t.nodeName.toLowerCase();if("area"===a){r=t.parentNode;o=r.name;if(!t.href||!o||"map"!==r.nodeName.toLowerCase())return!1;s=e("img[usemap=#"+o+"]")[0];return!!s&&i(s)}return(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{};e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus();i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){i=o.css("position");if("absolute"===i||"relative"===i||"fixed"===i){r=parseInt(o.css("zIndex"),10);if(!isNaN(r)&&0!==r)return r}o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}});e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}});e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0;i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0);r&&(n-=parseFloat(e.css(t,"margin"+this))||0)});return n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?a["inner"+i].call(this):this.each(function(){e(this).css(s,r(this,n)+"px")})};e.fn["outer"+i]=function(t,n){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,n)+"px")})}});e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData));e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());e.support.selectstart="onselectstart"in document.createElement("div");e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i){o.plugins[r]=o.plugins[r]||[];o.plugins[r].push([n,i[r]])}},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;if(t[i]>0)return!0;t[i]=1;r=t[i]>0;t[i]=0;return r}})})(i)},{jquery:73}],68:[function(e,t,n){var i=e("jquery");e("./widget");(function(e,t){var n=!1;e(document).mouseup(function(){n=!1});e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent")){e.removeData(n.target,t.widgetName+".preventClickEvent");n.stopImmediatePropagation();return!1}});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var i=this,r=1===t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;if(!r||o||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted){t.preventDefault();return!0}}!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(e){return i._mouseMove(e)};this._mouseUpDelegate=function(e){return i._mouseUp(e)};e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);t.preventDefault();n=!0;return!0}},_mouseMove:function(t){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(this._mouseStarted){this._mouseDrag(t);return t.preventDefault()}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1;this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)}return!this._mouseStarted},_mouseUp:function(t){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=!1;t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0);this._mouseStop(t)}return!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(i)},{"./widget":72,jquery:73}],69:[function(e,t,n){var i=e("jquery");(function(e,t){function n(e,t,n){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,s=Math.max,a=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,h=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var n,i,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];e("body").append(r);n=s.offsetWidth;r.css("overflow","scroll");i=s.offsetWidth;n===i&&(i=r[0].clientWidth);r.remove();return o=n-i},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}};e.fn.position=function(t){if(!t||!t.of)return d.apply(this,arguments);t=e.extend({},t);var o,h,g,m,v,y,b=e(t.of),x=e.position.getWithinInfo(t.within),_=e.position.getScrollInfo(x),E=(t.collision||"flip").split(" "),w={};y=r(b);b[0].preventDefault&&(t.at="left top");h=y.width;g=y.height;m=y.offset;v=e.extend({},m);e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=u.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]);i[0]=u.test(i[0])?i[0]:"center";i[1]=c.test(i[1])?i[1]:"center";e=f.exec(i[0]);n=f.exec(i[1]);w[this]=[e?e[0]:0,n?n[0]:0];t[this]=[p.exec(i[0])[0],p.exec(i[1])[0]]});1===E.length&&(E[1]=E[0]);"right"===t.at[0]?v.left+=h:"center"===t.at[0]&&(v.left+=h/2);"bottom"===t.at[1]?v.top+=g:"center"===t.at[1]&&(v.top+=g/2);o=n(w.at,h,g);v.left+=o[0];v.top+=o[1];return this.each(function(){var r,u,c=e(this),f=c.outerWidth(),p=c.outerHeight(),d=i(this,"marginLeft"),y=i(this,"marginTop"),T=f+d+i(this,"marginRight")+_.width,S=p+y+i(this,"marginBottom")+_.height,C=e.extend({},v),L=n(w.my,c.outerWidth(),c.outerHeight());"right"===t.my[0]?C.left-=f:"center"===t.my[0]&&(C.left-=f/2);"bottom"===t.my[1]?C.top-=p:"center"===t.my[1]&&(C.top-=p/2);C.left+=L[0];C.top+=L[1];if(!e.support.offsetFractions){C.left=l(C.left);C.top=l(C.top)}r={marginLeft:d,marginTop:y};e.each(["left","top"],function(n,i){e.ui.position[E[n]]&&e.ui.position[E[n]][i](C,{targetWidth:h,targetHeight:g,elemWidth:f,elemHeight:p,collisionPosition:r,collisionWidth:T,collisionHeight:S,offset:[o[0]+L[0],o[1]+L[1]],my:t.my,at:t.at,within:x,elem:c})});t.using&&(u=function(e){var n=m.left-C.left,i=n+h-f,r=m.top-C.top,o=r+g-p,l={target:{element:b,left:m.left,top:m.top,width:h,height:g},element:{element:c,left:C.left,top:C.top,width:f,height:p},horizontal:i<0?"left":n>0?"right":"center",vertical:o<0?"top":r>0?"bottom":"middle"};h<f&&a(n+i)<h&&(l.horizontal="center");g<p&&a(r+o)<g&&(l.vertical="middle");s(a(n),a(i))>s(a(r),a(o))?l.important="horizontal":l.important="vertical";t.using.call(this,e,l)});c.offset(e.extend(C,{using:u}))})};e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,u=a+t.collisionWidth-o-r;if(t.collisionWidth>o)if(l>0&&u<=0){n=e.left+l+t.collisionWidth-o-r;e.left+=l-n}else u>0&&l<=0?e.left=r:l>u?e.left=r+o-t.collisionWidth:e.left=r;else l>0?e.left+=l:u>0?e.left-=u:e.left=s(e.left-a,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,u=a+t.collisionHeight-o-r;if(t.collisionHeight>o)if(l>0&&u<=0){n=e.top+l+t.collisionHeight-o-r;e.top+=l-n}else u>0&&l<=0?e.top=r:l>u?e.top=r+o-t.collisionHeight:e.top=r;else l>0?e.top+=l:u>0?e.top-=u:e.top=s(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,f=u+t.collisionWidth-s-l,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,d=-2*t.offset[0];if(c<0){n=e.left+p+h+d+t.collisionWidth-s-o;(n<0||n<a(c))&&(e.left+=p+h+d)}else if(f>0){i=e.left-t.collisionPosition.marginLeft+p+h+d-l;(i>0||a(i)<f)&&(e.left+=p+h+d)}},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,f=u+t.collisionHeight-s-l,p="top"===t.my[1],h=p?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];if(c<0){i=e.top+h+d+g+t.collisionHeight-s-o;e.top+h+d+g>c&&(i<0||i<a(c))&&(e.top+=h+d+g)}else if(f>0){n=e.top-t.collisionPosition.marginTop+h+d+g-l;e.top+h+d+g>f&&(n>0||a(n)<f)&&(e.top+=h+d+g)}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var t,n,i,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(s?"div":"body");i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)t.style[o]=i[o];t.appendChild(a);n=s||document.documentElement;n.insertBefore(t,n.firstChild);a.style.cssText="position: absolute; left: 10.7432222px;";r=e(a).offset().left;e.support.offsetFractions=r>10&&r<11;t.innerHTML="";n.removeChild(t)})()})(i)},{jquery:73}],70:[function(e,t,n){var i=e("jquery");e("./core");e("./mouse");e("./widget");(function(e,t){function n(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,i,r,o,s=this,a=this.options;this.element.addClass("ui-resizable");e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=!0;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");t=this.handles.split(",");this.handles={};for(n=0;n<t.length;n++){i=e.trim(t[n]);o="ui-resizable-"+i;r=e("<div class='ui-resizable-handle "+o+"'></div>");r.css({zIndex:a.zIndex});"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[i]=".ui-resizable-"+i;this.element.append(r)}}this._renderAxis=function(t){var n,i,r,o;t=t||this.element;for(n in this.handles){this.handles[n].constructor===String&&(this.handles[n]=e(this.handles[n],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){i=e(this.handles[n],this.element);o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth();r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(r,o);this._proportionallyResize()}e(this.handles[n]).length}};this._renderAxis(this.element);this._handles=e(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!s.resizing){this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i));s.axis=r&&r[1]?r[1]:"se"}});if(a.autoHide){this._handles.hide();e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(!a.disabled){e(this).removeClass("ui-resizable-autohide");s._handles.show()}}).mouseleave(function(){if(!a.disabled&&!s.resizing){e(this).addClass("ui-resizable-autohide");s._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){n(this.element);t=this.element;this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t);t.remove()}this.originalElement.css("resize",this.originalResizeStyle);n(this.originalElement);return this},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles){i=e(this.handles[n])[0];(i===t.target||e.contains(i,t.target))&&(r=!0)}return!this.options.disabled&&r},_mouseStart:function(t){var i,r,o,s=this.options,a=this.element.position(),l=this.element;this.resizing=!0;/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left});this._renderProxy();i=n(this.helper.css("left"));r=n(this.helper.css("top"));if(s.containment){i+=e(s.containment).scrollLeft()||0;r+=e(s.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:i,top:r};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()};this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()};this.originalPosition={left:i,top:r};this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()};this.originalMousePosition={left:t.pageX,top:t.pageY};this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1;o=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor","auto"===o?this.axis+"-resize":o);l.addClass("ui-resizable-resizing");this._propagate("start",t);return!0},_mouseDrag:function(t){var n,i=this.helper,r={},o=this.originalMousePosition,s=this.axis,a=this.position.top,l=this.position.left,u=this.size.width,c=this.size.height,f=t.pageX-o.left||0,p=t.pageY-o.top||0,h=this._change[s];if(!h)return!1;n=h.apply(this,[t,f,p]);this._updateVirtualBoundaries(t.shiftKey);(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t));n=this._respectSize(n,t);this._updateCache(n);this._propagate("resize",t);this.position.top!==a&&(r.top=this.position.top+"px");this.position.left!==l&&(r.left=this.position.left+"px");this.size.width!==u&&(r.width=this.size.width+"px");this.size.height!==c&&(r.height=this.size.height+"px");i.css(r);!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();e.isEmptyObject(r)||this._trigger("resize",t,this.ui());return!1},_mouseStop:function(t){this.resizing=!1;var n,i,r,o,s,a,l,u=this.options,c=this;if(this._helper){n=this._proportionallyResizeElements;i=n.length&&/textarea/i.test(n[0].nodeName);r=i&&e.ui.hasScroll(n[0],"left")?0:c.sizeDiff.height;o=i?0:c.sizeDiff.width;s={width:c.helper.width()-o,height:c.helper.height()-r};a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null;l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;u.animate||this.element.css(e.extend(s,{top:l,left:a}));c.helper.height(c.size.height);c.helper.width(c.size.width);this._helper&&!u.animate&&this._proportionallyResize()}e("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",t);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(e){var t,n,r,o,s,a=this.options;s={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0};if(this._aspectRatio||e){t=s.minHeight*this.aspectRatio;r=s.minWidth/this.aspectRatio;n=s.maxHeight*this.aspectRatio;o=s.maxWidth/this.aspectRatio;t>s.minWidth&&(s.minWidth=t);r>s.minHeight&&(s.minHeight=r);n<s.maxWidth&&(s.maxWidth=n);o<s.maxHeight&&(s.maxHeight=o)}this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset();i(e.left)&&(this.position.left=e.left);i(e.top)&&(this.position.top=e.top);i(e.height)&&(this.size.height=e.height);i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio);if("sw"===r){e.left=t.left+(n.width-e.width);e.top=null}if("nw"===r){e.top=t.top+(n.height-e.height);e.left=t.left+(n.width-e.width)}return e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=i(e.width)&&t.minWidth&&t.minWidth>e.width,a=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(n),f=/nw|ne|n/.test(n);s&&(e.width=t.minWidth);a&&(e.height=t.minHeight);r&&(e.width=t.maxWidth);o&&(e.height=t.maxHeight);s&&c&&(e.left=l-t.minWidth);r&&c&&(e.left=l-t.maxWidth);a&&f&&(e.top=u-t.minHeight);o&&f&&(e.top=u-t.maxHeight);e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null;return e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,n,i,r,o=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){r=this._proportionallyResizeElements[e];if(!this.borderDif){this.borderDif=[];n=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")];i=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")];for(t=0;t<n.length;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(i[t],10)||0)}r.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]);"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&e.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height});n._updateCache(i);n._propagate("resize",t)}})}});e.ui.plugin.add("resizable","containment",{start:function(){var t,i,r,o,s,a,l,u=e(this).data("ui-resizable"),c=u.options,f=u.element,p=c.containment,h=p instanceof e?p.get(0):/parent/.test(p)?f.parent().get(0):p;if(h){u.containerElement=e(h);if(/document/.test(p)||p===document){u.containerOffset={left:0,top:0};u.containerPosition={left:0,top:0};u.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}}else{t=e(h);i=[];e(["Top","Right","Left","Bottom"]).each(function(e,r){i[e]=n(t.css("padding"+r))});u.containerOffset=t.offset();u.containerPosition=t.position();u.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]};r=u.containerOffset;o=u.containerSize.height;s=u.containerSize.width;a=e.ui.hasScroll(h,"left")?h.scrollWidth:s;l=e.ui.hasScroll(h)?h.scrollHeight:o;u.parentData={element:h,left:r.left,top:r.top,width:a,height:l}}}},resize:function(t){var n,i,r,o,s=e(this).data("ui-resizable"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||t.shiftKey,f={top:0,left:0},p=s.containerElement;p[0]!==document&&/static/.test(p.css("position"))&&(f=l);if(u.left<(s._helper?l.left:0)){s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-f.left);c&&(s.size.height=s.size.width/s.aspectRatio);s.position.left=a.helper?l.left:0}if(u.top<(s._helper?l.top:0)){s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top);c&&(s.size.width=s.size.height*s.aspectRatio);s.position.top=s._helper?l.top:0}s.offset.left=s.parentData.left+s.position.left;s.offset.top=s.parentData.top+s.position.top;n=Math.abs((s._helper?s.offset.left-f.left:s.offset.left-f.left)+s.sizeDiff.width);i=Math.abs((s._helper?s.offset.top-f.top:s.offset.top-l.top)+s.sizeDiff.height);r=s.containerElement.get(0)===s.element.parent().get(0);o=/relative|absolute/.test(s.containerElement.css("position"));r&&o&&(n-=Math.abs(s.parentData.left));if(n+s.size.width>=s.parentData.width){s.size.width=s.parentData.width-n;c&&(s.size.height=s.size.width/s.aspectRatio)}if(i+s.size.height>=s.parentData.height){s.size.height=s.parentData.height-i;c&&(s.size.width=s.size.height*s.aspectRatio)}},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,u=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:u});t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:u})}});e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};if("object"!=typeof n.alsoResize||n.alsoResize.parentNode)i(n.alsoResize);else if(n.alsoResize.length){n.alsoResize=n.alsoResize[0];i(n.alsoResize)}else e.each(n.alsoResize,function(e){i(e)})},resize:function(t,n){var i=e(this).data("ui-resizable"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0},l=function(t,i){e(t).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),o={},s=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(r[t]||0)+(a[t]||0);n&&n>=0&&(o[t]=n||null)});t.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}});e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size,r=t.originalSize,o=t.originalPosition,s=t.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=a[0]||1,u=a[1]||1,c=Math.round((i.width-r.width)/l)*l,f=Math.round((i.height-r.height)/u)*u,p=r.width+c,h=r.height+f,d=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<h,m=n.minWidth&&n.minWidth>p,v=n.minHeight&&n.minHeight>h;n.grid=a;m&&(p+=l);v&&(h+=u);d&&(p-=l);g&&(h-=u);if(/^(se|s|e)$/.test(s)){t.size.width=p;t.size.height=h}else if(/^(ne)$/.test(s)){t.size.width=p;t.size.height=h;t.position.top=o.top-f}else if(/^(sw)$/.test(s)){t.size.width=p;t.size.height=h;t.position.left=o.left-c}else{if(h-u>0){t.size.height=h;t.position.top=o.top-f}else{t.size.height=u;t.position.top=o.top+r.height-u}if(p-l>0){t.size.width=p;t.position.left=o.left-c}else{t.size.width=l;t.position.left=o.left+r.width-l}}}})})(i)},{"./core":67,"./mouse":68,"./widget":72,jquery:73}],71:[function(e,t,n){var i=e("jquery");e("./core");e("./mouse");e("./widget");(function(e,t){function n(e,t,n){return e>t&&e<t+n}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={};
this.element.addClass("ui-sortable");this.refresh();this.floating=!!this.items.length&&("x"===e.axis||i(this.items[0].item));this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){if("disabled"===t){this.options[t]=n;this.widget().toggleClass("ui-sortable-disabled",!!n)}else e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=null,r=!1,o=this;if(this.reverting)return!1;if(this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(t);e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o){i=e(this);return!1}});e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target));if(!i)return!1;if(this.options.handle&&!n){e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)});if(!r)return!1}this.currentItem=i;this._removeCurrentsFromItems();return!0},_mouseStart:function(t,n,i){var r,o,s=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(t);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();s.containment&&this._setContainment();if(s.cursor&&"auto"!==s.cursor){o=this.document.find("body");this.storedCursor=o.css("cursor");o.css("cursor",s.cursor);this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)}if(s.opacity){this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity"));this.helper.css("opacity",s.opacity)}if(s.zIndex){this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex"));this.helper.css("zIndex",s.zIndex)}this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",t,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));e.ui.ddmanager&&(e.ui.ddmanager.current=this);e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(t);return!0},_mouseDrag:function(t){var n,i,r,o,s=this.options,a=!1;this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){if(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName){this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed);this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)}else{t.pageY-e(document).scrollTop()<s.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed));t.pageX-e(document).scrollLeft()<s.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed))}a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(n=this.items.length-1;n>=0;n--){i=this.items[n];r=i.item[0];o=this._intersectsWithPointer(i);if(o&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||e.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],r))){this.direction=1===o?"down":"up";if("pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i);this._trigger("change",t,this._uiHash());break}}this._contactContainers(t);e.ui.ddmanager&&e.ui.ddmanager.drag(this,t);this._trigger("sort",t,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(t,n){if(t){e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--){this.containers[t]._trigger("deactivate",null,this._uiHash(this));if(this.containers[t].containerCache.over){this.containers[t]._trigger("out",null,this._uiHash(this));this.containers[t].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove();e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null});this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];t=t||{};e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))});!i.length&&t.key&&i.push(t.key+"=");return i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];t=t||{};n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")});return i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,u=this.offset.click.top,c=this.offset.click.left,f="x"===this.options.axis||i+u>a&&i+u<l,p="y"===this.options.axis||t+c>o&&t+c<s,h=f&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||n(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||n(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!r&&(this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(e){var t=n(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=n(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e);this.refreshPositions();return this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var i,r,o,s,a=[],l=[],u=this._connectWith();if(u&&t)for(i=u.length-1;i>=0;i--){o=e(u[i]);for(r=o.length-1;r>=0;r--){s=e.data(o[r],this.widgetFullName);s&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}}l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=l.length-1;i>=0;i--)l[i][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,f=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(n=p.length-1;n>=0;n--){r=e(p[n]);for(i=r.length-1;i>=0;i--){o=e.data(r[i],this.widgetFullName);if(o&&o!==this&&!o.options.disabled){f.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]);this.containers.push(o)}}}for(n=f.length-1;n>=0;n--){s=f[n][1];a=f[n][0];for(i=0,u=a.length;i<u;i++){l=e(a[i]);l.data(this.widgetName+"-item",s);c.push({item:l,instance:s,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--){i=this.items[n];if(i.instance===this.currentContainer||!this.currentContainer||i.item[0]===this.currentItem[0]){r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item;if(!t){i.width=r.outerWidth();i.height=r.outerHeight()}o=r.offset();i.left=o.left;i.top=o.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--){o=this.containers[n].element.offset();this.containers[n].containerCache.left=o.left;this.containers[n].containerCache.top=o.top;this.containers[n].containerCache.width=this.containers[n].element.outerWidth();this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;if(!i.placeholder||i.placeholder.constructor===String){n=i.placeholder;i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tr"===i?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",t.currentItem.attr("src"));n||r.css("visibility","hidden");return r},update:function(e,r){if(!n||i.forcePlaceholderSize){r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10));r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}}t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var r,o,s,a,l,u,c,f,p,h,d=null,g=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(d&&e.contains(this.containers[r].element[0],d.element[0]))continue;d=this.containers[r];g=r}else if(this.containers[r].containerCache.over){this.containers[r]._trigger("out",t,this._uiHash(this));this.containers[r].containerCache.over=0}if(d)if(1===this.containers.length){if(!this.containers[g].containerCache.over){this.containers[g]._trigger("over",t,this._uiHash(this));this.containers[g].containerCache.over=1}}else{s=1e4;a=null;h=d.floating||i(this.currentItem);l=h?"left":"top";u=h?"width":"height";c=this.positionAbs[l]+this.offset.click[l];for(o=this.items.length-1;o>=0;o--)if(e.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!h||n(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))){f=this.items[o].item.offset()[l];p=!1;if(Math.abs(f-c)>Math.abs(f+this.items[o][u]-c)){p=!0;f+=this.items[o][u]}if(Math.abs(f-c)<s){s=Math.abs(f-c);a=this.items[o];this.direction=p?"up":"down"}}if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[g].element,!0);this._trigger("change",t,this._uiHash());this.containers[g]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[g];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[g]._trigger("over",t,this._uiHash(this));this.containers[g].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]);i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width());i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height());return i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));e.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();if("absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0});return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode);"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);if(!/^(document|window|parent)$/.test(r.containment)){t=e(r.containment)[0];n=e(r.containment).offset();i="hidden"!==e(t).css("overflow");this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());if(this.originalPosition){if(this.containment){t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left);t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top);t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left);t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)}if(r.grid){n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1];s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n;i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0];o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i}}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())});if(this!==this.currentContainer&&!t){r.push(function(e){this._trigger("remove",e,this._uiHash())});r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer));r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))}for(i=this.containers.length-1;i>=0;i--){t||r.push(n("deactivate",this,this.containers[i]));if(this.containers[i].containerCache.over){r.push(n("out",this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!t){this._trigger("beforeStop",e,this._uiHash());for(i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}this.fromOutside=!1;return!1}t||this._trigger("beforeStop",e,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!t){for(i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})})(i)},{"./core":67,"./mouse":68,"./widget":72,jquery:73}],72:[function(e,t,n){var i=e("jquery");(function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)};e.widget=function(t,n,i){var r,o,s,a,l={},u=t.split(".")[0];t=t.split(".")[1];r=u+"-"+t;if(!i){i=n;n=e.Widget}e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)};e[u]=e[u]||{};o=e[u][t];s=e[u][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)};e.extend(s,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]});a=new n;a.options=e.widget.extend({},a.options);e.each(i,function(t,i){e.isFunction(i)?l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;this._super=e;this._superApply=r;t=i.apply(this,arguments);this._super=n;this._superApply=o;return t}}():l[t]=i});s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},l,{constructor:s,namespace:u,widgetName:t,widgetFullName:r});if(o){e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)});delete o._childConstructors}else n._childConstructors.push(s);e.widget.bridge(t,s)};e.widget.extend=function(n){for(var r,o,s=i.call(arguments,1),a=0,l=s.length;a<l;a++)for(r in s[a]){o=s[a][r];s[a].hasOwnProperty(r)&&o!==t&&(e.isPlainObject(o)?n[r]=e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):n[r]=o)}return n};e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),u=this;s=!a&&l.length?e.widget.extend.apply(null,[s].concat(l)):s;a?this.each(function(){var i,r=e.data(this,o);if(!r)return e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'");if(!e.isFunction(r[s])||"_"===s.charAt(0))return e.error("no such method '"+s+"' for "+n+" widget instance");i=r[s].apply(r,l);if(i!==r&&i!==t){u=i&&i.jquery?u.pushStack(i.get()):i;return!1}}):this.each(function(){var t=e.data(this,o);t?t.option(s||{})._init():e.data(this,o,new r(s,this))});return u}};e.Widget=function(){};e.Widget._childConstructors=[];e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0];this.element=e(i);this.uuid=n++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=e.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=e();this.hoverable=e();this.focusable=e();if(i!==this){e.data(i,this.widgetFullName,this);this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}});this.document=e(i.style?i.ownerDocument:i.document||i);this.window=e(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,s,a=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n){a={};r=n.split(".");n=r.shift();if(r.length){o=a[n]=e.widget.extend({},this.options[n]);for(s=0;s<r.length-1;s++){o[r[s]]=o[r[s]]||{};o=o[r[s]]}n=r.pop();if(1===arguments.length)return o[n]===t?null:o[n];o[n]=i}else{if(1===arguments.length)return this.options[n]===t?null:this.options[n];a[n]=i}}this._setOptions(a);return this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){this.options[e]=t;if("disabled"===e){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,o=this;if("boolean"!=typeof t){i=n;n=t;t=!1}if(i){n=r=e(n);this.bindings=this.bindings.add(n)}else{i=n;n=this.element;r=this.widget()}e.each(i,function(i,s){function a(){if(t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.delegate(c,u,a):n.bind(u,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,s=this.options[t];i=i||{};n=e.Event(n);n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase();n.target=this.element[0];o=n.originalEvent;if(o)for(r in o)r in n||(n[r]=o[r]);this.element.trigger(n,i);return!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}};e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{};"number"==typeof r&&(r={duration:r});s=!e.isEmptyObject(r);r.complete=o;r.delay&&i.delay(r.delay);s&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t]();o&&o.call(i[0]);n()})}})})(i)},{jquery:73}],73:[function(e,t,n){(function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)})("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=oe.type(e);return"function"!==n&&!oe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ge.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return J.call(t,e)>-1!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};oe.each(e.match(_e)||[],function(e,n){t[n]=!0});return t}function s(){$.removeEventListener("DOMContentLoaded",s);e.removeEventListener("load",s);oe.ready()}function a(){this.expando=oe.expando+a.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType){i="data-"+t.replace(Ne,"-$&").toLowerCase();n=e.getAttribute(i);if("string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Le.test(n)?oe.parseJSON(n):n)}catch(r){}Ce.set(e,t,n)}else n=void 0}return n}function u(e,t,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return oe.css(e,t,"")},l=a(),u=n&&n[3]||(oe.cssNumber[t]?"":"px"),c=(oe.cssNumber[t]||"px"!==u&&+l)&&Ae.exec(oe.css(e,t));if(c&&c[3]!==u){u=u||c[3];n=n||[];c=+l||1;do{o=o||".5";c/=o;oe.style(e,t,c+u)}while(o!==(o=a()/l)&&1!==o&&--s)}if(n){c=+c||+l||0;r=n[1]?c+(n[1]+1)*n[2]:+n[2];if(i){i.unit=u;i.start=c;i.end=r}}return r}function c(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],n):n}function f(e,t){for(var n=0,i=e.length;n<i;n++)Se.set(e[n],"globalEval",!t||Se.get(t[n],"globalEval"))}function p(e,t,n,i,r){for(var o,s,a,l,u,p,h=t.createDocumentFragment(),d=[],g=0,m=e.length;g<m;g++){o=e[g];if(o||0===o)if("object"===oe.type(o))oe.merge(d,o.nodeType?[o]:o);else if(je.test(o)){s=s||h.appendChild(t.createElement("div"));
a=(ke.exec(o)||["",""])[1].toLowerCase();l=De[a]||De._default;s.innerHTML=l[1]+oe.htmlPrefilter(o)+l[2];p=l[0];for(;p--;)s=s.lastChild;oe.merge(d,s.childNodes);s=h.firstChild;s.textContent=""}else d.push(t.createTextNode(o))}h.textContent="";g=0;for(;o=d[g++];)if(i&&oe.inArray(o,i)>-1)r&&r.push(o);else{u=oe.contains(o.ownerDocument,o);s=c(h.appendChild(o),"script");u&&f(s);if(n){p=0;for(;o=s[p++];)Me.test(o.type||"")&&n.push(o)}}return h}function h(){return!0}function d(){return!1}function g(){try{return $.activeElement}catch(e){}}function m(e,t,n,i,r,o){var s,a;if("object"==typeof t){if("string"!=typeof n){i=i||n;n=void 0}for(a in t)m(e,a,n,i,t[a],o);return e}if(null==i&&null==r){r=n;i=n=void 0}else if(null==r)if("string"==typeof n){r=i;i=void 0}else{r=i;i=n;n=void 0}if(r===!1)r=d;else if(!r)return e;if(1===o){s=r;r=function(e){oe().off(e);return s.apply(this,arguments)};r.guid=s.guid||(s.guid=oe.guid++)}return e.each(function(){oe.event.add(this,t,r,i,n)})}function v(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){e.type=(null!==e.getAttribute("type"))+"/"+e.type;return e}function b(e){var t=He.exec(e.type);t?e.type=t[1]:e.removeAttribute("type");return e}function x(e,t){var n,i,r,o,s,a,l,u;if(1===t.nodeType){if(Se.hasData(e)){o=Se.access(e);s=Se.set(t,o);u=o.events;if(u){delete s.handle;s.events={};for(r in u)for(n=0,i=u[r].length;n<i;n++)oe.event.add(t,r,u[r][n])}}if(Ce.hasData(e)){a=Ce.access(e);l=oe.extend({},a);Ce.set(t,l)}}}function _(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function E(e,t,n,i){t=X.apply([],t);var r,o,s,a,l,u,f=0,h=e.length,d=h-1,g=t[0],m=oe.isFunction(g);if(m||h>1&&"string"==typeof g&&!ie.checkClone&&ze.test(g))return e.each(function(r){var o=e.eq(r);m&&(t[0]=g.call(this,r,o.html()));E(o,t,n,i)});if(h){r=p(t,e[0].ownerDocument,!1,e,i);o=r.firstChild;1===r.childNodes.length&&(r=o);if(o||i){s=oe.map(c(r,"script"),y);a=s.length;for(;f<h;f++){l=r;if(f!==d){l=oe.clone(l,!0,!0);a&&oe.merge(s,c(l,"script"))}n.call(e[f],l,f)}if(a){u=s[s.length-1].ownerDocument;oe.map(s,b);for(f=0;f<a;f++){l=s[f];Me.test(l.type||"")&&!Se.access(l,"globalEval")&&oe.contains(u,l)&&(l.src?oe._evalUrl&&oe._evalUrl(l.src):oe.globalEval(l.textContent.replace(Ve,"")))}}}}return e}function w(e,t,n){for(var i,r=t?oe.filter(t,e):e,o=0;null!=(i=r[o]);o++){n||1!==i.nodeType||oe.cleanData(c(i));if(i.parentNode){n&&oe.contains(i.ownerDocument,i)&&f(c(i,"script"));i.parentNode.removeChild(i)}}return e}function T(e,t){var n=oe(t.createElement(e)).appendTo(t.body),i=oe.css(n[0],"display");n.detach();return i}function S(e){var t=$,n=Ye[e];if(!n){n=T(e,t);if("none"===n||!n){We=(We||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement);t=We[0].contentDocument;t.write();t.close();n=T(e,t);We.detach()}Ye[e]=n}return n}function C(e,t,n){var i,r,o,s,a=e.style;n=n||Ke(e);s=n?n.getPropertyValue(t)||n[t]:void 0;""!==s&&void 0!==s||oe.contains(e.ownerDocument,e)||(s=oe.style(e,t));if(n&&!ie.pixelMarginRight()&&$e.test(s)&&Ze.test(t)){i=a.width;r=a.minWidth;o=a.maxWidth;a.minWidth=a.maxWidth=a.width=s;s=n.width;a.width=i;a.minWidth=r;a.maxWidth=o}return void 0!==s?s+"":s}function L(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function N(e){if(e in it)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;){e=nt[n]+t;if(e in it)return e}}function I(e,t,n){var i=Ae.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function A(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2){"margin"===n&&(s+=oe.css(e,n+Re[o],!0,r));if(i){"content"===n&&(s-=oe.css(e,"padding"+Re[o],!0,r));"margin"!==n&&(s-=oe.css(e,"border"+Re[o]+"Width",!0,r))}else{s+=oe.css(e,"padding"+Re[o],!0,r);"padding"!==n&&(s+=oe.css(e,"border"+Re[o]+"Width",!0,r))}}return s}function R(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Ke(e),s="border-box"===oe.css(e,"boxSizing",!1,o);if(r<=0||null==r){r=C(e,t,o);(r<0||null==r)&&(r=e.style[t]);if($e.test(r))return r;i=s&&(ie.boxSizingReliable()||r===e.style[t]);r=parseFloat(r)||0}return r+A(e,t,n||(s?"border":"content"),i,o)+"px"}function O(e,t){for(var n,i,r,o=[],s=0,a=e.length;s<a;s++){i=e[s];if(i.style){o[s]=Se.get(i,"olddisplay");n=i.style.display;if(t){o[s]||"none"!==n||(i.style.display="");""===i.style.display&&Oe(i)&&(o[s]=Se.access(i,"olddisplay",S(i.nodeName)))}else{r=Oe(i);"none"===n&&r||Se.set(i,"olddisplay",r?n:oe.css(i,"display"))}}}for(s=0;s<a;s++){i=e[s];i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"))}return e}function P(e,t,n,i,r){return new P.prototype.init(e,t,n,i,r)}function k(){e.setTimeout(function(){rt=void 0});return rt=oe.now()}function M(e,t){var n,i=0,r={height:e};t=t?1:0;for(;i<4;i+=2-t){n=Re[i];r["margin"+n]=r["padding"+n]=e}t&&(r.opacity=r.width=e);return r}function D(e,t,n){for(var i,r=(q.tweeners[t]||[]).concat(q.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function j(e,t,n){var i,r,o,s,a,l,u,c,f=this,p={},h=e.style,d=e.nodeType&&Oe(e),g=Se.get(e,"fxshow");if(!n.queue){a=oe._queueHooks(e,"fx");if(null==a.unqueued){a.unqueued=0;l=a.empty.fire;a.empty.fire=function(){a.unqueued||l()}}a.unqueued++;f.always(function(){f.always(function(){a.unqueued--;oe.queue(e,"fx").length||a.empty.fire()})})}if(1===e.nodeType&&("height"in t||"width"in t)){n.overflow=[h.overflow,h.overflowX,h.overflowY];u=oe.css(e,"display");c="none"===u?Se.get(e,"olddisplay")||S(e.nodeName):u;"inline"===c&&"none"===oe.css(e,"float")&&(h.display="inline-block")}if(n.overflow){h.overflow="hidden";f.always(function(){h.overflow=n.overflow[0];h.overflowX=n.overflow[1];h.overflowY=n.overflow[2]})}for(i in t){r=t[i];if(st.exec(r)){delete t[i];o=o||"toggle"===r;if(r===(d?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;d=!0}p[i]=g&&g[i]||oe.style(e,i)}else u=void 0}if(oe.isEmptyObject(p))"inline"===("none"===u?S(e.nodeName):u)&&(h.display=u);else{g?"hidden"in g&&(d=g.hidden):g=Se.access(e,"fxshow",{});o&&(g.hidden=!d);d?oe(e).show():f.done(function(){oe(e).hide()});f.done(function(){var t;Se.remove(e,"fxshow");for(t in p)oe.style(e,t,p[t])});for(i in p){s=D(d?g[i]:0,i,f);if(!(i in g)){g[i]=s.start;if(d){s.end=s.start;s.start="width"===i||"height"===i?1:0}}}}}function B(e,t){var n,i,r,o,s;for(n in e){i=oe.camelCase(n);r=t[i];o=e[n];if(oe.isArray(o)){r=o[1];o=e[n]=o[0]}if(n!==i){e[i]=o;delete e[n]}s=oe.cssHooks[i];if(s&&"expand"in s){o=s.expand(o);delete e[i];for(n in o)if(!(n in e)){e[n]=o[n];t[n]=r}}else t[i]=r}}function q(e,t,n){var i,r,o=0,s=q.prefilters.length,a=oe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=rt||k(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;s<l;s++)u.tweens[s].run(o);a.notifyWith(e,[u,o,n]);if(o<1&&l)return n;a.resolveWith(e,[u]);return!1},u=a.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||k(),duration:n.duration,tweens:[],createTween:function(t,n){var i=oe.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);u.tweens.push(i);return i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;r=!0;for(;n<i;n++)u.tweens[n].run(1);if(t){a.notifyWith(e,[u,1,0]);a.resolveWith(e,[u,t])}else a.rejectWith(e,[u,t]);return this}}),c=u.props;B(c,u.opts.specialEasing);for(;o<s;o++){i=q.prefilters[o].call(u,e,c,u.opts);if(i){oe.isFunction(i.stop)&&(oe._queueHooks(u.elem,u.opts.queue).stop=oe.proxy(i.stop,i));return i}}oe.map(c,D,u);oe.isFunction(u.opts.start)&&u.opts.start.call(e,u);oe.fx.timer(oe.extend(l,{elem:e,anim:u,queue:u.opts.queue}));return u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function F(e){return function(t,n){if("string"!=typeof t){n=t;t="*"}var i,r=0,o=t.toLowerCase().match(_e)||[];if(oe.isFunction(n))for(;i=o[r++];)if("+"===i[0]){i=i.slice(1)||"*";(e[i]=e[i]||[]).unshift(n)}else(e[i]=e[i]||[]).push(n)}}function G(e,t,n,i){function r(a){var l;o[a]=!0;oe.each(e[a]||[],function(e,a){var u=a(t,n,i);if("string"==typeof u&&!s&&!o[u]){t.dataTypes.unshift(u);r(u);return!1}if(s)return!(l=u)});return l}var o={},s=e===Ct;return r(t.dataTypes[0])||!o["*"]&&r("*")}function z(e,t){var n,i,r=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);i&&oe.extend(!0,e,i);return e}function H(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];){l.shift();void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"))}if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o){o!==l[0]&&l.unshift(o);return n[o]}}function V(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];o=c.shift();for(;o;){e.responseFields[o]&&(n[e.responseFields[o]]=t);!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType));l=o;o=c.shift();if(o)if("*"===o)o=l;else if("*"!==l&&l!==o){s=u[l+" "+o]||u["* "+o];if(!s)for(r in u){a=r.split(" ");if(a[1]===o){s=u[l+" "+a[0]]||u["* "+a[0]];if(s){if(s===!0)s=u[r];else if(u[r]!==!0){o=a[0];c.unshift(a[1])}break}}}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+l+" to "+o}}}}return{state:"success",data:t}}function W(e,t,n,i){var r;if(oe.isArray(t))oe.each(t,function(t,r){n||At.test(e)?i(e,r):W(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==oe.type(t))i(e,t);else for(r in t)W(e+"["+r+"]",t[r],n,i)}function Y(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Z=[],$=e.document,K=Z.slice,X=Z.concat,Q=Z.push,J=Z.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,ie={},re="2.2.4",oe=function(e,t){return new oe.fn.init(e,t)},se=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,le=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:re,constructor:oe,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);t.prevObject=this;t.context=this.context;return t},each:function(e){return oe.each(this,e)},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Q,sort:Z.sort,splice:Z.splice};oe.extend=oe.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;if("boolean"==typeof s){u=s;s=arguments[a]||{};a++}"object"==typeof s||oe.isFunction(s)||(s={});if(a===l){s=this;a--}for(;a<l;a++)if(null!=(e=arguments[a]))for(t in e){n=s[t];i=e[t];if(s!==i)if(u&&i&&(oe.isPlainObject(i)||(r=oe.isArray(i)))){if(r){r=!1;o=n&&oe.isArray(n)?n:[]}else o=n&&oe.isPlainObject(n)?n:{};s[t]=oe.extend(u,o,i)}else void 0!==i&&(s[t]=i)}return s};oe.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!oe.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=oe.trim(e);if(e)if(1===e.indexOf("use strict")){t=$.createElement("script");t.text=e;$.head.appendChild(t).parentNode.removeChild(t)}else n(e)},camelCase:function(e){return e.replace(ae,"ms-").replace(le,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,r=0;if(n(e)){i=e.length;for(;r<i&&t.call(e[r],r,e[r])!==!1;r++);}else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(se,"")},makeArray:function(e,t){var i=t||[];null!=e&&(n(Object(e))?oe.merge(i,"string"==typeof e?[e]:e):Q.call(i,e));return i},inArray:function(e,t,n){return null==t?-1:J.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];e.length=r;return e},grep:function(e,t,n){for(var i,r=[],o=0,s=e.length,a=!n;o<s;o++){i=!t(e[o],o);i!==a&&r.push(e[o])}return r},map:function(e,t,i){var r,o,s=0,a=[];if(n(e)){r=e.length;for(;s<r;s++){o=t(e[s],s,i);null!=o&&a.push(o)}}else for(s in e){o=t(e[s],s,i);null!=o&&a.push(o)}return X.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t){n=e[t];t=e;e=n}if(oe.isFunction(e)){i=K.call(arguments,2);r=function(){return e.apply(t||this,i.concat(K.call(arguments)))};r.guid=e.guid=e.guid||oe.guid++;return r}},now:Date.now,support:ie});"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=Z[Symbol.iterator]);oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,i){var r,o,s,a,l,u,f,h,d=t&&t.ownerDocument,g=t?t.nodeType:9;n=n||[];if("string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!i){(t?t.ownerDocument||t:U)!==O&&R(t);t=t||O;if(k){if(11!==g&&(u=ve.exec(e)))if(r=u[1]){if(9===g){if(!(s=t.getElementById(r)))return n;if(s.id===r){n.push(s);return n}}else if(d&&(s=d.getElementById(r))&&B(t,s)&&s.id===r){n.push(s);return n}}else{if(u[2]){Q.apply(n,t.getElementsByTagName(e));return n}if((r=u[3])&&_.getElementsByClassName&&t.getElementsByClassName){Q.apply(n,t.getElementsByClassName(r));return n}}if(_.qsa&&!V[e+" "]&&(!M||!M.test(e))){if(1!==g){d=t;h=e}else if("object"!==t.nodeName.toLowerCase()){(a=t.getAttribute("id"))?a=a.replace(be,"\\$&"):t.setAttribute("id",a=q);f=S(e);o=f.length;l=pe.test(a)?"#"+a:"[id='"+a+"']";for(;o--;)f[o]=l+" "+p(f[o]);h=f.join(",");d=ye.test(e)&&c(t.parentNode)||t}if(h)try{Q.apply(n,d.querySelectorAll(h));return n}catch(m){}finally{a===q&&t.removeAttribute("id")}}}}return L(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){t.push(n+" ")>E.cacheLength&&delete e[t.shift()];return e[n+" "]=i}var t=[];return e}function i(e){e[q]=!0;return e}function r(e){var t=O.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)E.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){t=+t;return i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=G++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,u,c=[F,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){u=t[q]||(t[q]={});l=u[t.uniqueID]||(u[t.uniqueID]={});if((a=l[i])&&a[0]===F&&a[1]===o)return c[2]=a[2];l[i]=c;if(c[2]=e(t,n,s))return!0}}}function d(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function m(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;a<l;a++)if((o=e[a])&&(!n||n(o,i,r))){s.push(o);u&&t.push(a)}return s}function v(e,t,n,r,o,s){r&&!r[q]&&(r=v(r));o&&!o[q]&&(o=v(o,s));return i(function(i,s,a,l){var u,c,f,p=[],h=[],d=s.length,v=i||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:m(v,p,e,a,l),b=n?o||(i?e:d||r)?[]:s:y;n&&n(y,b,a,l);if(r){u=m(b,h);r(u,[],a,l);c=u.length;for(;c--;)(f=u[c])&&(b[h[c]]=!(y[h[c]]=f))}if(i){if(o||e){if(o){u=[];c=b.length;for(;c--;)(f=b[c])&&u.push(y[c]=f);o(null,b=[],u,l)}c=b.length;for(;c--;)(f=b[c])&&(u=o?ee(i,f):p[c])>-1&&(i[u]=!(s[u]=f))}}else{b=m(b===s?b.splice(d,b.length):b);o?o(null,s,b,l):Q.apply(s,b)}})}function y(e){for(var t,n,i,r=e.length,o=E.relative[e[0].type],s=o||E.relative[" "],a=o?1:0,l=h(function(e){return e===t},s,!0),u=h(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,i){var r=!o&&(i||n!==N)||((t=n).nodeType?l(e,n,i):u(e,n,i));t=null;return r}];a<r;a++)if(n=E.relative[e[a].type])c=[h(d(c),n)];else{n=E.filter[e[a].type].apply(null,e[a].matches);if(n[q]){i=++a;for(;i<r&&!E.relative[e[i].type];i++);return v(a>1&&d(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<i&&y(e.slice(a,i)),i<r&&y(e=e.slice(i)),i<r&&p(e))}c.push(n)}return d(c)}function b(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,u){var c,f,p,h=0,d="0",g=i&&[],v=[],y=N,b=i||o&&E.find.TAG("*",u),x=F+=null==y?1:Math.random()||.1,_=b.length;u&&(N=s===O||s||u);for(;d!==_&&null!=(c=b[d]);d++){if(o&&c){f=0;if(!s&&c.ownerDocument!==O){R(c);a=!k}for(;p=e[f++];)if(p(c,s||O,a)){l.push(c);break}u&&(F=x)}if(r){(c=!p&&c)&&h--;i&&g.push(c)}}h+=d;if(r&&d!==h){f=0;for(;p=n[f++];)p(g,v,s,a);if(i){if(h>0)for(;d--;)g[d]||v[d]||(v[d]=K.call(l));v=m(v)}Q.apply(l,v);u&&!i&&v.length>0&&h+n.length>1&&t.uniqueSort(l)}if(u){F=x;N=y}return g};return r?i(s):s}var x,_,E,w,T,S,C,L,N,I,A,R,O,P,k,M,D,j,B,q="sizzle"+1*new Date,U=e.document,F=0,G=0,z=n(),H=n(),V=n(),W=function(e,t){e===t&&(A=!0);return 0},Y=1<<31,Z={}.hasOwnProperty,$=[],K=$.pop,X=$.push,Q=$.push,J=$.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(oe),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ee=function(){R()};try{Q.apply($=J.call(U.childNodes),U.childNodes);$[U.childNodes.length].nodeType}catch(we){Q={apply:$.length?function(e,t){X.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}_=t.support={};T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName};R=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:U;if(i===O||9!==i.nodeType||!i.documentElement)return O;O=i;P=O.documentElement;k=!T(O);(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ee,!1):n.attachEvent&&n.attachEvent("onunload",Ee));_.attributes=r(function(e){e.className="i";return!e.getAttribute("className")});_.getElementsByTagName=r(function(e){e.appendChild(O.createComment(""));return!e.getElementsByTagName("*").length});_.getElementsByClassName=me.test(O.getElementsByClassName);_.getById=r(function(e){P.appendChild(e).id=q;return!O.getElementsByName||!O.getElementsByName(q).length});if(_.getById){E.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&k){var n=t.getElementById(e);return n?[n]:[]}};E.filter.ID=function(e){var t=e.replace(xe,_e);return function(e){return e.getAttribute("id")===t}}}else{delete E.find.ID;E.filter.ID=function(e){var t=e.replace(xe,_e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}}E.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o};E.find.CLASS=_.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&k)return t.getElementsByClassName(e)};D=[];M=[];if(_.qsa=me.test(O.querySelectorAll)){r(function(e){P.appendChild(e).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>";e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")");e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")");e.querySelectorAll("[id~="+q+"-]").length||M.push("~=");e.querySelectorAll(":checked").length||M.push(":checked");e.querySelectorAll("a#"+q+"+*").length||M.push(".#.+[+~]")});r(function(e){var t=O.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?=");e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled");e.querySelectorAll("*,:x");M.push(",.*:")})}(_.matchesSelector=me.test(j=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){_.disconnectedMatch=j.call(e,"div");j.call(e,"[s!='']:x");D.push("!=",oe)});M=M.length&&new RegExp(M.join("|"));D=D.length&&new RegExp(D.join("|"));t=me.test(P.compareDocumentPosition);B=t||me.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};W=t?function(e,t){if(e===t){A=!0;return 0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition;if(n)return n;n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1;return 1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===O||e.ownerDocument===U&&B(U,e)?-1:t===O||t.ownerDocument===U&&B(U,t)?1:I?ee(I,e)-ee(I,t):0:4&n?-1:1}:function(e,t){if(e===t){A=!0;return 0}var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],l=[t];if(!r||!o)return e===O?-1:t===O?1:r?-1:o?1:I?ee(I,e)-ee(I,t):0;if(r===o)return s(e,t);n=e;for(;n=n.parentNode;)a.unshift(n);n=t;for(;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===U?-1:l[i]===U?1:0};return O};t.matches=function(e,n){return t(e,null,null,n)};t.matchesSelector=function(e,n){(e.ownerDocument||e)!==O&&R(e);n=n.replace(ce,"='$1']");if(_.matchesSelector&&k&&!V[n+" "]&&(!D||!D.test(n))&&(!M||!M.test(n)))try{var i=j.call(e,n);if(i||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,O,null,[e]).length>0};t.contains=function(e,t){(e.ownerDocument||e)!==O&&R(e);return B(e,t)};t.attr=function(e,t){(e.ownerDocument||e)!==O&&R(e);var n=E.attrHandle[t.toLowerCase()],i=n&&Z.call(E.attrHandle,t.toLowerCase())?n(e,t,!k):void 0;return void 0!==i?i:_.attributes||!k?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null};t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};t.uniqueSort=function(e){var t,n=[],i=0,r=0;A=!_.detectDuplicates;I=!_.sortStable&&e.slice(0);e.sort(W);if(A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}I=null;return e};w=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=w(t);return n};E=t.selectors={cacheLength:50,createPseudo:i,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(xe,_e);e[3]=(e[3]||e[4]||e[5]||"").replace(xe,_e);"~="===e[2]&&(e[3]=" "+e[3]+" ");return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if("nth"===e[1].slice(0,3)){e[3]||t.error(e[0]);e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3]));e[5]=+(e[7]+e[8]||"odd"===e[3])}else e[3]&&t.error(e[0]);return e},PSEUDO:function(e){var t,n=!e[6]&&e[2];if(he.CHILD.test(e[0]))return null;if(e[3])e[2]=e[4]||e[5]||"";else if(n&&fe.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)){e[0]=e[0].slice(0,t);e[2]=n.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(xe,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);if(null==o)return"!="===n;if(!n)return!0;o+="";return"="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-")}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,p,h,d,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){p=t;for(;p=p[g];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}d=[s?m.firstChild:m.lastChild];if(s&&y){p=m;f=p[q]||(p[q]={});c=f[p.uniqueID]||(f[p.uniqueID]={});u=c[e]||[];h=u[0]===F&&u[1];b=h&&u[2];p=h&&m.childNodes[h];for(;p=++h&&p&&p[g]||(b=h=0)||d.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[F,h,b];break}}else{if(y){p=t;f=p[q]||(p[q]={});c=f[p.uniqueID]||(f[p.uniqueID]={});u=c[e]||[];h=u[0]===F&&u[1];b=h}if(b===!1)for(;p=++h&&p&&p[g]||(b=h=0)||d.pop();)if((a?p.nodeName.toLowerCase()===v:1===p.nodeType)&&++b){if(y){f=p[q]||(p[q]={});c=f[p.uniqueID]||(f[p.uniqueID]={});c[e]=[F,b]}if(p===t)break}}b-=r;return b===i||b%i===0&&b/i>=0}}},PSEUDO:function(e,n){var r,o=E.pseudos[e]||E.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);if(o[q])return o(n);if(o.length>1){r=[e,e,"",n];return E.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;){i=ee(e,r[s]);e[i]=!(t[i]=r[s])}}):function(e){return o(e,0,r)}}return o}},pseudos:{not:i(function(e){var t=[],n=[],r=C(e.replace(ae,"$1"));return r[q]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){t[0]=e;r(t,null,o,n);t[0]=null;return!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){e=e.replace(xe,_e);return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:i(function(e){pe.test(e||"")||t.error("unsupported lang: "+e);e=e.replace(xe,_e).toLowerCase();return function(t){var n;do if(n=k?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){n=n.toLowerCase();return n===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){e.parentNode&&e.parentNode.selectedIndex;return e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}};E.pseudos.nth=E.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})E.pseudos[x]=l(x);f.prototype=E.filters=E.pseudos;E.setFilters=new f;S=t.tokenize=function(e,n){var i,r,o,s,a,l,u,c=H[e+" "];if(c)return n?0:c.slice(0);a=e;l=[];u=E.preFilter;for(;a;){if(!i||(r=le.exec(a))){r&&(a=a.slice(r[0].length)||a);l.push(o=[])}i=!1;if(r=ue.exec(a)){i=r.shift();o.push({value:i,type:r[0].replace(ae," ")});a=a.slice(i.length)}for(s in E.filter)if((r=he[s].exec(a))&&(!u[s]||(r=u[s](r)))){i=r.shift();o.push({value:i,type:s,matches:r});a=a.slice(i.length)}if(!i)break}return n?a.length:a?t.error(e):H(e,l).slice(0)};C=t.compile=function(e,t){var n,i=[],r=[],o=V[e+" "];if(!o){t||(t=S(e));n=t.length;for(;n--;){o=y(t[n]);o[q]?i.push(o):r.push(o)}o=V(e,b(r,i));o.selector=e}return o};L=t.select=function(e,t,n,i){var r,o,s,a,l,u="function"==typeof e&&e,f=!i&&S(e=u.selector||e);n=n||[];if(1===f.length){o=f[0]=f[0].slice(0);if(o.length>2&&"ID"===(s=o[0]).type&&_.getById&&9===t.nodeType&&k&&E.relative[o[1].type]){t=(E.find.ID(s.matches[0].replace(xe,_e),t)||[])[0];if(!t)return n;u&&(t=t.parentNode);e=e.slice(o.shift().value.length)}r=he.needsContext.test(e)?0:o.length;for(;r--;){s=o[r];if(E.relative[a=s.type])break;if((l=E.find[a])&&(i=l(s.matches[0].replace(xe,_e),ye.test(o[0].type)&&c(t.parentNode)||t))){o.splice(r,1);e=i.length&&p(o);if(!e){Q.apply(n,i);return n}break}}}(u||C(e,f))(i,t,!k,n,!t||ye.test(e)&&c(t.parentNode)||t);return n};_.sortStable=q.split("").sort(W).join("")===q;_.detectDuplicates=!!A;R();_.sortDetached=r(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))});r(function(e){e.innerHTML="<a href='#'></a>";return"#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){
if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)});_.attributes&&r(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue});r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;if(!n)return e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null});return t}(e);oe.find=ce;oe.expr=ce.selectors;oe.expr[":"]=oe.expr.pseudos;oe.uniqueSort=oe.unique=ce.uniqueSort;oe.text=ce.getText;oe.isXMLDoc=ce.isXML;oe.contains=ce.contains;var fe=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&oe(e).is(n))break;i.push(e)}return i},pe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},he=oe.expr.match.needsContext,de=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ge=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var i=t[0];n&&(e=":not("+e+")");return 1===t.length&&1===i.nodeType?oe.find.matchesSelector(i,e)?[i]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))};oe.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;t<n;t++)if(oe.contains(r[t],this))return!0}));for(t=0;t<n;t++)oe.find(e,r[t],i);i=this.pushStack(n>1?oe.unique(i):i);i.selector=this.selector?this.selector+" "+e:e;return i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&he.test(e)?oe(e):e||[],!1).length}});var me,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=oe.fn.init=function(e,t,n){var i,r;if(!e)return this;n=n||me;if("string"==typeof e){i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ve.exec(e);if(!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){t=t instanceof oe?t[0]:t;oe.merge(this,oe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:$,!0));if(de.test(i[1])&&oe.isPlainObject(t))for(i in t)oe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}r=$.getElementById(i[2]);if(r&&r.parentNode){this.length=1;this[0]=r}this.context=$;this.selector=e;return this}if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(oe.isFunction(e))return void 0!==n.ready?n.ready(e):e(oe);if(void 0!==e.selector){this.selector=e.selector;this.context=e.context}return oe.makeArray(e,this)};ye.prototype=oe.fn;me=oe($);var be=/^(?:parents|prev(?:Until|All))/,xe={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(oe.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=he.test(e)||"string"!=typeof e?oe(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?J.call(oe(e),this[0]):J.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return fe(e,"parentNode")},parentsUntil:function(e,t,n){return fe(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return fe(e,"nextSibling")},prevAll:function(e){return fe(e,"previousSibling")},nextUntil:function(e,t,n){return fe(e,"nextSibling",n)},prevUntil:function(e,t,n){return fe(e,"previousSibling",n)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,i){var r=oe.map(this,t,n);"Until"!==e.slice(-5)&&(i=n);i&&"string"==typeof i&&(r=oe.filter(i,r));if(this.length>1){xe[e]||oe.uniqueSort(r);be.test(e)&&r.reverse()}return this.pushStack(r)}});var _e=/\S+/g;oe.Callbacks=function(e){e="string"==typeof e?o(e):oe.extend({},e);var t,n,i,r,s=[],a=[],l=-1,u=function(){r=e.once;i=t=!0;for(;a.length;l=-1){n=a.shift();for(;++l<s.length;)if(s[l].apply(n[0],n[1])===!1&&e.stopOnFalse){l=s.length;n=!1}}e.memory||(n=!1);t=!1;r&&(s=n?[]:"")},c={add:function(){if(s){if(n&&!t){l=s.length-1;a.push(n)}(function i(t){oe.each(t,function(t,n){oe.isFunction(n)?e.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==oe.type(n)&&i(n)})})(arguments);n&&!t&&u()}return this},remove:function(){oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,s,n))>-1;){s.splice(n,1);n<=l&&l--}});return this},has:function(e){return e?oe.inArray(e,s)>-1:s.length>0},empty:function(){s&&(s=[]);return this},disable:function(){r=a=[];s=n="";return this},disabled:function(){return!s},lock:function(){r=a=[];n||(s=n="");return this},locked:function(){return!!r},fireWith:function(e,n){if(!r){n=n||[];n=[e,n.slice?n.slice():n];a.push(n);t||u()}return this},fire:function(){c.fireWith(this,arguments);return this},fired:function(){return!!i}};return c};oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){r.done(arguments).fail(arguments);return this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var s=oe.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})});e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,i):i}},r={};i.pipe=i.then;oe.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add;a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock);r[o[0]]=function(){r[o[0]+"With"](this===r?i:this,arguments);return this};r[o[0]+"With"]=s.fireWith});i.promise(r);e&&e.call(r,r);return r},when:function(e){var t,n,i,r=0,o=K.call(arguments),s=o.length,a=1!==s||e&&oe.isFunction(e.promise)?s:0,l=1===a?e:oe.Deferred(),u=function(e,n,i){return function(r){n[e]=this;i[e]=arguments.length>1?K.call(arguments):r;i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1){t=new Array(s);n=new Array(s);i=new Array(s);for(;r<s;r++)o[r]&&oe.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,t)).done(u(r,i,o)).fail(l.reject):--a}a||l.resolveWith(i,o);return l.promise()}});var Ee;oe.fn.ready=function(e){oe.ready.promise().done(e);return this};oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){if(e===!0?!--oe.readyWait:!oe.isReady){oe.isReady=!0;if(!(e!==!0&&--oe.readyWait>0)){Ee.resolveWith($,[oe]);if(oe.fn.triggerHandler){oe($).triggerHandler("ready");oe($).off("ready")}}}}});oe.ready.promise=function(t){if(!Ee){Ee=oe.Deferred();if("complete"===$.readyState||"loading"!==$.readyState&&!$.documentElement.doScroll)e.setTimeout(oe.ready);else{$.addEventListener("DOMContentLoaded",s);e.addEventListener("load",s)}}return Ee.promise(t)};oe.ready.promise();var we=function(e,t,n,i,r,o,s){var a=0,l=e.length,u=null==n;if("object"===oe.type(n)){r=!0;for(a in n)we(e,t,a,n[a],!0,o,s)}else if(void 0!==i){r=!0;oe.isFunction(i)||(s=!0);if(u)if(s){t.call(e,i);t=null}else{u=t;t=function(e,t,n){return u.call(oe(e),n)}}if(t)for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)))}return r?e:u?t.call(e):l?t(e[0],n):o},Te=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};a.uid=1;a.prototype={register:function(e,t){var n=t||{};e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0});return e[this.expando]},cache:function(e){if(!Te(e))return{};var t=e[this.expando];if(!t){t={};Te(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))}return t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;if(void 0===t||t&&"string"==typeof t&&void 0===n){i=this.get(e,t);return void 0!==i?i:this.get(e,oe.camelCase(t))}this.set(e,t,n);return void 0!==n?n:t},remove:function(e,t){var n,i,r,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{if(oe.isArray(t))i=t.concat(t.map(oe.camelCase));else{r=oe.camelCase(t);if(t in o)i=[t,r];else{i=r;i=i in o?[i]:i.match(_e)||[]}}n=i.length;for(;n--;)delete o[i[n]]}(void 0===t||oe.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!oe.isEmptyObject(t)}};var Se=new a,Ce=new a,Le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;oe.extend({hasData:function(e){return Ce.hasData(e)||Se.hasData(e)},data:function(e,t,n){return Ce.access(e,t,n)},removeData:function(e,t){Ce.remove(e,t)},_data:function(e,t,n){return Se.access(e,t,n)},_removeData:function(e,t){Se.remove(e,t)}});oe.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length){r=Ce.get(o);if(1===o.nodeType&&!Se.get(o,"hasDataAttrs")){n=s.length;for(;n--;)if(s[n]){i=s[n].name;if(0===i.indexOf("data-")){i=oe.camelCase(i.slice(5));l(o,i,r[i])}}Se.set(o,"hasDataAttrs",!0)}}return r}return"object"==typeof e?this.each(function(){Ce.set(this,e)}):we(this,function(t){var n,i;if(o&&void 0===t){n=Ce.get(o,e)||Ce.get(o,e.replace(Ne,"-$&").toLowerCase());if(void 0!==n)return n;i=oe.camelCase(e);n=Ce.get(o,i);if(void 0!==n)return n;n=l(o,i,void 0);if(void 0!==n)return n}else{i=oe.camelCase(e);this.each(function(){var n=Ce.get(this,i);Ce.set(this,i,t);e.indexOf("-")>-1&&void 0!==n&&Ce.set(this,e,t)})}},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ce.remove(this,e)})}});oe.extend({queue:function(e,t,n){var i;if(e){t=(t||"fx")+"queue";i=Se.get(e,t);n&&(!i||oe.isArray(n)?i=Se.access(e,t,oe.makeArray(n)):i.push(n));return i||[]}},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),i=n.length,r=n.shift(),o=oe._queueHooks(e,t),s=function(){oe.dequeue(e,t)};if("inprogress"===r){r=n.shift();i--}if(r){"fx"===t&&n.unshift("inprogress");delete o.stop;r.call(e,s,o)}!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Se.get(e,n)||Se.access(e,n,{empty:oe.Callbacks("once memory").add(function(){Se.remove(e,[t+"queue",n])})})}});oe.fn.extend({queue:function(e,t){var n=2;if("string"!=typeof e){t=e;e="fx";n--}return arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each(function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e);"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=oe.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};if("string"!=typeof e){t=e;e=void 0}e=e||"fx";for(;s--;){n=Se.get(o[s],e+"queueHooks");if(n&&n.empty){i++;n.empty.add(a)}}a();return r.promise(t)}});var Ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+Ie+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Oe=function(e,t){e=t||e;return"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Pe=/^(?:checkbox|radio)$/i,ke=/<([\w:-]+)/,Me=/^$|\/(?:java|ecma)script/i,De={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};De.optgroup=De.option;De.tbody=De.tfoot=De.colgroup=De.caption=De.thead;De.th=De.td;var je=/<|&#?\w+;/;(function(){var e=$.createDocumentFragment(),t=e.appendChild($.createElement("div")),n=$.createElement("input");n.setAttribute("type","radio");n.setAttribute("checked","checked");n.setAttribute("name","t");t.appendChild(n);ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked;t.innerHTML="<textarea>x</textarea>";ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var Be=/^key/,qe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ue=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,u,c,f,p,h,d,g,m=Se.get(e);if(m){if(n.handler){o=n;n=o.handler;r=o.selector}n.guid||(n.guid=oe.guid++);(l=m.events)||(l=m.events={});(s=m.handle)||(s=m.handle=function(t){return"undefined"!=typeof oe&&oe.event.triggered!==t.type?oe.event.dispatch.apply(e,arguments):void 0});t=(t||"").match(_e)||[""];u=t.length;for(;u--;){a=Ue.exec(t[u])||[];h=g=a[1];d=(a[2]||"").split(".").sort();if(h){f=oe.event.special[h]||{};h=(r?f.delegateType:f.bindType)||h;f=oe.event.special[h]||{};c=oe.extend({type:h,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&oe.expr.match.needsContext.test(r),namespace:d.join(".")},o);if(!(p=l[h])){p=l[h]=[];p.delegateCount=0;f.setup&&f.setup.call(e,i,d,s)!==!1||e.addEventListener&&e.addEventListener(h,s)}if(f.add){f.add.call(e,c);c.handler.guid||(c.handler.guid=n.guid)}r?p.splice(p.delegateCount++,0,c):p.push(c);oe.event.global[h]=!0}}}},remove:function(e,t,n,i,r){var o,s,a,l,u,c,f,p,h,d,g,m=Se.hasData(e)&&Se.get(e);if(m&&(l=m.events)){t=(t||"").match(_e)||[""];u=t.length;for(;u--;){a=Ue.exec(t[u])||[];h=g=a[1];d=(a[2]||"").split(".").sort();if(h){f=oe.event.special[h]||{};h=(i?f.delegateType:f.bindType)||h;p=l[h]||[];a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)");s=o=p.length;for(;o--;){c=p[o];if((r||g===c.origType)&&(!n||n.guid===c.guid)&&(!a||a.test(c.namespace))&&(!i||i===c.selector||"**"===i&&c.selector)){p.splice(o,1);c.selector&&p.delegateCount--;f.remove&&f.remove.call(e,c)}}if(s&&!p.length){f.teardown&&f.teardown.call(e,d,m.handle)!==!1||oe.removeEvent(e,h,m.handle);delete l[h]}}else for(h in l)oe.event.remove(e,h+t[u],n,i,!0)}oe.isEmptyObject(l)&&Se.remove(e,"handle events")}},dispatch:function(e){e=oe.event.fix(e);var t,n,i,r,o,s=[],a=K.call(arguments),l=(Se.get(this,"events")||{})[e.type]||[],u=oe.event.special[e.type]||{};a[0]=e;e.delegateTarget=this;if(!u.preDispatch||u.preDispatch.call(this,e)!==!1){s=oe.event.handlers.call(this,e,l);t=0;for(;(r=s[t++])&&!e.isPropagationStopped();){e.currentTarget=r.elem;n=0;for(;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)if(!e.rnamespace||e.rnamespace.test(o.namespace)){e.handleObj=o;e.data=o.data;i=((oe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a);if(void 0!==i&&(e.result=i)===!1){e.preventDefault();e.stopPropagation()}}}u.postDispatch&&u.postDispatch.call(this,e);return e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){i=[];for(n=0;n<a;n++){o=t[n];r=o.selector+" ";void 0===i[r]&&(i[r]=o.needsContext?oe(r,this).index(l)>-1:oe.find(r,this,null,[l]).length);i[r]&&i.push(o)}i.length&&s.push({elem:l,handlers:i})}a<t.length&&s.push({elem:this,handlers:t.slice(a)});return s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode);return e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;if(null==e.pageX&&null!=t.clientX){n=e.target.ownerDocument||$;i=n.documentElement;r=n.body;e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0);e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)}e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0);return e}},fix:function(e){if(e[oe.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];s||(this.fixHooks[r]=s=qe.test(r)?this.mouseHooks:Be.test(r)?this.keyHooks:{});i=s.props?this.props.concat(s.props):this.props;e=new oe.Event(o);t=i.length;for(;t--;){n=i[t];e[n]=o[n]}e.target||(e.target=$);3===e.target.nodeType&&(e.target=e.target.parentNode);return s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==g()&&this.focus){this.focus();return!1}},delegateType:"focusin"},blur:{trigger:function(){if(this===g()&&this.blur){this.blur();return!1}},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&oe.nodeName(this,"input")){this.click();return!1}},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)};oe.Event=function(e,t){if(!(this instanceof oe.Event))return new oe.Event(e,t);if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:d}else this.type=e;t&&oe.extend(this,t);this.timeStamp=e&&e.timeStamp||oe.now();this[oe.expando]=!0};oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h;e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h;e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h;e&&!this.isSimulated&&e.stopImmediatePropagation();this.stopPropagation()}};oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;if(!r||r!==i&&!oe.contains(i,r)){e.type=o.origType;n=o.handler.apply(this,arguments);e.type=t}return n}}});oe.fn.extend({on:function(e,t,n,i){return m(this,e,t,n,i)},one:function(e,t,n,i){return m(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj){i=e.handleObj;oe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);return this}if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}if(t===!1||"function"==typeof t){n=t;t=void 0}n===!1&&(n=d);return this.each(function(){oe.event.remove(this,e,n,t)})}});var Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ge=/<script|<style|<link/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^true\/(.*)/,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(e){return e.replace(Fe,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=oe.contains(e.ownerDocument,e);if(!(ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e))){s=c(a);o=c(e);for(i=0,r=o.length;i<r;i++)_(o[i],s[i])}if(t)if(n){o=o||c(e);s=s||c(a);for(i=0,r=o.length;i<r;i++)x(o[i],s[i])}else x(e,a);s=c(a,"script");s.length>0&&f(s,!l&&c(e,"script"));return a},cleanData:function(e){for(var t,n,i,r=oe.event.special,o=0;void 0!==(n=e[o]);o++)if(Te(n)){if(t=n[Se.expando]){if(t.events)for(i in t.events)r[i]?oe.event.remove(n,i):oe.removeEvent(n,i,t.handle);n[Se.expando]=void 0}n[Ce.expando]&&(n[Ce.expando]=void 0)}}});oe.fn.extend({domManip:E,detach:function(e){return w(this,e,!0)},remove:function(e){return w(this,e)},text:function(e){return we(this,function(e){return void 0===e?oe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)if(1===e.nodeType){oe.cleanData(c(e,!1));e.textContent=""}return this},clone:function(e,t){e=null!=e&&e;t=null==t?e:t;return this.map(function(){return oe.clone(this,e,t)})},html:function(e){return we(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ge.test(e)&&!De[(ke.exec(e)||["",""])[1].toLowerCase()]){e=oe.htmlPrefilter(e);try{for(;n<i;n++){t=this[n]||{};if(1===t.nodeType){oe.cleanData(c(t,!1));t.innerHTML=e}}t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return E(this,arguments,function(t){var n=this.parentNode;if(oe.inArray(this,e)<0){oe.cleanData(c(this));n&&n.replaceChild(t,this)}},e)}});oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,i=[],r=oe(e),o=r.length-1,s=0;s<=o;s++){n=s===o?this:this.clone(!0);oe(r[s])[t](n);Q.apply(i,n.get())}return this.pushStack(i)}});var We,Ye={HTML:"block",BODY:"block"},Ze=/^margin/,$e=new RegExp("^("+Ie+")(?!px)[a-z%]+$","i"),Ke=function(t){var n=t.ownerDocument.defaultView;n&&n.opener||(n=e);return n.getComputedStyle(t)},Xe=function(e,t,n,i){var r,o,s={};for(o in t){s[o]=e.style[o];e.style[o]=t[o]}r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r},Qe=$.documentElement;(function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";a.innerHTML="";Qe.appendChild(s);var t=e.getComputedStyle(a);n="1%"!==t.top;o="2px"===t.marginLeft;i="4px"===t.width;a.style.marginRight="50%";r="4px"===t.marginRight;Qe.removeChild(s)}var n,i,r,o,s=$.createElement("div"),a=$.createElement("div");if(a.style){a.style.backgroundClip="content-box";a.cloneNode(!0).style.backgroundClip="";ie.clearCloneStyle="content-box"===a.style.backgroundClip;s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";s.appendChild(a);oe.extend(ie,{pixelPosition:function(){t();return n},boxSizingReliable:function(){null==i&&t();return i},pixelMarginRight:function(){null==i&&t();return r},reliableMarginLeft:function(){null==i&&t();return o},reliableMarginRight:function(){var t,n=a.appendChild($.createElement("div"));n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";n.style.marginRight=n.style.width="0";a.style.width="1px";Qe.appendChild(s);t=!parseFloat(e.getComputedStyle(n).marginRight);Qe.removeChild(s);a.removeChild(n);return t}})}})();var Je=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","O","Moz","ms"],it=$.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=C(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=oe.camelCase(t),l=e.style;t=oe.cssProps[a]||(oe.cssProps[a]=N(a)||a);s=oe.cssHooks[t]||oe.cssHooks[a];if(void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t];o=typeof n;if("string"===o&&(r=Ae.exec(n))&&r[1]){n=u(e,t,r);o="number"}if(null!=n&&n===n){"number"===o&&(n+=r&&r[3]||(oe.cssNumber[a]?"":"px"));ie.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit");s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l[t]=n)}}},css:function(e,t,n,i){var r,o,s,a=oe.camelCase(t);t=oe.cssProps[a]||(oe.cssProps[a]=N(a)||a);s=oe.cssHooks[t]||oe.cssHooks[a];s&&"get"in s&&(r=s.get(e,!0,n));void 0===r&&(r=C(e,t,i));"normal"===r&&t in tt&&(r=tt[t]);if(""===n||n){o=parseFloat(r);return n===!0||isFinite(o)?o||0:r}return r}});oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,i){if(n)return Je.test(oe.css(e,"display"))&&0===e.offsetWidth?Xe(e,et,function(){return R(e,t,i)}):R(e,t,i)},set:function(e,n,i){var r,o=i&&Ke(e),s=i&&A(e,t,i,"border-box"===oe.css(e,"boxSizing",!1,o),o);if(s&&(r=Ae.exec(n))&&"px"!==(r[3]||"px")){e.style[t]=n;n=oe.css(e,t)}return I(e,n,s)}}});oe.cssHooks.marginLeft=L(ie.reliableMarginLeft,function(e,t){if(t)return(parseFloat(C(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"});oe.cssHooks.marginRight=L(ie.reliableMarginRight,function(e,t){if(t)return Xe(e,{display:"inline-block"},C,[e,"marginRight"])});oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+Re[i]+t]=o[i]||o[i-2]||o[0];return r}};Ze.test(e)||(oe.cssHooks[e+t].set=I)});oe.fn.extend({css:function(e,t){return we(this,function(e,t,n){var i,r,o={},s=0;if(oe.isArray(t)){i=Ke(e);r=t.length;for(;s<r;s++)o[t[s]]=oe.css(e,t[s],!1,i);return o}return void 0!==n?oe.style(e,t,n):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Oe(this)?oe(this).show():oe(this).hide()})}});oe.Tween=P;P.prototype={constructor:P,init:function(e,t,n,i,r,o){this.elem=e;this.prop=n;this.easing=r||oe.easing._default;this.options=t;this.start=this.now=this.cur();this.end=i;this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,n=P.propHooks[this.prop];this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e;this.now=(this.end-this.start)*t+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);n&&n.set?n.set(this):P.propHooks._default.set(this);return this}};P.prototype.init.prototype=P.prototype;P.propHooks={_default:{get:function(e){var t;if(1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop])return e.elem[e.prop];t=oe.css(e.elem,e.prop,"");return t&&"auto"!==t?t:0},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[oe.cssProps[e.prop]]&&!oe.cssHooks[e.prop]?e.elem[e.prop]=e.now:oe.style(e.elem,e.prop,e.now+e.unit)}}};P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}};oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"};oe.fx=P.prototype.init;oe.fx.step={};var rt,ot,st=/^(?:toggle|show|hide)$/,at=/queueHooks$/;oe.Animation=oe.extend(q,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);u(n.elem,e,Ae.exec(t),n);return n}]},tweener:function(e,t){if(oe.isFunction(e)){t=e;e=["*"]}else e=e.match(_e);for(var n,i=0,r=e.length;i<r;i++){n=e[i];q.tweeners[n]=q.tweeners[n]||[];q.tweeners[n].unshift(t)}},prefilters:[j],prefilter:function(e,t){t?q.prefilters.unshift(e):q.prefilters.push(e)}});oe.speed=function(e,t,n){var i=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default;null!=i.queue&&i.queue!==!0||(i.queue="fx");i.old=i.complete;i.complete=function(){oe.isFunction(i.old)&&i.old.call(this);i.queue&&oe.dequeue(this,i.queue)};return i};oe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Oe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=oe.isEmptyObject(e),o=oe.speed(t,n,i),s=function(){var t=q(this,oe.extend({},e),o);(r||Se.get(this,"finish"))&&t.stop(!0)};s.finish=s;return r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop;t(n)};if("string"!=typeof e){n=t;t=e;e=void 0}t&&e!==!1&&this.queue(e||"fx",[]);return this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=oe.timers,s=Se.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&at.test(r)&&i(s[r]);for(r=o.length;r--;)if(o[r].elem===this&&(null==e||o[r].queue===e)){o[r].anim.stop(n);t=!1;o.splice(r,1)}!t&&n||oe.dequeue(this,e)})},finish:function(e){e!==!1&&(e=e||"fx");return this.each(function(){var t,n=Se.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=oe.timers,s=i?i.length:0;n.finish=!0;oe.queue(this,e,[]);r&&r.stop&&r.stop.call(this,!0);for(t=o.length;t--;)if(o[t].elem===this&&o[t].queue===e){o[t].anim.stop(!0);o.splice(t,1)}for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}});oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(M(t,!0),e,i,r)}});oe.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}});oe.timers=[];oe.fx.tick=function(){var e,t=0,n=oe.timers;rt=oe.now();for(;t<n.length;t++){e=n[t];e()||n[t]!==e||n.splice(t--,1)}n.length||oe.fx.stop();rt=void 0};oe.fx.timer=function(e){oe.timers.push(e);e()?oe.fx.start():oe.timers.pop()};oe.fx.interval=13;oe.fx.start=function(){ot||(ot=e.setInterval(oe.fx.tick,oe.fx.interval))};oe.fx.stop=function(){e.clearInterval(ot);ot=null};oe.fx.speeds={slow:600,fast:200,_default:400};oe.fn.delay=function(t,n){t=oe.fx?oe.fx.speeds[t]||t:t;n=n||"fx";return this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})};(function(){var e=$.createElement("input"),t=$.createElement("select"),n=t.appendChild($.createElement("option"));e.type="checkbox";ie.checkOn=""!==e.value;ie.optSelected=n.selected;t.disabled=!0;ie.optDisabled=!n.disabled;e=$.createElement("input");e.value="t";e.type="radio";ie.radioValue="t"===e.value})();var lt,ut=oe.expr.attrHandle;oe.fn.extend({attr:function(e,t){return we(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}});oe.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o){if("undefined"==typeof e.getAttribute)return oe.prop(e,t,n);if(1!==o||!oe.isXMLDoc(e)){t=t.toLowerCase();r=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?lt:void 0)}if(void 0!==n){if(null===n){oe.removeAttr(e,t);return}if(r&&"set"in r&&void 0!==(i=r.set(e,n,t)))return i;e.setAttribute(t,n+"");return n}if(r&&"get"in r&&null!==(i=r.get(e,t)))return i;i=oe.find.attr(e,t);return null==i?void 0:i}},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;e.setAttribute("type",t);n&&(e.value=n);return t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(_e);if(o&&1===e.nodeType)for(;n=o[r++];){i=oe.propFix[n]||n;oe.expr.match.bool.test(n)&&(e[i]=!1);e.removeAttribute(n)}}});lt={set:function(e,t,n){t===!1?oe.removeAttr(e,n):e.setAttribute(n,n);
return n}};oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ut[t]||oe.find.attr;ut[t]=function(e,t,i){var r,o;if(!i){o=ut[t];ut[t]=r;r=null!=n(e,t,i)?t.toLowerCase():null;ut[t]=o}return r}});var ct=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return we(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})}});oe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o){if(1!==o||!oe.isXMLDoc(e)){t=oe.propFix[t]||t;r=oe.propHooks[t]}return void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]}},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});ie.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;t&&t.parentNode&&t.parentNode.selectedIndex;return null},set:function(e){var t=e.parentNode;if(t){t.selectedIndex;t.parentNode&&t.parentNode.selectedIndex}}});oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e){t=e.match(_e)||[];for(;n=this[l++];){r=U(n);i=1===n.nodeType&&(" "+r+" ").replace(pt," ");if(i){s=0;for(;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=oe.trim(i);r!==a&&n.setAttribute("class",a)}}}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e){t=e.match(_e)||[];for(;n=this[l++];){r=U(n);i=1===n.nodeType&&(" "+r+" ").replace(pt," ");if(i){s=0;for(;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=oe.trim(i);r!==a&&n.setAttribute("class",a)}}}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,U(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n){i=0;r=oe(this);o=e.match(_e)||[];for(;t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t)}else if(void 0===e||"boolean"===n){t=U(this);t&&Se.set(this,"__className__",t);this.setAttribute&&this.setAttribute("class",t||e===!1?"":Se.get(this,"__className__")||"")}})},hasClass:function(e){var t,n,i=0;t=" "+e+" ";for(;n=this[i++];)if(1===n.nodeType&&(" "+U(n)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var ht=/\r/g,dt=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(e){var t,n,i,r=this[0];if(arguments.length){i=oe.isFunction(e);return this.each(function(n){var r;if(1===this.nodeType){r=i?e.call(this,n,oe(this).val()):e;null==r?r="":"number"==typeof r?r+="":oe.isArray(r)&&(r=oe.map(r,function(e){return null==e?"":e+""}));t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()];t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r)}})}if(r){t=oe.valHooks[r.type]||oe.valHooks[r.nodeName.toLowerCase()];if(t&&"get"in t&&void 0!==(n=t.get(r,"value")))return n;n=r.value;return"string"==typeof n?n.replace(ht,""):null==n?"":n}}});oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e)).replace(dt," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++){n=i[l];if((n.selected||l===r)&&(ie.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!oe.nodeName(n.parentNode,"optgroup"))){t=oe(n).val();if(o)return t;s.push(t)}}return s},set:function(e,t){for(var n,i,r=e.options,o=oe.makeArray(t),s=r.length;s--;){i=r[s];(i.selected=oe.inArray(oe.valHooks.option.get(i),o)>-1)&&(n=!0)}n||(e.selectedIndex=-1);return o}}}});oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){if(oe.isArray(t))return e.checked=oe.inArray(oe(e).val(),t)>-1}};ie.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var gt=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(t,n,i,r){var o,s,a,l,u,c,f,p=[i||$],h=ne.call(t,"type")?t.type:t,d=ne.call(t,"namespace")?t.namespace.split("."):[];s=a=i=i||$;if(3!==i.nodeType&&8!==i.nodeType&&!gt.test(h+oe.event.triggered)){if(h.indexOf(".")>-1){d=h.split(".");h=d.shift();d.sort()}u=h.indexOf(":")<0&&"on"+h;t=t[oe.expando]?t:new oe.Event(h,"object"==typeof t&&t);t.isTrigger=r?2:3;t.namespace=d.join(".");t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;t.result=void 0;t.target||(t.target=i);n=null==n?[t]:oe.makeArray(n,[t]);f=oe.event.special[h]||{};if(r||!f.trigger||f.trigger.apply(i,n)!==!1){if(!r&&!f.noBubble&&!oe.isWindow(i)){l=f.delegateType||h;gt.test(l+h)||(s=s.parentNode);for(;s;s=s.parentNode){p.push(s);a=s}a===(i.ownerDocument||$)&&p.push(a.defaultView||a.parentWindow||e)}o=0;for(;(s=p[o++])&&!t.isPropagationStopped();){t.type=o>1?l:f.bindType||h;c=(Se.get(s,"events")||{})[t.type]&&Se.get(s,"handle");c&&c.apply(s,n);c=u&&s[u];if(c&&c.apply&&Te(s)){t.result=c.apply(s,n);t.result===!1&&t.preventDefault()}}t.type=h;if(!r&&!t.isDefaultPrevented()&&(!f._default||f._default.apply(p.pop(),n)===!1)&&Te(i)&&u&&oe.isFunction(i[h])&&!oe.isWindow(i)){a=i[u];a&&(i[u]=null);oe.event.triggered=h;i[h]();oe.event.triggered=void 0;a&&(i[u]=a)}return t.result}}},simulate:function(e,t,n){var i=oe.extend(new oe.Event,n,{type:e,isSimulated:!0});oe.event.trigger(i,null,t)}});oe.fn.extend({trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return oe.event.trigger(e,t,n,!0)}});oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});ie.focusin="onfocusin"in e;ie.focusin||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e))};oe.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Se.access(i,t);r||i.addEventListener(e,n,!0);Se.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Se.access(i,t)-1;if(r)Se.access(i,t,r);else{i.removeEventListener(e,n,!0);Se.remove(i,t)}}}});var mt=e.location,vt=oe.now(),yt=/\?/;oe.parseJSON=function(e){return JSON.parse(e+"")};oe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(i){n=void 0}n&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t);return n};var bt=/#.*$/,xt=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Et=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wt=/^(?:GET|HEAD)$/,Tt=/^\/\//,St={},Ct={},Lt="*/".concat("*"),Nt=$.createElement("a");Nt.href=mt.href;oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt.href,type:"GET",isLocal:Et.test(mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,oe.ajaxSettings),t):z(oe.ajaxSettings,e)},ajaxPrefilter:F(St),ajaxTransport:F(Ct),ajax:function(t,n){function i(t,n,i,a){var u,f,y,b,_,w=n;if(2!==x){x=2;l&&e.clearTimeout(l);r=void 0;s=a||"";E.readyState=t>0?4:0;u=t>=200&&t<300||304===t;i&&(b=H(p,E,i));b=V(p,b,E,u);if(u){if(p.ifModified){_=E.getResponseHeader("Last-Modified");_&&(oe.lastModified[o]=_);_=E.getResponseHeader("etag");_&&(oe.etag[o]=_)}if(204===t||"HEAD"===p.type)w="nocontent";else if(304===t)w="notmodified";else{w=b.state;f=b.data;y=b.error;u=!y}}else{y=w;if(t||!w){w="error";t<0&&(t=0)}}E.status=t;E.statusText=(n||w)+"";u?g.resolveWith(h,[f,w,E]):g.rejectWith(h,[E,w,y]);E.statusCode(v);v=void 0;c&&d.trigger(u?"ajaxSuccess":"ajaxError",[E,p,u?f:y]);m.fireWith(h,[E,w]);if(c){d.trigger("ajaxComplete",[E,p]);--oe.active||oe.event.trigger("ajaxStop")}}}if("object"==typeof t){n=t;t=void 0}n=n||{};var r,o,s,a,l,u,c,f,p=oe.ajaxSetup({},n),h=p.context||p,d=p.context&&(h.nodeType||h.jquery)?oe(h):oe.event,g=oe.Deferred(),m=oe.Callbacks("once memory"),v=p.statusCode||{},y={},b={},x=0,_="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!a){a={};for(;t=_t.exec(s);)a[t[1].toLowerCase()]=t[2]}t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();if(!x){e=b[n]=b[n]||e;y[e]=t}return this},overrideMimeType:function(e){x||(p.mimeType=e);return this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)v[t]=[v[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||_;r&&r.abort(t);i(0,t);return this}};g.promise(E).complete=m.add;E.success=E.done;E.error=E.fail;p.url=((t||p.url||mt.href)+"").replace(bt,"").replace(Tt,mt.protocol+"//");p.type=n.method||n.type||p.method||p.type;p.dataTypes=oe.trim(p.dataType||"*").toLowerCase().match(_e)||[""];if(null==p.crossDomain){u=$.createElement("a");try{u.href=p.url;u.href=u.href;p.crossDomain=Nt.protocol+"//"+Nt.host!=u.protocol+"//"+u.host}catch(w){p.crossDomain=!0}}p.data&&p.processData&&"string"!=typeof p.data&&(p.data=oe.param(p.data,p.traditional));G(St,p,n,E);if(2===x)return E;c=oe.event&&p.global;c&&0===oe.active++&&oe.event.trigger("ajaxStart");p.type=p.type.toUpperCase();p.hasContent=!wt.test(p.type);o=p.url;if(!p.hasContent){if(p.data){o=p.url+=(yt.test(o)?"&":"?")+p.data;delete p.data}p.cache===!1&&(p.url=xt.test(o)?o.replace(xt,"$1_="+vt++):o+(yt.test(o)?"&":"?")+"_="+vt++)}if(p.ifModified){oe.lastModified[o]&&E.setRequestHeader("If-Modified-Since",oe.lastModified[o]);oe.etag[o]&&E.setRequestHeader("If-None-Match",oe.etag[o])}(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&E.setRequestHeader("Content-Type",p.contentType);E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Lt+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)E.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(h,E,p)===!1||2===x))return E.abort();_="abort";for(f in{success:1,error:1,complete:1})E[f](p[f]);r=G(Ct,p,n,E);if(r){E.readyState=1;c&&d.trigger("ajaxSend",[E,p]);if(2===x)return E;p.async&&p.timeout>0&&(l=e.setTimeout(function(){E.abort("timeout")},p.timeout));try{x=1;r.send(y,i)}catch(w){if(!(x<2))throw w;i(-1,w)}}else i(-1,"No Transport");return E},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}});oe.each(["get","post"],function(e,t){oe[t]=function(e,n,i,r){if(oe.isFunction(n)){r=r||i;i=n;n=void 0}return oe.ajax(oe.extend({url:e,type:t,dataType:r,data:n,success:i},oe.isPlainObject(e)&&e))}});oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};oe.fn.extend({wrapAll:function(e){var t;if(oe.isFunction(e))return this.each(function(t){oe(this).wrapAll(e.call(this,t))});if(this[0]){t=oe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)}return this},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}});oe.expr.filters.hidden=function(e){return!oe.expr.filters.visible(e)};oe.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var It=/%20/g,At=/\[\]$/,Rt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,i=[],r=function(e,t){t=oe.isFunction(t)?t():null==t?"":t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional);if(oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){r(this.name,this.value)});else for(n in e)W(n,e[n],t,r);return i.join("&").replace(It,"+")};oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Pt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!Pe.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(Rt,"\r\n")}}):{name:t.name,value:n.replace(Rt,"\r\n")}}).get()}});oe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var kt={0:200,1223:204},Mt=oe.ajaxSettings.xhr();ie.cors=!!Mt&&"withCredentials"in Mt;ie.ajax=Mt=!!Mt;oe.ajaxTransport(function(t){var n,i;if(ie.cors||Mt&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();a.open(t.type,t.url,t.async,t.username,t.password);if(t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType);t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(e){return function(){if(n){n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null;"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(kt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders())}}};a.onload=n();i=a.onerror=n("error");void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})};n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}});oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){oe.globalEval(e);return e}}});oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1);e.crossDomain&&(e.type="GET")});oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=oe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove();n=null;e&&r("error"===e.type?404:200,e.type)});$.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Dt=[],jt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||oe.expando+"_"+vt++;this[e]=!0;return e}});oe.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=t.jsonp!==!1&&(jt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&jt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0]){r=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;a?t[a]=t[a].replace(jt,"$1"+r):t.jsonp!==!1&&(t.url+=(yt.test(t.url)?"&":"?")+t.jsonp+"="+r);t.converters["script json"]=function(){s||oe.error(r+" was not called");return s[0]};t.dataTypes[0]="json";o=e[r];e[r]=function(){s=arguments};i.always(function(){void 0===o?oe(e).removeProp(r):e[r]=o;if(t[r]){t.jsonpCallback=n.jsonpCallback;Dt.push(r)}s&&oe.isFunction(o)&&o(s[0]);s=o=void 0});return"script"}});oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;if("boolean"==typeof t){n=t;t=!1}t=t||$;var i=de.exec(e),r=!n&&[];if(i)return[t.createElement(i[1])];i=p([e],t,r);r&&r.length&&oe(r).remove();return oe.merge([],i.childNodes)};var Bt=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&Bt)return Bt.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");if(a>-1){i=oe.trim(e.slice(a));e=e.slice(0,a)}if(oe.isFunction(t)){n=t;t=void 0}else t&&"object"==typeof t&&(r="POST");s.length>0&&oe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments;s.html(i?oe("<div>").append(oe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})});return this};oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}});oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length};oe.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,u,c=oe.css(e,"position"),f=oe(e),p={};"static"===c&&(e.style.position="relative");a=f.offset();o=oe.css(e,"top");l=oe.css(e,"left");u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1;if(u){i=f.position();s=i.top;r=i.left}else{s=parseFloat(o)||0;r=parseFloat(l)||0}oe.isFunction(t)&&(t=t.call(e,n,oe.extend({},a)));null!=t.top&&(p.top=t.top-a.top+s);null!=t.left&&(p.left=t.left-a.left+r);"using"in t?t.using.call(e,p):f.css(p)}};oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o){t=o.documentElement;if(!oe.contains(t,i))return r;r=i.getBoundingClientRect();n=Y(o);return{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}}},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};if("fixed"===oe.css(n,"position"))t=n.getBoundingClientRect();else{e=this.offsetParent();t=this.offset();oe.nodeName(e[0],"html")||(i=e.offset());i.top+=oe.css(e[0],"borderTopWidth",!0);i.left+=oe.css(e[0],"borderLeftWidth",!0)}return{top:t.top-i.top-oe.css(n,"marginTop",!0),left:t.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Qe})}});oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;oe.fn[e]=function(i){return we(this,function(e,i,r){var o=Y(e);if(void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}});oe.each(["top","left"],function(e,t){oe.cssHooks[t]=L(ie.pixelPosition,function(e,n){if(n){n=C(e,t);return $e.test(n)?oe(e).position()[t]+"px":n}})});oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){oe.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return we(this,function(t,n,i){var r;if(oe.isWindow(t))return t.document.documentElement["client"+e];if(9===t.nodeType){r=t.documentElement;return Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])}return void 0===i?oe.css(t,n,s):oe.style(t,n,i,s)},t,o?i:void 0,o,null)}})});oe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}});oe.fn.andSelf=oe.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var qt=e.jQuery,Ut=e.$;oe.noConflict=function(t){e.$===oe&&(e.$=Ut);t&&e.jQuery===oe&&(e.jQuery=qt);return oe};t||(e.jQuery=e.$=oe);return oe})},{}],74:[function(e,t,n){(function(e,i){"object"==typeof n&&"undefined"!=typeof t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.L={})})(this,function(e){"use strict";function t(e){var t,n,i,r;for(n=1,i=arguments.length;n<i;n++){r=arguments[n];for(t in r)e[t]=r[t]}return e}function n(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}function i(e){e._leaflet_id=e._leaflet_id||++gt;return e._leaflet_id}function r(e,t,n){var i,r,o,s;s=function(){i=!1;if(r){o.apply(n,r);r=!1}};o=function(){if(i)r=arguments;else{e.apply(n,arguments);setTimeout(s,t);i=!0}};return o}function o(e,t,n){var i=t[1],r=t[0],o=i-r;return e===i&&n?e:((e-r)%o+o)%o+r}function s(){return!1}function a(e,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function l(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function u(e){return l(e).split(/\s+/)}function c(e,t){e.hasOwnProperty("options")||(e.options=e.options?dt(e.options):{});for(var n in t)e.options[n]=t[n];return e.options}function f(e,t,n){var i=[];for(var r in e)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&t.indexOf("?")!==-1?"&":"?")+i.join("&")}function p(e,t){return e.replace(mt,function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);"function"==typeof i&&(i=i(t));return i})}function h(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function d(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}function g(e){var t=+new Date,n=Math.max(0,16-(t-bt));bt=t+n;return window.setTimeout(e,n)}function m(e,t,i){if(!i||xt!==g)return xt.call(window,n(e,t));e.call(t)}function v(e){e&&_t.call(window,e)}function y(){}function b(e){if("undefined"!=typeof L&&L&&L.Mixin){e=vt(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function x(e,t,n){this.x=n?Math.round(e):e;this.y=n?Math.round(t):t}function _(e,t,n){return e instanceof x?e:vt(e)?new x(e[0],e[1]):void 0===e||null===e?e:"object"==typeof e&&"x"in e&&"y"in e?new x(e.x,e.y):new x(e,t,n)}function E(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function w(e,t){return!e||e instanceof E?e:new E(e,t)}function T(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function S(e,t){return e instanceof T?e:new T(e,t)}function C(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e;this.lng=+t;void 0!==n&&(this.alt=+n)}function N(e,t,n){return e instanceof C?e:vt(e)&&"object"!=typeof e[0]?3===e.length?new C(e[0],e[1],e[2]):2===e.length?new C(e[0],e[1]):null:void 0===e||null===e?e:"object"==typeof e&&"lat"in e?new C(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new C(e,t,n)}function I(e,t,n,i){if(vt(e)){this._a=e[0];this._b=e[1];this._c=e[2];this._d=e[3]}else{this._a=e;this._b=t;this._c=n;this._d=i}}function A(e,t,n,i){return new I(e,t,n,i)}function R(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function O(e,t){var n,i,r,o,s,a,l="";for(n=0,r=e.length;n<r;n++){s=e[n];for(i=0,o=s.length;i<o;i++){a=s[i];l+=(i?"L":"M")+a.x+" "+a.y}l+=t?pn?"z":"x":""}return l||"M0 0"}function P(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}function k(e,t,n,i){"touchstart"===t?D(e,n,i):"touchmove"===t?F(e,n,i):"touchend"===t&&G(e,n,i);return this}function M(e,t,n){var i=e["_leaflet_"+t+n];if("touchstart"===t)e.removeEventListener(gn,i,!1);else if("touchmove"===t)e.removeEventListener(mn,i,!1);else if("touchend"===t){e.removeEventListener(vn,i,!1);e.removeEventListener(yn,i,!1)}return this}function D(e,t,i){var r=n(function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(bn.indexOf(e.target.tagName)<0))return;Q(e)}U(e,t)});e["_leaflet_touchstart"+i]=r;e.addEventListener(gn,r,!1);if(!_n){document.documentElement.addEventListener(gn,j,!0);document.documentElement.addEventListener(mn,B,!0);document.documentElement.addEventListener(vn,q,!0);document.documentElement.addEventListener(yn,q,!0);_n=!0}}function j(e){xn[e.pointerId]=e;En++}function B(e){xn[e.pointerId]&&(xn[e.pointerId]=e)}function q(e){delete xn[e.pointerId];En--}function U(e,t){e.touches=[];for(var n in xn)e.touches.push(xn[n]);e.changedTouches=[e];t(e)}function F(e,t,n){var i=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&U(e,t)};e["_leaflet_touchmove"+n]=i;e.addEventListener(mn,i,!1)}function G(e,t,n){var i=function(e){U(e,t)};e["_leaflet_touchend"+n]=i;e.addEventListener(vn,i,!1);e.addEventListener(yn,i,!1)}function z(e,t,n){function i(e){var t;if(sn){if(!Bt||"mouse"===e.pointerType)return;t=En}else t=e.touches.length;if(!(t>1)){var n=Date.now(),i=n-(o||n);s=e.touches?e.touches[0]:e;a=i>0&&i<=l;o=n}}function r(e){if(a&&!s.cancelBubble){if(sn){if(!Bt||"mouse"===e.pointerType)return;var n,i,r={};for(i in s){n=s[i];r[i]=n&&n.bind?n.bind(s):n}s=r}s.type="dblclick";t(s);o=null}}var o,s,a=!1,l=250;e[Sn+wn+n]=i;e[Sn+Tn+n]=r;e[Sn+"dblclick"+n]=t;e.addEventListener(wn,i,!1);e.addEventListener(Tn,r,!1);e.addEventListener("dblclick",t,!1);return this}function H(e,t){var n=e[Sn+wn+t],i=e[Sn+Tn+t],r=e[Sn+"dblclick"+t];e.removeEventListener(wn,n,!1);e.removeEventListener(Tn,i,!1);Bt||e.removeEventListener("dblclick",r,!1);return this}function V(e,t,n,i){if("object"==typeof t)for(var r in t)Y(e,r,t[r],n);else{t=u(t);for(var o=0,s=t.length;o<s;o++)Y(e,t[o],n,i)}return this}function W(e,t,n,i){if("object"==typeof t)for(var r in t)Z(e,r,t[r],n);else if(t){t=u(t);for(var o=0,s=t.length;o<s;o++)Z(e,t[o],n,i)}else{for(var a in e[Cn])Z(e,a,e[Cn][a]);delete e[Cn]}return this}function Y(e,t,n,r){var o=t+i(n)+(r?"_"+i(r):"");if(e[Cn]&&e[Cn][o])return this;var s=function(t){return n.call(r||e,t||window.event)},a=s;if(sn&&0===t.indexOf("touch"))k(e,t,s,o);else if(!an||"dblclick"!==t||!z||sn&&Vt)if("addEventListener"in e)if("mousewheel"===t)e.addEventListener("onwheel"in e?"wheel":"mousewheel",s,!1);else if("mouseenter"===t||"mouseleave"===t){s=function(t){t=t||window.event;re(e,t)&&a(t)};e.addEventListener("mouseenter"===t?"mouseover":"mouseout",s,!1)}else{"click"===t&&Ut&&(s=function(e){oe(e,a)});e.addEventListener(t,s,!1)}else"attachEvent"in e&&e.attachEvent("on"+t,s);else z(e,s,o);e[Cn]=e[Cn]||{};e[Cn][o]=s}function Z(e,t,n,r){var o=t+i(n)+(r?"_"+i(r):""),s=e[Cn]&&e[Cn][o];if(!s)return this;sn&&0===t.indexOf("touch")?M(e,t,o):!an||"dblclick"!==t||!H||sn&&Vt?"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",s,!1):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,s,!1):"detachEvent"in e&&e.detachEvent("on"+t,s):H(e,o);e[Cn][o]=null}function $(e){e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0;ie(e);return this}function K(e){Y(e,"mousewheel",$);return this}function X(e){V(e,"mousedown touchstart dblclick",$);Y(e,"click",ne);return this}function Q(e){e.preventDefault?e.preventDefault():e.returnValue=!1;return this}function J(e){Q(e);$(e);return this}function ee(e,t){if(!t)return new x(e.clientX,e.clientY);var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth||1,r=n.height/t.offsetHeight||1;return new x(e.clientX/i-n.left-t.clientLeft,e.clientY/r-n.top-t.clientTop)}function te(e){return Bt?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Ln:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function ne(e){Nn[e.type]=!0}function ie(e){var t=Nn[e.type];Nn[e.type]=!1;return t}function re(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(i){return!1}return n!==e}function oe(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,i=It&&n-It;if(i&&i>100&&i<500||e.target._simulatedClick&&!e._simulated)J(e);else{It=n;t(e)}}function se(e){return"string"==typeof e?document.getElementById(e):e}function ae(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function le(e,t,n){var i=document.createElement(e);i.className=t||"";n&&n.appendChild(i);return i}function ue(e){var t=e.parentNode;t&&t.removeChild(e)}function ce(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function fe(e){var t=e.parentNode;t.lastChild!==e&&t.appendChild(e)}function pe(e){var t=e.parentNode;t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function he(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=ve(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function de(e,t){if(void 0!==e.classList)for(var n=u(t),i=0,r=n.length;i<r;i++)e.classList.add(n[i]);else if(!he(e,t)){var o=ve(e);me(e,(o?o+" ":"")+t)}}function ge(e,t){void 0!==e.classList?e.classList.remove(t):me(e,l((" "+ve(e)+" ").replace(" "+t+" "," ")))}function me(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function ve(e){return void 0===e.className.baseVal?e.className:e.className.baseVal}function ye(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&be(e,t)}function be(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(r){if(1===t)return}t=Math.round(100*t);if(n){n.Enabled=100!==t;n.Opacity=t}else e.style.filter+=" progid:"+i+"(opacity="+t+")"}function xe(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function _e(e,t,n){var i=t||new x(0,0);e.style[An]=(Xt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Ee(e,t){e._leaflet_pos=t;if(en)_e(e,t);else{e.style.left=t.x+"px";e.style.top=t.y+"px"}}function we(e){return e._leaflet_pos||new x(0,0)}function Te(){V(window,"dragstart",Q)}function Se(){W(window,"dragstart",Q)}function Ce(e){for(;e.tabIndex===-1;)e=e.parentNode;if(e.style){Le();kn=e;Mn=e.style.outline;e.style.outline="none";V(window,"keydown",Le)}}function Le(){if(kn){kn.style.outline=Mn;kn=void 0;Mn=void 0;W(window,"keydown",Le)}}function Ne(e,t){return new Bn(e,t)}function Ie(e,t){if(!t||!e.length)return e.slice();var n=t*t;e=ke(e,n);e=Oe(e,n);return e}function Ae(e,t,n){return Math.sqrt(qe(e,t,n,!0))}function Re(e,t,n){return qe(e,t,n)}function Oe(e,t){var n=e.length,i=typeof Uint8Array!=void 0+""?Uint8Array:Array,r=new i(n);r[0]=r[n-1]=1;Pe(e,r,t,0,n-1);var o,s=[];for(o=0;o<n;o++)r[o]&&s.push(e[o]);return s}function Pe(e,t,n,i,r){var o,s,a,l=0;for(s=i+1;s<=r-1;s++){a=qe(e[s],e[i],e[r],!0);if(a>l){o=s;l=a}}if(l>n){t[o]=1;Pe(e,t,n,i,o);Pe(e,t,n,o,r)}}function ke(e,t){for(var n=[e[0]],i=1,r=0,o=e.length;i<o;i++)if(Be(e[i],e[r])>t){n.push(e[i]);r=i}r<o-1&&n.push(e[o-1]);return n}function Me(e,t,n,i,r){var o,s,a,l=i?Kn:je(e,n),u=je(t,n);Kn=u;for(;;){if(!(l|u))return[e,t];if(l&u)return!1;o=l||u;s=De(e,t,o,n,r);a=je(s,n);if(o===l){e=s;l=a}else{t=s;u=a}}}function De(e,t,n,i,r){var o,s,a=t.x-e.x,l=t.y-e.y,u=i.min,c=i.max;if(8&n){o=e.x+a*(c.y-e.y)/l;s=c.y}else if(4&n){o=e.x+a*(u.y-e.y)/l;s=u.y}else if(2&n){o=c.x;s=e.y+l*(c.x-e.x)/a}else if(1&n){o=u.x;s=e.y+l*(u.x-e.x)/a}return new x(o,s,r)}function je(e,t){var n=0;e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2);e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8);
return n}function Be(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function qe(e,t,n,i){var r,o=t.x,s=t.y,a=n.x-o,l=n.y-s,u=a*a+l*l;if(u>0){r=((e.x-o)*a+(e.y-s)*l)/u;if(r>1){o=n.x;s=n.y}else if(r>0){o+=a*r;s+=l*r}}a=e.x-o;l=e.y-s;return i?a*a+l*l:new x(o,s)}function Ue(e){return!vt(e[0])||"object"!=typeof e[0][0]&&"undefined"!=typeof e[0][0]}function Fe(e){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return Ue(e)}function Ge(e,t,n){var i,r,o,s,a,l,u,c,f,p=[1,4,2,8];for(r=0,u=e.length;r<u;r++)e[r]._code=je(e[r],t);for(s=0;s<4;s++){c=p[s];i=[];for(r=0,u=e.length,o=u-1;r<u;o=r++){a=e[r];l=e[o];if(a._code&c){if(!(l._code&c)){f=De(l,a,c,t,n);f._code=je(f,t);i.push(f)}}else{if(l._code&c){f=De(l,a,c,t,n);f._code=je(f,t);i.push(f)}i.push(a)}}e=i}return e}function ze(e){return new gi(e)}function He(e,t){return new yi(e,t)}function Ve(e,t){return new xi(e,t)}function We(e,t,n){return new _i(e,t,n)}function Ye(e,t){return new Ei(e,t)}function Ze(e,t){return new wi(e,t)}function $e(e,t){var n,i,r,o,s="Feature"===e.type?e.geometry:e,a=s?s.coordinates:null,l=[],u=t&&t.pointToLayer,c=t&&t.coordsToLatLng||Ke;if(!a&&!s)return null;switch(s.type){case"Point":n=c(a);return u?u(e,n):new yi(n);case"MultiPoint":for(r=0,o=a.length;r<o;r++){n=c(a[r]);l.push(u?u(e,n):new yi(n))}return new hi(l);case"LineString":case"MultiLineString":i=Xe(a,"LineString"===s.type?0:1,c);return new Ei(i,t);case"Polygon":case"MultiPolygon":i=Xe(a,"Polygon"===s.type?1:2,c);return new wi(i,t);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var f=$e({geometry:s.geometries[r],type:"Feature",properties:e.properties},t);f&&l.push(f)}return new hi(l);default:throw new Error("Invalid GeoJSON object.")}}function Ke(e){return new C(e[1],e[0],e[2])}function Xe(e,t,n){for(var i,r=[],o=0,s=e.length;o<s;o++){i=t?Xe(e[o],t-1,n):(n||Ke)(e[o]);r.push(i)}return r}function Qe(e,t){t="number"==typeof t?t:6;return void 0!==e.alt?[a(e.lng,t),a(e.lat,t),a(e.alt,t)]:[a(e.lng,t),a(e.lat,t)]}function Je(e,t,n,i){for(var r=[],o=0,s=e.length;o<s;o++)r.push(t?Je(e[o],t-1,n,i):Qe(e[o],i));!t&&n&&r.push(r[0]);return r}function et(e,n){return e.feature?t({},e.feature,{geometry:n}):tt(n)}function tt(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}function nt(e,t){return new Ti(e,t)}function it(e,t,n){return new Ii(e,t,n)}function rt(e){return new Mi(e)}function ot(e){return new Di(e)}function st(e,t){return new ji(e,t)}function at(e,t){return new Bi(e,t)}function lt(e){return fn?new Ui(e):null}function ut(e){return pn||hn?new Hi(e):null}function ct(e,t){return new Vi(e,t)}function ft(){window.L=Ji;return this}var pt="1.3.1",ht=Object.freeze;Object.freeze=function(e){return e};var dt=Object.create||function(){function e(){}return function(t){e.prototype=t;return new e}}(),gt=0,mt=/\{ *([\w_-]+) *\}/g,vt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},yt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",bt=0,xt=window.requestAnimationFrame||d("RequestAnimationFrame")||g,_t=window.cancelAnimationFrame||d("CancelAnimationFrame")||d("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)},Et=(Object.freeze||Object)({freeze:ht,extend:t,create:dt,bind:n,lastId:gt,stamp:i,throttle:r,wrapNum:o,falseFn:s,formatNum:a,trim:l,splitWords:u,setOptions:c,getParamString:f,template:p,isArray:vt,indexOf:h,emptyImageUrl:yt,requestFn:xt,cancelFn:_t,requestAnimFrame:m,cancelAnimFrame:v});y.extend=function(e){var n=function(){this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()},i=n.__super__=this.prototype,r=dt(i);r.constructor=n;n.prototype=r;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(n[o]=this[o]);if(e.statics){t(n,e.statics);delete e.statics}if(e.includes){b(e.includes);t.apply(null,[r].concat(e.includes));delete e.includes}r.options&&(e.options=t(dt(r.options),e.options));t(r,e);r._initHooks=[];r.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this);this._initHooksCalled=!0;for(var e=0,t=r._initHooks.length;e<t;e++)r._initHooks[e].call(this)}};return n};y.include=function(e){t(this.prototype,e);return this};y.mergeOptions=function(e){t(this.prototype.options,e);return this};y.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(n);return this};var wt={on:function(e,t,n){if("object"==typeof e)for(var i in e)this._on(i,e[i],t);else{e=u(e);for(var r=0,o=e.length;r<o;r++)this._on(e[r],t,n)}return this},off:function(e,t,n){if(e)if("object"==typeof e)for(var i in e)this._off(i,e[i],t);else{e=u(e);for(var r=0,o=e.length;r<o;r++)this._off(e[r],t,n)}else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var i=this._events[e];if(!i){i=[];this._events[e]=i}n===this&&(n=void 0);for(var r={fn:t,ctx:n},o=i,s=0,a=o.length;s<a;s++)if(o[s].fn===t&&o[s].ctx===n)return;o.push(r)},_off:function(e,t,n){var i,r,o;if(this._events){i=this._events[e];if(i)if(t){n===this&&(n=void 0);if(i)for(r=0,o=i.length;r<o;r++){var a=i[r];if(a.ctx===n&&a.fn===t){a.fn=s;this._firingCount&&(this._events[e]=i=i.slice());i.splice(r,1);return}}}else{for(r=0,o=i.length;r<o;r++)i[r].fn=s;delete this._events[e]}}},fire:function(e,n,i){if(!this.listens(e,i))return this;var r=t({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var l=o[s];l.fn.call(l.ctx||this,r)}this._firingCount--}}i&&this._propagateEvent(r);return this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var i in this._eventParents)if(this._eventParents[i].listens(e,t))return!0;return!1},once:function(e,t,i){if("object"==typeof e){for(var r in e)this.once(r,e[r],t);return this}var o=n(function(){this.off(e,t,i).off(e,o,i)},this);return this.on(e,t,i).on(e,o,i)},addEventParent:function(e){this._eventParents=this._eventParents||{};this._eventParents[i(e)]=e;return this},removeEventParent:function(e){this._eventParents&&delete this._eventParents[i(e)];return this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};wt.addEventListener=wt.on;wt.removeEventListener=wt.clearAllEventListeners=wt.off;wt.addOneTimeEventListener=wt.once;wt.fireEvent=wt.fire;wt.hasEventListeners=wt.listens;var Tt=y.extend(wt),St=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};x.prototype={clone:function(){return new x(this.x,this.y)},add:function(e){return this.clone()._add(_(e))},_add:function(e){this.x+=e.x;this.y+=e.y;return this},subtract:function(e){return this.clone()._subtract(_(e))},_subtract:function(e){this.x-=e.x;this.y-=e.y;return this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){this.x/=e;this.y/=e;return this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){this.x*=e;this.y*=e;return this},scaleBy:function(e){return new x(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new x(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=St(this.x);this.y=St(this.y);return this},distanceTo:function(e){e=_(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){e=_(e);return e.x===this.x&&e.y===this.y},contains:function(e){e=_(e);return Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+a(this.x)+", "+a(this.y)+")"}};E.prototype={extend:function(e){e=_(e);if(this.min||this.max){this.min.x=Math.min(e.x,this.min.x);this.max.x=Math.max(e.x,this.max.x);this.min.y=Math.min(e.y,this.min.y);this.max.y=Math.max(e.y,this.max.y)}else{this.min=e.clone();this.max=e.clone()}return this},getCenter:function(e){return new x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new x(this.min.x,this.max.y)},getTopRight:function(){return new x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;e="number"==typeof e[0]||e instanceof x?_(e):w(e);if(e instanceof E){t=e.min;n=e.max}else t=n=e;return t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=w(e);var t=this.min,n=this.max,i=e.min,r=e.max,o=r.x>=t.x&&i.x<=n.x,s=r.y>=t.y&&i.y<=n.y;return o&&s},overlaps:function(e){e=w(e);var t=this.min,n=this.max,i=e.min,r=e.max,o=r.x>t.x&&i.x<n.x,s=r.y>t.y&&i.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}};T.prototype={extend:function(e){var t,n,i=this._southWest,r=this._northEast;if(e instanceof C){t=e;n=e}else{if(!(e instanceof T))return e?this.extend(N(e)||S(e)):this;t=e._southWest;n=e._northEast;if(!t||!n)return this}if(i||r){i.lat=Math.min(t.lat,i.lat);i.lng=Math.min(t.lng,i.lng);r.lat=Math.max(n.lat,r.lat);r.lng=Math.max(n.lng,r.lng)}else{this._southWest=new C(t.lat,t.lng);this._northEast=new C(n.lat,n.lng)}return this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,r=Math.abs(t.lng-n.lng)*e;return new T(new C(t.lat-i,t.lng-r),new C(n.lat+i,n.lng+r))},getCenter:function(){return new C((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new C(this.getNorth(),this.getWest())},getSouthEast:function(){return new C(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof C||"lat"in e?N(e):S(e);var t,n,i=this._southWest,r=this._northEast;if(e instanceof T){t=e.getSouthWest();n=e.getNorthEast()}else t=n=e;return t.lat>=i.lat&&n.lat<=r.lat&&t.lng>=i.lng&&n.lng<=r.lng},intersects:function(e){e=S(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>=t.lat&&i.lat<=n.lat,s=r.lng>=t.lng&&i.lng<=n.lng;return o&&s},overlaps:function(e){e=S(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>t.lat&&i.lat<n.lat,s=r.lng>t.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){if(!e)return!1;e=S(e);return this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)},isValid:function(){return!(!this._southWest||!this._northEast)}};C.prototype={equals:function(e,t){if(!e)return!1;e=N(e);var n=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return n<=(void 0===t?1e-9:t)},toString:function(e){return"LatLng("+a(this.lat,e)+", "+a(this.lng,e)+")"},distanceTo:function(e){return Lt.distance(this,N(e))},wrap:function(){return Lt.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return S([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new C(this.lat,this.lng,this.alt)}};var Ct={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e),i=this.transformation.transform(t.min,n),r=this.transformation.transform(t.max,n);return new E(i,r)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?o(e.lng,this.wrapLng,!0):e.lng,n=this.wrapLat?o(e.lat,this.wrapLat,!0):e.lat,i=e.alt;return new C(n,t,i)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,r=t.lng-n.lng;if(0===i&&0===r)return e;var o=e.getSouthWest(),s=e.getNorthEast(),a=new C(o.lat-i,o.lng-r),l=new C(s.lat-i,s.lng-r);return new T(a,l)}},Lt=t({},Ct,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,r=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),s=Math.sin((t.lng-e.lng)*n/2),a=o*o+Math.cos(i)*Math.cos(r)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),Nt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),r=Math.sin(i*t);return new x(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new C((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=6378137*Math.PI;return new E([-e,-e],[e,e])}()};I.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){t=t||1;e.x=t*(this._a*e.x+this._b);e.y=t*(this._c*e.y+this._d);return e},untransform:function(e,t){t=t||1;return new x((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var It,At,Rt,Ot,Pt=t({},Lt,{code:"EPSG:3857",projection:Nt,transformation:function(){var e=.5/(Math.PI*Nt.R);return A(e,.5,-e,.5)}()}),kt=t({},Pt,{code:"EPSG:900913"}),Mt=document.documentElement.style,Dt="ActiveXObject"in window,jt=Dt&&!document.addEventListener,Bt="msLaunchUri"in navigator&&!("documentMode"in document),qt=P("webkit"),Ut=P("android"),Ft=P("android 2")||P("android 3"),Gt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),zt=Ut&&P("Google")&&Gt<537&&!("AudioNode"in window),Ht=!!window.opera,Vt=P("chrome"),Wt=P("gecko")&&!qt&&!Ht&&!Dt,Yt=!Vt&&P("safari"),Zt=P("phantom"),$t="OTransition"in Mt,Kt=0===navigator.platform.indexOf("Win"),Xt=Dt&&"transition"in Mt,Qt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ft,Jt="MozPerspective"in Mt,en=!window.L_DISABLE_3D&&(Xt||Qt||Jt)&&!$t&&!Zt,tn="undefined"!=typeof orientation||P("mobile"),nn=tn&&qt,rn=tn&&Qt,on=!window.PointerEvent&&window.MSPointerEvent,sn=!(!window.PointerEvent&&!on),an=!window.L_NO_TOUCH&&(sn||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),ln=tn&&Ht,un=tn&&Wt,cn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,fn=function(){return!!document.createElement("canvas").getContext}(),pn=!(!document.createElementNS||!R("svg").createSVGRect),hn=!pn&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;t.style.behavior="url(#default#VML)";return t&&"object"==typeof t.adj}catch(n){return!1}}(),dn=(Object.freeze||Object)({ie:Dt,ielt9:jt,edge:Bt,webkit:qt,android:Ut,android23:Ft,androidStock:zt,opera:Ht,chrome:Vt,gecko:Wt,safari:Yt,phantom:Zt,opera12:$t,win:Kt,ie3d:Xt,webkit3d:Qt,gecko3d:Jt,any3d:en,mobile:tn,mobileWebkit:nn,mobileWebkit3d:rn,msPointer:on,pointer:sn,touch:an,mobileOpera:ln,mobileGecko:un,retina:cn,canvas:fn,svg:pn,vml:hn}),gn=on?"MSPointerDown":"pointerdown",mn=on?"MSPointerMove":"pointermove",vn=on?"MSPointerUp":"pointerup",yn=on?"MSPointerCancel":"pointercancel",bn=["INPUT","SELECT","OPTION"],xn={},_n=!1,En=0,wn=on?"MSPointerDown":sn?"pointerdown":"touchstart",Tn=on?"MSPointerUp":sn?"pointerup":"touchend",Sn="_leaflet_",Cn="_leaflet_events",Ln=Kt&&Vt?2*window.devicePixelRatio:Wt?window.devicePixelRatio:1,Nn={},In=(Object.freeze||Object)({on:V,off:W,stopPropagation:$,disableScrollPropagation:K,disableClickPropagation:X,preventDefault:Q,stop:J,getMousePosition:ee,getWheelDelta:te,fakeStop:ne,skipped:ie,isExternalTarget:re,addListener:V,removeListener:W}),An=xe(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),Rn=xe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),On="webkitTransition"===Rn||"OTransition"===Rn?Rn+"End":"transitionend";if("onselectstart"in document){At=function(){V(window,"selectstart",Q)};Rt=function(){W(window,"selectstart",Q)}}else{var Pn=xe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);At=function(){if(Pn){var e=document.documentElement.style;Ot=e[Pn];e[Pn]="none"}};Rt=function(){if(Pn){document.documentElement.style[Pn]=Ot;Ot=void 0}}}var kn,Mn,Dn=(Object.freeze||Object)({TRANSFORM:An,TRANSITION:Rn,TRANSITION_END:On,get:se,getStyle:ae,create:le,remove:ue,empty:ce,toFront:fe,toBack:pe,hasClass:he,addClass:de,removeClass:ge,setClass:me,getClass:ve,setOpacity:ye,testProp:xe,setTransform:_e,setPosition:Ee,getPosition:we,disableTextSelection:At,enableTextSelection:Rt,disableImageDrag:Te,enableImageDrag:Se,preventOutline:Ce,restoreOutline:Le}),jn=Tt.extend({run:function(e,t,n,i){this.stop();this._el=e;this._inProgress=!0;this._duration=n||.25;this._easeOutPower=1/Math.max(i||.5,.2);this._startPos=we(e);this._offset=t.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){if(this._inProgress){this._step(!0);this._complete()}},_animate:function(){this._animId=m(this._animate,this);this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;if(t<n)this._runFrame(this._easeOut(t/n),e);else{this._runFrame(1);this._complete()}},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round();Ee(this._el,n);this.fire("step")},_complete:function(){v(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Bn=Tt.extend({options:{crs:Pt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=c(this,t);this._initContainer(e);this._initLayout();this._onResize=n(this._onResize,this);this._initEvents();t.maxBounds&&this.setMaxBounds(t.maxBounds);void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom));t.center&&void 0!==t.zoom&&this.setView(N(t.center),t.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this.callInitHooks();this._zoomAnimated=Rn&&en&&!ln&&this.options.zoomAnimation;if(this._zoomAnimated){this._createAnimProxy();V(this._proxy,On,this._catchTransitionEnd,this)}this._addLayers(this.options.layers)},setView:function(e,n,i){n=void 0===n?this._zoom:this._limitZoom(n);e=this._limitCenter(N(e),n,this.options.maxBounds);i=i||{};this._stop();if(this._loaded&&!i.reset&&i!==!0){if(void 0!==i.animate){i.zoom=t({animate:i.animate},i.zoom);i.pan=t({animate:i.animate,duration:i.duration},i.pan)}var r=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,i.zoom):this._tryAnimatedPan(e,i.pan);if(r){clearTimeout(this._sizeTimer);return this}}this._resetView(e,n);return this},setZoom:function(e,t){if(!this._loaded){this._zoom=e;return this}return this.setView(this.getCenter(),e,{zoom:t})},zoomIn:function(e,t){e=e||(en?this.options.zoomDelta:1);return this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){e=e||(en?this.options.zoomDelta:1);return this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),r=this.getSize().divideBy(2),o=e instanceof x?e:this.latLngToContainerPoint(e),s=o.subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(s));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{};e=e.getBounds?e.getBounds():S(e);var n=_(t.paddingTopLeft||t.padding||[0,0]),i=_(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,n.add(i));r="number"==typeof t.maxZoom?Math.min(t.maxZoom,r):r;if(r===1/0)return{center:e.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(e.getSouthWest(),r),a=this.project(e.getNorthEast(),r),l=this.unproject(s.add(a).divideBy(2).add(o),r);return{center:l,zoom:r}},fitBounds:function(e,t){e=S(e);if(!e.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){e=_(e).round();t=t||{};if(!e.x&&!e.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(e)){this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom());return this}if(!this._panAnim){this._panAnim=new jn;this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}t.noMoveStart||this.fire("movestart");if(t.animate!==!1){de(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else{this._rawPanBy(e);this.fire("move").fire("moveend")}return this},flyTo:function(e,t,n){function i(e){var t=e?-1:1,n=e?v:g,i=v*v-g*g+t*x*x*y*y,r=2*n*x*y,o=i/r,s=Math.sqrt(o*o+1)-o,a=s<1e-9?-18:Math.log(s);return a}function r(e){return(Math.exp(e)-Math.exp(-e))/2}function o(e){return(Math.exp(e)+Math.exp(-e))/2}function s(e){return r(e)/o(e)}function a(e){return g*(o(_)/o(_+b*e))}function l(e){return g*(o(_)*s(_+b*e)-r(_))/x}function u(e){return 1-Math.pow(1-e,1.5)}function c(){var n=(Date.now()-E)/T,i=u(n)*w;if(n<=1){this._flyToFrame=m(c,this);this._move(this.unproject(f.add(p.subtract(f).multiplyBy(l(i)/y)),d),this.getScaleZoom(g/a(i),d),{flyTo:!0})}else this._move(e,t)._moveEnd(!0)}n=n||{};if(n.animate===!1||!en)return this.setView(e,t,n);this._stop();var f=this.project(this.getCenter()),p=this.project(e),h=this.getSize(),d=this._zoom;e=N(e);t=void 0===t?d:t;var g=Math.max(h.x,h.y),v=g*this.getZoomScale(d,t),y=p.distanceTo(f)||1,b=1.42,x=b*b,_=i(0),E=Date.now(),w=(i(1)-_)/b,T=n.duration?1e3*n.duration:1e3*w*.8;this._moveStart(!0,n.noMoveStart);c.call(this);return this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){e=S(e);if(!e.isValid()){this.options.maxBounds=null;return this.off("moveend",this._panInsideMaxBounds)}this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);this.options.maxBounds=e;this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(e){var t=this.options.minZoom;this.options.minZoom=e;if(this._loaded&&t!==e){this.fire("zoomlevelschange");if(this.getZoom()<this.options.minZoom)return this.setZoom(e)}return this},setMaxZoom:function(e){var t=this.options.maxZoom;this.options.maxZoom=e;if(this._loaded&&t!==e){this.fire("zoomlevelschange");if(this.getZoom()>this.options.maxZoom)return this.setZoom(e)}return this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,S(e));n.equals(i)||this.panTo(i,t);this._enforcingBounds=!1;return this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},e===!0?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0;this._lastCenter=null;var r=this.getSize(),o=i.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);if(!a.x&&!a.y)return this;if(e.animate&&e.pan)this.panBy(a);else{e.pan&&this._rawPanBy(a);this.fire("move");if(e.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)}else this.fire("moveend")}return this.fire("resize",{oldSize:i,newSize:r})},stop:function(){this.setZoom(this._limitZoom(this._zoom));this.options.zoomSnap||this.fire("viewreset");return this._stop()},locate:function(e){e=this._locateOptions=t({timeout:1e4,watch:!1},e);if(!("geolocation"in navigator)){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var i=n(this._handleGeolocationResponse,this),r=n(this._handleGeolocationError,this);e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,e):navigator.geolocation.getCurrentPosition(i,r,e);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=e.coords.latitude,n=e.coords.longitude,i=new C(t,n),r=i.toBounds(e.coords.accuracy),o=this._locateOptions;if(o.setView){var s=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(s,o.maxZoom):s)}var a={latlng:i,bounds:r,timestamp:e.timestamp};for(var l in e.coords)"number"==typeof e.coords[l]&&(a[l]=e.coords[l]);this.fire("locationfound",a)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);this._handlers.push(n);this.options[e]&&n.enable();return this},remove:function(){this._initEvents(!0);if(this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id;delete this._containerId}catch(e){this._container._leaflet_id=void 0;this._containerId=void 0}void 0!==this._locationWatchId&&this.stopLocate();this._stop();ue(this._mapPane);this._clearControlPos&&this._clearControlPos();this._clearHandlers();this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ue(this._panes[t]);this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(e,t){var n="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),i=le("div",n,t||this._mapPane);e&&(this._panes[e]=i);return i},getCenter:function(){this._checkIfLoaded();return this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),n=this.unproject(e.getTopRight());return new T(t,n)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=S(e);n=_(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(n),u=w(this.project(a,i),this.project(s,i)).getSize(),c=en?this.options.zoomSnap:1,f=l.x/u.x,p=l.y/u.y,h=t?Math.max(f,p):Math.min(f,p);i=this.getScaleZoom(h,i);if(c){i=Math.round(i/(c/100))*(c/100);i=t?Math.ceil(i/c)*c:Math.floor(i/c)*c}return Math.max(r,Math.min(o,i))},getSize:function(){if(!this._size||this._sizeChanged){this._size=new x(this._container.clientWidth||0,this._container.clientHeight||0);this._sizeChanged=!1}return this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new E(n,n.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;return n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){t=void 0===t?this._zoom:t;return this.options.crs.latLngToPoint(N(e),t)},unproject:function(e,t){t=void 0===t?this._zoom:t;return this.options.crs.pointToLatLng(_(e),t)},layerPointToLatLng:function(e){var t=_(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(N(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(N(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(S(e))},distance:function(e,t){return this.options.crs.distance(N(e),N(t))},containerPointToLayerPoint:function(e){return _(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return _(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(_(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(N(e)))},mouseEventToContainerPoint:function(e){return ee(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=se(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");V(t,"scroll",this._onScroll,this);this._containerId=i(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&en;de(e,"leaflet-container"+(an?" leaflet-touch":"")+(cn?" leaflet-retina":"")+(jt?" leaflet-oldie":"")+(Yt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ae(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);Ee(this._mapPane,new x(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");if(!this.options.markerZoomAnimation){de(e.markerPane,"leaflet-zoom-hide");de(e.shadowPane,"leaflet-zoom-hide")}},_resetView:function(e,t){Ee(this._mapPane,new x(0,0));var n=!this._loaded;this._loaded=!0;t=this._limitZoom(t);this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,!1)._move(e,t)._moveEnd(i);this.fire("viewreset");n&&this.fire("load")},_moveStart:function(e,t){e&&this.fire("zoomstart");t||this.fire("movestart");return this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var i=this._zoom!==t;this._zoom=t;this._lastCenter=e;this._pixelOrigin=this._getNewPixelOrigin(e);(i||n&&n.pinch)&&this.fire("zoom",n);return this.fire("move",n)},_moveEnd:function(e){e&&this.fire("zoomend");return this.fire("moveend")},_stop:function(){v(this._flyToFrame);this._panAnim&&this._panAnim.stop();return this},_rawPanBy:function(e){Ee(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={};this._targets[i(this._container)]=this;var t=e?W:V;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this);this.options.trackResize&&t(window,"resize",this._onResize,this);en&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd);
},_onResize:function(){v(this._resizeRequest);this._resizeRequest=m(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],o="mouseout"===t||"mouseover"===t,s=e.target||e.srcElement,a=!1;s;){n=this._targets[i(s)];if(n&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(t,!0)){if(o&&!re(s,e))break;r.push(n);if(o)break}if(s===this._container)break;s=s.parentNode}r.length||a||o||!re(s,e)||(r=[this]);return r},_handleDOMEvent:function(e){if(this._loaded&&!ie(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t||Ce(e.target||e.srcElement);this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,i){if("click"===e.type){var r=t({},e);r.type="preclick";this._fireDOMEvent(r,r.type,i)}if(!e._stopped){i=(i||[]).concat(this._findEventTargets(e,n));if(i.length){var o=i[0];"contextmenu"===n&&o.listens(n,!0)&&Q(e);var s={originalEvent:e};if("keypress"!==e.type){var a=o.getLatLng&&(!o._radius||o._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(e);s.layerPoint=this.containerPointToLayerPoint(s.containerPoint);s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var l=0;l<i.length;l++){i[l].fire(n,s,!0);if(s.originalEvent._stopped||i[l].options.bubblingMouseEvents===!1&&h(this._mouseEvents,n)!==-1)return}}}},_draggableMoved:function(e){e=e.dragging&&e.dragging.enabled()?e:this;return e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){this._loaded?e.call(t||this,{target:this}):this.on("load",e,t);return this},_getMapPanePos:function(){return we(this._mapPane)||new x(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var n=e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return w([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),r=this.getSize().divideBy(2),o=new E(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,t);return s.round().equals([0,0])?e:this.unproject(i.add(s),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new E(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=w(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),r=i.min.subtract(e.min),o=i.max.subtract(e.max),s=this._rebound(r.x,-o.x),a=this._rebound(r.y,-o.y);return new x(s,a)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=en?this.options.zoomSnap:1;i&&(e=Math.round(e/i)*i);return Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();if((t&&t.animate)!==!0&&!this.getSize().contains(n))return!1;this.panBy(n,t);return!0},_createAnimProxy:function(){var e=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e);this.on("zoomanim",function(e){var t=An,n=this._proxy.style[t];_e(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1));n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",function(){var e=this.getCenter(),t=this.getZoom();_e(this._proxy,this.project(e,t),this.getZoomScale(t,1))},this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ue(this._proxy);delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;n=n||{};if(!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/i);if(n.animate!==!0&&!this.getSize().contains(r))return!1;m(function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)},this);return!0},_animateZoom:function(e,t,i,r){if(this._mapPane){if(i){this._animatingZoom=!0;this._animateToCenter=e;this._animateToZoom=t;de(this._mapPane,"leaflet-zoom-anim")}this.fire("zoomanim",{center:e,zoom:t,noUpdate:r});setTimeout(n(this._onZoomTransitionEnd,this),250)}},_onZoomTransitionEnd:function(){if(this._animatingZoom){this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim");this._animatingZoom=!1;this._move(this._animateToCenter,this._animateToZoom);m(function(){this._moveEnd(!0)},this)}}}),qn=y.extend({options:{position:"topright"},initialize:function(e){c(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;t&&t.removeControl(this);this.options.position=e;t&&t.addControl(this);return this},getContainer:function(){return this._container},addTo:function(e){this.remove();this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];de(t,"leaflet-control");n.indexOf("bottom")!==-1?i.insertBefore(t,i.firstChild):i.appendChild(t);return this},remove:function(){if(!this._map)return this;ue(this._container);this.onRemove&&this.onRemove(this._map);this._map=null;return this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Un=function(e){return new qn(e)};Bn.include({addControl:function(e){e.addTo(this);return this},removeControl:function(e){e.remove();return this},_initControlPos:function(){function e(e,r){var o=n+e+" "+n+r;t[e+r]=le("div",o,i)}var t=this._controlCorners={},n="leaflet-",i=this._controlContainer=le("div",n+"control-container",this._container);e("top","left");e("top","right");e("bottom","left");e("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ue(this._controlCorners[e]);ue(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var Fn=qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){c(this,n);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=!1;for(var i in e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout();this._update();this._map=e;e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){qn.prototype.addTo.call(this,e);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){this._addLayer(e,t);return this._map?this._update():this},addOverlay:function(e,t){this._addLayer(e,t,!0);return this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(i(e));t&&this._layers.splice(this._layers.indexOf(t),1);return this._map?this._update():this},expand:function(){de(this._container,"leaflet-control-layers-expanded");this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);if(e<this._form.clientHeight){de(this._form,"leaflet-control-layers-scrollbar");this._form.style.height=e+"px"}else ge(this._form,"leaflet-control-layers-scrollbar");this._checkDisabledLayers();return this},collapse:function(){ge(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=le("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0);X(t);K(t);var i=this._form=le("form",e+"-list");if(n){this._map.on("click",this.collapse,this);Ut||V(t,{mouseenter:this.expand,mouseleave:this.collapse},this)}var r=this._layersLink=le("a",e+"-toggle",t);r.href="#";r.title="Layers";if(an){V(r,"click",J);V(r,"click",this.expand,this)}else V(r,"focus",this.expand,this);n||this.expand();this._baseLayersList=le("div",e+"-base",i);this._separator=le("div",e+"-separator",i);this._overlaysList=le("div",e+"-overlays",i);t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&i(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,i){this._map&&e.on("add remove",this._onLayerChange,this);this._layers.push({layer:e,name:t,overlay:i});this.options.sortLayers&&this._layers.sort(n(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this));if(this.options.autoZIndex&&e.setZIndex){this._lastZIndex++;e.setZIndex(this._lastZIndex)}this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ce(this._baseLayersList);ce(this._overlaysList);this._layerControlInputs=[];var e,t,n,i,r=0;for(n=0;n<this._layers.length;n++){i=this._layers[n];this._addItem(i);t=t||i.overlay;e=e||!i.overlay;r+=i.overlay?0:1}if(this.options.hideSingleBase){e=e&&r>1;this._baseLayersList.style.display=e?"":"none"}this._separator.style.display=t&&e?"":"none";return this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(i(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");i.innerHTML=n;return i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);if(e.overlay){t=document.createElement("input");t.type="checkbox";t.className="leaflet-control-layers-selector";t.defaultChecked=r}else t=this._createRadioElement("leaflet-base-layers",r);this._layerControlInputs.push(t);t.layerId=i(e.layer);V(t,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+e.name;var s=document.createElement("div");n.appendChild(s);s.appendChild(t);s.appendChild(o);var a=e.overlay?this._overlaysList:this._baseLayersList;a.appendChild(n);this._checkDisabledLayers();return n},_onInputClick:function(){var e,t,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--){e=n[o];t=this._getLayer(e.layerId).layer;e.checked?i.push(t):e.checked||r.push(t)}for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--){e=n[r];t=this._getLayer(e.layerId).layer;e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom}},_expandIfNotCollapsed:function(){this._map&&!this.options.collapsed&&this.expand();return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Gn=function(e,t,n){return new Fn(e,t,n)},zn=qn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=le("div",t+" leaflet-bar"),i=this.options;this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn);this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut);this._updateDisabled();e.on("zoomend zoomlevelschange",this._updateDisabled,this);return n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=!0;this._updateDisabled();return this},enable:function(){this._disabled=!1;this._updateDisabled();return this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,r){var o=le("a",n,i);o.innerHTML=e;o.href="#";o.title=t;o.setAttribute("role","button");o.setAttribute("aria-label",t);X(o);V(o,"click",J);V(o,"click",r,this);V(o,"click",this._refocusOnMap,this);return o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ge(this._zoomInButton,t);ge(this._zoomOutButton,t);(this._disabled||e._zoom===e.getMinZoom())&&de(this._zoomOutButton,t);(this._disabled||e._zoom===e.getMaxZoom())&&de(this._zoomInButton,t)}});Bn.mergeOptions({zoomControl:!0});Bn.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new zn;this.addControl(this.zoomControl)}});var Hn=function(e){return new zn(e)},Vn=qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=le("div",t),i=this.options;this._addScales(i,t+"-line",n);e.on(i.updateWhenIdle?"moveend":"move",this._update,this);e.whenReady(this._update,this);return n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=le("div",t,n));e.imperial&&(this._iScale=le("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e);this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,r=3.2808399*e;if(r>5280){t=r/5280;n=this._getRoundNum(t);this._updateScale(this._iScale,n+" mi",n/t)}else{i=this._getRoundNum(r);this._updateScale(this._iScale,i+" ft",i/r)}},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px";e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1;return t*n}}),Wn=function(e){return new Vn(e)},Yn=qn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){c(this,e);this._attributions={}},onAdd:function(e){e.attributionControl=this;this._container=le("div","leaflet-control-attribution");X(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());this._update();return this._container},setPrefix:function(e){this.options.prefix=e;this._update();return this},addAttribution:function(e){if(!e)return this;this._attributions[e]||(this._attributions[e]=0);this._attributions[e]++;this._update();return this},removeAttribution:function(e){if(!e)return this;if(this._attributions[e]){this._attributions[e]--;this._update()}return this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix);e.length&&n.push(e.join(", "));this._container.innerHTML=n.join(" | ")}}});Bn.mergeOptions({attributionControl:!0});Bn.addInitHook(function(){this.options.attributionControl&&(new Yn).addTo(this)});var Zn=function(e){return new Yn(e)};qn.Layers=Fn;qn.Zoom=zn;qn.Scale=Vn;qn.Attribution=Yn;Un.layers=Gn;Un.zoom=Hn;Un.scale=Wn;Un.attribution=Zn;var $n=y.extend({initialize:function(e){this._map=e},enable:function(){if(this._enabled)return this;this._enabled=!0;this.addHooks();return this},disable:function(){if(!this._enabled)return this;this._enabled=!1;this.removeHooks();return this},enabled:function(){return!!this._enabled}});$n.addTo=function(e,t){e.addHandler(t,this);return this};var Kn,Xn={Events:wt},Qn=an?"touchstart mousedown":"mousedown",Jn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},ei={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ti=Tt.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){c(this,i);this._element=e;this._dragStartTarget=t||e;this._preventOutline=n},enable:function(){if(!this._enabled){V(this._dragStartTarget,Qn,this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){ti._dragging===this&&this.finishDrag();W(this._dragStartTarget,Qn,this._onDown,this);this._enabled=!1;this._moved=!1}},_onDown:function(e){if(!e._simulated&&this._enabled){this._moved=!1;if(!he(this._element,"leaflet-zoom-anim")&&!(ti._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)){ti._dragging=this;this._preventOutline&&Ce(this._element);Te();At();if(!this._moving){this.fire("down");var t=e.touches?e.touches[0]:e;this._startPoint=new x(t.clientX,t.clientY);V(document,ei[e.type],this._onMove,this);V(document,Jn[e.type],this._onUp,this)}}}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new x(t.clientX,t.clientY),i=n.subtract(this._startPoint);if((i.x||i.y)&&!(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance)){Q(e);if(!this._moved){this.fire("dragstart");this._moved=!0;this._startPos=we(this._element).subtract(i);de(document.body,"leaflet-dragging");this._lastTarget=e.target||e.srcElement;window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement);de(this._lastTarget,"leaflet-drag-target")}this._newPos=this._startPos.add(i);this._moving=!0;v(this._animRequest);this._lastEvent=e;this._animRequest=m(this._updatePosition,this,!0)}}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e);Ee(this._element,this._newPos);this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){ge(document.body,"leaflet-dragging");if(this._lastTarget){ge(this._lastTarget,"leaflet-drag-target");this._lastTarget=null}for(var e in ei){W(document,ei[e],this._onMove,this);W(document,Jn[e],this._onUp,this)}Se();Rt();if(this._moved&&this._moving){v(this._animRequest);this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})}this._moving=!1;ti._dragging=!1}}),ni=(Object.freeze||Object)({simplify:Ie,pointToSegmentDistance:Ae,closestPointOnSegment:Re,clipSegment:Me,_getEdgeIntersection:De,_getBitCode:je,_sqClosestPointOnSegment:qe,isFlat:Ue,_flat:Fe}),ii=(Object.freeze||Object)({clipPolygon:Ge}),ri={project:function(e){return new x(e.lng,e.lat)},unproject:function(e){return new C(e.y,e.x)},bounds:new E([-180,-90],[180,90])},oi={R:6378137,R_MINOR:6356752.314245179,bounds:new E([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);i=-n*Math.log(Math.max(a,1e-10));return new x(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-e.y/i),a=Math.PI/2-2*Math.atan(s),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++){t=o*Math.sin(a);t=Math.pow((1-t)/(1+t),o/2);u=Math.PI/2-2*Math.atan(s*t)-a;a+=u}return new C(a*n,e.x*n/i)}},si=(Object.freeze||Object)({LonLat:ri,Mercator:oi,SphericalMercator:Nt}),ai=t({},Lt,{code:"EPSG:3395",projection:oi,transformation:function(){var e=.5/(Math.PI*oi.R);return A(e,.5,-e,.5)}()}),li=t({},Lt,{code:"EPSG:4326",projection:ri,transformation:A(1/180,1,-1/180,.5)}),ui=t({},Ct,{projection:ri,transformation:A(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});Ct.Earth=Lt;Ct.EPSG3395=ai;Ct.EPSG3857=Pt;Ct.EPSG900913=kt;Ct.EPSG4326=li;Ct.Simple=ui;var ci=Tt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){e.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){e&&e.removeLayer(this);return this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){this._map._targets[i(e)]=this;return this},removeInteractiveTarget:function(e){delete this._map._targets[i(e)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){this._map=t;this._zoomAnimated=t._zoomAnimated;if(this.getEvents){var n=this.getEvents();t.on(n,this);this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t);this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution());this.fire("add");t.fire("layeradd",{layer:this})}}});Bn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=i(e);if(this._layers[t])return this;this._layers[t]=e;e._mapToAdd=this;e.beforeAdd&&e.beforeAdd(this);this.whenReady(e._layerAdd,e);return this},removeLayer:function(e){var t=i(e);if(!this._layers[t])return this;this._loaded&&e.onRemove(this);e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution());delete this._layers[t];if(this._loaded){this.fire("layerremove",{layer:e});e.fire("remove")}e._map=e._mapToAdd=null;return this},hasLayer:function(e){return!!e&&i(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){e=e?vt(e)?e:[e]:[];for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){if(isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom)){this._zoomBoundLayers[i(e)]=e;this._updateZoomLevels()}},_removeZoomLimit:function(e){var t=i(e);if(this._zoomBoundLayers[t]){delete this._zoomBoundLayers[t];this._updateZoomLevels()}},_updateZoomLevels:function(){var e=1/0,t=-(1/0),n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;e=void 0===r.minZoom?e:Math.min(e,r.minZoom);t=void 0===r.maxZoom?t:Math.max(t,r.maxZoom)}this._layersMaxZoom=t===-(1/0)?void 0:t;this._layersMinZoom=e===1/0?void 0:e;n!==this._getZoomSpan()&&this.fire("zoomlevelschange");void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var fi=ci.extend({initialize:function(e,t){c(this,t);this._layers={};var n,i;if(e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);this._layers[t]=e;this._map&&this._map.addLayer(e);return this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]);delete this._layers[t];return this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers){n=this._layers[t];n[e]&&n[e].apply(n,i)}return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];this.eachLayer(e.push,e);return e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return i(e)}}),pi=function(e,t){return new fi(e,t)},hi=fi.extend({addLayer:function(e){if(this.hasLayer(e))return this;e.addEventParent(this);fi.prototype.addLayer.call(this,e);return this.fire("layeradd",{layer:e})},removeLayer:function(e){if(!this.hasLayer(e))return this;e in this._layers&&(e=this._layers[e]);e.removeEventParent(this);fi.prototype.removeLayer.call(this,e);return this.fire("layerremove",{layer:e})},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new T;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),di=function(e){return new hi(e)},gi=y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){c(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);this._setIconStyles(i,e);return i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"==typeof i&&(i=[i,i]);var r=_(i),o=_("shadow"===t&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||"");if(o){e.style.marginLeft=-o.x+"px";e.style.marginTop=-o.y+"px"}if(r){e.style.width=r.x+"px";e.style.height=r.y+"px"}},_createImg:function(e,t){t=t||document.createElement("img");t.src=e;return t},_getIconUrl:function(e){return cn&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),mi=gi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){mi.imagePath||(mi.imagePath=this._detectIconPath());return(this.options.imagePath||mi.imagePath)+gi.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=le("div","leaflet-default-icon-path",document.body),t=ae(e,"background-image")||ae(e,"backgroundImage");document.body.removeChild(e);t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"");return t}}),vi=$n.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ti(e,e,(!0)));this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();de(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=L.DomUtil.getPosition(t._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=w(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!l.contains(o)){var u=_((Math.max(l.max.x,o.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(i);n.panBy(u,{animate:!1});this._draggable._newPos._add(u);this._draggable._startPos._add(u);L.DomUtil.setPosition(t._icon,this._draggable._newPos);this._onDrag(e);this._panRequest=m(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){if(this._marker.options.autoPan){v(this._panRequest);this._panRequest=m(this._adjustPan.bind(this,e))}},_onDrag:function(e){var t=this._marker,n=t._shadow,i=we(t._icon),r=t._map.layerPointToLatLng(i);n&&Ee(n,i);t._latlng=r;e.latlng=r;e.oldLatLng=this._oldLatLng;t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){v(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",e)}}),yi=ci.extend({options:{icon:new mi,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(e,t){c(this,t);this._latlng=N(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation;this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(e){if(this.dragging&&this.dragging.enabled()){this.options.draggable=!0;this.dragging.removeHooks()}delete this.dragging;this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;this._latlng=N(e);this.update();return this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){this.options.zIndexOffset=e;return this.update()},setIcon:function(e){this.options.icon=e;if(this._map){this._initIcon();this.update()}this._popup&&this.bindPopup(this._popup,this._popup.options);return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;if(n!==this._icon){this._icon&&this._removeIcon();i=!0;e.title&&(n.title=e.title);"IMG"===n.tagName&&(n.alt=e.alt||"")}de(n,t);e.keyboard&&(n.tabIndex="0");this._icon=n;e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=e.icon.createShadow(this._shadow),o=!1;if(r!==this._shadow){this._removeShadow();o=!0}if(r){de(r,t);r.alt=""}this._shadow=r;e.opacity<1&&this._updateOpacity();i&&this.getPane().appendChild(this._icon);this._initInteraction();r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});ue(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&ue(this._shadow);this._shadow=null},_setPos:function(e){Ee(this._icon,e);this._shadow&&Ee(this._shadow,e);this._zIndex=e.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive){de(this._icon,"leaflet-interactive");
this.addInteractiveTarget(this._icon);if(vi){var e=this.options.draggable;if(this.dragging){e=this.dragging.enabled();this.dragging.disable()}this.dragging=new vi(this);e&&this.dragging.enable()}}},setOpacity:function(e){this.options.opacity=e;this._map&&this._updateOpacity();return this},_updateOpacity:function(){var e=this.options.opacity;ye(this._icon,e);this._shadow&&ye(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),bi=ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){this._map&&this._renderer._updatePath(this);return this},setStyle:function(e){c(this,e);this._renderer&&this._renderer._updateStyle(this);return this},bringToFront:function(){this._renderer&&this._renderer._bringToFront(this);return this},bringToBack:function(){this._renderer&&this._renderer._bringToBack(this);return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),xi=bi.extend({options:{fill:!0,radius:10},initialize:function(e,t){c(this,t);this._latlng=N(e);this._radius=this.options.radius},setLatLng:function(e){this._latlng=N(e);this.redraw();return this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){this.options.radius=this._radius=e;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;bi.prototype.setStyle.call(this,e);this.setRadius(t);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new E(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),_i=xi.extend({initialize:function(e,n,i){"number"==typeof n&&(n=t({},i,{radius:n}));c(this,n);this._latlng=N(e);if(isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){this._mRadius=e;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:bi.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===Lt.distance){var r=Math.PI/180,o=this._mRadius/Lt.R/r,s=n.project([t+o,e]),a=n.project([t-o,e]),l=s.add(a).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(o*r)-Math.sin(t*r)*Math.sin(u*r))/(Math.cos(t*r)*Math.cos(u*r)))/r;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*t));this._point=l.subtract(n.getPixelOrigin());this._radius=isNaN(c)?0:l.x-n.project([u,e-c]).x;this._radiusY=l.y-s.y}else{var f=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng);this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}}),Ei=bi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){c(this,t);this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){this._setLatLngs(e);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,r=null,o=qe,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],u=1,c=l.length;u<c;u++){t=l[u-1];n=l[u];var f=o(e,t,n,!0);if(f<i){i=f;r=o(e,t,n)}}r&&(r.distance=Math.sqrt(i));return r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,o,s,a=this._rings[0],l=a.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=a[e].distanceTo(a[e+1])/2;if(0===t)return this._map.layerPointToLatLng(a[0]);for(e=0,i=0;e<l-1;e++){r=a[e];o=a[e+1];n=r.distanceTo(o);i+=n;if(i>t){s=(i-t)/n;return this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])}}},getBounds:function(){return this._bounds},addLatLng:function(e,t){t=t||this._defaultShape();e=N(e);t.push(e);this._bounds.extend(e);return this.redraw()},_setLatLngs:function(e){this._bounds=new T;this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ue(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Ue(e),i=0,r=e.length;i<r;i++)if(n){t[i]=N(e[i]);this._bounds.extend(t[i])}else t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new E;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),n=new x(t,t);if(this._bounds.isValid()&&e.isValid()){e.min._subtract(n);e.max._add(n);this._pxBounds=e}},_projectLatlngs:function(e,t,n){var i,r,o=e[0]instanceof C,s=e.length;if(o){r=[];for(i=0;i<s;i++){r[i]=this._map.latLngToLayerPoint(e[i]);n.extend(r[i])}t.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,i,r,o,s,a,l=this._parts;for(t=0,i=0,r=this._rings.length;t<r;t++){a=this._rings[t];for(n=0,o=a.length;n<o-1;n++){s=Me(a[n],a[n+1],e,n,!0);if(s){l[i]=l[i]||[];l[i].push(s[0]);if(s[1]!==a[n+1]||n===o-2){l[i].push(s[1]);i++}}}}}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=Ie(e[n],t)},_update:function(){if(this._map){this._clipPoints();this._simplifyPoints();this._updatePath()}},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,r,o,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++){a=this._parts[n];for(i=0,s=a.length,r=s-1;i<s;r=i++)if((t||0!==i)&&Ae(e,a[r],a[i])<=l)return!0}return!1}});Ei._flat=Fe;var wi=Ei.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,o,s,a,l,u=this._rings[0],c=u.length;if(!c)return null;o=s=a=0;for(e=0,t=c-1;e<c;t=e++){n=u[e];i=u[t];r=n.y*i.x-i.y*n.x;s+=(n.x+i.x)*r;a+=(n.y+i.y)*r;o+=3*r}l=0===o?u[0]:[s/o,a/o];return this._map.layerPointToLatLng(l)},_convertLatLngs:function(e){var t=Ei.prototype._convertLatLngs.call(this,e),n=t.length;n>=2&&t[0]instanceof C&&t[0].equals(t[n-1])&&t.pop();return t},_setLatLngs:function(e){Ei.prototype._setLatLngs.call(this,e);Ue(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ue(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new x(t,t);e=new E(e.min.subtract(n),e.max.add(n));this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++){i=Ge(this._rings[r],e,!0);i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,r,o,s,a,l,u=!1;if(!this._pxBounds.contains(e))return!1;for(r=0,a=this._parts.length;r<a;r++){t=this._parts[r];for(o=0,l=t.length,s=l-1;o<l;s=o++){n=t[o];i=t[s];n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(u=!u)}}return u||Ei.prototype._containsPoint.call(this,e,!0)}}),Ti=hi.extend({initialize:function(e,t){c(this,t);this._layers={};e&&this.addData(e)},addData:function(e){var t,n,i,r=vt(e)?e:e.features;if(r){for(t=0,n=r.length;t<n;t++){i=r[t];(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i)}return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var s=$e(e,o);if(!s)return this;s.feature=tt(e);s.defaultOptions=s.options;this.resetStyle(s);o.onEachFeature&&o.onEachFeature(e,s);return this.addLayer(s)},resetStyle:function(e){e.options=t({},e.defaultOptions);this._setLayerStyle(e,this.options.style);return this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature));e.setStyle&&e.setStyle(t)}}),Si={toGeoJSON:function(e){return et(this,{type:"Point",coordinates:Qe(this.getLatLng(),e)})}};yi.include(Si);_i.include(Si);xi.include(Si);Ei.include({toGeoJSON:function(e){var t=!Ue(this._latlngs),n=Je(this._latlngs,t?1:0,!1,e);return et(this,{type:(t?"Multi":"")+"LineString",coordinates:n})}});wi.include({toGeoJSON:function(e){var t=!Ue(this._latlngs),n=t&&!Ue(this._latlngs[0]),i=Je(this._latlngs,n?2:t?1:0,!0,e);t||(i=[i]);return et(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}});fi.include({toMultiPoint:function(e){var t=[];this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)});return et(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,i=[];this.eachLayer(function(t){if(t.toGeoJSON){var r=t.toGeoJSON(e);if(n)i.push(r.geometry);else{var o=tt(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}});return n?et(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Ci=nt,Li=ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e;this._bounds=S(t);c(this,n)},onAdd:function(){if(!this._image){this._initImage();this.options.opacity<1&&this._updateOpacity()}if(this.options.interactive){de(this._image,"leaflet-interactive");this.addInteractiveTarget(this._image)}this.getPane().appendChild(this._image);this._reset()},onRemove:function(){ue(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){this.options.opacity=e;this._image&&this._updateOpacity();return this},setStyle:function(e){e.opacity&&this.setOpacity(e.opacity);return this},bringToFront:function(){this._map&&fe(this._image);return this},bringToBack:function(){this._map&&pe(this._image);return this},setUrl:function(e){this._url=e;this._image&&(this._image.src=e);return this},setBounds:function(e){this._bounds=S(e);this._map&&this._reset();return this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};this._zoomAnimated&&(e.zoomanim=this._animateZoom);return e},setZIndex:function(e){this.options.zIndex=e;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:le("img");de(t,"leaflet-image-layer");this._zoomAnimated&&de(t,"leaflet-zoom-animated");this.options.className&&de(t,this.options.className);t.onselectstart=s;t.onmousemove=s;t.onload=n(this.fire,this,"load");t.onerror=n(this._overlayOnError,this,"error");this.options.crossOrigin&&(t.crossOrigin="");this.options.zIndex&&this._updateZIndex();if(e)this._url=t.src;else{t.src=this._url;t.alt=this.options.alt}},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;_e(this._image,n,t)},_reset:function(){var e=this._image,t=new E(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Ee(e,t.min);e.style.width=n.x+"px";e.style.height=n.y+"px"},_updateOpacity:function(){ye(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;if(e&&this._url!==e){this._url=e;this._image.src=e}}}),Ni=function(e,t,n){return new Li(e,t,n)},Ii=Li.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:le("video");de(t,"leaflet-image-layer");this._zoomAnimated&&de(t,"leaflet-zoom-animated");t.onselectstart=s;t.onmousemove=s;t.onloadeddata=n(this.fire,this,"load");if(e){for(var i=t.getElementsByTagName("source"),r=[],o=0;o<i.length;o++)r.push(i[o].src);this._url=i.length>0?r:[t.src]}else{vt(this._url)||(this._url=[this._url]);t.autoplay=!!this.options.autoplay;t.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var l=le("source");l.src=this._url[a];t.appendChild(l)}}}}),Ai=ci.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){c(this,e);this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated;this._container||this._initLayout();e._fadeAnimated&&ye(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();e._fadeAnimated&&ye(this._container,1);this.bringToFront()},onRemove:function(e){if(e._fadeAnimated){ye(this._container,0);this._removeTimeout=setTimeout(n(ue,void 0,this._container),200)}else ue(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){this._latlng=N(e);if(this._map){this._updatePosition();this._adjustPan()}return this},getContent:function(){return this._content},setContent:function(e){this._content=e;this.update();return this},getElement:function(){return this._container},update:function(){if(this._map){this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()}},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};this._zoomAnimated&&(e.zoomanim=this._animateZoom);return e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){this._map&&fe(this._container);return this},bringToBack:function(){this._map&&pe(this._container);return this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=_(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ee(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px";this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Ri=Ai.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){e.openPopup(this);return this},onAdd:function(e){Ai.prototype.onAdd.call(this,e);e.fire("popupopen",{popup:this});if(this._source){this._source.fire("popupopen",{popup:this},!0);this._source instanceof bi||this._source.on("preclick",$)}},onRemove:function(e){Ai.prototype.onRemove.call(this,e);e.fire("popupclose",{popup:this});if(this._source){this._source.fire("popupclose",{popup:this},!0);this._source instanceof bi||this._source.off("preclick",$)}},getEvents:function(){var e=Ai.prototype.getEvents.call(this);(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close);this.options.keepInView&&(e.moveend=this._adjustPan);return e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=le("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=le("div",e+"-content-wrapper",t);this._contentNode=le("div",e+"-content",n);X(n);K(this._contentNode);V(n,"contextmenu",$);this._tipContainer=le("div",e+"-tip-container",t);this._tip=le("div",e+"-tip",this._tipContainer);if(this.options.closeButton){var i=this._closeButton=le("a",e+"-close-button",t);i.href="#close";i.innerHTML="&#215;";V(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="";t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth);n=Math.max(n,this.options.minWidth);t.width=n+1+"px";t.whiteSpace="";t.height="";var i=e.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";if(r&&i>r){t.height=r+"px";de(e,o)}else ge(e,o);this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Ee(this._container,t.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var e=this._map,t=parseInt(ae(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,i=this._containerWidth,r=new x(this._containerLeft,-n-this._containerBottom);r._add(we(this._container));var o=e.layerPointToContainerPoint(r),s=_(this.options.autoPanPadding),a=_(this.options.autoPanPaddingTopLeft||s),l=_(this.options.autoPanPaddingBottomRight||s),u=e.getSize(),c=0,f=0;o.x+i+l.x>u.x&&(c=o.x+i-u.x+l.x);o.x-c-a.x<0&&(c=o.x-a.x);o.y+n+l.y>u.y&&(f=o.y+n-u.y+l.y);o.y-f-a.y<0&&(f=o.y-a.y);(c||f)&&e.fire("autopanstart").panBy([c,f])}},_onCloseButtonClick:function(e){this._close();J(e)},_getAnchor:function(){return _(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Oi=function(e,t){return new Ri(e,t)};Bn.mergeOptions({closePopupOnClick:!0});Bn.include({openPopup:function(e,t,n){e instanceof Ri||(e=new Ri(n).setContent(e));t&&e.setLatLng(t);if(this.hasLayer(e))return this;this._popup&&this._popup.options.autoClose&&this.closePopup();this._popup=e;return this.addLayer(e)},closePopup:function(e){if(!e||e===this._popup){e=this._popup;this._popup=null}e&&this.removeLayer(e);return this}});ci.include({bindPopup:function(e,t){if(e instanceof Ri){c(e,t);this._popup=e;e._source=this}else{this._popup&&!t||(this._popup=new Ri(t,this));this._popup.setContent(e)}if(!this._popupHandlersAdded){this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=!0}return this},unbindPopup:function(){if(this._popup){this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=!1;this._popup=null}return this},openPopup:function(e,t){if(!(e instanceof ci)){t=e;e=this}if(e instanceof hi)for(var n in this._layers){e=this._layers[n];break}t||(t=e.getCenter?e.getCenter():e.getLatLng());if(this._popup&&this._map){this._popup._source=e;this._popup.update();this._map.openPopup(this._popup,t)}return this},closePopup:function(){this._popup&&this._popup._close();return this},togglePopup:function(e){this._popup&&(this._popup._map?this.closePopup():this.openPopup(e));return this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){this._popup&&this._popup.setContent(e);return this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;if(this._popup&&this._map){J(e);t instanceof bi?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Pi=Ai.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Ai.prototype.onAdd.call(this,e);this.setOpacity(this.options.opacity);e.fire("tooltipopen",{tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Ai.prototype.onRemove.call(this,e);e.fire("tooltipclose",{tooltip:this});this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Ai.prototype.getEvents.call(this);an&&!this.options.permanent&&(e.preclick=this._close);return e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,n=this._container,i=t.latLngToContainerPoint(t.getCenter()),r=t.layerPointToContainerPoint(e),o=this.options.direction,s=n.offsetWidth,a=n.offsetHeight,l=_(this.options.offset),u=this._getAnchor();if("top"===o)e=e.add(_(-s/2+l.x,-a+l.y+u.y,!0));else if("bottom"===o)e=e.subtract(_(s/2-l.x,-l.y,!0));else if("center"===o)e=e.subtract(_(s/2+l.x,a/2-u.y+l.y,!0));else if("right"===o||"auto"===o&&r.x<i.x){o="right";e=e.add(_(l.x+u.x,u.y-a/2+l.y,!0))}else{o="left";e=e.subtract(_(s+u.x-l.x,a/2-u.y-l.y,!0))}ge(n,"leaflet-tooltip-right");ge(n,"leaflet-tooltip-left");ge(n,"leaflet-tooltip-top");ge(n,"leaflet-tooltip-bottom");de(n,"leaflet-tooltip-"+o);Ee(n,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e;this._container&&ye(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return _(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ki=function(e,t){return new Pi(e,t)};Bn.include({openTooltip:function(e,t,n){e instanceof Pi||(e=new Pi(n).setContent(e));t&&e.setLatLng(t);return this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){e&&this.removeLayer(e);return this}});ci.include({bindTooltip:function(e,t){if(e instanceof Pi){c(e,t);this._tooltip=e;e._source=this}else{this._tooltip&&!t||(this._tooltip=new Pi(t,this));this._tooltip.setContent(e)}this._initTooltipInteractions();this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip();return this},unbindTooltip:function(){if(this._tooltip){this._initTooltipInteractions(!0);this.closeTooltip();this._tooltip=null}return this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};if(this._tooltip.options.permanent)n.add=this._openTooltip;else{n.mouseover=this._openTooltip;n.mouseout=this.closeTooltip;this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip);an&&(n.click=this._openTooltip)}this[t](n);this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){if(!(e instanceof ci)){t=e;e=this}if(e instanceof hi)for(var n in this._layers){e=this._layers[n];break}t||(t=e.getCenter?e.getCenter():e.getLatLng());if(this._tooltip&&this._map){this._tooltip._source=e;this._tooltip.update();this._map.openTooltip(this._tooltip,t);if(this._tooltip.options.interactive&&this._tooltip._container){de(this._tooltip._container,"leaflet-clickable");this.addInteractiveTarget(this._tooltip._container)}}return this},closeTooltip:function(){if(this._tooltip){this._tooltip._close();if(this._tooltip.options.interactive&&this._tooltip._container){ge(this._tooltip._container,"leaflet-clickable");this.removeInteractiveTarget(this._tooltip._container)}}return this},toggleTooltip:function(e){this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e));return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){this._tooltip&&this._tooltip.setContent(e);return this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,i=e.latlng;if(this._tooltip.options.sticky&&e.originalEvent){t=this._map.mouseEventToContainerPoint(e.originalEvent);n=this._map.containerPointToLayerPoint(t);i=this._map.layerPointToLatLng(n)}this._tooltip.setLatLng(i)}});var Mi=gi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;t.innerHTML=n.html!==!1?n.html:"";if(n.bgPos){var i=_(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}this._setIconStyles(t,"icon");return t},createShadow:function(){return null}});gi.Default=mi;var Di=ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tn,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){c(this,e)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles();ue(this._container);e._removeZoomLimit(this);this._container=null;this._tileZoom=void 0},bringToFront:function(){if(this._map){fe(this._container);this._setAutoZIndex(Math.max)}return this},bringToBack:function(){if(this._map){pe(this._container);this._setAutoZIndex(Math.min)}return this},getContainer:function(){return this._container},setOpacity:function(e){this.options.opacity=e;this._updateOpacity();return this},setZIndex:function(e){this.options.zIndex=e;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};if(!this.options.updateWhenIdle){this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this));e.move=this._onMove}this._zoomAnimated&&(e.zoomanim=this._animateZoom);return e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof x?e:new x(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-(1/0),1/0),r=0,o=n.length;r<o;r++){t=n[r].style.zIndex;n[r]!==this._container&&t&&(i=e(i,+t))}if(isFinite(i)){this.options.zIndex=i+e(-1,1);this._updateZIndex()}},_updateOpacity:function(){if(this._map&&!jt){ye(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(e-r.loaded)/200);ye(r.el,o);if(o<1)t=!0;else{r.active?n=!0:this._onOpaqueTile(r);r.active=!0}}}n&&!this._noPrune&&this._pruneTiles();if(t){v(this._fadeFrame);this._fadeFrame=m(this._updateOpacity,this)}}},_onOpaqueTile:s,_initContainer:function(){if(!this._container){this._container=le("div","leaflet-layer "+(this.options.className||""));this._updateZIndex();this.options.opacity<1&&this._updateOpacity();this.getPane().appendChild(this._container)}},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)if(this._levels[n].el.children.length||n===e){this._levels[n].el.style.zIndex=t-Math.abs(e-n);this._onUpdateLevel(n)}else{ue(this._levels[n].el);this._removeTilesAtZoom(n);this._onRemoveLevel(n);delete this._levels[n]}var i=this._levels[e],r=this._map;if(!i){i=this._levels[e]={};i.el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container);i.el.style.zIndex=t;i.origin=r.project(r.unproject(r.getPixelOrigin()),e).round();i.zoom=e;this._setZoomTransform(i,r.getCenter(),r.getZoom());s(i.el.offsetWidth);this._onCreateLevel(i)}this._level=i;return i}},_onUpdateLevel:s,_onRemoveLevel:s,_onCreateLevel:s,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles){t=this._tiles[e];t.retain=t.current}for(e in this._tiles){t=this._tiles[e];if(t.current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels){ue(this._levels[e].el);this._onRemoveLevel(e);delete this._levels[e]}this._removeAllTiles();this._tileZoom=void 0},_retainParent:function(e,t,n,i){var r=Math.floor(e/2),o=Math.floor(t/2),s=n-1,a=new x((+r),(+o));a.z=+s;var l=this._tileCoordsToKey(a),u=this._tiles[l];if(u&&u.active){u.retain=!0;return!0}u&&u.loaded&&(u.retain=!0);return s>i&&this._retainParent(r,o,s,i)},_retainChildren:function(e,t,n,i){for(var r=2*e;r<2*e+2;r++)for(var o=2*t;o<2*t+2;o++){var s=new x(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];if(l&&l.active)l.retain=!0;else{l&&l.loaded&&(l.retain=!0);n+1<i&&this._retainChildren(r,o,n+1,i)}}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var r=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;if(!i||o){this._tileZoom=r;this._abortLoading&&this._abortLoading();this._updateLevels();this._resetGrid();void 0!==r&&this._update(e);n||this._pruneTiles();this._noPrune=!!n}this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),r=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();en?_e(e.el,r,i):Ee(e.el,r)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r));this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)];this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),r=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*i);return new E(r.subtract(o),r.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());void 0===e&&(e=t.getCenter());if(void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,l=new E(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));
if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new x(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var f=r.min.y;f<=r.max.y;f++)for(var p=r.min.x;p<=r.max.x;p++){var h=new x(p,f);h.z=this._tileZoom;if(this._isValidTile(h)){var d=this._tiles[this._tileCoordsToKey(h)];d?d.current=!0:s.push(h)}}s.sort(function(e,t){return e.distanceTo(o)-t.distanceTo(o)});if(0!==s.length){if(!this._loading){this._loading=!0;this.fire("loading")}var g=document.createDocumentFragment();for(p=0;p<s.length;p++)this._addTile(s[p],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return S(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),r=i.add(n),o=t.unproject(i,e.z),s=t.unproject(r,e.z);return[o,s]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new T(t[0],t[1]);this.options.noWrap||(n=this._map.wrapLatLngBounds(n));return n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new x((+t[0]),(+t[1]));n.z=+t[2];return n},_removeTile:function(e){var t=this._tiles[e];if(t){zt||t.el.setAttribute("src",yt);ue(t.el);delete this._tiles[e];this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)})}},_initTile:function(e){de(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px";e.style.height=t.y+"px";e.onselectstart=s;e.onmousemove=s;jt&&this.options.opacity<1&&ye(e,this.options.opacity);Ut&&!Ft&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var i=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),n(this._tileReady,this,e));this._initTile(o);this.createTile.length<2&&m(n(this._tileReady,this,e,null,o));Ee(o,i);this._tiles[r]={el:o,coords:e,current:!0};t.appendChild(o);this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,i){if(this._map){t&&this.fire("tileerror",{error:t,tile:i,coords:e});var r=this._tileCoordsToKey(e);i=this._tiles[r];if(i){i.loaded=+new Date;if(this._map._fadeAnimated){ye(i.el,0);v(this._fadeFrame);this._fadeFrame=m(this._updateOpacity,this)}else{i.active=!0;this._pruneTiles()}if(!t){de(i.el,"leaflet-tile-loaded");this.fire("tileload",{tile:i.el,coords:e})}if(this._noTilesToLoad()){this._loading=!1;this.fire("load");jt||!this._map._fadeAnimated?m(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)}}}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new x(this._wrapX?o(e.x,this._wrapX):e.x,this._wrapY?o(e.y,this._wrapY):e.y);t.z=e.z;return t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new E(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),ji=Di.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e;t=c(this,t);if(t.detectRetina&&cn&&t.maxZoom>0){t.tileSize=Math.floor(t.tileSize/2);if(t.zoomReverse){t.zoomOffset--;t.minZoom++}else{t.zoomOffset++;t.maxZoom--}t.minZoom=Math.max(0,t.minZoom)}"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split(""));Ut||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){this._url=e;t||this.redraw();return this},createTile:function(e,t){var i=document.createElement("img");V(i,"load",n(this._tileOnLoad,this,t,i));V(i,"error",n(this._tileOnError,this,t,i));this.options.crossOrigin&&(i.crossOrigin="");i.alt="";i.setAttribute("role","presentation");i.src=this.getTileUrl(e);return i},getTileUrl:function(e){var n={r:cn?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=i);n["-y"]=i}return p(this._url,t(n,this.options))},_tileOnLoad:function(e,t){jt?setTimeout(n(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i);e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;n&&(e=t-e);return e+i},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom){t=this._tiles[e].el;t.onload=s;t.onerror=s;if(!t.complete){t.src=yt;ue(t);delete this._tiles[e]}}}}),Bi=ji.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var i=t({},this.defaultWmsParams);for(var r in n)r in this.options||(i[r]=n[r]);n=c(this,n);var o=n.detectRetina&&cn?2:1,s=this.getTileSize();i.width=s.x*o;i.height=s.y*o;this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code;ji.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,i=w(n.project(t[0]),n.project(t[1])),r=i.min,o=i.max,s=(this._wmsVersion>=1.3&&this._crs===li?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=L.TileLayer.prototype.getTileUrl.call(this,e);return a+f(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,n){t(this.wmsParams,e);n||this.redraw();return this}});ji.WMS=Bi;st.wms=at;var qi=ci.extend({options:{padding:.1,tolerance:0},initialize:function(e){c(this,e);i(this);this._layers=this._layers||{}},onAdd:function(){if(!this._container){this._initContainer();this._zoomAnimated&&de(this._container,"leaflet-zoom-animated")}this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};this._zoomAnimated&&(e.zoomanim=this._onAnimZoom);return e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=we(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),s=this._map.project(e,t),a=s.subtract(o),l=r.multiplyBy(-n).add(i).add(r).subtract(a);en?_e(this._container,l,n):Ee(this._container,l)},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new E(n,n.add(t.multiplyBy(1+2*e)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),Ui=qi.extend({getEvents:function(){var e=qi.prototype.getEvents.call(this);e.viewprereset=this._onViewPreReset;return e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qi.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");V(e,"mousemove",r(this._onMouseMove,32,this),this);V(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this);V(e,"mouseout",this._handleMouseOut,this);this._ctx=e.getContext("2d")},_destroyContainer:function(){delete this._ctx;ue(this._container);W(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers){e=this._layers[t];e._update()}this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={};qi.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=cn?2:1;Ee(t,e.min);t.width=i*n.x;t.height=i*n.y;t.style.width=n.x+"px";t.style.height=n.y+"px";cn&&this._ctx.scale(2,2);this._ctx.translate(-e.min.x,-e.min.y);this.fire("update")}},_reset:function(){qi.prototype._reset.call(this);if(this._postponeUpdatePaths){this._postponeUpdatePaths=!1;this._updatePaths()}},_initPath:function(e){this._updateDashArray(e);this._layers[i(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t);this._drawLast=t;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,i=t.prev;n?n.prev=i:this._drawLast=i;i?i.next=n:this._drawFirst=n;delete e._order;delete this._layers[L.stamp(e)];this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e);e._project();e._update();this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e);this._requestRedraw(e)},_updateDashArray:function(e){if(e.options.dashArray){var t,n=e.options.dashArray.split(","),i=[];for(t=0;t<n.length;t++)i.push(Number(n[t]));e.options._dashArray=i}},_requestRedraw:function(e){if(this._map){this._extendRedrawBounds(e);this._redrawRequest=this._redrawRequest||m(this._redraw,this)}},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new E;this._redrawBounds.extend(e._pxBounds.min.subtract([t,t]));this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null;if(this._redrawBounds){this._redrawBounds.min._floor();this._redrawBounds.max._ceil()}this._clear();this._draw();this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;this._ctx.save();if(t){var n=t.getSize();this._ctx.beginPath();this._ctx.rect(t.min.x,t.min.y,n.x,n.y);this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next){e=i.layer;(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath()}this._drawing=!1;this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,r,o,s=e._parts,a=s.length,l=this._ctx;if(a){this._drawnLayers[e._leaflet_id]=e;l.beginPath();for(n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++){o=s[n][i];l[i?"lineTo":"moveTo"](o.x,o.y)}t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),r=(Math.max(Math.round(e._radiusY),1)||i)/i;this._drawnLayers[e._leaflet_id]=e;if(1!==r){n.save();n.scale(1,r)}n.beginPath();n.arc(t.x,t.y/r,i,0,2*Math.PI,!1);1!==r&&n.restore();this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;if(n.fill){e.globalAlpha=n.fillOpacity;e.fillStyle=n.fillColor||n.color;e.fill(n.fillRule||"evenodd")}if(n.stroke&&0!==n.weight){e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]);e.globalAlpha=n.opacity;e.lineWidth=n.weight;e.strokeStyle=n.color;e.lineCap=n.lineCap;e.lineJoin=n.lineJoin;e.stroke()}},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next){t=r.layer;t.options.interactive&&t._containsPoint(i)&&!this._map._draggableMoved(t)&&(n=t)}if(n){ne(e);this._fireEvent([n],e)}},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;if(t){ge(this._container,"leaflet-interactive");this._fireEvent([t],e,"mouseout");this._hoveredLayer=null}},_handleMouseHover:function(e,t){for(var n,i,r=this._drawFirst;r;r=r.next){n=r.layer;n.options.interactive&&n._containsPoint(t)&&(i=n)}if(i!==this._hoveredLayer){this._handleMouseOut(e);if(i){de(this._container,"leaflet-interactive");this._fireEvent([i],e,"mouseover");this._hoveredLayer=i}}this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order,n=t.next,i=t.prev;if(n){n.prev=i;i?i.next=n:n&&(this._drawFirst=n);t.prev=this._drawLast;this._drawLast.next=t;t.next=null;this._drawLast=t;this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order,n=t.next,i=t.prev;if(i){i.next=n;n?n.prev=i:i&&(this._drawLast=i);t.prev=null;t.next=this._drawFirst;this._drawFirst.prev=t;this._drawFirst=t;this._requestRedraw(e)}}}),Fi=function(){try{document.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Gi={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){if(!this._map._animatingZoom){qi.prototype._update.call(this);this.fire("update")}},_initPath:function(e){var t=e._container=Fi("shape");de(t,"leaflet-vml-shape "+(this.options.className||""));t.coordsize="1 1";e._path=Fi("path");t.appendChild(e._path);this._updateStyle(e);this._layers[i(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t);e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ue(t);e.removeInteractiveTarget(t);delete this._layers[i(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,r=e._container;r.stroked=!!i.stroke;r.filled=!!i.fill;if(i.stroke){t||(t=e._stroke=Fi("stroke"));r.appendChild(t);t.weight=i.weight+"px";t.color=i.color;t.opacity=i.opacity;i.dashArray?t.dashStyle=vt(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="";t.endcap=i.lineCap.replace("butt","flat");t.joinstyle=i.lineJoin}else if(t){r.removeChild(t);e._stroke=null}if(i.fill){n||(n=e._fill=Fi("fill"));r.appendChild(n);n.color=i.fillColor||i.color;n.opacity=i.fillOpacity}else if(n){r.removeChild(n);e._fill=null}},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){fe(e._container)},_bringToBack:function(e){pe(e._container)}},zi=hn?Fi:R,Hi=qi.extend({getEvents:function(){var e=qi.prototype.getEvents.call(this);e.zoomstart=this._onZoomStart;return e},_initContainer:function(){this._container=zi("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=zi("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ue(this._container);W(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){qi.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;if(!this._svgSize||!this._svgSize.equals(t)){this._svgSize=t;n.setAttribute("width",t.x);n.setAttribute("height",t.y)}Ee(n,e.min);n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" "));this.fire("update")}},_initPath:function(e){var t=e._path=zi("path");e.options.className&&de(t,e.options.className);e.options.interactive&&de(t,"leaflet-interactive");this._updateStyle(e);this._layers[i(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer();this._rootGroup.appendChild(e._path);e.addInteractiveTarget(e._path)},_removePath:function(e){ue(e._path);e.removeInteractiveTarget(e._path);delete this._layers[i(e)]},_updatePath:function(e){e._project();e._update()},_updateStyle:function(e){var t=e._path,n=e.options;if(t){if(n.stroke){t.setAttribute("stroke",n.color);t.setAttribute("stroke-opacity",n.opacity);t.setAttribute("stroke-width",n.weight);t.setAttribute("stroke-linecap",n.lineCap);t.setAttribute("stroke-linejoin",n.lineJoin);n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray");n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")}else t.setAttribute("stroke","none");if(n.fill){t.setAttribute("fill",n.fillColor||n.color);t.setAttribute("fill-opacity",n.fillOpacity);t.setAttribute("fill-rule",n.fillRule||"evenodd")}else t.setAttribute("fill","none")}},_updatePoly:function(e,t){this._setPath(e,O(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i=Math.max(Math.round(e._radiusY),1)||n,r="a"+n+","+i+" 0 1,0 ",o=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,o)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){fe(e._path)},_bringToBack:function(e){pe(e._path)}});hn&&Hi.include(Gi);Bn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;t||(t=this._renderer=this.options.preferCanvas&&lt()||ut());this.hasLayer(t)||this.addLayer(t);return t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];if(void 0===t){t=Hi&&ut({pane:e})||Ui&&lt({pane:e});this._paneRenderers[e]=t}return t}});var Vi=wi.extend({initialize:function(e,t){wi.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){e=S(e);return[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});Hi.create=zi;Hi.pointsToPath=O;Ti.geometryToLayer=$e;Ti.coordsToLatLng=Ke;Ti.coordsToLatLngs=Xe;Ti.latLngToCoords=Qe;Ti.latLngsToCoords=Je;Ti.getFeature=et;Ti.asFeature=tt;Bn.mergeOptions({boxZoom:!0});var Wi=$n.extend({initialize:function(e){this._map=e;this._container=e._container;this._pane=e._panes.overlayPane;this._resetStateTimeout=0;e.on("unload",this._destroy,this)},addHooks:function(){V(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){W(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ue(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){if(0!==this._resetStateTimeout){clearTimeout(this._resetStateTimeout);this._resetStateTimeout=0}},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState();this._resetState();At();Te();this._startPoint=this._map.mouseEventToContainerPoint(e);V(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){if(!this._moved){this._moved=!0;this._box=le("div","leaflet-zoom-box",this._container);de(this._container,"leaflet-crosshair");this._map.fire("boxzoomstart")}this._point=this._map.mouseEventToContainerPoint(e);var t=new E(this._point,this._startPoint),n=t.getSize();Ee(this._box,t.min);this._box.style.width=n.x+"px";this._box.style.height=n.y+"px"},_finish:function(){if(this._moved){ue(this._box);ge(this._container,"leaflet-crosshair")}Rt();Se();W(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(1===e.which||1===e.button){this._finish();if(this._moved){this._clearDeferredResetState();this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var t=new T(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});Bn.addInitHook("addHandler","boxZoom",Wi);Bn.mergeOptions({doubleClickZoom:!0});var Yi=$n.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,r=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(r):t.setZoomAround(e.containerPoint,r)}});Bn.addInitHook("addHandler","doubleClickZoom",Yi);Bn.mergeOptions({dragging:!0,inertia:!Ft,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Zi=$n.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ti(e._mapPane,e._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);if(e.options.worldCopyJump){this._draggable.on("predrag",this._onPreDragWrap,this);e.on("zoomend",this._onZoomEnd,this);e.whenReady(this._onZoomEnd,this)}}de(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab");ge(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;e._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=S(this._map.options.maxBounds);this._offsetLimit=w(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart");if(e.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n);this._times.push(t);this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;){this._positions.shift();this._times.shift()}},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x));e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y));e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x));e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y));this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-t+n)%e+t-n,o=(i+t+n)%e-t-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=s},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||this._times.length<2;t.fire("dragend",e);if(i)t.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/o),l=a.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=a.multiplyBy(u/l),f=u/(n.inertiaDeceleration*s),p=c.multiplyBy(-f/2).round();if(p.x||p.y){p=t._limitOffset(p,t.options.maxBounds);m(function(){t.panBy(p,{duration:f,easeLinearity:s,noMoveStart:!0,animate:!0})})}else t.fire("moveend")}}});Bn.addInitHook("addHandler","dragging",Zi);Bn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $i=$n.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e;this._setPanDelta(e.options.keyboardPanDelta);this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0");V(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();W(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus();window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},r=this.keyCodes;for(t=0,n=r.left.length;t<n;t++)i[r.left[t]]=[-1*e,0];for(t=0,n=r.right.length;t<n;t++)i[r.right[t]]=[e,0];for(t=0,n=r.down.length;t<n;t++)i[r.down[t]]=[0,e];for(t=0,n=r.up.length;t<n;t++)i[r.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},r=this.keyCodes;for(t=0,n=r.zoomIn.length;t<n;t++)i[r.zoomIn[t]]=e;for(t=0,n=r.zoomOut.length;t<n;t++)i[r.zoomOut[t]]=-e},_addHooks:function(){V(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){W(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;t=this._panKeys[n];e.shiftKey&&(t=_(t).multiplyBy(3));i.panBy(t);i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}J(e)}}});Bn.addInitHook("addHandler","keyboard",$i);Bn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ki=$n.extend({addHooks:function(){V(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){W(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=te(e),i=this._map.options.wheelDebounceTime;this._delta+=t;this._lastMousePos=this._map.mouseEventToContainerPoint(e);this._startTime||(this._startTime=+new Date);var r=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(n(this._performZoom,this),r);J(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0;this._startTime=null;s&&("center"===e.options.scrollWheelZoom?e.setZoom(t+s):e.setZoomAround(this._lastMousePos,t+s))}});Bn.addInitHook("addHandler","scrollWheelZoom",Ki);Bn.mergeOptions({tap:!0,tapTolerance:15});var Xi=$n.extend({addHooks:function(){V(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){W(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){Q(e);this._fireClick=!0;if(e.touches.length>1){this._fireClick=!1;clearTimeout(this._holdTimeout)}else{var t=e.touches[0],i=t.target;this._startPos=this._newPos=new x(t.clientX,t.clientY);i.tagName&&"a"===i.tagName.toLowerCase()&&de(i,"leaflet-active");this._holdTimeout=setTimeout(n(function(){if(this._isTapValid()){this._fireClick=!1;this._onUp();this._simulateEvent("contextmenu",t)}},this),1e3);this._simulateEvent("mousedown",t);V(document,{touchmove:this._onMove,touchend:this._onUp},this)}}},_onUp:function(e){clearTimeout(this._holdTimeout);W(document,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&ge(n,"leaflet-active");this._simulateEvent("mouseup",t);this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new x(t.clientX,t.clientY);this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0;t.target._simulatedClick=!0;n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null);t.target.dispatchEvent(n)}});an&&!sn&&Bn.addInitHook("addHandler","tap",Xi);Bn.mergeOptions({touchZoom:an&&!Ft,bounceAtZoomLimits:!0});var Qi=$n.extend({addHooks:function(){de(this._map._container,"leaflet-touch-zoom");V(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom");W(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2);this._startLatLng=t.containerPointToLatLng(this._centerPoint);"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2)));this._startDist=n.distanceTo(i);this._startZoom=t.getZoom();this._moved=!1;this._zooming=!0;t._stop();V(document,"touchmove",this._onTouchMove,this);V(document,"touchend",this._onTouchEnd,this);Q(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,i=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=i.distanceTo(r)/this._startDist;this._zoom=t.getScaleZoom(o,this._startZoom);!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom));if("center"===t.options.touchZoom){this._center=this._startLatLng;if(1===o)return}else{var s=i._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}if(!this._moved){t._moveStart(!0,!1);this._moved=!0}v(this._animRequest);var a=n(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=m(a,this,!0);Q(e)}},_onTouchEnd:function(){if(this._moved&&this._zooming){this._zooming=!1;v(this._animRequest);W(document,"touchmove",this._onTouchMove);W(document,"touchend",this._onTouchEnd);this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}else this._zooming=!1}});Bn.addInitHook("addHandler","touchZoom",Qi);Bn.BoxZoom=Wi;Bn.DoubleClickZoom=Yi;Bn.Drag=Zi;Bn.Keyboard=$i;Bn.ScrollWheelZoom=Ki;Bn.Tap=Xi;Bn.TouchZoom=Qi;var Ji=window.L;window.L=e;Object.freeze=ht;e.version=pt;e.noConflict=ft;e.Control=qn;e.control=Un;e.Browser=dn;e.Evented=Tt;e.Mixin=Xn;e.Util=Et;e.Class=y;e.Handler=$n;e.extend=t;e.bind=n;e.stamp=i;e.setOptions=c;e.DomEvent=In;e.DomUtil=Dn;e.PosAnimation=jn;e.Draggable=ti;e.LineUtil=ni;e.PolyUtil=ii;e.Point=x;e.point=_;e.Bounds=E;e.bounds=w;e.Transformation=I;e.transformation=A;e.Projection=si;e.LatLng=C;e.latLng=N;e.LatLngBounds=T;e.latLngBounds=S;e.CRS=Ct;
e.GeoJSON=Ti;e.geoJSON=nt;e.geoJson=Ci;e.Layer=ci;e.LayerGroup=fi;e.layerGroup=pi;e.FeatureGroup=hi;e.featureGroup=di;e.ImageOverlay=Li;e.imageOverlay=Ni;e.VideoOverlay=Ii;e.videoOverlay=it;e.DivOverlay=Ai;e.Popup=Ri;e.popup=Oi;e.Tooltip=Pi;e.tooltip=ki;e.Icon=gi;e.icon=ze;e.DivIcon=Mi;e.divIcon=rt;e.Marker=yi;e.marker=He;e.TileLayer=ji;e.tileLayer=st;e.GridLayer=Di;e.gridLayer=ot;e.SVG=Hi;e.svg=ut;e.Renderer=qi;e.Canvas=Ui;e.canvas=lt;e.Path=bi;e.CircleMarker=xi;e.circleMarker=Ve;e.Circle=_i;e.circle=We;e.Polyline=Ei;e.polyline=Ye;e.Polygon=wi;e.polygon=Ze;e.Rectangle=Vi;e.rectangle=ct;e.Map=Bn;e.map=Ne})},{}],75:[function(e,t,n){function i(e,t,n){return e*(1-n)+t*n}t.exports=i},{}],76:[function(e,t,n){var i=e("./_getNative"),r=e("./_root"),o=i(r,"DataView");t.exports=o},{"./_getNative":131,"./_root":166}],77:[function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;this.clear();for(;++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=e("./_hashClear"),o=e("./_hashDelete"),s=e("./_hashGet"),a=e("./_hashHas"),l=e("./_hashSet");i.prototype.clear=r;i.prototype["delete"]=o;i.prototype.get=s;i.prototype.has=a;i.prototype.set=l;t.exports=i},{"./_hashClear":137,"./_hashDelete":138,"./_hashGet":139,"./_hashHas":140,"./_hashSet":141}],78:[function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;this.clear();for(;++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=e("./_listCacheClear"),o=e("./_listCacheDelete"),s=e("./_listCacheGet"),a=e("./_listCacheHas"),l=e("./_listCacheSet");i.prototype.clear=r;i.prototype["delete"]=o;i.prototype.get=s;i.prototype.has=a;i.prototype.set=l;t.exports=i},{"./_listCacheClear":148,"./_listCacheDelete":149,"./_listCacheGet":150,"./_listCacheHas":151,"./_listCacheSet":152}],79:[function(e,t,n){var i=e("./_getNative"),r=e("./_root"),o=i(r,"Map");t.exports=o},{"./_getNative":131,"./_root":166}],80:[function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;this.clear();for(;++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=e("./_mapCacheClear"),o=e("./_mapCacheDelete"),s=e("./_mapCacheGet"),a=e("./_mapCacheHas"),l=e("./_mapCacheSet");i.prototype.clear=r;i.prototype["delete"]=o;i.prototype.get=s;i.prototype.has=a;i.prototype.set=l;t.exports=i},{"./_mapCacheClear":153,"./_mapCacheDelete":154,"./_mapCacheGet":155,"./_mapCacheHas":156,"./_mapCacheSet":157}],81:[function(e,t,n){var i=e("./_getNative"),r=e("./_root"),o=i(r,"Promise");t.exports=o},{"./_getNative":131,"./_root":166}],82:[function(e,t,n){var i=e("./_getNative"),r=e("./_root"),o=i(r,"Set");t.exports=o},{"./_getNative":131,"./_root":166}],83:[function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;this.__data__=new r;for(;++t<n;)this.add(e[t])}var r=e("./_MapCache"),o=e("./_setCacheAdd"),s=e("./_setCacheHas");i.prototype.add=i.prototype.push=o;i.prototype.has=s;t.exports=i},{"./_MapCache":80,"./_setCacheAdd":167,"./_setCacheHas":168}],84:[function(e,t,n){function i(e){var t=this.__data__=new r(e);this.size=t.size}var r=e("./_ListCache"),o=e("./_stackClear"),s=e("./_stackDelete"),a=e("./_stackGet"),l=e("./_stackHas"),u=e("./_stackSet");i.prototype.clear=o;i.prototype["delete"]=s;i.prototype.get=a;i.prototype.has=l;i.prototype.set=u;t.exports=i},{"./_ListCache":78,"./_stackClear":170,"./_stackDelete":171,"./_stackGet":172,"./_stackHas":173,"./_stackSet":174}],85:[function(e,t,n){var i=e("./_root"),r=i.Symbol;t.exports=r},{"./_root":166}],86:[function(e,t,n){var i=e("./_root"),r=i.Uint8Array;t.exports=r},{"./_root":166}],87:[function(e,t,n){var i=e("./_getNative"),r=e("./_root"),o=i(r,"WeakMap");t.exports=o},{"./_getNative":131,"./_root":166}],88:[function(e,t,n){function i(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}t.exports=i},{}],89:[function(e,t,n){function i(e,t){var n=s(e),i=!n&&o(e),c=!n&&!i&&a(e),p=!n&&!i&&!c&&u(e),h=n||i||c||p,d=h?r(e.length,String):[],g=d.length;for(var m in e)!t&&!f.call(e,m)||h&&("length"==m||c&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||l(m,g))||d.push(m);return d}var r=e("./_baseTimes"),o=e("./isArguments"),s=e("./isArray"),a=e("./isBuffer"),l=e("./_isIndex"),u=e("./isTypedArray"),c=Object.prototype,f=c.hasOwnProperty;t.exports=i},{"./_baseTimes":116,"./_isIndex":142,"./isArguments":182,"./isArray":183,"./isBuffer":185,"./isTypedArray":191}],90:[function(e,t,n){function i(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}t.exports=i},{}],91:[function(e,t,n){function i(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}t.exports=i},{}],92:[function(e,t,n){function i(e,t,n,i){var r=-1,o=null==e?0:e.length;i&&o&&(n=e[++r]);for(;++r<o;)n=t(n,e[r],r,e);return n}t.exports=i},{}],93:[function(e,t,n){function i(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}t.exports=i},{}],94:[function(e,t,n){function i(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=e("./eq");t.exports=i},{"./eq":178}],95:[function(e,t,n){var i=e("./_baseForOwn"),r=e("./_createBaseEach"),o=r(i);t.exports=o},{"./_baseForOwn":97,"./_createBaseEach":122}],96:[function(e,t,n){var i=e("./_createBaseFor"),r=i();t.exports=r},{"./_createBaseFor":123}],97:[function(e,t,n){function i(e,t){return e&&r(e,t,o)}var r=e("./_baseFor"),o=e("./keys");t.exports=i},{"./_baseFor":96,"./keys":192}],98:[function(e,t,n){function i(e,t){t=r(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}var r=e("./_castPath"),o=e("./_toKey");t.exports=i},{"./_castPath":120,"./_toKey":176}],99:[function(e,t,n){function i(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}var r=e("./_arrayPush"),o=e("./isArray");t.exports=i},{"./_arrayPush":91,"./isArray":183}],100:[function(e,t,n){function i(e){return null==e?void 0===e?l:a:u&&u in Object(e)?o(e):s(e)}var r=e("./_Symbol"),o=e("./_getRawTag"),s=e("./_objectToString"),a="[object Null]",l="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=i},{"./_Symbol":85,"./_getRawTag":132,"./_objectToString":164}],101:[function(e,t,n){function i(e,t){return null!=e&&t in Object(e)}t.exports=i},{}],102:[function(e,t,n){function i(e){return o(e)&&r(e)==s}var r=e("./_baseGetTag"),o=e("./isObjectLike"),s="[object Arguments]";t.exports=i},{"./_baseGetTag":100,"./isObjectLike":189}],103:[function(e,t,n){function i(e,t,n,s,a){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:r(e,t,n,s,i,a))}var r=e("./_baseIsEqualDeep"),o=e("./isObjectLike");t.exports=i},{"./_baseIsEqualDeep":104,"./isObjectLike":189}],104:[function(e,t,n){function i(e,t,n,i,m,y){var b=u(e),x=u(t),_=b?d:l(e),E=x?d:l(t);_=_==h?g:_;E=E==h?g:E;var w=_==g,T=E==g,S=_==E;if(S&&c(e)){if(!c(t))return!1;b=!0;w=!1}if(S&&!w){y||(y=new r);return b||f(e)?o(e,t,n,i,m,y):s(e,t,_,n,i,m,y)}if(!(n&p)){var C=w&&v.call(e,"__wrapped__"),L=T&&v.call(t,"__wrapped__");if(C||L){var N=C?e.value():e,I=L?t.value():t;y||(y=new r);return m(N,I,n,i,y)}}if(!S)return!1;y||(y=new r);return a(e,t,n,i,m,y)}var r=e("./_Stack"),o=e("./_equalArrays"),s=e("./_equalByTag"),a=e("./_equalObjects"),l=e("./_getTag"),u=e("./isArray"),c=e("./isBuffer"),f=e("./isTypedArray"),p=1,h="[object Arguments]",d="[object Array]",g="[object Object]",m=Object.prototype,v=m.hasOwnProperty;t.exports=i},{"./_Stack":84,"./_equalArrays":124,"./_equalByTag":125,"./_equalObjects":126,"./_getTag":134,"./isArray":183,"./isBuffer":185,"./isTypedArray":191}],105:[function(e,t,n){function i(e,t,n,i){var l=n.length,u=l,c=!i;if(null==e)return!u;e=Object(e);for(;l--;){var f=n[l];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++l<u;){f=n[l];var p=f[0],h=e[p],d=f[1];if(c&&f[2]){if(void 0===h&&!(p in e))return!1}else{var g=new r;if(i)var m=i(h,d,p,e,t,g);if(!(void 0===m?o(d,h,s|a,i,g):m))return!1}}return!0}var r=e("./_Stack"),o=e("./_baseIsEqual"),s=1,a=2;t.exports=i},{"./_Stack":84,"./_baseIsEqual":103}],106:[function(e,t,n){function i(e){if(!s(e)||o(e))return!1;var t=r(e)?d:u;return t.test(a(e))}var r=e("./isFunction"),o=e("./_isMasked"),s=e("./isObject"),a=e("./_toSource"),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,p=c.toString,h=f.hasOwnProperty,d=RegExp("^"+p.call(h).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},{"./_isMasked":145,"./_toSource":177,"./isFunction":186,"./isObject":188}],107:[function(e,t,n){function i(e){return s(e)&&o(e.length)&&!!R[r(e)]}var r=e("./_baseGetTag"),o=e("./isLength"),s=e("./isObjectLike"),a="[object Arguments]",l="[object Array]",u="[object Boolean]",c="[object Date]",f="[object Error]",p="[object Function]",h="[object Map]",d="[object Number]",g="[object Object]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object WeakMap]",x="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",w="[object Float64Array]",T="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",L="[object Uint8Array]",N="[object Uint8ClampedArray]",I="[object Uint16Array]",A="[object Uint32Array]",R={};R[E]=R[w]=R[T]=R[S]=R[C]=R[L]=R[N]=R[I]=R[A]=!0;R[a]=R[l]=R[x]=R[u]=R[_]=R[c]=R[f]=R[p]=R[h]=R[d]=R[g]=R[m]=R[v]=R[y]=R[b]=!1;t.exports=i},{"./_baseGetTag":100,"./isLength":187,"./isObjectLike":189}],108:[function(e,t,n){function i(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):l(e)}var r=e("./_baseMatches"),o=e("./_baseMatchesProperty"),s=e("./identity"),a=e("./isArray"),l=e("./property");t.exports=i},{"./_baseMatches":111,"./_baseMatchesProperty":112,"./identity":181,"./isArray":183,"./property":195}],109:[function(e,t,n){function i(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}var r=e("./_isPrototype"),o=e("./_nativeKeys"),s=Object.prototype,a=s.hasOwnProperty;t.exports=i},{"./_isPrototype":146,"./_nativeKeys":162}],110:[function(e,t,n){function i(e,t){var n=-1,i=o(e)?Array(e.length):[];r(e,function(e,r,o){i[++n]=t(e,r,o)});return i}var r=e("./_baseEach"),o=e("./isArrayLike");t.exports=i},{"./_baseEach":95,"./isArrayLike":184}],111:[function(e,t,n){function i(e){var t=o(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}var r=e("./_baseIsMatch"),o=e("./_getMatchData"),s=e("./_matchesStrictComparable");t.exports=i},{"./_baseIsMatch":105,"./_getMatchData":130,"./_matchesStrictComparable":159}],112:[function(e,t,n){function i(e,t){return a(e)&&l(t)?u(c(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?s(n,e):r(t,i,f|p)}}var r=e("./_baseIsEqual"),o=e("./get"),s=e("./hasIn"),a=e("./_isKey"),l=e("./_isStrictComparable"),u=e("./_matchesStrictComparable"),c=e("./_toKey"),f=1,p=2;t.exports=i},{"./_baseIsEqual":103,"./_isKey":143,"./_isStrictComparable":147,"./_matchesStrictComparable":159,"./_toKey":176,"./get":179,"./hasIn":180}],113:[function(e,t,n){function i(e){return function(t){return null==t?void 0:t[e]}}t.exports=i},{}],114:[function(e,t,n){function i(e){return function(t){return r(t,e)}}var r=e("./_baseGet");t.exports=i},{"./_baseGet":98}],115:[function(e,t,n){function i(e,t,n,i,r){r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)});return n}t.exports=i},{}],116:[function(e,t,n){function i(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}t.exports=i},{}],117:[function(e,t,n){function i(e){if("string"==typeof e)return e;if(s(e))return o(e,i)+"";if(a(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var r=e("./_Symbol"),o=e("./_arrayMap"),s=e("./isArray"),a=e("./isSymbol"),l=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=i},{"./_Symbol":85,"./_arrayMap":90,"./isArray":183,"./isSymbol":190}],118:[function(e,t,n){function i(e){return function(t){return e(t)}}t.exports=i},{}],119:[function(e,t,n){function i(e,t){return e.has(t)}t.exports=i},{}],120:[function(e,t,n){function i(e,t){return r(e)?e:o(e,t)?[e]:s(a(e))}var r=e("./isArray"),o=e("./_isKey"),s=e("./_stringToPath"),a=e("./toString");t.exports=i},{"./_isKey":143,"./_stringToPath":175,"./isArray":183,"./toString":199}],121:[function(e,t,n){var i=e("./_root"),r=i["__core-js_shared__"];t.exports=r},{"./_root":166}],122:[function(e,t,n){function i(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&i(a[s],s,a)!==!1;);return n}}var r=e("./isArrayLike");t.exports=i},{"./isArrayLike":184}],123:[function(e,t,n){function i(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++r];if(n(o[l],l,o)===!1)break}return t}}t.exports=i},{}],124:[function(e,t,n){function i(e,t,n,i,u,c){var f=n&a,p=e.length,h=t.length;if(p!=h&&!(f&&h>p))return!1;var d=c.get(e);if(d&&c.get(t))return d==t;var g=-1,m=!0,v=n&l?new r:void 0;c.set(e,t);c.set(t,e);for(;++g<p;){var y=e[g],b=t[g];if(i)var x=f?i(b,y,g,t,e,c):i(y,b,g,e,t,c);if(void 0!==x){if(x)continue;m=!1;break}if(v){if(!o(t,function(e,t){if(!s(v,t)&&(y===e||u(y,e,n,i,c)))return v.push(t)})){m=!1;break}}else if(y!==b&&!u(y,b,n,i,c)){m=!1;break}}c["delete"](e);c["delete"](t);return m}var r=e("./_SetCache"),o=e("./_arraySome"),s=e("./_cacheHas"),a=1,l=2;t.exports=i},{"./_SetCache":83,"./_arraySome":93,"./_cacheHas":119}],125:[function(e,t,n){function i(e,t,n,i,r,w,S){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer;t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!w(new o(e),new o(t)));case p:case h:case m:return s(+e,+t);case d:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case g:var C=l;case y:var L=i&c;C||(C=u);if(e.size!=t.size&&!L)return!1;var N=S.get(e);if(N)return N==t;i|=f;S.set(e,t);var I=a(C(e),C(t),i,r,w,S);S["delete"](e);return I;case x:if(T)return T.call(e)==T.call(t)}return!1}var r=e("./_Symbol"),o=e("./_Uint8Array"),s=e("./eq"),a=e("./_equalArrays"),l=e("./_mapToArray"),u=e("./_setToArray"),c=1,f=2,p="[object Boolean]",h="[object Date]",d="[object Error]",g="[object Map]",m="[object Number]",v="[object RegExp]",y="[object Set]",b="[object String]",x="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",w=r?r.prototype:void 0,T=w?w.valueOf:void 0;t.exports=i},{"./_Symbol":85,"./_Uint8Array":86,"./_equalArrays":124,"./_mapToArray":158,"./_setToArray":169,"./eq":178}],126:[function(e,t,n){function i(e,t,n,i,s,l){var u=n&o,c=r(e),f=c.length,p=r(t),h=p.length;if(f!=h&&!u)return!1;for(var d=f;d--;){var g=c[d];if(!(u?g in t:a.call(t,g)))return!1}var m=l.get(e);if(m&&l.get(t))return m==t;var v=!0;l.set(e,t);l.set(t,e);for(var y=u;++d<f;){g=c[d];var b=e[g],x=t[g];if(i)var _=u?i(x,b,g,t,e,l):i(b,x,g,e,t,l);if(!(void 0===_?b===x||s(b,x,n,i,l):_)){v=!1;break}y||(y="constructor"==g)}if(v&&!y){var E=e.constructor,w=t.constructor;E!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof w&&w instanceof w)&&(v=!1)}l["delete"](e);l["delete"](t);return v}var r=e("./_getAllKeys"),o=1,s=Object.prototype,a=s.hasOwnProperty;t.exports=i},{"./_getAllKeys":128}],127:[function(e,t,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],128:[function(e,t,n){function i(e){return r(e,s,o)}var r=e("./_baseGetAllKeys"),o=e("./_getSymbols"),s=e("./keys");t.exports=i},{"./_baseGetAllKeys":99,"./_getSymbols":133,"./keys":192}],129:[function(e,t,n){function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=e("./_isKeyable");t.exports=i},{"./_isKeyable":144}],130:[function(e,t,n){function i(e){for(var t=o(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,r(s)]}return t}var r=e("./_isStrictComparable"),o=e("./keys");t.exports=i},{"./_isStrictComparable":147,"./keys":192}],131:[function(e,t,n){function i(e,t){var n=o(e,t);return r(n)?n:void 0}var r=e("./_baseIsNative"),o=e("./_getValue");t.exports=i},{"./_baseIsNative":106,"./_getValue":135}],132:[function(e,t,n){function i(e){var t=s.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(r){}var o=a.call(e);i&&(t?e[l]=n:delete e[l]);return o}var r=e("./_Symbol"),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,l=r?r.toStringTag:void 0;t.exports=i},{"./_Symbol":85}],133:[function(e,t,n){var i=e("./_arrayFilter"),r=e("./stubArray"),o=Object.prototype,s=o.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(e){if(null==e)return[];e=Object(e);return i(a(e),function(t){return s.call(e,t)})}:r;t.exports=l},{"./_arrayFilter":88,"./stubArray":197}],134:[function(e,t,n){var i=e("./_DataView"),r=e("./_Map"),o=e("./_Promise"),s=e("./_Set"),a=e("./_WeakMap"),l=e("./_baseGetTag"),u=e("./_toSource"),c="[object Map]",f="[object Object]",p="[object Promise]",h="[object Set]",d="[object WeakMap]",g="[object DataView]",m=u(i),v=u(r),y=u(o),b=u(s),x=u(a),_=l;(i&&_(new i(new ArrayBuffer(1)))!=g||r&&_(new r)!=c||o&&_(o.resolve())!=p||s&&_(new s)!=h||a&&_(new a)!=d)&&(_=function(e){var t=l(e),n=t==f?e.constructor:void 0,i=n?u(n):"";if(i)switch(i){case m:return g;case v:return c;case y:return p;case b:return h;case x:return d}return t});t.exports=_},{"./_DataView":76,"./_Map":79,"./_Promise":81,"./_Set":82,"./_WeakMap":87,"./_baseGetTag":100,"./_toSource":177}],135:[function(e,t,n){function i(e,t){return null==e?void 0:e[t]}t.exports=i},{}],136:[function(e,t,n){function i(e,t,n){t=r(t,e);for(var i=-1,c=t.length,f=!1;++i<c;){var p=u(t[i]);if(!(f=null!=e&&n(e,p)))break;e=e[p]}if(f||++i!=c)return f;c=null==e?0:e.length;return!!c&&l(c)&&a(p,c)&&(s(e)||o(e))}var r=e("./_castPath"),o=e("./isArguments"),s=e("./isArray"),a=e("./_isIndex"),l=e("./isLength"),u=e("./_toKey");t.exports=i},{"./_castPath":120,"./_isIndex":142,"./_toKey":176,"./isArguments":182,"./isArray":183,"./isLength":187}],137:[function(e,t,n){function i(){this.__data__=r?r(null):{};this.size=0}var r=e("./_nativeCreate");t.exports=i},{"./_nativeCreate":161}],138:[function(e,t,n){function i(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}t.exports=i},{}],139:[function(e,t,n){function i(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return a.call(t,e)?t[e]:void 0}var r=e("./_nativeCreate"),o="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;t.exports=i},{"./_nativeCreate":161}],140:[function(e,t,n){function i(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)}var r=e("./_nativeCreate"),o=Object.prototype,s=o.hasOwnProperty;t.exports=i},{"./_nativeCreate":161}],141:[function(e,t,n){function i(e,t){var n=this.__data__;this.size+=this.has(e)?0:1;n[e]=r&&void 0===t?o:t;return this}var r=e("./_nativeCreate"),o="__lodash_hash_undefined__";t.exports=i},{"./_nativeCreate":161}],142:[function(e,t,n){function i(e,t){t=null==t?r:t;return!!t&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=i},{}],143:[function(e,t,n){function i(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!s.test(e)||null!=t&&e in Object(t))}var r=e("./isArray"),o=e("./isSymbol"),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=i},{"./isArray":183,"./isSymbol":190}],144:[function(e,t,n){function i(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}t.exports=i},{}],145:[function(e,t,n){function i(e){return!!o&&o in e}var r=e("./_coreJsData"),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();t.exports=i},{"./_coreJsData":121}],146:[function(e,t,n){function i(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||r;return e===n}var r=Object.prototype;t.exports=i},{}],147:[function(e,t,n){function i(e){return e===e&&!r(e)}var r=e("./isObject");t.exports=i},{"./isObject":188}],148:[function(e,t,n){function i(){this.__data__=[];this.size=0}t.exports=i},{}],149:[function(e,t,n){function i(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var i=t.length-1;n==i?t.pop():s.call(t,n,1);--this.size;return!0}var r=e("./_assocIndexOf"),o=Array.prototype,s=o.splice;t.exports=i},{"./_assocIndexOf":94}],150:[function(e,t,n){function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}var r=e("./_assocIndexOf");t.exports=i},{"./_assocIndexOf":94}],151:[function(e,t,n){function i(e){return r(this.__data__,e)>-1}var r=e("./_assocIndexOf");t.exports=i},{"./_assocIndexOf":94}],152:[function(e,t,n){function i(e,t){var n=this.__data__,i=r(n,e);if(i<0){++this.size;n.push([e,t])}else n[i][1]=t;return this}var r=e("./_assocIndexOf");t.exports=i},{"./_assocIndexOf":94}],153:[function(e,t,n){function i(){this.size=0;this.__data__={hash:new r,map:new(s||o),string:new r}}var r=e("./_Hash"),o=e("./_ListCache"),s=e("./_Map");t.exports=i},{"./_Hash":77,"./_ListCache":78,"./_Map":79}],154:[function(e,t,n){function i(e){var t=r(this,e)["delete"](e);this.size-=t?1:0;return t}var r=e("./_getMapData");t.exports=i},{"./_getMapData":129}],155:[function(e,t,n){function i(e){return r(this,e).get(e)}var r=e("./_getMapData");t.exports=i},{"./_getMapData":129}],156:[function(e,t,n){function i(e){return r(this,e).has(e)}var r=e("./_getMapData");t.exports=i},{"./_getMapData":129}],157:[function(e,t,n){function i(e,t){var n=r(this,e),i=n.size;n.set(e,t);this.size+=n.size==i?0:1;return this}var r=e("./_getMapData");t.exports=i},{"./_getMapData":129}],158:[function(e,t,n){function i(e){var t=-1,n=Array(e.size);e.forEach(function(e,i){n[++t]=[i,e]});return n}t.exports=i},{}],159:[function(e,t,n){function i(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}t.exports=i},{}],160:[function(e,t,n){function i(e){var t=r(e,function(e){n.size===o&&n.clear();return e}),n=t.cache;return t}var r=e("./memoize"),o=500;t.exports=i},{"./memoize":194}],161:[function(e,t,n){var i=e("./_getNative"),r=i(Object,"create");t.exports=r},{"./_getNative":131}],162:[function(e,t,n){var i=e("./_overArg"),r=i(Object.keys,Object);t.exports=r},{"./_overArg":165}],163:[function(e,t,n){var i=e("./_freeGlobal"),r="object"==typeof n&&n&&!n.nodeType&&n,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===r,a=s&&i.process,l=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=l},{"./_freeGlobal":127}],164:[function(e,t,n){function i(e){return o.call(e)}var r=Object.prototype,o=r.toString;t.exports=i},{}],165:[function(e,t,n){function i(e,t){return function(n){return e(t(n))}}t.exports=i},{}],166:[function(e,t,n){var i=e("./_freeGlobal"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},{"./_freeGlobal":127}],167:[function(e,t,n){function i(e){this.__data__.set(e,r);return this}var r="__lodash_hash_undefined__";t.exports=i},{}],168:[function(e,t,n){function i(e){return this.__data__.has(e)}t.exports=i},{}],169:[function(e,t,n){function i(e){var t=-1,n=Array(e.size);e.forEach(function(e){n[++t]=e});return n}t.exports=i},{}],170:[function(e,t,n){function i(){this.__data__=new r;this.size=0}var r=e("./_ListCache");t.exports=i},{"./_ListCache":78}],171:[function(e,t,n){function i(e){var t=this.__data__,n=t["delete"](e);this.size=t.size;return n}t.exports=i},{}],172:[function(e,t,n){function i(e){return this.__data__.get(e)}t.exports=i},{}],173:[function(e,t,n){function i(e){return this.__data__.has(e)}t.exports=i},{}],174:[function(e,t,n){function i(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<a-1){i.push([e,t]);this.size=++n.size;return this}n=this.__data__=new s(i)}n.set(e,t);this.size=n.size;return this}var r=e("./_ListCache"),o=e("./_Map"),s=e("./_MapCache"),a=200;t.exports=i},{"./_ListCache":78,"./_Map":79,"./_MapCache":80}],175:[function(e,t,n){var i=e("./_memoizeCapped"),r=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,a=i(function(e){var t=[];r.test(e)&&t.push("");e.replace(o,function(e,n,i,r){t.push(i?r.replace(s,"$1"):n||e)});return t});t.exports=a},{"./_memoizeCapped":160}],176:[function(e,t,n){function i(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var r=e("./isSymbol"),o=1/0;t.exports=i},{"./isSymbol":190}],177:[function(e,t,n){function i(e){if(null!=e){try{return o.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var r=Function.prototype,o=r.toString;t.exports=i},{}],178:[function(e,t,n){function i(e,t){return e===t||e!==e&&t!==t}t.exports=i},{}],179:[function(e,t,n){function i(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}var r=e("./_baseGet");t.exports=i},{"./_baseGet":98}],180:[function(e,t,n){function i(e,t){return null!=e&&o(e,t,r)}var r=e("./_baseHasIn"),o=e("./_hasPath");t.exports=i},{"./_baseHasIn":101,"./_hasPath":136}],181:[function(e,t,n){function i(e){return e}t.exports=i},{}],182:[function(e,t,n){var i=e("./_baseIsArguments"),r=e("./isObjectLike"),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};t.exports=l},{"./_baseIsArguments":102,"./isObjectLike":189}],183:[function(e,t,n){var i=Array.isArray;t.exports=i},{}],184:[function(e,t,n){function i(e){return null!=e&&o(e.length)&&!r(e)}var r=e("./isFunction"),o=e("./isLength");t.exports=i},{"./isFunction":186,"./isLength":187}],185:[function(e,t,n){var i=e("./_root"),r=e("./stubFalse"),o="object"==typeof n&&n&&!n.nodeType&&n,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o,l=a?i.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||r;t.exports=c},{"./_root":166,"./stubFalse":198}],186:[function(e,t,n){function i(e){if(!o(e))return!1;var t=r(e);return t==a||t==l||t==s||t==u}var r=e("./_baseGetTag"),o=e("./isObject"),s="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";t.exports=i},{"./_baseGetTag":100,"./isObject":188}],187:[function(e,t,n){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;t.exports=i},{}],188:[function(e,t,n){function i(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}t.exports=i},{}],189:[function(e,t,n){function i(e){return null!=e&&"object"==typeof e}t.exports=i},{}],190:[function(e,t,n){function i(e){return"symbol"==typeof e||o(e)&&r(e)==s}var r=e("./_baseGetTag"),o=e("./isObjectLike"),s="[object Symbol]";t.exports=i},{"./_baseGetTag":100,"./isObjectLike":189}],191:[function(e,t,n){var i=e("./_baseIsTypedArray"),r=e("./_baseUnary"),o=e("./_nodeUtil"),s=o&&o.isTypedArray,a=s?r(s):i;t.exports=a},{"./_baseIsTypedArray":107,"./_baseUnary":118,"./_nodeUtil":163}],192:[function(e,t,n){function i(e){return s(e)?r(e):o(e)}var r=e("./_arrayLikeKeys"),o=e("./_baseKeys"),s=e("./isArrayLike");t.exports=i},{"./_arrayLikeKeys":89,"./_baseKeys":109,"./isArrayLike":184}],193:[function(e,t,n){function i(e,t){var n=a(e)?r:s;return n(e,o(t,3))}var r=e("./_arrayMap"),o=e("./_baseIteratee"),s=e("./_baseMap"),a=e("./isArray");t.exports=i},{"./_arrayMap":90,"./_baseIteratee":108,"./_baseMap":110,"./isArray":183}],194:[function(e,t,n){function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);n.cache=o.set(r,s)||o;return s};n.cache=new(i.Cache||r);return n}var r=e("./_MapCache"),o="Expected a function";i.Cache=r;t.exports=i},{"./_MapCache":80}],195:[function(e,t,n){function i(e){return s(e)?r(a(e)):o(e)}var r=e("./_baseProperty"),o=e("./_basePropertyDeep"),s=e("./_isKey"),a=e("./_toKey");t.exports=i},{"./_baseProperty":113,"./_basePropertyDeep":114,"./_isKey":143,"./_toKey":176}],196:[function(e,t,n){function i(e,t,n){var i=l(e)?r:a,u=arguments.length<3;return i(e,s(t,4),n,u,o)}var r=e("./_arrayReduce"),o=e("./_baseEach"),s=e("./_baseIteratee"),a=e("./_baseReduce"),l=e("./isArray");t.exports=i},{"./_arrayReduce":92,"./_baseEach":95,"./_baseIteratee":108,"./_baseReduce":115,"./isArray":183}],197:[function(e,t,n){function i(){return[]}t.exports=i},{}],198:[function(e,t,n){function i(){return!1}t.exports=i},{}],199:[function(e,t,n){function i(e){return null==e?"":r(e)}var r=e("./_baseToString");t.exports=i},{"./_baseToString":117}],200:[function(e,t,n){(function(e,i){"function"==typeof define&&define.amd?define(i):"object"==typeof n?t.exports=i():e.MicroPlugin=i()})(this,function(){var e={};e.mixin=function(e){e.plugins={};e.prototype.initializePlugins=function(e){var n,i,r,o=this,s=[];o.plugins={names:[],settings:{},requested:{},loaded:{}};if(t.isArray(e))for(n=0,i=e.length;n<i;n++)if("string"==typeof e[n])s.push(e[n]);else{o.plugins.settings[e[n].name]=e[n].options;s.push(e[n].name)}else if(e)for(r in e)if(e.hasOwnProperty(r)){o.plugins.settings[r]=e[r];s.push(r)}for(;s.length;)o.require(s.shift())};e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,r=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0;i.loaded[t]=r.fn.apply(n,[n.plugins.settings[t]||{}]);i.names.push(t)};e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]};e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})},{}],201:[function(e,t,n){(function(){var i;i=function(i){return"object"==typeof n&&"object"==typeof t?i(e("jquery"),e("d3")):"function"==typeof define&&define.amd?define(["jquery","d3"],i):i(jQuery,d3)};i(function(e,t){return e.pivotUtilities.d3_renderers={Treemap:function(n,i){var r,o,s,a,l,u,c,f,p,h,d,g,m;s={localeStrings:{},d3:{width:function(){return e(window).width()/1.4},height:function(){return e(window).height()/1.4}}};i=e.extend(!0,{},s,i);f=e("<div>").css({width:"100%",height:"100%"});h={name:"All",children:[]};r=function(e,t,n){var i,o,s,a,l,u;if(0!==t.length){null==e.children&&(e.children=[]);u=t.shift();l=e.children;for(o=0,s=l.length;o<s;o++){i=l[o];if(i.name===u){r(i,t,n);return}}a={name:u};r(a,t,n);return e.children.push(a)}e.value=n};c=n.getRowKeys();for(l=0,u=c.length;l<u;l++){p=c[l];g=n.getAggregator(p,[]).value();null!=g&&r(h,p,g)}o=t.scale.category10();m=i.d3.width();a=i.d3.height();d=t.layout.treemap().size([m,a]).sticky(!0).value(function(e){return e.size});t.select(f[0]).append("div").style("position","relative").style("width",m+"px").style("height",a+"px").datum(h).selectAll(".node").data(d.padding([15,0,0,0]).value(function(e){return e.value}).nodes).enter().append("div").attr("class","node").style("background",function(e){return null!=e.children?"lightgrey":o(e.name)}).text(function(e){return e.name}).call(function(){this.style("left",function(e){return e.x+"px"}).style("top",function(e){return e.y+"px"}).style("width",function(e){return Math.max(0,e.dx-1)+"px"}).style("height",function(e){return Math.max(0,e.dy-1)+"px"})});return f}}})}).call(this)},{d3:60,jquery:73}],202:[function(e,t,n){(function(){var i;i=function(i){return"object"==typeof n&&"object"==typeof t?i(e("jquery")):"function"==typeof define&&define.amd?define(["jquery"],i):i(jQuery)};i(function(e){var t;t=function(t,n){return function(i,r){var o,s,a,l,u,c,f,p,h,d,g,m,v,y,b,x,_,E,w,T,S,C,L,N,I,A,R,O,P,k,M;p={localeStrings:{vs:"vs",by:"by"},gchart:{}};r=e.extend(!0,{},p,r);null==(s=r.gchart).width&&(s.width=window.innerWidth/1.4);null==(a=r.gchart).height&&(a.height=window.innerHeight/1.4);N=i.getRowKeys();0===N.length&&N.push([]);u=i.getColKeys();0===u.length&&u.push([]);h=i.aggregatorName;i.valAttrs.length&&(h+="("+i.valAttrs.join(", ")+")");v=function(){var e,t,n;n=[];for(e=0,t=N.length;e<t;e++){g=N[e];n.push(g.join("-"))}return n}();v.unshift("");E=0;if("ScatterChart"===t){c=[];T=i.tree;for(M in T){A=T[M];for(k in A){o=A[k];c.push([parseFloat(k),parseFloat(M),h+": \n"+o.format(o.value())])}}f=new google.visualization.DataTable;f.addColumn("number",i.colAttrs.join("-"));
f.addColumn("number",i.rowAttrs.join("-"));f.addColumn({type:"string",role:"tooltip"});f.addRows(c);m=i.colAttrs.join("-");R=i.rowAttrs.join("-");I=""}else{c=[v];for(y=0,x=u.length;y<x;y++){l=u[y];C=[l.join("-")];E+=C[0].length;for(b=0,_=N.length;b<_;b++){L=N[b];o=i.getAggregator(L,l);if(null!=o.value()){O=o.value();e.isNumeric(O)?O<1?C.push(parseFloat(O.toPrecision(3))):C.push(parseFloat(O.toFixed(3))):C.push(O)}else C.push(null)}c.push(C)}f=google.visualization.arrayToDataTable(c);I=R=h;m=i.colAttrs.join("-");""!==m&&(I+=" "+r.localeStrings.vs+" "+m);d=i.rowAttrs.join("-");""!==d&&(I+=" "+r.localeStrings.by+" "+d)}w={title:I,hAxis:{title:m,slantedText:E>50},vAxis:{title:R},tooltip:{textStyle:{fontName:"Arial",fontSize:12}}};"ColumnChart"===t&&(w.vAxis.minValue=0);if("ScatterChart"===t){w.legend={position:"none"};w.chartArea={width:"80%",height:"80%"}}else 2===c[0].length&&""===c[0][1]&&(w.legend={position:"none"});w=e.extend(!0,{},w,r.gchart,n);S=e("<div>").css({width:"100%",height:"100%"});P=new google.visualization.ChartWrapper({dataTable:f,chartType:t,options:w});P.draw(S[0]);S.bind("dblclick",function(){var e;e=new google.visualization.ChartEditor;google.visualization.events.addListener(e,"ok",function(){return e.getChartWrapper().draw(S[0])});return e.openDialog(P)});return S}};return e.pivotUtilities.gchart_renderers={"Line Chart":t("LineChart"),"Bar Chart":t("ColumnChart"),"Stacked Bar Chart":t("ColumnChart",{isStacked:!0}),"Area Chart":t("AreaChart",{isStacked:!0}),"Scatter Chart":t("ScatterChart")}})}).call(this)},{jquery:73}],203:[function(e,t,n){(function(){var i,r=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=[].slice,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty;i=function(i){return"object"==typeof n&&"object"==typeof t?i(e("jquery")):"function"==typeof define&&define.amd?define(["jquery"],i):i(jQuery)};i(function(e){var t,n,i,l,u,c,f,p,h,d,g,m,v,y,b,x,_,E,w,T,S;n=function(e,t,n){var i,r,o,s;e+="";r=e.split(".");o=r[0];s=r.length>1?n+r[1]:"";i=/(\d+)(\d{3})/;for(;i.test(o);)o=o.replace(i,"$1"+t+"$2");return o+s};g=function(t){var i;i={digitsAfterDecimal:2,scaler:1,thousandsSep:",",decimalSep:".",prefix:"",suffix:""};t=e.extend({},i,t);return function(e){var i;if(isNaN(e)||!isFinite(e))return"";i=n((t.scaler*e).toFixed(t.digitsAfterDecimal),t.thousandsSep,t.decimalSep);return""+t.prefix+i+t.suffix}};E=g();w=g({digitsAfterDecimal:0});T=g({digitsAfterDecimal:1,scaler:100,suffix:"%"});i={count:function(e){null==e&&(e=w);return function(){return function(t,n,i){return{count:0,push:function(){return this.count++},value:function(){return this.count},format:e}}}},uniques:function(e,t){null==t&&(t=w);return function(n){var i;i=n[0];return function(n,o,s){return{uniq:[],push:function(e){var t;if(t=e[i],r.call(this.uniq,t)<0)return this.uniq.push(e[i])},value:function(){return e(this.uniq)},format:t,numInputs:null!=i?0:1}}}},sum:function(e){null==e&&(e=E);return function(t){var n;n=t[0];return function(t,i,r){return{sum:0,push:function(e){if(!isNaN(parseFloat(e[n])))return this.sum+=parseFloat(e[n])},value:function(){return this.sum},format:e,numInputs:null!=n?0:1}}}},extremes:function(e,t){null==t&&(t=E);return function(n){var i;i=n[0];return function(n,r,o){return{val:null,sorter:f(null!=n?n.sorters:void 0,i),push:function(t){var n,r,o,s;s=t[i];if("min"===e||"max"===e){s=parseFloat(s);isNaN(s)||(this.val=Math[e](s,null!=(n=this.val)?n:s))}"first"===e&&this.sorter(s,null!=(r=this.val)?r:s)<=0&&(this.val=s);if("last"===e&&this.sorter(s,null!=(o=this.val)?o:s)>=0)return this.val=s},value:function(){return this.val},format:function(e){return isNaN(e)?e:t(e)},numInputs:null!=i?0:1}}}},quantile:function(e,t){null==t&&(t=E);return function(n){var i;i=n[0];return function(n,r,o){return{vals:[],push:function(e){var t;t=parseFloat(e[i]);if(!isNaN(t))return this.vals.push(t)},value:function(){var t;if(0===this.vals.length)return null;this.vals.sort(function(e,t){return e-t});t=(this.vals.length-1)*e;return(this.vals[Math.floor(t)]+this.vals[Math.ceil(t)])/2},format:t,numInputs:null!=i?0:1}}}},runningStat:function(e,t,n){null==e&&(e="mean");null==t&&(t=1);null==n&&(n=E);return function(i){var r;r=i[0];return function(i,o,s){return{n:0,m:0,s:0,push:function(e){var t,n;n=parseFloat(e[r]);if(!isNaN(n)){this.n+=1;if(1===this.n)return this.m=n;t=this.m+(n-this.m)/this.n;this.s=this.s+(n-this.m)*(n-t);return this.m=t}},value:function(){if("mean"===e)return 0===this.n?NaN:this.m;if(this.n<=t)return 0;switch(e){case"var":return this.s/(this.n-t);case"stdev":return Math.sqrt(this.s/(this.n-t))}},format:n,numInputs:null!=r?0:1}}}},sumOverSum:function(e){null==e&&(e=E);return function(t){var n,i;i=t[0],n=t[1];return function(t,r,o){return{sumNum:0,sumDenom:0,push:function(e){isNaN(parseFloat(e[i]))||(this.sumNum+=parseFloat(e[i]));if(!isNaN(parseFloat(e[n])))return this.sumDenom+=parseFloat(e[n])},value:function(){return this.sumNum/this.sumDenom},format:e,numInputs:null!=i&&null!=n?0:2}}}},sumOverSumBound80:function(e,t){null==e&&(e=!0);null==t&&(t=E);return function(n){var i,r;r=n[0],i=n[1];return function(n,o,s){return{sumNum:0,sumDenom:0,push:function(e){isNaN(parseFloat(e[r]))||(this.sumNum+=parseFloat(e[r]));if(!isNaN(parseFloat(e[i])))return this.sumDenom+=parseFloat(e[i])},value:function(){var t;t=e?1:-1;return(.821187207574908/this.sumDenom+this.sumNum/this.sumDenom+1.2815515655446004*t*Math.sqrt(.410593603787454/(this.sumDenom*this.sumDenom)+this.sumNum*(1-this.sumNum/this.sumDenom)/(this.sumDenom*this.sumDenom)))/(1+1.642374415149816/this.sumDenom)},format:t,numInputs:null!=r&&null!=i?0:2}}}},fractionOf:function(e,t,n){null==t&&(t="total");null==n&&(n=T);return function(){var i;i=1<=arguments.length?o.call(arguments,0):[];return function(r,o,s){return{selector:{total:[[],[]],row:[o,[]],col:[[],s]}[t],inner:e.apply(null,i)(r,o,s),push:function(e){return this.inner.push(e)},format:n,value:function(){return this.inner.value()/r.getAggregator.apply(r,this.selector).inner.value()},numInputs:e.apply(null,i)().numInputs}}}}};i.countUnique=function(e){return i.uniques(function(e){return e.length},e)};i.listUnique=function(e){return i.uniques(function(t){return t.sort(d).join(e)},function(e){return e})};i.max=function(e){return i.extremes("max",e)};i.min=function(e){return i.extremes("min",e)};i.first=function(e){return i.extremes("first",e)};i.last=function(e){return i.extremes("last",e)};i.median=function(e){return i.quantile(.5,e)};i.average=function(e){return i.runningStat("mean",1,e)};i["var"]=function(e,t){return i.runningStat("var",e,t)};i.stdev=function(e,t){return i.runningStat("stdev",e,t)};l=function(e){return{Count:e.count(w),"Count Unique Values":e.countUnique(w),"List Unique Values":e.listUnique(", "),Sum:e.sum(E),"Integer Sum":e.sum(w),Average:e.average(E),Median:e.median(E),"Sample Variance":e["var"](1,E),"Sample Standard Deviation":e.stdev(1,E),Minimum:e.min(E),Maximum:e.max(E),First:e.first(E),Last:e.last(E),"Sum over Sum":e.sumOverSum(E),"80% Upper Bound":e.sumOverSumBound80(!0,E),"80% Lower Bound":e.sumOverSumBound80(!1,E),"Sum as Fraction of Total":e.fractionOf(e.sum(),"total",T),"Sum as Fraction of Rows":e.fractionOf(e.sum(),"row",T),"Sum as Fraction of Columns":e.fractionOf(e.sum(),"col",T),"Count as Fraction of Total":e.fractionOf(e.count(),"total",T),"Count as Fraction of Rows":e.fractionOf(e.count(),"row",T),"Count as Fraction of Columns":e.fractionOf(e.count(),"col",T)}}(i);y={Table:function(e,t){return m(e,t)},"Table Barchart":function(t,n){return e(m(t,n)).barchart()},Heatmap:function(t,n){return e(m(t,n)).heatmap("heatmap",n)},"Row Heatmap":function(t,n){return e(m(t,n)).heatmap("rowheatmap",n)},"Col Heatmap":function(t,n){return e(m(t,n)).heatmap("colheatmap",n)}};p={en:{aggregators:l,renderers:y,localeStrings:{renderError:"An error occurred rendering the PivotTable results.",computeError:"An error occurred computing the PivotTable results.",uiRenderError:"An error occurred rendering the PivotTable UI.",selectAll:"Select All",selectNone:"Select None",tooMany:"(too many to list)",filterResults:"Filter values",apply:"Apply",cancel:"Cancel",totals:"Totals",vs:"vs",by:"by"}}};h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];S=function(e){return("0"+e).substr(-2,2)};c={bin:function(e,t){return function(n){return n[e]-n[e]%t}},dateFormat:function(e,t,n,i,r){var o;null==n&&(n=!1);null==i&&(i=h);null==r&&(r=u);o=n?"UTC":"";return function(n){var s;s=new Date(Date.parse(n[e]));return isNaN(s)?"":t.replace(/%(.)/g,function(e,t){switch(t){case"y":return s["get"+o+"FullYear"]();case"m":return S(s["get"+o+"Month"]()+1);case"n":return i[s["get"+o+"Month"]()];case"d":return S(s["get"+o+"Date"]());case"w":return r[s["get"+o+"Day"]()];case"x":return s["get"+o+"Day"]();case"H":return S(s["get"+o+"Hours"]());case"M":return S(s["get"+o+"Minutes"]());case"S":return S(s["get"+o+"Seconds"]());default:return"%"+t}})}}};b=/(\d+)|(\D+)/g;v=/\d/;x=/^0/;d=function(e){return function(e,t){var n,i,r,o,s,a;if(null!=t&&null==e)return-1;if(null!=e&&null==t)return 1;if("number"==typeof e&&isNaN(e))return-1;if("number"==typeof t&&isNaN(t))return 1;s=+e;a=+t;if(s<a)return-1;if(s>a)return 1;if("number"==typeof e&&"number"!=typeof t)return-1;if("number"==typeof t&&"number"!=typeof e)return 1;if("number"==typeof e&&"number"==typeof t)return 0;if(isNaN(a)&&!isNaN(s))return-1;if(isNaN(s)&&!isNaN(a))return 1;n=String(e);r=String(t);if(n===r)return 0;if(!v.test(n)||!v.test(r))return n>r?1:-1;n=n.match(b);r=r.match(b);for(;n.length&&r.length;){i=n.shift();o=r.shift();if(i!==o)return v.test(i)&&v.test(o)?i.replace(x,".0")-o.replace(x,".0"):i>o?1:-1}return n.length-r.length}}(this);_=function(e){var t,n,i,r;i={};n={};for(t in e){r=e[t];i[r]=t;"string"==typeof r&&(n[r.toLowerCase()]=t)}return function(e,t){return null!=i[e]&&null!=i[t]?i[e]-i[t]:null!=i[e]?-1:null!=i[t]?1:null!=n[e]&&null!=n[t]?n[e]-n[t]:null!=n[e]?-1:null!=n[t]?1:d(e,t)}};f=function(t,n){var i;if(null!=t)if(e.isFunction(t)){i=t(n);if(e.isFunction(i))return i}else if(null!=t[n])return t[n];return d};t=function(){function t(e,n){var r,o,a,l,u,c,f,p,h,d;null==n&&(n={});this.getAggregator=s(this.getAggregator,this);this.getRowKeys=s(this.getRowKeys,this);this.getColKeys=s(this.getColKeys,this);this.sortKeys=s(this.sortKeys,this);this.arrSort=s(this.arrSort,this);this.input=e;this.aggregator=null!=(r=n.aggregator)?r:i.count()();this.aggregatorName=null!=(o=n.aggregatorName)?o:"Count";this.colAttrs=null!=(a=n.cols)?a:[];this.rowAttrs=null!=(l=n.rows)?l:[];this.valAttrs=null!=(u=n.vals)?u:[];this.sorters=null!=(c=n.sorters)?c:{};this.rowOrder=null!=(f=n.rowOrder)?f:"key_a_to_z";this.colOrder=null!=(p=n.colOrder)?p:"key_a_to_z";this.derivedAttributes=null!=(h=n.derivedAttributes)?h:{};this.filter=null!=(d=n.filter)?d:function(){return!0};this.tree={};this.rowKeys=[];this.colKeys=[];this.rowTotals={};this.colTotals={};this.allTotal=this.aggregator(this,[],[]);this.sorted=!1;t.forEachRecord(this.input,this.derivedAttributes,function(e){return function(t){if(e.filter(t))return e.processRecord(t)}}(this))}t.forEachRecord=function(t,n,i){var r,o,s,l,u,c,f,p,h,d,g,m;r=e.isEmptyObject(n)?i:function(e){var t,r,o;for(t in n){o=n[t];e[t]=null!=(r=o(e))?r:e[t]}return i(e)};if(e.isFunction(t))return t(r);if(e.isArray(t)){if(e.isArray(t[0])){d=[];for(s in t)if(a.call(t,s)){o=t[s];if(s>0){p={};h=t[0];for(l in h)if(a.call(h,l)){u=h[l];p[u]=o[l]}d.push(r(p))}}return d}g=[];for(c=0,f=t.length;c<f;c++){p=t[c];g.push(r(p))}return g}if(t instanceof e){m=[];e("thead > tr > th",t).each(function(t){return m.push(e(this).text())});return e("tbody > tr",t).each(function(t){p={};e("td",this).each(function(t){return p[m[t]]=e(this).text()});return r(p)})}throw new Error("unknown input format")};t.prototype.forEachMatchingRecord=function(e,n){return t.forEachRecord(this.input,this.derivedAttributes,function(t){return function(i){var r,o,s;if(t.filter(i)){for(r in e){s=e[r];if(s!==(null!=(o=i[r])?o:"null"))return}return n(i)}}}(this))};t.prototype.arrSort=function(e){var t,n;n=function(){var n,i,r;r=[];for(n=0,i=e.length;n<i;n++){t=e[n];r.push(f(this.sorters,t))}return r}.call(this);return function(e,t){var i,r,o;for(r in n)if(a.call(n,r)){o=n[r];i=o(e[r],t[r]);if(0!==i)return i}return 0}};t.prototype.sortKeys=function(){var e;if(!this.sorted){this.sorted=!0;e=function(e){return function(t,n){return e.getAggregator(t,n).value()}}(this);switch(this.rowOrder){case"value_a_to_z":this.rowKeys.sort(function(t){return function(t,n){return d(e(t,[]),e(n,[]))}}(this));break;case"value_z_to_a":this.rowKeys.sort(function(t){return function(t,n){return-d(e(t,[]),e(n,[]))}}(this));break;default:this.rowKeys.sort(this.arrSort(this.rowAttrs))}switch(this.colOrder){case"value_a_to_z":return this.colKeys.sort(function(t){return function(t,n){return d(e([],t),e([],n))}}(this));case"value_z_to_a":return this.colKeys.sort(function(t){return function(t,n){return-d(e([],t),e([],n))}}(this));default:return this.colKeys.sort(this.arrSort(this.colAttrs))}}};t.prototype.getColKeys=function(){this.sortKeys();return this.colKeys};t.prototype.getRowKeys=function(){this.sortKeys();return this.rowKeys};t.prototype.processRecord=function(e){var t,n,i,r,o,s,a,l,u,c,f,p,h;t=[];p=[];l=this.colAttrs;for(r=0,o=l.length;r<o;r++){h=l[r];t.push(null!=(u=e[h])?u:"null")}c=this.rowAttrs;for(a=0,s=c.length;a<s;a++){h=c[a];p.push(null!=(f=e[h])?f:"null")}i=p.join(String.fromCharCode(0));n=t.join(String.fromCharCode(0));this.allTotal.push(e);if(0!==p.length){if(!this.rowTotals[i]){this.rowKeys.push(p);this.rowTotals[i]=this.aggregator(this,p,[])}this.rowTotals[i].push(e)}if(0!==t.length){if(!this.colTotals[n]){this.colKeys.push(t);this.colTotals[n]=this.aggregator(this,[],t)}this.colTotals[n].push(e)}if(0!==t.length&&0!==p.length){this.tree[i]||(this.tree[i]={});this.tree[i][n]||(this.tree[i][n]=this.aggregator(this,p,t));return this.tree[i][n].push(e)}};t.prototype.getAggregator=function(e,t){var n,i,r;r=e.join(String.fromCharCode(0));i=t.join(String.fromCharCode(0));n=0===e.length&&0===t.length?this.allTotal:0===e.length?this.colTotals[i]:0===t.length?this.rowTotals[r]:this.tree[r][i];return null!=n?n:{value:function(){return null},format:function(){return""}}};return t}();e.pivotUtilities={aggregatorTemplates:i,aggregators:l,renderers:y,derivers:c,locales:p,naturalSort:d,numberFormat:g,sortAs:_,PivotData:t};m=function(t,n){var i,r,o,s,l,u,c,f,p,h,d,g,m,v,y,b,x,_,E,w,T,S,C,L;u={table:{clickCallback:null,rowTotals:!0,colTotals:!0},localeStrings:{totals:"Totals"}};n=e.extend(!0,{},u,n);o=t.colAttrs;g=t.rowAttrs;v=t.getRowKeys();l=t.getColKeys();n.table.clickCallback&&(c=function(e,i,r){var s,l,u;l={};for(u in o)if(a.call(o,u)){s=o[u];null!=r[u]&&(l[s]=r[u])}for(u in g)if(a.call(g,u)){s=g[u];null!=i[u]&&(l[s]=i[u])}return function(i){return n.table.clickCallback(i,e,l,t)}});d=document.createElement("table");d.className="pvtTable";y=function(e,t,n){var i,r,o,s,a,l,u,c;if(0!==t){s=!0;for(c=i=0,a=n;0<=a?i<=a:i>=a;c=0<=a?++i:--i)e[t-1][c]!==e[t][c]&&(s=!1);if(s)return-1}r=0;for(;t+r<e.length;){u=!1;for(c=o=0,l=n;0<=l?o<=l:o>=l;c=0<=l?++o:--o)e[t][c]!==e[t+r][c]&&(u=!0);if(u)break;r++}return r};E=document.createElement("thead");for(p in o)if(a.call(o,p)){r=o[p];T=document.createElement("tr");if(0===parseInt(p)&&0!==g.length){_=document.createElement("th");_.setAttribute("colspan",g.length);_.setAttribute("rowspan",o.length);T.appendChild(_)}_=document.createElement("th");_.className="pvtAxisLabel";_.textContent=r;T.appendChild(_);for(f in l)if(a.call(l,f)){s=l[f];L=y(l,parseInt(f),parseInt(p));if(L!==-1){_=document.createElement("th");_.className="pvtColLabel";_.textContent=s[p];_.setAttribute("colspan",L);parseInt(p)===o.length-1&&0!==g.length&&_.setAttribute("rowspan",2);T.appendChild(_)}}if(0===parseInt(p)&&n.table.rowTotals){_=document.createElement("th");_.className="pvtTotalLabel pvtRowTotalLabel";_.innerHTML=n.localeStrings.totals;_.setAttribute("rowspan",o.length+(0===g.length?0:1));T.appendChild(_)}E.appendChild(T)}if(0!==g.length){T=document.createElement("tr");for(f in g)if(a.call(g,f)){h=g[f];_=document.createElement("th");_.className="pvtAxisLabel";_.textContent=h;T.appendChild(_)}_=document.createElement("th");if(0===o.length){_.className="pvtTotalLabel pvtRowTotalLabel";_.innerHTML=n.localeStrings.totals}T.appendChild(_);E.appendChild(T)}d.appendChild(E);b=document.createElement("tbody");for(f in v)if(a.call(v,f)){m=v[f];T=document.createElement("tr");for(p in m)if(a.call(m,p)){S=m[p];L=y(v,parseInt(f),parseInt(p));if(L!==-1){_=document.createElement("th");_.className="pvtRowLabel";_.textContent=S;_.setAttribute("rowspan",L);parseInt(p)===g.length-1&&0!==o.length&&_.setAttribute("colspan",2);T.appendChild(_)}}for(p in l)if(a.call(l,p)){s=l[p];i=t.getAggregator(m,s);C=i.value();x=document.createElement("td");x.className="pvtVal row"+f+" col"+p;x.textContent=i.format(C);x.setAttribute("data-value",C);null!=c&&(x.onclick=c(C,m,s));T.appendChild(x)}if(n.table.rowTotals||0===o.length){w=t.getAggregator(m,[]);C=w.value();x=document.createElement("td");x.className="pvtTotal rowTotal";x.textContent=w.format(C);x.setAttribute("data-value",C);null!=c&&(x.onclick=c(C,m,[]));x.setAttribute("data-for","row"+f);T.appendChild(x)}b.appendChild(T)}if(n.table.colTotals||0===g.length){T=document.createElement("tr");if(n.table.colTotals||0===g.length){_=document.createElement("th");_.className="pvtTotalLabel pvtColTotalLabel";_.innerHTML=n.localeStrings.totals;_.setAttribute("colspan",g.length+(0===o.length?0:1));T.appendChild(_)}for(p in l)if(a.call(l,p)){s=l[p];w=t.getAggregator([],s);C=w.value();x=document.createElement("td");x.className="pvtTotal colTotal";x.textContent=w.format(C);x.setAttribute("data-value",C);null!=c&&(x.onclick=c(C,[],s));x.setAttribute("data-for","col"+p);T.appendChild(x)}if(n.table.rowTotals||0===o.length){w=t.getAggregator([],[]);C=w.value();x=document.createElement("td");x.className="pvtGrandTotal";x.textContent=w.format(C);x.setAttribute("data-value",C);null!=c&&(x.onclick=c(C,[],[]));T.appendChild(x)}b.appendChild(T)}d.appendChild(b);d.setAttribute("data-numrows",v.length);d.setAttribute("data-numcols",l.length);return d};e.fn.pivot=function(n,r,o){var s,a,l,u,c,f,h,d;null==o&&(o="en");null==p[o]&&(o="en");s={cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:t,filter:function(){return!0},aggregator:i.count()(),aggregatorName:"Count",sorters:{},derivedAttributes:{},renderer:m};u=e.extend(!0,{},p.en.localeStrings,p[o].localeStrings);l={rendererOptions:{localeStrings:u},localeStrings:u};c=e.extend(!0,{},l,e.extend({},s,r));h=null;try{f=new c.dataClass(n,c);try{h=c.renderer(f,c.rendererOptions)}catch(g){a=g;"undefined"!=typeof console&&null!==console&&console.error(a.stack);h=e("<span>").html(c.localeStrings.renderError)}}catch(g){a=g;"undefined"!=typeof console&&null!==console&&console.error(a.stack);h=e("<span>").html(c.localeStrings.computeError)}d=this[0];for(;d.hasChildNodes();)d.removeChild(d.lastChild);return this.append(h)};e.fn.pivotUI=function(n,i,o,s){var l,u,c,h,g,m,v,y,b,x,_,E,w,T,S,C,L,N,I,A,R,O,P,k,M,D,j,B,q,U,F,G,z,H,V,W,Y,Z,$,K,X,Q,J,ee,te;null==o&&(o=!1);null==s&&(s="en");null==p[s]&&(s="en");y={derivedAttributes:{},aggregators:p[s].aggregators,renderers:p[s].renderers,hiddenAttributes:[],hiddenFromAggregators:[],hiddenFromDragDrop:[],menuLimit:500,cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:t,exclusions:{},inclusions:{},unusedAttrsVertical:85,autoSortUnusedAttrs:!1,onRefresh:null,showUI:!0,filter:function(){return!0},sorters:{}};I=e.extend(!0,{},p.en.localeStrings,p[s].localeStrings);N={rendererOptions:{localeStrings:I},localeStrings:I};x=this.data("pivotUIOptions");P=null==x||o?e.extend(!0,{},N,e.extend({},y,i)):x;try{g={};A=[];D=0;t.forEachRecord(n,P.derivedAttributes,function(e){var t,n,i,r;if(P.filter(e)){A.push(e);for(t in e)if(a.call(e,t)&&null==g[t]){g[t]={};D>0&&(g[t]["null"]=D)}for(t in g){r=null!=(i=e[t])?i:"null";null==(n=g[t])[r]&&(n[r]=0);g[t][r]++}return D++}});X=e("<table>",{"class":"pvtUi"}).attr("cellpadding",5);H=e("<td>").addClass("pvtUiCell");z=e("<select>").addClass("pvtRenderer").appendTo(H).bind("change",function(){return F()});j=P.renderers;for(te in j)a.call(j,te)&&e("<option>").val(te).html(te).appendTo(z);Q=e("<td>").addClass("pvtAxisContainer pvtUnused pvtUiCell");W=function(){var e;e=[];for(l in g)r.call(P.hiddenAttributes,l)<0&&e.push(l);return e}();Y=function(){var e,t,n;n=[];for(e=0,t=W.length;e<t;e++){m=W[e];r.call(P.hiddenFromAggregators,m)<0&&n.push(m)}return n}();Z=function(){var e,t,n;n=[];for(e=0,t=W.length;e<t;e++){m=W[e];r.call(P.hiddenFromDragDrop,m)<0&&n.push(m)}return n}();ee=!1;J="auto"===P.unusedAttrsVertical?120:parseInt(P.unusedAttrsVertical);if(!isNaN(J)){h=0;for(T=0,S=Z.length;T<S;T++){l=Z[T];h+=l.length}ee=h>J}P.unusedAttrsVertical===!0||ee?Q.addClass("pvtVertList"):Q.addClass("pvtHorizList");_=function(t){var n,i,o,s,a,l,u,c,p,h,d,m,v,y,b,x,_,w,T;T=function(){var e;e=[];for(b in g[t])e.push(b);return e}();c=!1;w=e("<div>").addClass("pvtFilterBox").hide();w.append(e("<h4>").append(e("<span>").text(t),e("<span>").addClass("count").text("("+T.length+")")));if(T.length>P.menuLimit)w.append(e("<p>").html(P.localeStrings.tooMany));else{if(T.length>5){s=e("<p>").appendTo(w);v=f(P.sorters,t);d=P.localeStrings.filterResults;e("<input>",{type:"text"}).appendTo(s).attr({placeholder:d,"class":"pvtSearch"}).bind("keyup",function(){var t,n,i;i=e(this).val().toLowerCase().trim();n=function(e,t){return function(n){var o,s;o=i.substring(e.length).trim();return 0===o.length||(s=Math.sign(v(n.toLowerCase(),o)),r.call(t,s)>=0)}};t=0===i.indexOf(">=")?n(">=",[1,0]):0===i.indexOf("<=")?n("<=",[-1,0]):0===i.indexOf(">")?n(">",[1]):0===i.indexOf("<")?n("<",[-1]):0===i.indexOf("~")?function(e){return 0===i.substring(1).trim().length||e.toLowerCase().match(i.substring(1))}:function(e){return e.toLowerCase().indexOf(i)!==-1};return w.find(".pvtCheckContainer p label span.value").each(function(){return t(e(this).text())?e(this).parent().parent().show():e(this).parent().parent().hide()})});s.append(e("<br>"));e("<button>",{type:"button"}).appendTo(s).html(P.localeStrings.selectAll).bind("click",function(){w.find("input:visible:not(:checked)").prop("checked",!0).toggleClass("changed");return!1});e("<button>",{type:"button"}).appendTo(s).html(P.localeStrings.selectNone).bind("click",function(){w.find("input:visible:checked").prop("checked",!1).toggleClass("changed");return!1})}i=e("<div>").addClass("pvtCheckContainer").appendTo(w);m=T.sort(f(P.sorters,t));for(h=0,p=m.length;h<p;h++){x=m[h];_=g[t][x];a=e("<label>");l=!1;P.inclusions[t]?l=r.call(P.inclusions[t],x)<0:P.exclusions[t]&&(l=r.call(P.exclusions[t],x)>=0);c||(c=l);e("<input>").attr("type","checkbox").addClass("pvtFilter").attr("checked",!l).data("filter",[t,x]).appendTo(a).bind("change",function(){return e(this).toggleClass("changed")});a.append(e("<span>").addClass("value").text(x));a.append(e("<span>").addClass("count").text("("+_+")"));i.append(e("<p>").append(a))}}o=function(){w.find("[type='checkbox']").length>w.find("[type='checkbox']:checked").length?n.addClass("pvtFilteredAttribute"):n.removeClass("pvtFilteredAttribute");w.find(".pvtSearch").val("");w.find(".pvtCheckContainer p").show();return w.hide()};u=e("<p>").appendTo(w);T.length<=P.menuLimit&&e("<button>",{type:"button"}).text(P.localeStrings.apply).appendTo(u).bind("click",function(){w.find(".changed").removeClass("changed").length&&F();return o()});e("<button>",{type:"button"}).text(P.localeStrings.cancel).appendTo(u).bind("click",function(){w.find(".changed:checked").removeClass("changed").prop("checked",!1);w.find(".changed:not(:checked)").removeClass("changed").prop("checked",!0);return o()});y=e("<span>").addClass("pvtTriangle").html(" &#x25BE;").bind("click",function(t){var n,i,r;i=e(t.currentTarget).position(),n=i.left,r=i.top;return w.css({left:n+10,top:r+10}).show()});n=e("<li>").addClass("axis_"+E).append(e("<span>").addClass("pvtAttr").text(t).data("attrName",t).append(y));c&&n.addClass("pvtFilteredAttribute");return Q.append(n).append(w)};for(E in Z)if(a.call(Z,E)){c=Z[E];_(c)}$=e("<tr>").appendTo(X);u=e("<select>").addClass("pvtAggregator").bind("change",function(){return F()});B=P.aggregators;for(te in B)a.call(B,te)&&u.append(e("<option>").val(te).html(te));k={key_a_to_z:{rowSymbol:"&varr;",colSymbol:"&harr;",next:"value_a_to_z"},value_a_to_z:{rowSymbol:"&darr;",colSymbol:"&rarr;",next:"value_z_to_a"},value_z_to_a:{rowSymbol:"&uarr;",colSymbol:"&larr;",next:"key_a_to_z"}};V=e("<a>",{role:"button"}).addClass("pvtRowOrder").data("order",P.rowOrder).html(k[P.rowOrder].rowSymbol).bind("click",function(){e(this).data("order",k[e(this).data("order")].next);e(this).html(k[e(this).data("order")].rowSymbol);return F()});v=e("<a>",{role:"button"}).addClass("pvtColOrder").data("order",P.colOrder).html(k[P.colOrder].colSymbol).bind("click",function(){e(this).data("order",k[e(this).data("order")].next);e(this).html(k[e(this).data("order")].colSymbol);return F()});e("<td>").addClass("pvtVals pvtUiCell").appendTo($).append(u).append(V).append(v).append(e("<br>"));e("<td>").addClass("pvtAxisContainer pvtHorizList pvtCols pvtUiCell").appendTo($);K=e("<tr>").appendTo(X);K.append(e("<td>").addClass("pvtAxisContainer pvtRows pvtUiCell").attr("valign","top"));M=e("<td>").attr("valign","top").addClass("pvtRendererArea").appendTo(K);if(P.unusedAttrsVertical===!0||ee){X.find("tr:nth-child(1)").prepend(H);X.find("tr:nth-child(2)").prepend(Q)}else X.prepend(e("<tr>").append(H).append(Q));this.html(X);q=P.cols;for(R=0,C=q.length;R<C;R++){te=q[R];this.find(".pvtCols").append(this.find(".axis_"+e.inArray(te,Z)))}U=P.rows;for(O=0,L=U.length;O<L;O++){te=U[O];this.find(".pvtRows").append(this.find(".axis_"+e.inArray(te,Z)))}null!=P.aggregatorName&&this.find(".pvtAggregator").val(P.aggregatorName);null!=P.rendererName&&this.find(".pvtRenderer").val(P.rendererName);P.showUI||this.find(".pvtUiCell").hide();w=!0;G=function(t){return function(){var n,i,o,s,a,l,f,p,h,g,m,y,b,x;g={derivedAttributes:P.derivedAttributes,localeStrings:P.localeStrings,rendererOptions:P.rendererOptions,sorters:P.sorters,cols:[],rows:[],dataClass:P.dataClass};a=null!=(p=P.aggregators[u.val()]([])().numInputs)?p:0;x=[];t.find(".pvtRows li span.pvtAttr").each(function(){return g.rows.push(e(this).data("attrName"))});t.find(".pvtCols li span.pvtAttr").each(function(){return g.cols.push(e(this).data("attrName"))});t.find(".pvtVals select.pvtAttrDropdown").each(function(){if(0===a)return e(this).remove();a--;return""!==e(this).val()?x.push(e(this).val()):void 0});if(0!==a){f=t.find(".pvtVals");for(te=m=0,h=a;0<=h?m<h:m>h;te=0<=h?++m:--m){s=e("<select>").addClass("pvtAttrDropdown").append(e("<option>")).bind("change",function(){return F()});for(y=0,o=Y.length;y<o;y++){c=Y[y];s.append(e("<option>").val(c).text(c))}f.append(s)}}if(w){x=P.vals;E=0;t.find(".pvtVals select.pvtAttrDropdown").each(function(){e(this).val(x[E]);return E++});w=!1}g.aggregatorName=u.val();g.vals=x;g.aggregator=P.aggregators[u.val()](x);g.renderer=P.renderers[z.val()];g.rowOrder=V.data("order");g.colOrder=v.data("order");n={};t.find("input.pvtFilter").not(":checked").each(function(){var t;t=e(this).data("filter");return null!=n[t[0]]?n[t[0]].push(t[1]):n[t[0]]=[t[1]]});i={};t.find("input.pvtFilter:checked").each(function(){var t;t=e(this).data("filter");if(null!=n[t[0]])return null!=i[t[0]]?i[t[0]].push(t[1]):i[t[0]]=[t[1]]});g.filter=function(e){var t,i,o,s;if(!P.filter(e))return!1;for(i in n){t=n[i];if(o=""+(null!=(s=e[i])?s:"null"),r.call(t,o)>=0)return!1}return!0};M.pivot(A,g);l=e.extend({},P,{cols:g.cols,rows:g.rows,colOrder:g.colOrder,rowOrder:g.rowOrder,vals:x,exclusions:n,inclusions:i,inclusionsInfo:i,aggregatorName:u.val(),rendererName:z.val()});t.data("pivotUIOptions",l);if(P.autoSortUnusedAttrs){b=t.find("td.pvtUnused.pvtAxisContainer");e(b).children("li").sort(function(t,n){return d(e(t).text(),e(n).text())}).appendTo(b)}M.css("opacity",1);if(null!=P.onRefresh)return P.onRefresh(l)}}(this);F=function(e){return function(){M.css("opacity",.5);return setTimeout(G,10)}}(this);F();this.find(".pvtAxisContainer").sortable({update:function(e,t){if(null==t.sender)return F()},connectWith:this.find(".pvtAxisContainer"),items:"li",placeholder:"pvtPlaceholder"})}catch(ne){b=ne;"undefined"!=typeof console&&null!==console&&console.error(b.stack);this.html(P.localeStrings.uiRenderError)}return this};e.fn.heatmap=function(t,n){var i,r,o,s,a,l,u,c,f,p,h;null==t&&(t="heatmap");c=this.data("numrows");u=this.data("numcols");i=null!=n&&null!=(f=n.heatmap)?f.colorScaleGenerator:void 0;null==i&&(i=function(e){var t,n;n=Math.min.apply(Math,e);t=Math.max.apply(Math,e);return function(e){var i;i=255-Math.round(255*(e-n)/(t-n));return"rgb(255,"+i+","+i+")"}});r=function(t){return function(n){var r,o,s;o=function(i){return t.find(n).each(function(){var t;t=e(this).data("value");if(null!=t&&isFinite(t))return i(t,e(this))})};s=[];o(function(e){return s.push(e)});r=i(s);return o(function(e,t){return t.css("background-color",r(e))})}}(this);switch(t){case"heatmap":r(".pvtVal");break;case"rowheatmap":for(o=a=0,p=c;0<=p?a<p:a>p;o=0<=p?++a:--a)r(".pvtVal.row"+o);break;case"colheatmap":for(s=l=0,h=u;0<=h?l<h:l>h;s=0<=h?++l:--l)r(".pvtVal.col"+s)}r(".pvtTotal.rowTotal");r(".pvtTotal.colTotal");return this};return e.fn.barchart=function(t){var n,i,r,o,s,a;s=this.data("numrows");o=this.data("numcols");n=function(t){return function(n){var i,r,o,s,a,l;i=function(i){return t.find(n).each(function(){var t;t=e(this).data("value");if(null!=t&&isFinite(t))return i(t,e(this))})};l=[];i(function(e){return l.push(e)});r=Math.max.apply(Math,l);r<0&&(r=0);s=r;o=Math.min.apply(Math,l);o<0&&(s=r-o);a=function(e){return 100*e/(1.4*s)};return i(function(t,n){var i,r,s,l;s=n.text();l=e("<div>").css({position:"relative",height:"55px"});r="gray";i=0;o<0&&(i=a(-o));if(t<0){i+=a(t);r="darkred";t=-t}l.append(e("<div>").css({position:"absolute",bottom:i+"%",left:0,right:0,height:a(t)+"%","background-color":r}));l.append(e("<div>").text(s).css({position:"relative","padding-left":"5px","padding-right":"5px"}));return n.css({padding:0,"padding-top":"5px","text-align":"center"}).html(l)})}}(this);for(i=r=0,a=s;0<=a?r<a:r>a;i=0<=a?++r:--r)n(".pvtVal.row"+i);n(".pvtTotal.colTotal");return this}})}).call(this)},{jquery:73}],204:[function(e,t,n){(function(e){"use strict";function n(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:o=new Array(a-1);s=0;for(;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=n:t.exports=e.nextTick}).call(this,e("_process"))},{_process:205}],205:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===i||!f)&&setTimeout){f=setTimeout;return setTimeout(e,0)}try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function s(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout){p=clearTimeout;return clearTimeout(e)}try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){if(m&&d){m=!1;d.length?g=d.concat(g):v=-1;g.length&&l()}}function l(){if(!m){var e=o(a);m=!0;for(var t=g.length;t;){d=g;g=[];for(;++v<t;)d&&d[v].run();v=-1;t=g.length}d=null;m=!1;s(e)}}function u(e,t){
this.fun=e;this.array=t}function c(){}var f,p,h=t.exports={};(function(){try{f="function"==typeof setTimeout?setTimeout:i}catch(e){f=i}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}})();var d,g=[],m=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new u(e,t));1!==g.length||m||o(l)};u.prototype.run=function(){this.fun.apply(null,this.array)};h.title="browser";h.browser=!0;h.env={};h.argv=[];h.version="";h.versions={};h.on=c;h.addListener=c;h.once=c;h.off=c;h.removeListener=c;h.removeAllListeners=c;h.emit=c;h.prependListener=c;h.prependOnceListener=c;h.listeners=function(e){return[]};h.binding=function(e){throw new Error("process.binding is not supported")};h.cwd=function(){return"/"};h.chdir=function(e){throw new Error("process.chdir is not supported")};h.umask=function(){return 0}},{}],206:[function(e,t,n){(function(e){function n(){}function i(e,t){return function(){e.apply(t,arguments)}}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];c(e,this)}function o(e,t){for(;3===e._state;)e=e._value;if(0!==e._state){e._handled=!0;r._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(r){a(t.promise,r);return}s(t.promise,i)}else(1===e._state?s:a)(t.promise,e._value)})}else e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r){e._state=3;e._value=t;l(e);return}if("function"==typeof n){c(i(n,t),e);return}}e._state=1;e._value=t;l(e)}catch(o){a(e,o)}}function a(e,t){e._state=2;e._value=t;l(e)}function l(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null;this.onRejected="function"==typeof t?t:null;this.promise=n}function c(e,t){var n=!1;try{e(function(e){if(!n){n=!0;s(t,e)}},function(e){if(!n){n=!0;a(t,e)}})}catch(i){if(n)return;n=!0;a(t,i)}}var f=setTimeout;r.prototype["catch"]=function(e){return this.then(null,e)};r.prototype.then=function(e,t){var i=new this.constructor(n);o(this,new u(e,t,i));return i};r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a){a.call(s,function(e){i(o,e)},n);return}}t[o]=s;0===--r&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})};r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})};r.reject=function(e){return new r(function(t,n){n(e)})};r.race=function(e){return new r(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})};r._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){f(e,0)};r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};r._setImmediateFn=function(e){r._immediateFn=e};r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e};"undefined"!=typeof t&&t.exports?t.exports=r:e.Promise||(e.Promise=r)})(this)},{}],207:[function(e,t,n){(function(e){(function(i){function r(e){throw new RangeError(P[e])}function o(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function s(e,t){var n=e.split("@"),i="";if(n.length>1){i=n[0]+"@";e=n[1]}e=e.replace(O,".");var r=e.split("."),s=o(r,t).join(".");return i+s}function a(e){for(var t,n,i=[],r=0,o=e.length;r<o;){t=e.charCodeAt(r++);if(t>=55296&&t<=56319&&r<o){n=e.charCodeAt(r++);if(56320==(64512&n))i.push(((1023&t)<<10)+(1023&n)+65536);else{i.push(t);r--}}else i.push(t)}return i}function l(e){return o(e,function(e){var t="";if(e>65535){e-=65536;t+=D(e>>>10&1023|55296);e=56320|1023&e}t+=D(e);return t}).join("")}function u(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:E}function c(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,n){var i=0;e=n?M(e/C):e>>1;e+=M(e/t);for(;e>k*T>>1;i+=E)e=M(e/k);return M(i+(k+1)*e/(e+S))}function p(e){var t,n,i,o,s,a,c,p,h,d,g=[],m=e.length,v=0,y=N,b=L;n=e.lastIndexOf(I);n<0&&(n=0);for(i=0;i<n;++i){e.charCodeAt(i)>=128&&r("not-basic");g.push(e.charCodeAt(i))}for(o=n>0?n+1:0;o<m;){for(s=v,a=1,c=E;;c+=E){o>=m&&r("invalid-input");p=u(e.charCodeAt(o++));(p>=E||p>M((_-v)/a))&&r("overflow");v+=p*a;h=c<=b?w:c>=b+T?T:c-b;if(p<h)break;d=E-h;a>M(_/d)&&r("overflow");a*=d}t=g.length+1;b=f(v-s,t,0==s);M(v/t)>_-y&&r("overflow");y+=M(v/t);v%=t;g.splice(v++,0,y)}return l(g)}function h(e){var t,n,i,o,s,l,u,p,h,d,g,m,v,y,b,x=[];e=a(e);m=e.length;t=N;n=0;s=L;for(l=0;l<m;++l){g=e[l];g<128&&x.push(D(g))}i=o=x.length;o&&x.push(I);for(;i<m;){for(u=_,l=0;l<m;++l){g=e[l];g>=t&&g<u&&(u=g)}v=i+1;u-t>M((_-n)/v)&&r("overflow");n+=(u-t)*v;t=u;for(l=0;l<m;++l){g=e[l];g<t&&++n>_&&r("overflow");if(g==t){for(p=n,h=E;;h+=E){d=h<=s?w:h>=s+T?T:h-s;if(p<d)break;b=p-d;y=E-d;x.push(D(c(d+b%y,0)));p=M(b/y)}x.push(D(c(p,0)));s=f(n,v,i==o);n=0;++i}}++n;++t}return x.join("")}function d(e){return s(e,function(e){return A.test(e)?p(e.slice(4).toLowerCase()):e})}function g(e){return s(e,function(e){return R.test(e)?"xn--"+h(e):e})}var m="object"==typeof n&&n&&!n.nodeType&&n,v="object"==typeof t&&t&&!t.nodeType&&t,y="object"==typeof e&&e;y.global!==y&&y.window!==y&&y.self!==y||(i=y);var b,x,_=2147483647,E=36,w=1,T=26,S=38,C=700,L=72,N=128,I="-",A=/^xn--/,R=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=E-w,M=Math.floor,D=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:a,encode:l},decode:p,encode:h,toASCII:g,toUnicode:d};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(m&&v)if(t.exports==m)v.exports=b;else for(x in b)b.hasOwnProperty(x)&&(m[x]=b[x]);else i.punycode=b})(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],208:[function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&";n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var f,p,h,d,g=e[c].replace(a,"%20"),m=g.indexOf(n);if(m>=0){f=g.substr(0,m);p=g.substr(m+1)}else{f=g;p=""}h=decodeURIComponent(f);d=decodeURIComponent(p);i(s,h)?r(s[h])?s[h].push(d):s[h]=[s[h],d]:s[h]=d}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],209:[function(e,t,n){"use strict";function i(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,a){t=t||"&";n=n||"=";null===e&&(e=void 0);return"object"==typeof e?i(s(e),function(s){var a=encodeURIComponent(r(s))+n;return o(e[s])?i(e[s],function(e){return a+encodeURIComponent(r(e))}).join(t):a+encodeURIComponent(r(e[s]))}).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],210:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode");n.encode=n.stringify=e("./encode")},{"./decode":208,"./encode":209}],211:[function(e,t,n){"use strict";function i(e){return decodeURIComponent(e.replace(/\+/g," "))}function r(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);r[i(t[1])]=i(t[2]));return r}function o(e,t){t=t||"";var n=[];"string"!=typeof t&&(t="?");for(var i in e)s.call(e,i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return n.length?t+n.join("&"):""}var s=Object.prototype.hasOwnProperty;n.stringify=o;n.parse=r},{}],212:[function(e,t,n){"use strict";t.exports=function(e,t){t=t.split(":")[0];e=+e;if(!e)return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}],213:[function(e,t,n){function i(e,t){for(var n in e)t[n]=e[n]}function r(e,t,n){return s(e,t,n)}var o=e("buffer"),s=o.Buffer;if(s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow)t.exports=o;else{i(o,n);n.Buffer=r}i(s,r);r.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)};r.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=s(e);void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0);return i};r.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)};r.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},{buffer:5}],214:[function(e,t,n){(function(i,r){"function"==typeof define&&define.amd?define(["jquery","sifter","microplugin"],r):"object"==typeof n?t.exports=r(e("jquery"),e("sifter"),e("microplugin")):i.Selectize=r(i.jQuery,i.Sifter,i.MicroPlugin)})(this,function(e,t,n){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var r=e.data.search(n);if(r>=0&&e.data.length>0){var o=e.data.match(n),s=document.createElement("span");s.className="highlight";var a=e.splitText(r),l=(a.splitText(o[0].length),a.cloneNode(!0));s.appendChild(l);a.parentNode.replaceChild(s,a);t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var u=0;u<e.childNodes.length;++u)u+=i(e.childNodes[u]);return t};return e.each(function(){i(this)})}};e.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this);e.normalize()}).end()};var r=function(){};r.prototype={on:function(e,t){this._events=this._events||{};this._events[e]=this._events[e]||[];this._events[e].push(t)},off:function(e,t){var n=arguments.length;if(0===n)return delete this._events;if(1===n)return delete this._events[e];this._events=this._events||{};e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)},trigger:function(e){this._events=this._events||{};if(e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}};r.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=r.prototype[t[n]]};var o=/Mac/.test(navigator.userAgent),s=65,a=13,l=27,u=37,c=38,f=80,p=39,h=40,d=78,g=8,m=46,v=16,y=o?91:17,b=o?18:17,x=9,_=1,E=2,w=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,T=function(e){return"undefined"!=typeof e},S=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},C=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},L={};L.before=function(e,t,n){var i=e[t];e[t]=function(){n.apply(e,arguments);return i.apply(e,arguments)}};L.after=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);n.apply(e,arguments);return t}};var N=function(e){var t=!1;return function(){if(!t){t=!0;e.apply(this,arguments)}}},I=function(e,t){var n;return function(){var i=this,r=arguments;window.clearTimeout(n);n=window.setTimeout(function(){e.apply(i,r)},t)}},A=function(e,t,n){var i,r=e.trigger,o={};e.trigger=function(){var n=arguments[0];if(t.indexOf(n)===-1)return r.apply(e,arguments);o[n]=arguments};n.apply(e,[]);e.trigger=r;for(i in o)o.hasOwnProperty(i)&&r.apply(e,o[i])},R=function(e,t,n,i){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;t.currentTarget=n;return i.apply(this,[t])})},O=function(e){var t={};if("selectionStart"in e){t.start=e.selectionStart;t.length=e.selectionEnd-t.start}else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length);t.start=n.text.length-i;t.length=i}return t},P=function(e,t,n){var i,r,o={};if(n)for(i=0,r=n.length;i<r;i++)o[n[i]]=e.css(n[i]);else o=e.css();t.css(o)},k=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");P(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=i.width();i.remove();return r},M=function(e){var t=null,n=function(n,i){var r,o,s,a,l,u,c,f;n=n||window.event||{};i=i||{};if(!n.metaKey&&!n.altKey&&(i.force||e.data("grow")!==!1)){r=e.val();if(n.type&&"keydown"===n.type.toLowerCase()){o=n.keyCode;s=o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||32===o;if(o===m||o===g){f=O(e[0]);f.length?r=r.substring(0,f.start)+r.substring(f.start+f.length):o===g&&f.start?r=r.substring(0,f.start-1)+r.substring(f.start+1):o===m&&"undefined"!=typeof f.start&&(r=r.substring(0,f.start)+r.substring(f.start+1))}else if(s){u=n.shiftKey;c=String.fromCharCode(n.keyCode);c=u?c.toUpperCase():c.toLowerCase();r+=c}}a=e.attr("placeholder");!r&&a&&(r=a);l=k(r,e)+4;if(l!==t){t=l;e.width(l);e.triggerHandler("resize")}}};e.on("keydown keyup update blur",n);n()},D=function(e){var t=document.createElement("div");t.appendChild(e.cloneNode(!0));return t.innerHTML},j=function(e,t){t||(t={});var n="Selectize";console.error(n+": "+e);if(t.explanation){console.group&&console.group();console.error(t.explanation);console.group&&console.groupEnd()}},B=function(n,i){var r,o,s,a,l=this;a=n[0];a.selectize=l;var u=window.getComputedStyle&&window.getComputedStyle(a,null);s=u?u.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction;s=s||n.parents("[dir]:first").attr("dir")||"";e.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?_:E,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++B.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:I(l.onSearchChange,i.loadThrottle)});l.sifter=new t(this.options,{diacritics:i.diacritics});if(l.settings.options){for(r=0,o=l.settings.options.length;r<o;r++)l.registerOption(l.settings.options[r]);delete l.settings.options}if(l.settings.optgroups){for(r=0,o=l.settings.optgroups.length;r<o;r++)l.registerOptionGroup(l.settings.optgroups[r]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi");"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode);l.initializePlugins(l.settings.plugins);l.setupCallbacks();l.setupTemplates();l.setup()};r.mixin(B);"undefined"!=typeof n?n.mixin(B):j("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'});e.extend(B.prototype,{setup:function(){var t,n,i,r,s,a,l,u,c,f,p=this,h=p.settings,d=p.eventNS,g=e(window),m=e(document),x=p.$input;l=p.settings.mode;u=x.attr("class")||"";t=e("<div>").addClass(h.wrapperClass).addClass(u).addClass(l);n=e("<div>").addClass(h.inputClass).addClass("items").appendTo(t);i=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",x.is(":disabled")?"-1":p.tabIndex);a=e(h.dropdownParent||t);r=e("<div>").addClass(h.dropdownClass).addClass(l).hide().appendTo(a);s=e("<div>").addClass(h.dropdownContentClass).appendTo(r);if(f=x.attr("id")){i.attr("id",f+"-selectized");e("label[for='"+f+"']").attr("for",f+"-selectized")}p.settings.copyClassesToDropdown&&r.addClass(u);t.css({width:x[0].style.width});if(p.plugins.names.length){c="plugin-"+p.plugins.names.join(" plugin-");t.addClass(c);r.addClass(c)}(null===h.maxItems||h.maxItems>1)&&p.tagType===_&&x.attr("multiple","multiple");p.settings.placeholder&&i.attr("placeholder",h.placeholder);if(!p.settings.splitOn&&p.settings.delimiter){var E=p.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");p.settings.splitOn=new RegExp("\\s*"+E+"+\\s*")}x.attr("autocorrect")&&i.attr("autocorrect",x.attr("autocorrect"));x.attr("autocapitalize")&&i.attr("autocapitalize",x.attr("autocapitalize"));p.$wrapper=t;p.$control=n;p.$control_input=i;p.$dropdown=r;p.$dropdown_content=s;r.on("mouseenter","[data-selectable]",function(){return p.onOptionHover.apply(p,arguments)});r.on("mousedown click","[data-selectable]",function(){return p.onOptionSelect.apply(p,arguments)});R(n,"mousedown","*:not(input)",function(){return p.onItemSelect.apply(p,arguments)});M(i);n.on({mousedown:function(){return p.onMouseDown.apply(p,arguments)},click:function(){return p.onClick.apply(p,arguments)}});i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return p.onKeyDown.apply(p,arguments)},keyup:function(){return p.onKeyUp.apply(p,arguments)},keypress:function(){return p.onKeyPress.apply(p,arguments)},resize:function(){p.positionDropdown.apply(p,[])},blur:function(){return p.onBlur.apply(p,arguments)},focus:function(){p.ignoreBlur=!1;return p.onFocus.apply(p,arguments)},paste:function(){return p.onPaste.apply(p,arguments)}});m.on("keydown"+d,function(e){p.isCmdDown=e[o?"metaKey":"ctrlKey"];p.isCtrlDown=e[o?"altKey":"ctrlKey"];p.isShiftDown=e.shiftKey});m.on("keyup"+d,function(e){e.keyCode===b&&(p.isCtrlDown=!1);e.keyCode===v&&(p.isShiftDown=!1);e.keyCode===y&&(p.isCmdDown=!1)});m.on("mousedown"+d,function(e){if(p.isFocused){if(e.target===p.$dropdown[0]||e.target.parentNode===p.$dropdown[0])return!1;p.$control.has(e.target).length||e.target===p.$control[0]||p.blur(e.target)}});g.on(["scroll"+d,"resize"+d].join(" "),function(){p.isOpen&&p.positionDropdown.apply(p,arguments)});g.on("mousemove"+d,function(){p.ignoreHover=!1});this.revertSettings={$children:x.children().detach(),tabindex:x.attr("tabindex")};x.attr("tabindex",-1).hide().after(p.$wrapper);if(e.isArray(h.items)){p.setValue(h.items);delete h.items}w&&x.on("invalid"+d,function(e){e.preventDefault();p.isInvalid=!0;p.refreshState()});p.updateOriginalInput();p.refreshItems();p.refreshState();p.updatePlaceholder();p.isSetup=!0;x.is(":disabled")&&p.disable();p.on("change",this.onChange);x.data("selectize",p);x.addClass("selectized");p.trigger("initialize");h.preload===!0&&p.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,r={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},r,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)if(n.hasOwnProperty(e)){t=this.settings[n[e]];t&&this.on(e,t)}},onClick:function(e){var t=this;if(!t.isFocused){t.focus();e.preventDefault()}},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented();e(t.target);if(n.isFocused){if(t.target!==n.$control_input[0]){"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null);return!1}}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout(function(){var t=n.$control_input.val();if(t.match(n.settings.splitOn))for(var i=e.trim(t).split(n.settings.splitOn),r=0,o=i.length;r<o;r++)n.createItem(i[r])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);if(this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter){this.createItem();e.preventDefault();return!1}},onKeyDown:function(e){var t=(e.target===this.$control_input[0],this);if(t.isLocked)e.keyCode!==x&&e.preventDefault();else{switch(e.keyCode){case s:if(t.isCmdDown){t.selectAll();return}break;case l:if(t.isOpen){e.preventDefault();e.stopPropagation();t.close()}return;case d:if(!e.ctrlKey||e.altKey)break;case h:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}e.preventDefault();return;case f:if(!e.ctrlKey||e.altKey)break;case c:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}e.preventDefault();return;case a:if(t.isOpen&&t.$activeOption){t.onOptionSelect({currentTarget:t.$activeOption});e.preventDefault()}return;case u:t.advanceSelection(-1,e);return;case p:t.advanceSelection(1,e);return;case x:if(t.settings.selectOnTab&&t.isOpen&&t.$activeOption){t.onOptionSelect({currentTarget:t.$activeOption});t.isFull()||e.preventDefault()}t.settings.create&&t.createItem()&&e.preventDefault();return;case g:case m:t.deleteSelection(e);return}!t.isFull()&&!t.isInputHidden||(o?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";if(t.lastValue!==n){t.lastValue=n;t.onSearchChange(n);t.refreshOptions();t.trigger("type",n)}},onSearchChange:function(e){var t=this,n=t.settings.load;if(n&&!t.loadedSearches.hasOwnProperty(e)){t.loadedSearches[e]=!0;t.load(function(i){n.apply(t,[e,i])})}},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled){t.blur();e&&e.preventDefault();return!1}if(!t.ignoreFocus){t.isFocused=!0;"focus"===t.settings.preload&&t.onSearchChange("");n||t.trigger("focus");if(!t.$activeItems.length){t.showInput();t.setActiveItem(null);t.refreshOptions(!!t.settings.openOnFocus)}t.refreshState()}},onBlur:function(e,t){var n=this;if(n.isFocused){n.isFocused=!1;if(!n.ignoreFocus)if(n.ignoreBlur||document.activeElement!==n.$dropdown_content[0]){var i=function(){n.close();n.setTextboxValue("");n.setActiveItem(null);n.setActiveOption(null);n.setCaret(n.items.length);n.refreshState();t&&t.focus&&t.focus();n.ignoreFocus=!1;n.trigger("blur")};n.ignoreFocus=!0;n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}else{n.ignoreBlur=!0;n.onFocus(e)}}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,r=this;if(t.preventDefault){t.preventDefault();t.stopPropagation()}i=e(t.currentTarget);if(i.hasClass("create"))r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()});else{n=i.attr("data-value");if("undefined"!=typeof n){r.lastQuery=null;r.setTextboxValue("");r.addItem(n);r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&r.setActiveOption(r.getOption(n))}}},onItemSelect:function(e){var t=this;if(!t.isLocked&&"multi"===t.settings.mode){e.preventDefault();t.setActiveItem(e.currentTarget,e)}},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++;e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0);if(e&&e.length){t.addOption(e);t.refreshOptions(t.isFocused&&!t.isInputHidden)}t.loading||n.removeClass(t.settings.loadingClass);t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,n=t.val()!==e;if(n){t.val(e).triggerHandler("update");this.lastValue=e}},getValue:function(){return this.tagType===_&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var n=t?[]:["change"];A(this,n,function(){this.clear(t);this.addItems(e,t)})},setActiveItem:function(t,n){var i,r,o,s,a,l,u,c,f=this;if("single"!==f.settings.mode){t=e(t);if(t.length){i=n&&n.type.toLowerCase();if("mousedown"===i&&f.isShiftDown&&f.$activeItems.length){c=f.$control.children(".active:last");s=Array.prototype.indexOf.apply(f.$control[0].childNodes,[c[0]]);a=Array.prototype.indexOf.apply(f.$control[0].childNodes,[t[0]]);if(s>a){u=s;s=a;a=u}for(r=s;r<=a;r++){l=f.$control[0].childNodes[r];if(f.$activeItems.indexOf(l)===-1){e(l).addClass("active");f.$activeItems.push(l)}}n.preventDefault()}else if("mousedown"===i&&f.isCtrlDown||"keydown"===i&&this.isShiftDown)if(t.hasClass("active")){o=f.$activeItems.indexOf(t[0]);f.$activeItems.splice(o,1);t.removeClass("active")}else f.$activeItems.push(t.addClass("active")[0]);else{e(f.$activeItems).removeClass("active");f.$activeItems=[t.addClass("active")[0]]}f.hideInput();this.isFocused||f.focus()}else{e(f.$activeItems).removeClass("active");f.$activeItems=[];f.isFocused&&f.showInput()}}},setActiveOption:function(t,n,i){var r,o,s,a,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active");u.$activeOption=null;t=e(t);if(t.length){u.$activeOption=t.addClass("active");if(n||!T(n)){r=u.$dropdown_content.height();o=u.$activeOption.outerHeight(!0);n=u.$dropdown_content.scrollTop()||0;s=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n;a=s;l=s-r+o;s+o>r+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):s<n&&u.$dropdown_content.stop().animate({scrollTop:a},i?u.settings.scrollDuration:0)}}},selectAll:function(){var e=this;if("single"!==e.settings.mode){e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active"));if(e.$activeItems.length){e.hideInput();e.close()}e.focus()}},hideInput:function(){var e=this;e.setTextboxValue("");e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4});e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.isInputHidden=!1},focus:function(){var e=this;if(!e.isDisabled){e.ignoreFocus=!0;e.$control_input[0].focus();window.setTimeout(function(){e.ignoreFocus=!1;e.onFocus()},0)}},blur:function(e){this.$control_input[0].blur();this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;"string"==typeof t&&(t=[{field:t}]);return{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,r,o=this,s=o.settings,a=this.getSearchOptions();if(s.score){r=o.settings.score.apply(this,[t]);if("function"!=typeof r)throw new Error('Selectize "score" setting must be a function that returns a function')}if(t!==o.lastQuery){o.lastQuery=t;i=o.sifter.search(t,e.extend(a,{score:r}));o.currentResults=i}else i=e.extend(!0,{},o.currentResults);if(s.hideSelected)for(n=i.items.length-1;n>=0;n--)o.items.indexOf(S(i.items[n].id))!==-1&&i.items.splice(n,1);return i},refreshOptions:function(t){var n,r,o,s,a,l,u,c,f,p,h,d,g,m,v,y;"undefined"==typeof t&&(t=!0);var b=this,x=e.trim(b.$control_input.val()),_=b.search(x),E=b.$dropdown_content,w=b.$activeOption&&S(b.$activeOption.attr("data-value"));s=_.items.length;"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions));a={};l=[];for(n=0;n<s;n++){u=b.options[_.items[n].id];c=b.render("option",u);f=u[b.settings.optgroupField]||"";p=e.isArray(f)?f:[f];for(r=0,o=p&&p.length;r<o;r++){f=p[r];b.optgroups.hasOwnProperty(f)||(f="");if(!a.hasOwnProperty(f)){a[f]=document.createDocumentFragment();l.push(f)}a[f].appendChild(c)}}this.settings.lockOptgroupOrder&&l.sort(function(e,t){var n=b.optgroups[e].$order||0,i=b.optgroups[t].$order||0;return n-i});h=document.createDocumentFragment();for(n=0,s=l.length;n<s;n++){f=l[n];if(b.optgroups.hasOwnProperty(f)&&a[f].childNodes.length){d=document.createDocumentFragment();d.appendChild(b.render("optgroup_header",b.optgroups[f]));d.appendChild(a[f]);h.appendChild(b.render("optgroup",e.extend({},b.optgroups[f],{html:D(d),dom:d})))}else h.appendChild(a[f])}E.html(h);if(b.settings.highlight&&_.query.length&&_.tokens.length){E.removeHighlight();for(n=0,s=_.tokens.length;n<s;n++)i(E,_.tokens[n].regex)}if(!b.settings.hideSelected)for(n=0,s=b.items.length;n<s;n++)b.getOption(b.items[n]).addClass("selected");g=b.canCreate(x);if(g){E.prepend(b.render("option_create",{input:x}));y=e(E[0].childNodes[0])}b.hasOptions=_.items.length>0||g;if(b.hasOptions){if(_.items.length>0){v=w&&b.getOption(w);v&&v.length?m=v:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0]));m&&m.length||(m=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):E.find("[data-selectable]:first"))}else m=y;b.setActiveOption(m);t&&!b.isOpen&&b.open()}else{b.setActiveOption(null);t&&b.isOpen&&b.close()}},addOption:function(t){var n,i,r,o=this;if(e.isArray(t))for(n=0,i=t.length;n<i;n++)o.addOption(t[n]);else if(r=o.registerOption(t)){o.userOptions[r]=!0;o.lastQuery=null;o.trigger("option_add",r,t)}},registerOption:function(e){var t=S(e[this.settings.valueField]);if("undefined"==typeof t||null===t||this.options.hasOwnProperty(t))return!1;e.$order=e.$order||++this.order;this.options[t]=e;return t},registerOptionGroup:function(e){var t=S(e[this.settings.optgroupValueField]);if(!t)return!1;e.$order=e.$order||++this.order;this.optgroups[t]=e;return t},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e;(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){if(this.optgroups.hasOwnProperty(e)){delete this.optgroups[e];this.renderCache={};this.trigger("optgroup_remove",e)}},clearOptionGroups:function(){this.optgroups={};this.renderCache={};this.trigger("optgroup_clear")},updateOption:function(t,n){var i,r,o,s,a,l,u,c=this;t=S(t);o=S(n[c.settings.valueField]);if(null!==t&&c.options.hasOwnProperty(t)){if("string"!=typeof o)throw new Error("Value must be set in option data");u=c.options[t].$order;if(o!==t){delete c.options[t];s=c.items.indexOf(t);s!==-1&&c.items.splice(s,1,o)}n.$order=n.$order||u;c.options[o]=n;a=c.renderCache.item;l=c.renderCache.option;if(a){delete a[t];delete a[o]}if(l){delete l[t];delete l[o]}if(c.items.indexOf(o)!==-1){i=c.getItem(t);r=e(c.render("item",n));i.hasClass("active")&&r.addClass("active");i.replaceWith(r)}c.lastQuery=null;c.isOpen&&c.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=S(e);var i=n.renderCache.item,r=n.renderCache.option;i&&delete i[e];r&&delete r[e];delete n.userOptions[e];delete n.options[e];n.lastQuery=null;n.trigger("option_remove",e);n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={};e.userOptions={};e.renderCache={};e.options=e.sifter.items={};e.lastQuery=null;e.trigger("option_clear");e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),r=i.index(t)+n;
return r>=0&&r<i.length?i.eq(r):e()},getElementWithValue:function(t,n){t=S(t);if("undefined"!=typeof t&&null!==t)for(var i=0,r=n.length;i<r;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var i=e.isArray(t)?t:[t],r=0,o=i.length;r<o;r++){this.isPending=r<o-1;this.addItem(i[r],n)}},addItem:function(t,n){var i=n?[]:["change"];A(this,i,function(){var i,r,o,s,a,l=this,u=l.settings.mode;t=S(t);if(l.items.indexOf(t)===-1){if(l.options.hasOwnProperty(t)){"single"===u&&l.clear(n);if("multi"!==u||!l.isFull()){i=e(l.render("item",l.options[t]));a=l.isFull();l.items.splice(l.caretPos,0,t);l.insertAtCaret(i);(!l.isPending||!a&&l.isFull())&&l.refreshState();if(l.isSetup){o=l.$dropdown_content.find("[data-selectable]");if(!l.isPending){r=l.getOption(t);s=l.getAdjacentOption(r,1).attr("data-value");l.refreshOptions(l.isFocused&&"single"!==u);s&&l.setActiveOption(l.getOption(s))}!o.length||l.isFull()?l.close():l.positionDropdown();l.updatePlaceholder();l.trigger("item_add",t,i);l.updateOriginalInput({silent:n})}}}}else"single"===u&&l.close()})},removeItem:function(t,n){var i,r,o,s=this;i=t instanceof e?t:s.getItem(t);t=S(i.attr("data-value"));r=s.items.indexOf(t);if(r!==-1){i.remove();if(i.hasClass("active")){o=s.$activeItems.indexOf(i[0]);s.$activeItems.splice(o,1)}s.items.splice(r,1);s.lastQuery=null;!s.settings.persist&&s.userOptions.hasOwnProperty(t)&&s.removeOption(t,n);r<s.caretPos&&s.setCaret(s.caretPos-1);s.refreshState();s.updatePlaceholder();s.updateOriginalInput({silent:n});s.positionDropdown();s.trigger("item_remove",t,i)}},createItem:function(t,n){var i=this,r=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var o=arguments[arguments.length-1];"function"!=typeof o&&(o=function(){});"boolean"!=typeof n&&(n=!0);if(!i.canCreate(t)){o();return!1}i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(e){var t={};t[i.settings.labelField]=e;t[i.settings.valueField]=e;return t},a=N(function(e){i.unlock();if(!e||"object"!=typeof e)return o();var t=S(e[i.settings.valueField]);if("string"!=typeof t)return o();i.setTextboxValue("");i.addOption(e);i.setCaret(r);i.addItem(t);i.refreshOptions(n&&"single"!==i.settings.mode);o(e)}),l=s.apply(this,[t,a]);"undefined"!=typeof l&&a(l);return!0},refreshItems:function(){this.lastQuery=null;this.isSetup&&this.addItem(this.items);this.refreshState();this.updateOriginalInput()},refreshState:function(){this.refreshValidityState();this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e;this.$control_input.prop("required",e);this.$input.prop("required",!e)},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl);t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0);t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,r,o=this;e=e||{};if(o.tagType===_){i=[];for(t=0,n=o.items.length;t<n;t++){r=o.options[o.items[t]][o.settings.labelField]||"";i.push('<option value="'+C(o.items[t])+'" selected="selected">'+C(r)+"</option>")}i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>');o.$input.html(i.join(""))}else{o.$input.val(o.getValue());o.$input.attr("value",o.$input.val())}o.isSetup&&(e.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder);e.triggerHandler("update",{force:!0})}},open:function(){var e=this;if(!(e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull())){e.focus();e.isOpen=!0;e.refreshState();e.$dropdown.css({visibility:"hidden",display:"block"});e.positionDropdown();e.$dropdown.css({visibility:"visible"});e.trigger("dropdown_open",e.$dropdown)}},close:function(){var e=this,t=e.isOpen;if("single"===e.settings.mode&&e.items.length){e.hideInput();e.$control_input.blur()}e.isOpen=!1;e.$dropdown.hide();e.setActiveOption(null);e.refreshState();t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0);this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;if(t.items.length){t.$control.children(":not(input)").remove();t.items=[];t.lastQuery=null;t.setCaret(0);t.setActiveItem(null);t.updatePlaceholder();t.updateOriginalInput({silent:e});t.refreshState();t.showInput();t.trigger("clear")}},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t);this.setCaret(n+1)},deleteSelection:function(t){var n,i,r,o,s,a,l,u,c,f=this;r=t&&t.keyCode===g?-1:1;o=O(f.$control_input[0]);f.$activeOption&&!f.settings.hideSelected&&(l=f.getAdjacentOption(f.$activeOption,-1).attr("data-value"));s=[];if(f.$activeItems.length){c=f.$control.children(".active:"+(r>0?"last":"first"));a=f.$control.children(":not(input)").index(c);r>0&&a++;for(n=0,i=f.$activeItems.length;n<i;n++)s.push(e(f.$activeItems[n]).attr("data-value"));if(t){t.preventDefault();t.stopPropagation()}}else(f.isFocused||"single"===f.settings.mode)&&f.items.length&&(r<0&&0===o.start&&0===o.length?s.push(f.items[f.caretPos-1]):r>0&&o.start===f.$control_input.val().length&&s.push(f.items[f.caretPos]));if(!s.length||"function"==typeof f.settings.onDelete&&f.settings.onDelete.apply(f,[s])===!1)return!1;"undefined"!=typeof a&&f.setCaret(a);for(;s.length;)f.removeItem(s.pop());f.showInput();f.positionDropdown();f.refreshOptions(!0);if(l){u=f.getOption(l);u.length&&f.setActiveOption(u)}return!0},advanceSelection:function(e,t){var n,i,r,o,s,a,l=this;if(0!==e){l.rtl&&(e*=-1);n=e>0?"last":"first";i=O(l.$control_input[0]);if(l.isFocused&&!l.isInputHidden){o=l.$control_input.val().length;s=e<0?0===i.start&&0===i.length:i.start===o;s&&!o&&l.advanceCaret(e,t)}else{a=l.$control.children(".active:"+n);if(a.length){r=l.$control.children(":not(input)").index(a);l.setActiveItem(null);l.setCaret(e>0?r+1:r)}}}},advanceCaret:function(e,t){var n,i,r=this;if(0!==e){n=e>0?"next":"prev";if(r.isShiftDown){i=r.$control_input[n]();if(i.length){r.hideInput();r.setActiveItem(i);t&&t.preventDefault()}}else r.setCaret(r.caretPos+e)}},setCaret:function(t){var n=this;t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t));if(!n.isPending){var i,r,o,s;o=n.$control.children(":not(input)");for(i=0,r=o.length;i<r;i++){s=e(o[i]).detach();i<t?n.$control_input.before(s):n.$control.append(s)}}n.caretPos=t},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked=!1;this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0);e.$control_input.prop("disabled",!0).prop("tabindex",-1);e.isDisabled=!0;e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1);e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex);e.isDisabled=!1;e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy");t.off();t.$wrapper.remove();t.$dropdown.remove();t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show();t.$control_input.removeData("grow");t.$input.removeData("selectize");e(window).off(n);e(document).off(n);e(document.body).off(n);delete t.$input[0].selectize},render:function(t,n){var i,r,o="",s=!1,a=this;if("option"===t||"item"===t){i=S(n[a.settings.valueField]);s=!!i}if(s){T(a.renderCache[t])||(a.renderCache[t]={});if(a.renderCache[t].hasOwnProperty(i))return a.renderCache[t][i]}o=e(a.settings.render[t].apply(this,[n,C]));if("option"===t||"option_create"===t)o.attr("data-selectable","");else if("optgroup"===t){r=n[a.settings.optgroupValueField]||"";o.attr("data-group",r)}"option"!==t&&"item"!==t||o.attr("data-value",i||"");s&&(a.renderCache[t][i]=o[0]);return o[0]},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return e.length&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}});B.count=0;B.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}};e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),r=i.dataAttr,o=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,u=i.optgroupValueField,c=function(t,n){var a,l,u,c,f=t.attr(r);if(f){n.options=JSON.parse(f);for(a=0,l=n.options.length;a<l;a++)n.items.push(n.options[a][s])}else{var p=e.trim(t.val()||"");if(!i.allowEmptyOption&&!p.length)return;u=p.split(i.delimiter);for(a=0,l=u.length;a<l;a++){c={};c[o]=u[a];c[s]=u[a];n.options.push(c)}n.items=u}},f=function(t,n){var c,f,p,h,d=n.options,g={},m=function(e){var t=r&&e.attr(r);return"string"==typeof t&&t.length?JSON.parse(t):null},v=function(t,r){t=e(t);var l=S(t.val());if(l||i.allowEmptyOption)if(g.hasOwnProperty(l)){if(r){var u=g[l][a];u?e.isArray(u)?u.push(r):g[l][a]=[u,r]:g[l][a]=r}}else{var c=m(t)||{};c[o]=c[o]||t.text();c[s]=c[s]||l;c[a]=c[a]||r;g[l]=c;d.push(c);t.is(":selected")&&n.items.push(l)}},y=function(t){var i,r,o,s,a;t=e(t);o=t.attr("label");if(o){s=m(t)||{};s[l]=o;s[u]=o;n.optgroups.push(s)}a=e("option",t);for(i=0,r=a.length;i<r;i++)v(a[i],o)};n.maxItems=t.attr("multiple")?null:1;h=t.children();for(c=0,f=h.length;c<f;c++){p=h[c].tagName.toLowerCase();"optgroup"===p?y(h[c]):"option"===p&&v(h[c])}};return this.each(function(){if(!this.selectize){var r,o=e(this),s=this.tagName.toLowerCase(),a=o.attr("placeholder")||o.attr("data-placeholder");a||i.allowEmptyOption||(a=o.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?f(o,l):c(o,l);r=new B(o,e.extend(!0,{},n,l,t))}})};e.fn.selectize.defaults=B.defaults;e.fn.selectize.support={validity:w};B.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var e=n.lock;return function(){var t=n.$control.data("sortable");t&&t.disable();return e.apply(n,arguments)}}();n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");t&&t.enable();return e.apply(n,arguments)}}();n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width"));i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var t=n.$activeItems?n.$activeItems.slice():null,r=[];i.children("[data-value]").each(function(){r.push(e(this).attr("data-value"))});n.setValue(r);n.setActiveItem(t)}})}}()}});B.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t);n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments);n.$dropdown_header=e(t.html(t));n.$dropdown.prepend(n.$dropdown_header)}}()});B.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t);this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),r=i.index(t)+n;return r>=0&&r<i.length?i.eq(r):e()};this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var i,r,o,s;if(!this.isOpen||t.keyCode!==u&&t.keyCode!==p)return e.apply(this,arguments);n.ignoreHover=!0;s=this.$activeOption.closest("[data-group]");i=s.find("[data-selectable]").index(this.$activeOption);s=t.keyCode===u?s.prev("[data-group]"):s.next("[data-group]");o=s.find("[data-selectable]");r=o.eq(Math.min(o.length-1,i));r.length&&this.setActiveOption(r)}}();var i=function(){var e,t=i.width,n=document;if("undefined"==typeof t){e=n.createElement("div");e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>';e=e.firstChild;n.body.appendChild(e);t=i.width=e.offsetWidth-e.clientWidth;n.body.removeChild(e)}return t},r=function(){var r,o,s,a,l,u,c;c=e("[data-group]",n.$dropdown_content);o=c.length;if(o&&n.$dropdown_content.width()){if(t.equalizeHeight){s=0;for(r=0;r<o;r++)s=Math.max(s,c.eq(r).height());c.css({height:s})}if(t.equalizeWidth){u=n.$dropdown_content.innerWidth()-i();a=Math.round(u/o);c.css({width:a});if(o>1){l=u-a*(o-1);c.eq(o-1).css({width:l})}}}};if(t.equalizeHeight||t.equalizeWidth){L.after(this,"positionDropdown",r);L.after(this,"refreshOptions",r)}});B.define("remove_button",function(t){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=function(t,n){n.className="remove-single";var i=t,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+C(n.title)+'">'+n.label+"</a>",o=function(e,t){return e+t};t.setup=function(){var s=i.setup;return function(){if(n.append){var a=e(i.$input.context).attr("id"),l=(e("#"+a),i.settings.render.item);i.settings.render.item=function(e){return o(l.apply(t,arguments),r)}}s.apply(t,arguments);t.$control.on("click","."+n.className,function(e){e.preventDefault();i.isLocked||i.clear()})}}()},i=function(t,n){var i=t,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+C(n.title)+'">'+n.label+"</a>",o=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};t.setup=function(){var s=i.setup;return function(){if(n.append){var a=i.settings.render.item;i.settings.render.item=function(e){return o(a.apply(t,arguments),r)}}s.apply(t,arguments);t.$control.on("click","."+n.className,function(t){t.preventDefault();if(!i.isLocked){var n=e(t.currentTarget).parent();i.setActiveItem(n);i.deleteSelection()&&i.setCaret(i.items.length)}})}}()};"single"!==this.settings.mode?i(this,t):n(this,t)});B.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]};this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var i,r;if(t.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length){i=this.caretPos-1;if(i>=0&&i<this.items.length){r=this.options[this.items[i]];if(this.deleteSelection(t)){this.setTextboxValue(e.text.apply(this,[r]));this.refreshOptions(!0)}t.preventDefault();return}}return n.apply(this,arguments)}}()});return B})},{jquery:73,microplugin:200,sifter:215}],215:[function(e,t,n){(function(e,i){"function"==typeof define&&define.amd?define(i):"object"==typeof n?t.exports=i():e.Sifter=i()})(this,function(){var e=function(e,t){this.items=e;this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){e=r(String(e||"").toLowerCase());if(!e||!e.length)return[];var t,n,i,s,l=[],u=e.split(/ +/);for(t=0,n=u.length;t<n;t++){i=o(u[t]);if(this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(i=i.replace(new RegExp(s,"g"),a[s]));l.push({string:u[t],regex:new RegExp(i,"i")})}return l};e.prototype.iterator=function(e,t){var n;n=s(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)};n.apply(e,[t])};e.prototype.getScoreFunction=function(e,t){var n,r,o,s,a;n=this;e=n.prepareSearch(e,t);o=e.tokens;r=e.options.fields;s=o.length;a=e.options.nesting;var l=function(e,t){var n,i;if(!e)return 0;e=String(e||"");i=e.search(t.regex);if(i===-1)return 0;n=t.string.length/e.length;0===i&&(n+=.5);return n},u=function(){var e=r.length;return e?1===e?function(e,t){return l(i(t,r[0],a),e)}:function(t,n){for(var o=0,s=0;o<e;o++)s+=l(i(n,r[o],a),t);return s/e}:function(){return 0}}();return s?1===s?function(e){return u(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;n<s;n++){t=u(o[n],e);if(t<=0)return 0;i+=t}return i/s}:function(e){for(var t=0,n=0;t<s;t++)n+=u(o[t],e);return n/s}:function(){return 0}};e.prototype.getSortFunction=function(e,n){var r,o,s,a,l,u,c,f,p,h,d;s=this;e=s.prepareSearch(e,n);d=!e.query&&n.sort_empty||n.sort;p=function(e,t){return"$score"===e?t.score:i(s.items[t.id],e,n.nesting)};l=[];if(d)for(r=0,o=d.length;r<o;r++)(e.query||"$score"!==d[r].field)&&l.push(d[r]);if(e.query){h=!0;for(r=0,o=l.length;r<o;r++)if("$score"===l[r].field){h=!1;break}h&&l.unshift({field:"$score",direction:"desc"})}else for(r=0,o=l.length;r<o;r++)if("$score"===l[r].field){l.splice(r,1);break}f=[];for(r=0,o=l.length;r<o;r++)f.push("desc"===l[r].direction?-1:1);u=l.length;if(u){if(1===u){a=l[0].field;c=f[0];return function(e,n){return c*t(p(a,e),p(a,n))}}return function(e,n){var i,r,o;for(i=0;i<u;i++){o=l[i].field;r=f[i]*t(p(o,e),p(o,n));if(r)return r}return 0}}return null};e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=n({},t);var i=t.fields,r=t.sort,o=t.sort_empty;i&&!s(i)&&(t.fields=[i]);r&&!s(r)&&(t.sort=[r]);o&&!s(o)&&(t.sort_empty=[o]);return{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}};e.prototype.search=function(e,t){var n,i,r,o,s=this;i=this.prepareSearch(e,t);t=i.options;e=i.query;o=t.score||s.getScoreFunction(i);e.length?s.iterator(s.items,function(e,r){n=o(e);(t.filter===!1||n>0)&&i.items.push({score:n,id:r})}):s.iterator(s.items,function(e,t){i.items.push({score:1,id:t})});r=s.getSortFunction(i,t);r&&i.items.sort(r);i.total=i.items.length;"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit));return i};var t=function(e,t){if("number"==typeof e&&"number"==typeof t)return e>t?1:e<t?-1:0;e=l(String(e||""));t=l(String(t||""));return e>t?1:t>e?-1:0},n=function(e,t){var n,i,r,o;for(n=1,i=arguments.length;n<i;n++){o=arguments[n];if(o)for(r in o)o.hasOwnProperty(r)&&(e[r]=o[r])}return e},i=function(e,t,n){if(e&&t){if(!n)return e[t];for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},o=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var e,t,n,i,r="",o={};for(n in a)if(a.hasOwnProperty(n)){i=a[n].substring(2,a[n].length-1);r+=i;for(e=0,t=i.length;e<t;e++)o[i.charAt(e)]=n}var s=new RegExp("["+r+"]","g");return function(e){return e.replace(s,function(e){return o[e]}).toLowerCase()}}();return e})},{}],216:[function(e,t,n){"use strict";var i=e("is-arrayish"),r=Array.prototype.concat,o=Array.prototype.slice,s=t.exports=function(e){for(var t=[],n=0,s=e.length;n<s;n++){var a=e[n];i(a)?t=r.call(t,o.call(a)):t.push(a)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},{"is-arrayish":217}],217:[function(e,t,n){t.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},{}],218:[function(e,t,n){var i=e("../src/store-engine"),r=e("../storages/all"),o=[e("../plugins/json2")];t.exports=i.createStore(r,o)},{"../plugins/json2":219,"../src/store-engine":221,"../storages/all":223}],219:[function(e,t,n){function i(){e("./lib/json2");return{}}t.exports=i},{"./lib/json2":220}],220:[function(require,module,exports){"object"!=typeof JSON&&(JSON={});(function(){"use strict";function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){rx_escapable.lastIndex=0;return rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,s,a=gap,l=t[e];l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e));"function"==typeof rep&&(l=rep.call(t,e,l));switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";gap+=indent;s=[];if("[object Array]"===Object.prototype.toString.apply(l)){o=l.length;for(n=0;n<o;n+=1)s[n]=str(n,l)||"null";r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]";gap=a;return r}if(rep&&"object"==typeof rep){o=rep.length;for(n=0;n<o;n+=1)if("string"==typeof rep[n]){i=rep[n];r=str(i,l);r&&s.push(quote(i)+(gap?": ":":")+r)}}else for(i in l)if(Object.prototype.hasOwnProperty.call(l,i)){r=str(i,l);r&&s.push(quote(i)+(gap?": ":":")+r)}r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}";gap=a;return r}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if("function"!=typeof Date.prototype.toJSON){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};Boolean.prototype.toJSON=this_value;Number.prototype.toJSON=this_value;String.prototype.toJSON=this_value}var gap,indent,meta,rep;if("function"!=typeof JSON.stringify){meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(e,t,n){var i;gap="";indent="";if("number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);rep=t;if(t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}}"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)if(Object.prototype.hasOwnProperty.call(r,n)){i=walk(r,n);void 0!==i?r[n]=i:delete r[n]}return reviver.call(e,t,r)}var j;text=String(text);rx_dangerous.lastIndex=0;rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,""))){j=eval("("+text+")");return"function"==typeof reviver?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})})()},{}],221:[function(e,t,n){function i(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function r(e,t,n){n||(n="");e&&!f(e)&&(e=[e]);t&&!f(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",o=n?new RegExp("^"+r):null,g=/^[a-zA-Z0-9_\-]*$/;if(!g.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var m={_namespacePrefix:r,_namespaceRegexp:o,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;e.remove(t);return n}catch(i){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){function t(){if(n){l(arguments,function(e,t){i[t]=e});return n.apply(r,i)}}var i=s(arguments,0),r=this,o=[t].concat(i);return e.apply(r,o)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(i){n=e}return void 0!==n?n:t},_addStorage:function(e){if(!this.enabled&&this._testStorage(e)){this.storage=e;this.enabled=!0}},_addPlugin:function(e){var t=this;if(f(e))l(e,function(e){t._addPlugin(e)});else{var n=a(this.plugins,function(t){return e===t});if(!n){this.plugins.push(e);if(!p(e))throw new Error("Plugins must be function values that return objects");var i=e.call(this);if(!h(i))throw new Error("Plugins must return an object of function properties");l(i,function(n,i){if(!p(n))throw new Error("Bad plugin property: "+i+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,i)})}}},addStorage:function(e){i("store.addStorage(storage) is deprecated. Use createStore([storages])");this._addStorage(e)}},v=c(m,d,{plugins:[]});v.raw={};l(v,function(e,t){p(e)&&(v.raw[t]=u(v,e))});l(e,function(e){v._addStorage(e)});l(t,function(e){v._addPlugin(e)});return v}var o=e("./util"),s=o.slice,a=o.pluck,l=o.each,u=o.bind,c=o.create,f=o.isList,p=o.isFunction,h=o.isObject;t.exports={createStore:r};var d={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){if(void 0===t)return this.remove(e);this.storage.write(this._namespacePrefix+e,this._serialize(t));return t},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,i){e.call(t,t._deserialize(n),(i||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return r.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return r(this.storage,this.plugins,e)}}},{"./util":222}],222:[function(e,t,n){(function(e){function n(){return Object.assign?Object.assign:function(e,t,n,i){for(var r=1;r<arguments.length;r++)a(Object(arguments[r]),function(t,n){e[n]=t});return e}}function i(){function e(){}return Object.create?function(e,t,n,i){var r=s(arguments,1);return h.apply(this,[Object.create(e)].concat(r))}:function(t,n,i,r){var o=s(arguments,1);e.prototype=t;return h.apply(this,[new e].concat(o))}}function r(){return String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function o(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function s(e,t){return Array.prototype.slice.call(e,t||0)}function a(e,t){u(e,function(e,n){t(e,n);return!1})}function l(e,t){var n=c(e)?[]:{};u(e,function(e,i){n[i]=t(e,i);return!1});return n}function u(e,t){if(c(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var i in e)if(e.hasOwnProperty(i)&&t(e[i],i))return e[i]}function c(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function f(e){return e&&"[object Function]"==={}.toString.call(e)}function p(e){return e&&"[object Object]"==={}.toString.call(e)}var h=n(),d=i(),g=r(),m="undefined"!=typeof window?window:e;t.exports={assign:h,create:d,trim:g,bind:o,slice:s,each:a,map:l,pluck:u,isList:c,isFunction:f,isObject:p,Global:m}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],223:[function(e,t,n){t.exports=[e("./localStorage"),e("./oldFF-globalStorage"),e("./oldIE-userDataStorage"),e("./cookieStorage"),e("./sessionStorage"),e("./memoryStorage")]},{"./cookieStorage":224,"./localStorage":225,"./memoryStorage":226,"./oldFF-globalStorage":227,"./oldIE-userDataStorage":228,"./sessionStorage":229}],224:[function(e,t,n){function i(e){if(!e||!l(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(p.cookie.replace(new RegExp(t),"$1"))}function r(e){for(var t=p.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(f(t[n])){var i=t[n].split("="),r=unescape(i[0]),o=unescape(i[1]);e(o,r)}}function o(e,t){e&&(p.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function s(e){e&&l(e)&&(p.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function a(){r(function(e,t){s(t)})}function l(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(p.cookie)}var u=e("../src/util"),c=u.Global,f=u.trim;t.exports={name:"cookieStorage",read:i,write:o,each:r,remove:s,clearAll:a};var p=c.document},{"../src/util":222}],225:[function(e,t,n){function i(){return c.localStorage}function r(e){return i().getItem(e)}function o(e,t){return i().setItem(e,t)}function s(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(r(n),n)}}function a(e){return i().removeItem(e)}function l(){return i().clear()}var u=e("../src/util"),c=u.Global;t.exports={name:"localStorage",read:r,write:o,each:s,remove:a,clearAll:l}},{"../src/util":222}],226:[function(e,t,n){function i(e){return l[e]}function r(e,t){l[e]=t}function o(e){for(var t in l)l.hasOwnProperty(t)&&e(l[t],t)}function s(e){delete l[e]}function a(e){l={}}t.exports={name:"memoryStorage",read:i,write:r,each:o,remove:s,clearAll:a};var l={}},{}],227:[function(e,t,n){function i(e){return c[e]}function r(e,t){c[e]=t}function o(e){for(var t=c.length-1;t>=0;t--){var n=c.key(t);e(c[n],n)}}function s(e){return c.removeItem(e)}function a(){o(function(e,t){delete c[e]})}var l=e("../src/util"),u=l.Global;t.exports={name:"oldFF-globalStorage",read:i,write:r,each:o,remove:s,clearAll:a};var c=u.globalStorage},{"../src/util":222}],228:[function(e,t,n){function i(e,t){if(!g){var n=l(e);d(function(e){e.setAttribute(n,t);e.save(p)})}}function r(e){if(!g){var t=l(e),n=null;d(function(e){n=e.getAttribute(t)});return n}}function o(e){d(function(t){for(var n=t.XMLDocument.documentElement.attributes,i=n.length-1;i>=0;i--){var r=n[i];e(t.getAttribute(r.name),r.name)}})}function s(e){var t=l(e);d(function(e){e.removeAttribute(t);e.save(p)})}function a(){d(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(p);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(p)})}function l(e){return e.replace(/^\d/,"___$&").replace(m,"___")}function u(){if(!h||!h.documentElement||!h.documentElement.addBehavior)return null;var e,t,n,i="script";
try{t=new ActiveXObject("htmlfile");t.open();t.write("<"+i+">document.w=window</"+i+'><iframe src="/favicon.ico"></iframe>');t.close();e=t.w.frames[0].document;n=e.createElement("div")}catch(r){n=h.createElement("div");e=h.body}return function(t){var i=[].slice.call(arguments,0);i.unshift(n);e.appendChild(n);n.addBehavior("#default#userData");n.load(p);t.apply(this,i);e.removeChild(n)}}var c=e("../src/util"),f=c.Global;t.exports={name:"oldIE-userDataStorage",write:i,read:r,each:o,remove:s,clearAll:a};var p="storejs",h=f.document,d=u(),g=(f.navigator?f.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),m=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")},{"../src/util":222}],229:[function(e,t,n){function i(){return c.sessionStorage}function r(e){return i().getItem(e)}function o(e,t){return i().setItem(e,t)}function s(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(r(n),n)}}function a(e){return i().removeItem(e)}function l(){return i().clear()}var u=e("../src/util"),c=u.Global;t.exports={name:"sessionStorage",read:r,write:o,each:s,remove:a,clearAll:l}},{"../src/util":222}],230:[function(e,t,n){(function(t){var i=e("./lib/request"),r=e("xtend"),o=e("builtin-status-codes"),s=e("url"),a=n;a.request=function(e,n){e="string"==typeof e?s.parse(e):r(e);var o=t.location.protocol.search(/^https?:$/)===-1?"http:":"",a=e.protocol||o,l=e.hostname||e.host,u=e.port,c=e.path||"/";l&&l.indexOf(":")!==-1&&(l="["+l+"]");e.url=(l?a+"//"+l:"")+(u?":"+u:"")+c;e.method=(e.method||"GET").toUpperCase();e.headers=e.headers||{};var f=new i(e);n&&f.on("response",n);return f};a.get=function(e,t){var n=a.request(e,t);n.end();return n};a.Agent=function(){};a.Agent.defaultMaxSockets=4;a.STATUS_CODES=o;a.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":232,"builtin-status-codes":7,url:248,xtend:253}],231:[function(e,t,n){(function(e){function t(){if(void 0!==s)return s;if(e.XMLHttpRequest){s=new e.XMLHttpRequest;try{s.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(t){s=null}}else s=null;return s}function i(e){var n=t();if(!n)return!1;try{n.responseType=e;return n.responseType===e}catch(i){}return!1}function r(e){return"function"==typeof e}n.fetch=r(e.fetch)&&r(e.ReadableStream);n.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]);n.blobConstructor=!0}catch(o){}var s,a="undefined"!=typeof e.ArrayBuffer,l=a&&r(e.ArrayBuffer.prototype.slice);n.arraybuffer=n.fetch||a&&i("arraybuffer");n.msstream=!n.fetch&&l&&i("ms-stream");n.mozchunkedarraybuffer=!n.fetch&&a&&i("moz-chunked-arraybuffer");n.overrideMimeType=n.fetch||!!t()&&r(t().overrideMimeType);n.vbArray=r(e.VBArray);s=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],232:[function(e,t,n){(function(n,i,r){function o(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":a.vbArray&&e?"text:vbarray":"text"}function s(e){try{var t=e.status;return null!==t&&0!==t}catch(n){return!1}}var a=e("./capability"),l=e("inherits"),u=e("./response"),c=e("readable-stream"),f=e("to-arraybuffer"),p=u.IncomingMessage,h=u.readyStates,d=t.exports=function(e){var t=this;c.Writable.call(t);t._opts=e;t._body=[];t._headers={};e.auth&&t.setHeader("Authorization","Basic "+new r(e.auth).toString("base64"));Object.keys(e.headers).forEach(function(n){t.setHeader(n,e.headers[n])});var n,i=!0;if("disable-fetch"===e.mode||"timeout"in e){i=!1;n=!0}else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}t._mode=o(n,i);t.on("finish",function(){t._onFinish()})};l(d,c.Writable);d.prototype.setHeader=function(e,t){var n=this,i=e.toLowerCase();g.indexOf(i)===-1&&(n._headers[i]={name:e,value:t})};d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null};d.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]};d.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,o=e._headers,s=null;"GET"!==t.method&&"HEAD"!==t.method&&(s=a.blobConstructor?new i.Blob(e._body.map(function(e){return f(e)}),{type:(o["content-type"]||{}).value||""}):r.concat(e._body).toString());var l=[];Object.keys(o).forEach(function(e){var t=o[e].name,n=o[e].value;Array.isArray(n)?n.forEach(function(e){l.push([t,e])}):l.push([t,n])});if("fetch"===e._mode)i.fetch(e._opts.url,{method:e._opts.method,headers:l,body:s||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t;e._connect()},function(t){e.emit("error",t)});else{var u=e._xhr=new i.XMLHttpRequest;try{u.open(e._opts.method,e._opts.url,!0)}catch(c){n.nextTick(function(){e.emit("error",c)});return}"responseType"in u&&(u.responseType=e._mode.split(":")[0]);"withCredentials"in u&&(u.withCredentials=!!t.withCredentials);"text"===e._mode&&"overrideMimeType"in u&&u.overrideMimeType("text/plain; charset=x-user-defined");if("timeout"in t){u.timeout=t.timeout;u.ontimeout=function(){e.emit("timeout")}}l.forEach(function(e){u.setRequestHeader(e[0],e[1])});e._response=null;u.onreadystatechange=function(){switch(u.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}};"moz-chunked-arraybuffer"===e._mode&&(u.onprogress=function(){e._onXHRProgress()});u.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{u.send(s)}catch(c){n.nextTick(function(){e.emit("error",c)});return}}}};d.prototype._onXHRProgress=function(){var e=this;if(s(e._xhr)&&!e._destroyed){e._response||e._connect();e._response._onXHRProgress()}};d.prototype._connect=function(){var e=this;if(!e._destroyed){e._response=new p(e._xhr,e._fetchResponse,e._mode);e._response.on("error",function(t){e.emit("error",t)});e.emit("response",e._response)}};d.prototype._write=function(e,t,n){var i=this;i._body.push(e);n()};d.prototype.abort=d.prototype.destroy=function(){var e=this;e._destroyed=!0;e._response&&(e._response._destroyed=!0);e._xhr&&e._xhr.abort()};d.prototype.end=function(e,t,n){var i=this;if("function"==typeof e){n=e;e=void 0}c.Writable.prototype.end.call(i,e,t,n)};d.prototype.flushHeaders=function(){};d.prototype.setTimeout=function(){};d.prototype.setNoDelay=function(){};d.prototype.setSocketKeepAlive=function(){};var g=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":231,"./response":233,_process:205,buffer:5,inherits:65,"readable-stream":243,"to-arraybuffer":245}],233:[function(e,t,n){(function(t,i,r){var o=e("./capability"),s=e("inherits"),a=e("readable-stream"),l=n.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=n.IncomingMessage=function(e,n,i){function s(){u.read().then(function(e){if(!l._destroyed)if(e.done)l.push(null);else{l.push(new r(e.value));s()}})["catch"](function(e){l.emit("error",e)})}var l=this;a.Readable.call(l);l._mode=i;l.headers={};l.rawHeaders=[];l.trailers={};l.rawTrailers=[];l.on("end",function(){t.nextTick(function(){l.emit("close")})});if("fetch"===i){l._fetchResponse=n;l.url=n.url;l.statusCode=n.status;l.statusMessage=n.statusText;n.headers.forEach(function(e,t){l.headers[t.toLowerCase()]=e;l.rawHeaders.push(t,e)});var u=n.body.getReader();s()}else{l._xhr=e;l._pos=0;l.url=e.responseURL;l.statusCode=e.status;l.statusMessage=e.statusText;var c=e.getAllResponseHeaders().split(/\r?\n/);c.forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();if("set-cookie"===n){void 0===l.headers[n]&&(l.headers[n]=[]);l.headers[n].push(t[2])}else void 0!==l.headers[n]?l.headers[n]+=", "+t[2]:l.headers[n]=t[2];l.rawHeaders.push(t[1],t[2])}});l._charset="x-user-defined";if(!o.overrideMimeType){var f=l.rawHeaders["mime-type"];if(f){var p=f.match(/;\s*charset=([^;])(;|$)/);p&&(l._charset=p[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};s(u,a.Readable);u.prototype._read=function(){};u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==l.DONE)break;try{n=new i.VBArray(t.responseBody).toArray()}catch(o){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(o){e._mode="text:vbarray";break}if(n.length>e._pos){var s=n.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new r(s.length),u=0;u<s.length;u++)a[u]=255&s.charCodeAt(u);e.push(a)}else e.push(s,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==l.DONE||!t.response)break;n=t.response;e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":n=t.response;if(t.readyState!==l.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":n=t.response;if(t.readyState!==l.LOADING)break;var c=new i.MSStreamReader;c.onprogress=function(){if(c.result.byteLength>e._pos){e.push(new r(new Uint8Array(c.result.slice(e._pos))));e._pos=c.result.byteLength}};c.onload=function(){e.push(null)};c.readAsArrayBuffer(n)}e._xhr.readyState===l.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":231,_process:205,buffer:5,inherits:65,"readable-stream":243}],234:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{dup:6}],235:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);u.call(this,e);c.call(this,e);e&&e.readable===!1&&(this.readable=!1);e&&e.writable===!1&&(this.writable=!1);this.allowHalfOpen=!0;e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1);this.once("end",r)}function r(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(e){e.end()}var s=e("process-nextick-args"),a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=i;var l=e("core-util-is");l.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");l.inherits(i,u);for(var f=a(c.prototype),p=0;p<f.length;p++){var h=f[p];i.prototype[h]||(i.prototype[h]=c.prototype[h])}Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){if(void 0!==this._readableState&&void 0!==this._writableState){this._readableState.destroyed=e;this._writableState.destroyed=e}}});i.prototype._destroy=function(e,t){this.push(null);this.end();s(t,e)}},{"./_stream_readable":237,"./_stream_writable":239,"core-util-is":29,inherits:65,"process-nextick-args":204}],236:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}t.exports=i;var r=e("./_stream_transform"),o=e("core-util-is");o.inherits=e("inherits");o.inherits(i,r);i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":238,"core-util-is":29,inherits:65}],237:[function(e,t,n){(function(n,i){"use strict";function r(e){return j.from(e)}function o(e){return j.isBuffer(e)||e instanceof B}function s(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?k(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function a(t,n){P=P||e("./_stream_duplex");t=t||{};this.objectMode=!!t.objectMode;n instanceof P&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new z;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=!1;this.endEmitted=!1;this.reading=!1;this.sync=!0;this.needReadable=!1;this.emittedReadable=!1;this.readableListening=!1;this.resumeScheduled=!1;this.destroyed=!1;this.defaultEncoding=t.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.decoder=null;this.encoding=null;if(t.encoding){G||(G=e("string_decoder/").StringDecoder);this.decoder=new G(t.encoding);this.encoding=t.encoding}}function l(t){P=P||e("./_stream_duplex");if(!(this instanceof l))return new l(t);this._readableState=new a(t,this);this.readable=!0;if(t){"function"==typeof t.read&&(this._read=t.read);"function"==typeof t.destroy&&(this._destroy=t.destroy)}D.call(this)}function u(e,t,n,i,o){var s=e._readableState;if(null===t){s.reading=!1;g(e,s)}else{var a;o||(a=f(s,t));if(a)e.emit("error",a);else if(s.objectMode||t&&t.length>0){"string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===j.prototype||(t=r(t));if(i)s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):c(e,s,t,!0);else if(s.ended)e.emit("error",new Error("stream.push() after EOF"));else{s.reading=!1;if(s.decoder&&!n){t=s.decoder.write(t);s.objectMode||0!==t.length?c(e,s,t,!1):y(e,s)}else c(e,s,t,!1)}}else i||(s.reading=!1)}return p(s)}function c(e,t,n,i){if(t.flowing&&0===t.length&&!t.sync){e.emit("data",n);e.read(0)}else{t.length+=t.objectMode?1:n.length;i?t.buffer.unshift(n):t.buffer.push(n);t.needReadable&&m(e)}y(e,t)}function f(e,t){var n;o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}function p(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function h(e){if(e>=W)e=W;else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function d(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;e>t.highWaterMark&&(t.highWaterMark=h(e));if(e<=t.length)return e;if(!t.ended){t.needReadable=!0;return 0}return t.length}function g(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();if(n&&n.length){t.buffer.push(n);t.length+=t.objectMode?1:n.length}}t.ended=!0;m(e)}}function m(e){var t=e._readableState;t.needReadable=!1;if(!t.emittedReadable){F("emitReadable",t.flowing);t.emittedReadable=!0;t.sync?O(v,e):v(e)}}function v(e){F("emit readable");e.emit("readable");T(e)}function y(e,t){if(!t.readingMore){t.readingMore=!0;O(b,e,t)}}function b(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark;){F("maybeReadMore read 0");e.read(0);if(n===t.length)break;n=t.length}t.readingMore=!1}function x(e){return function(){var t=e._readableState;F("pipeOnDrain",t.awaitDrain);t.awaitDrain&&t.awaitDrain--;if(0===t.awaitDrain&&M(e,"data")){t.flowing=!0;T(e)}}}function _(e){F("readable nexttick read 0");e.read(0)}function E(e,t){if(!t.resumeScheduled){t.resumeScheduled=!0;O(w,e,t)}}function w(e,t){if(!t.reading){F("resume read 0");e.read(0)}t.resumeScheduled=!1;t.awaitDrain=0;e.emit("resume");T(e);t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;F("flow",t.flowing);for(;t.flowing&&null!==e.read(););}function S(e,t){if(0===t.length)return null;var n;if(t.objectMode)n=t.buffer.shift();else if(!e||e>=t.length){n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length);t.buffer.clear()}else n=C(e,t.buffer,t.decoder);return n}function C(e,t,n){var i;if(e<t.head.data.length){i=t.head.data.slice(0,e);t.head.data=t.head.data.slice(e)}else i=e===t.head.data.length?t.shift():n?L(e,t):N(e,t);return i}function L(e,t){var n=t.head,i=1,r=n.data;e-=r.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;r+=s===o.length?o:o.slice(0,e);e-=s;if(0===e){if(s===o.length){++i;n.next?t.head=n.next:t.head=t.tail=null}else{t.head=n;n.data=o.slice(s)}break}++i}t.length-=i;return r}function N(e,t){var n=j.allocUnsafe(e),i=t.head,r=1;i.data.copy(n);e-=i.data.length;for(;i=i.next;){var o=i.data,s=e>o.length?o.length:e;o.copy(n,n.length-e,0,s);e-=s;if(0===e){if(s===o.length){++r;i.next?t.head=i.next:t.head=t.tail=null}else{t.head=i;i.data=o.slice(s)}break}++r}t.length-=r;return n}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!t.endEmitted){t.ended=!0;O(A,t,e)}}function A(e,t){if(!e.endEmitted&&0===e.length){e.endEmitted=!0;t.readable=!1;t.emit("end")}}function R(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}var O=e("process-nextick-args");t.exports=l;var P,k=e("isarray");l.ReadableState=a;var M=(e("events").EventEmitter,function(e,t){return e.listeners(t).length}),D=e("./internal/streams/stream"),j=e("safe-buffer").Buffer,B=i.Uint8Array||function(){},q=e("core-util-is");q.inherits=e("inherits");var U=e("util"),F=void 0;F=U&&U.debuglog?U.debuglog("stream"):function(){};var G,z=e("./internal/streams/BufferList"),H=e("./internal/streams/destroy");q.inherits(l,D);var V=["error","close","destroy","pause","resume"];Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});l.prototype.destroy=H.destroy;l.prototype._undestroy=H.undestroy;l.prototype._destroy=function(e,t){this.push(null);t(e)};l.prototype.push=function(e,t){var n,i=this._readableState;if(i.objectMode)n=!0;else if("string"==typeof e){t=t||i.defaultEncoding;if(t!==i.encoding){e=j.from(e,t);t=""}n=!0}return u(this,e,t,!1,n)};l.prototype.unshift=function(e){return u(this,e,null,!0,!1)};l.prototype.isPaused=function(){return this._readableState.flowing===!1};l.prototype.setEncoding=function(t){G||(G=e("string_decoder/").StringDecoder);this._readableState.decoder=new G(t);this._readableState.encoding=t;return this};var W=8388608;l.prototype.read=function(e){F("read",e);e=parseInt(e,10);var t=this._readableState,n=e;0!==e&&(t.emittedReadable=!1);if(0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){F("read: emitReadable",t.length,t.ended);0===t.length&&t.ended?I(this):m(this);return null}e=d(e,t);if(0===e&&t.ended){0===t.length&&I(this);return null}var i=t.needReadable;F("need readable",i);if(0===t.length||t.length-e<t.highWaterMark){i=!0;F("length less than watermark",i)}if(t.ended||t.reading){i=!1;F("reading or ended",i)}else if(i){F("do read");t.reading=!0;t.sync=!0;0===t.length&&(t.needReadable=!0);this._read(t.highWaterMark);t.sync=!1;t.reading||(e=d(n,t))}var r;r=e>0?S(e,t):null;if(null===r){t.needReadable=!0;e=0}else t.length-=e;if(0===t.length){t.ended||(t.needReadable=!0);n!==e&&t.ended&&I(this)}null!==r&&this.emit("data",r);return r};l.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};l.prototype.pipe=function(e,t){function i(e,t){F("onunpipe");if(e===p&&t&&t.hasUnpiped===!1){t.hasUnpiped=!0;o()}}function r(){F("onend");e.end()}function o(){F("cleanup");e.removeListener("close",u);e.removeListener("finish",c);e.removeListener("drain",m);e.removeListener("error",l);e.removeListener("unpipe",i);p.removeListener("end",r);p.removeListener("end",f);p.removeListener("data",a);v=!0;!h.awaitDrain||e._writableState&&!e._writableState.needDrain||m()}function a(t){F("ondata");y=!1;var n=e.write(t);if(!1===n&&!y){if((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&R(h.pipes,e)!==-1)&&!v){F("false write response, pause",p._readableState.awaitDrain);p._readableState.awaitDrain++;y=!0}p.pause()}}function l(t){F("onerror",t);f();e.removeListener("error",l);0===M(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c);f()}function c(){F("onfinish");e.removeListener("close",u);f()}function f(){F("unpipe");p.unpipe(e)}var p=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1;F("pipe count=%d opts=%j",h.pipesCount,t);var d=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,g=d?r:f;h.endEmitted?O(g):p.once("end",g);e.on("unpipe",i);var m=x(p);e.on("drain",m);var v=!1,y=!1;p.on("data",a);s(e,"error",l);e.once("close",u);e.once("finish",c);e.emit("pipe",p);if(!h.flowing){F("pipe resume");p.resume()}return e};l.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount){if(e&&e!==t.pipes)return this;e||(e=t.pipes);t.pipes=null;t.pipesCount=0;t.flowing=!1;e&&e.emit("unpipe",this,n);return this}if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var s=R(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;1===t.pipesCount&&(t.pipes=t.pipes[0]);e.emit("unpipe",this,n);return this};l.prototype.on=function(e,t){var n=D.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var i=this._readableState;if(!i.endEmitted&&!i.readableListening){i.readableListening=i.needReadable=!0;i.emittedReadable=!1;i.reading?i.length&&m(this):O(_,this)}}return n};l.prototype.addListener=l.prototype.on;l.prototype.resume=function(){var e=this._readableState;if(!e.flowing){F("resume");e.flowing=!0;E(this,e)}return this};l.prototype.pause=function(){F("call pause flowing=%j",this._readableState.flowing);if(!1!==this._readableState.flowing){F("pause");this._readableState.flowing=!1;this.emit("pause")}return this};l.prototype.wrap=function(e){var t=this._readableState,n=!1,i=this;e.on("end",function(){F("wrapped end");if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&i.push(e)}i.push(null)});e.on("data",function(r){F("wrapped data");t.decoder&&(r=t.decoder.write(r));if((!t.objectMode||null!==r&&void 0!==r)&&(t.objectMode||r&&r.length)){var o=i.push(r);if(!o){n=!0;e.pause()}}});for(var r in e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<V.length;o++)e.on(V[o],i.emit.bind(i,V[o]));i._read=function(t){F("wrapped _read",t);if(n){n=!1;e.resume()}};return i};l._fromList=S}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":235,"./internal/streams/BufferList":240,"./internal/streams/destroy":241,"./internal/streams/stream":242,_process:205,"core-util-is":29,events:62,inherits:65,isarray:234,"process-nextick-args":204,"safe-buffer":213,"string_decoder/":244,util:3}],238:[function(e,t,n){"use strict";function i(e){this.afterTransform=function(t,n){return r(e,t,n)};this.needTransform=!1;this.transforming=!1;this.writecb=null;this.writechunk=null;this.writeencoding=null}function r(e,t,n){var i=e._transformState;i.transforming=!1;var r=i.writecb;if(!r)return e.emit("error",new Error("write callback called multiple times"));i.writechunk=null;i.writecb=null;null!==n&&void 0!==n&&e.push(n);r(t);var o=e._readableState;o.reading=!1;(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e);this._transformState=new i(this);var t=this;this._readableState.needReadable=!0;this._readableState.sync=!1;if(e){"function"==typeof e.transform&&(this._transform=e.transform);"function"==typeof e.flush&&(this._flush=e.flush)}this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){s(t,e,n)}):s(t)})}function s(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var i=e._writableState,r=e._transformState;if(i.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e("./_stream_duplex"),l=e("core-util-is");l.inherits=e("inherits");l.inherits(o,a);o.prototype.push=function(e,t){this._transformState.needTransform=!1;return a.prototype.push.call(this,e,t)};o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")};o.prototype._write=function(e,t,n){var i=this._transformState;i.writecb=n;i.writechunk=e;i.writeencoding=t;if(!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}};o.prototype._read=function(e){var t=this._transformState;if(null!==t.writechunk&&t.writecb&&!t.transforming){t.transforming=!0;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else t.needTransform=!0};o.prototype._destroy=function(e,t){var n=this;a.prototype._destroy.call(this,e,function(e){t(e);n.emit("close")})}},{"./_stream_duplex":235,"core-util-is":29,inherits:65}],239:[function(e,t,n){(function(n,i){"use strict";function r(e){var t=this;this.next=null;this.entry=null;this.finish=function(){C(t,e)}}function o(e){return P.from(e)}function s(e){return P.isBuffer(e)||e instanceof k}function a(){}function l(t,n){N=N||e("./_stream_duplex");t=t||{};this.objectMode=!!t.objectMode;n instanceof N&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:o;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=!1;this.needDrain=!1;this.ending=!1;this.ended=!1;this.finished=!1;this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s;this.defaultEncoding=t.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(e){v(n,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=!1;this.errorEmitted=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new r(this)}function u(t){N=N||e("./_stream_duplex");if(!(D.call(u,this)||this instanceof N))return new u(t);this._writableState=new l(t,this);this.writable=!0;if(t){"function"==typeof t.write&&(this._write=t.write);"function"==typeof t.writev&&(this._writev=t.writev);"function"==typeof t.destroy&&(this._destroy=t.destroy);"function"==typeof t["final"]&&(this._final=t["final"])}O.call(this)}function c(e,t){var n=new Error("write after end");e.emit("error",n);L(t,n)}function f(e,t,n,i){var r=!0,o=!1;null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk"));if(o){e.emit("error",o);L(i,o);r=!1}return r}function p(e,t,n){e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=P.from(t,n));return t}function h(e,t,n,i,r,o){if(!n){var s=p(t,i,r);if(i!==s){n=!0;r="buffer";i=s}}var a=t.objectMode?1:i.length;t.length+=a;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null};u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest;t.bufferedRequestCount+=1}else d(e,t,!1,a,i,r,o);return l}function d(e,t,n,i,r,o,s){t.writelen=i;t.writecb=s;t.writing=!0;t.sync=!0;n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite);t.sync=!1}function g(e,t,n,i,r){--t.pendingcb;if(n){L(r,i);L(T,e,t);e._writableState.errorEmitted=!0;e.emit("error",i)}else{r(i);e._writableState.errorEmitted=!0;e.emit("error",i);T(e,t)}}function m(e){e.writing=!1;e.writecb=null;e.length-=e.writelen;e.writelen=0}function v(e,t){var n=e._writableState,i=n.sync,r=n.writecb;m(n);if(t)g(e,n,i,t,r);else{var o=_(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n);i?I(y,e,n,o,r):y(e,n,o,r)}}function y(e,t,n,i){n||b(e,t);t.pendingcb--;i();T(e,t)}function b(e,t){if(0===t.length&&t.needDrain){t.needDrain=!1;e.emit("drain")}}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;){o[a]=n;n.isBuf||(l=!1);n=n.next;a+=1}o.allBuffers=l;d(e,t,!0,t.length,o,"",s.finish);t.pendingcb++;t.lastBufferedRequest=null;if(s.next){t.corkedRequestsFree=s.next;s.next=null}else t.corkedRequestsFree=new r(t)}else{for(;n;){var u=n.chunk,c=n.encoding,f=n.callback,p=t.objectMode?1:u.length;d(e,t,!1,p,u,c,f);n=n.next;if(t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0;t.bufferedRequest=n;t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final(function(n){t.pendingcb--;n&&e.emit("error",n);t.prefinished=!0;e.emit("prefinish");T(e,t)})}function w(e,t){if(!t.prefinished&&!t.finalCalled)if("function"==typeof e._final){t.pendingcb++;t.finalCalled=!0;L(E,e,t)}else{t.prefinished=!0;e.emit("prefinish")}}function T(e,t){var n=_(t);if(n){w(e,t);if(0===t.pendingcb){t.finished=!0;e.emit("finish")}}return n}function S(e,t,n){t.ending=!0;T(e,t);n&&(t.finished?L(n):e.once("finish",n));t.ended=!0;e.writable=!1}function C(e,t,n){var i=e.entry;e.entry=null;for(;i;){var r=i.callback;t.pendingcb--;r(n);i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var L=e("process-nextick-args");t.exports=u;var N,I=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:L;u.WritableState=l;var A=e("core-util-is");A.inherits=e("inherits");var R={deprecate:e("util-deprecate")},O=e("./internal/streams/stream"),P=e("safe-buffer").Buffer,k=i.Uint8Array||function(){},M=e("./internal/streams/destroy");A.inherits(u,O);l.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;){t.push(e);e=e.next}return t};(function(){try{Object.defineProperty(l.prototype,"buffer",{get:R.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}})();var D;if("function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]){D=Function.prototype[Symbol.hasInstance];Object.defineProperty(u,Symbol.hasInstance,{value:function(e){return!!D.call(this,e)||e&&e._writableState instanceof l}})}else D=function(e){return e instanceof this};u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};u.prototype.write=function(e,t,n){var i=this._writableState,r=!1,l=s(e)&&!i.objectMode;l&&!P.isBuffer(e)&&(e=o(e));if("function"==typeof t){n=t;t=null}l?t="buffer":t||(t=i.defaultEncoding);"function"!=typeof n&&(n=a);if(i.ended)c(this,n);else if(l||f(this,i,e,n)){i.pendingcb++;r=h(this,i,l,e,t,n)}return r};u.prototype.cork=function(){var e=this._writableState;e.corked++};u.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e)}};u.prototype.setDefaultEncoding=function(e){"string"==typeof e&&(e=e.toLowerCase());if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e;return this};u.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))};u.prototype._writev=null;u.prototype.end=function(e,t,n){var i=this._writableState;if("function"==typeof e){n=e;e=null;t=null}else if("function"==typeof t){n=t;t=null}null!==e&&void 0!==e&&this.write(e,t);if(i.corked){i.corked=1;this.uncork()}i.ending||i.finished||S(this,i,n)};Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});u.prototype.destroy=M.destroy;u.prototype._undestroy=M.undestroy;u.prototype._destroy=function(e,t){this.end();t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"./_stream_duplex":235,"./internal/streams/destroy":241,"./internal/streams/stream":242,_process:205,"core-util-is":29,inherits:65,"process-nextick-args":204,"safe-buffer":213,"util-deprecate":250}],240:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){e.copy(t,n)}var o=e("safe-buffer").Buffer;t.exports=function(){function e(){i(this,e);this.head=null;this.tail=null;this.length=0}e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t;this.tail=t;++this.length};e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t);this.head=t;++this.length};e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;1===this.length?this.head=this.tail=null:this.head=this.head.next;--this.length;return e}};e.prototype.clear=function(){this.head=this.tail=null;this.length=0};e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n};e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,i=0;n;){r(n.data,t,i);i+=n.data.length;n=n.next}return t};return e}()},{"safe-buffer":213}],241:[function(e,t,n){"use strict";function i(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;if(i||r)t?t(e):!e||this._writableState&&this._writableState.errorEmitted||s(o,this,e);else{this._readableState&&(this._readableState.destroyed=!0);this._writableState&&(this._writableState.destroyed=!0);this._destroy(e||null,function(e){if(!t&&e){s(o,n,e);n._writableState&&(n._writableState.errorEmitted=!0)}else t&&t(e)})}}function r(){if(this._readableState){this._readableState.destroyed=!1;this._readableState.reading=!1;this._readableState.ended=!1;this._readableState.endEmitted=!1}if(this._writableState){this._writableState.destroyed=!1;this._writableState.ended=!1;this._writableState.ending=!1;this._writableState.finished=!1;this._writableState.errorEmitted=!1}}function o(e,t){e.emit("error",t)}var s=e("process-nextick-args");t.exports={destroy:i,undestroy:r}},{"process-nextick-args":204}],242:[function(e,t,n){t.exports=e("events").EventEmitter},{events:62}],243:[function(e,t,n){n=t.exports=e("./lib/_stream_readable.js");n.Stream=n;n.Readable=n;n.Writable=e("./lib/_stream_writable.js");n.Duplex=e("./lib/_stream_duplex.js");n.Transform=e("./lib/_stream_transform.js");n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":235,"./lib/_stream_passthrough.js":236,"./lib/_stream_readable.js":237,"./lib/_stream_transform.js":238,"./lib/_stream_writable.js":239}],244:[function(e,t,n){"use strict";function i(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=!0}}function r(e){var t=i(e);if("string"!=typeof t&&(y.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=r(e);var t;switch(this.encoding){case"utf16le":this.text=p;this.end=h;t=4;break;case"utf8":this.fillLast=u;t=4;break;case"base64":this.text=d;this.end=g;t=3;break;default:this.write=m;this.end=v;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=y.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:-1}function a(e,t,n){var i=t.length-1;if(i<n)return 0;var r=s(t[i]);if(r>=0){r>0&&(e.lastNeed=r-1);return r}if(--i<n)return 0;r=s(t[i]);if(r>=0){r>0&&(e.lastNeed=r-2);return r}if(--i<n)return 0;r=s(t[i]);if(r>=0){r>0&&(2===r?r=0:e.lastNeed=r-3);return r}return 0}function l(e,t,n){if(128!==(192&t[0])){e.lastNeed=0;return"�".repeat(n)}if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1])){e.lastNeed=1;return"�".repeat(n+1)}if(e.lastNeed>2&&t.length>2&&128!==(192&t[2])){e.lastNeed=2;return"�".repeat(n+2)}}}function u(e){var t=this.lastTotal-this.lastNeed,n=l(this,e,t);if(void 0!==n)return n;if(this.lastNeed<=e.length){e.copy(this.lastChar,t,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,t,0,e.length);this.lastNeed-=e.length}function c(e,t){var n=a(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);e.copy(this.lastChar,0,i);return e.toString("utf8",t,i)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t}function p(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return n.slice(0,-1)}}return n}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function d(e,t){var n=(e.length-t)%3;if(0===n)return e.toString("base64",t);this.lastNeed=3-n;this.lastTotal=3;if(1===n)this.lastChar[0]=e[e.length-1];else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",t,e.length-n)}function g(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function m(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}var y=e("safe-buffer").Buffer,b=y.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=o;o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){t=this.fillLast(e);if(void 0===t)return"";n=this.lastNeed;this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""};o.prototype.end=f;o.prototype.text=c;o.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length}},{"safe-buffer":213}],245:[function(e,t,n){var i=e("buffer").Buffer;t.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(i.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,r=0;r<n;r++)t[r]=e[r];return t.buffer}throw new Error("Argument must be a Buffer")}},{buffer:5}],246:[function(e,t,n){(function(){function e(e){function t(t,n,i,r,o,s){for(;o>=0&&o<s;o+=e){var a=r?r[o]:o;i=n(i,t[a],a,t)}return i}return function(n,i,r,o){i=_(i,o,4);var s=!N(n)&&x.keys(n),a=(s||n).length,l=e>0?0:a-1;if(arguments.length<3){r=n[s?s[l]:l];l+=e}return t(n,i,r,s,l,a)}}function i(e){return function(t,n,i){n=E(n,i);for(var r=L(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}function r(e,t,n){return function(i,r,o){var s=0,a=L(i);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a){o=n(i,r);return i[o]===r?o:-1}if(r!==r){o=t(p.call(i,s,a),x.isNaN);return o>=0?o+s:-1}for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(i[o]===r)return o;return-1}}function o(e,t){var n=P.length,i=e.constructor,r=x.isFunction(i)&&i.prototype||u,o="constructor";x.has(e,o)&&!x.contains(t,o)&&t.push(o);for(;n--;){o=P[n];o in e&&e[o]!==r[o]&&!x.contains(t,o)&&t.push(o)}}var s=this,a=s._,l=Array.prototype,u=Object.prototype,c=Function.prototype,f=l.push,p=l.slice,h=u.toString,d=u.hasOwnProperty,g=Array.isArray,m=Object.keys,v=c.bind,y=Object.create,b=function(){},x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};if("undefined"!=typeof n){"undefined"!=typeof t&&t.exports&&(n=t.exports=x);n._=x}else s._=x;x.VERSION="1.8.3";var _=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},E=function(e,t,n){return null==e?x.identity:x.isFunction(e)?_(e,t,n):x.isObject(e)?x.matcher(e):x.property(e)};x.iteratee=function(e,t){return E(e,t,1/0)};var w=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=e(o),a=s.length,l=0;l<a;l++){var u=s[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}},T=function(e){if(!x.isObject(e))return{};if(y)return y(e);b.prototype=e;var t=new b;b.prototype=null;return t},S=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,L=S("length"),N=function(e){var t=L(e);return"number"==typeof t&&t>=0&&t<=C};x.each=x.forEach=function(e,t,n){t=_(t,n);var i,r;if(N(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=x.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e};x.map=x.collect=function(e,t,n){t=E(t,n);for(var i=!N(e)&&x.keys(e),r=(i||e).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o};x.reduce=x.foldl=x.inject=e(1);x.reduceRight=x.foldr=e(-1);x.find=x.detect=function(e,t,n){var i;i=N(e)?x.findIndex(e,t,n):x.findKey(e,t,n);if(void 0!==i&&i!==-1)return e[i]};x.filter=x.select=function(e,t,n){var i=[];t=E(t,n);x.each(e,function(e,n,r){t(e,n,r)&&i.push(e)});return i};x.reject=function(e,t,n){return x.filter(e,x.negate(E(t)),n)};x.every=x.all=function(e,t,n){t=E(t,n);for(var i=!N(e)&&x.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0};x.some=x.any=function(e,t,n){t=E(t,n);for(var i=!N(e)&&x.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1};x.contains=x.includes=x.include=function(e,t,n,i){N(e)||(e=x.values(e));("number"!=typeof n||i)&&(n=0);return x.indexOf(e,t,n)>=0};x.invoke=function(e,t){var n=p.call(arguments,2),i=x.isFunction(t);return x.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})};x.pluck=function(e,t){return x.map(e,x.property(t))};x.where=function(e,t){return x.filter(e,x.matcher(t))};x.findWhere=function(e,t){return x.find(e,x.matcher(t))};x.max=function(e,t,n){var i,r,o=-(1/0),s=-(1/0);if(null==t&&null!=e){e=N(e)?e:x.values(e);for(var a=0,l=e.length;a<l;a++){i=e[a];i>o&&(o=i)}}else{t=E(t,n);x.each(e,function(e,n,i){r=t(e,n,i);if(r>s||r===-(1/0)&&o===-(1/0)){o=e;s=r}})}return o};x.min=function(e,t,n){var i,r,o=1/0,s=1/0;if(null==t&&null!=e){e=N(e)?e:x.values(e);for(var a=0,l=e.length;a<l;a++){i=e[a];i<o&&(o=i)}}else{t=E(t,n);x.each(e,function(e,n,i){r=t(e,n,i);if(r<s||r===1/0&&o===1/0){o=e;s=r}})}return o};x.shuffle=function(e){for(var t,n=N(e)?e:x.values(e),i=n.length,r=Array(i),o=0;o<i;o++){t=x.random(0,o);t!==o&&(r[o]=r[t]);r[t]=n[o]}return r};x.sample=function(e,t,n){if(null==t||n){N(e)||(e=x.values(e));return e[x.random(e.length-1)]}return x.shuffle(e).slice(0,Math.max(0,t))};x.sortBy=function(e,t,n){t=E(t,n);return x.pluck(x.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var I=function(e){return function(t,n,i){var r={};n=E(n,i);x.each(t,function(i,o){var s=n(i,o,t);e(r,i,s)});return r}};x.groupBy=I(function(e,t,n){x.has(e,n)?e[n].push(t):e[n]=[t]});x.indexBy=I(function(e,t,n){e[n]=t});x.countBy=I(function(e,t,n){x.has(e,n)?e[n]++:e[n]=1});x.toArray=function(e){return e?x.isArray(e)?p.call(e):N(e)?x.map(e,x.identity):x.values(e):[]};x.size=function(e){return null==e?0:N(e)?e.length:x.keys(e).length};x.partition=function(e,t,n){t=E(t,n);var i=[],r=[];x.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)});return[i,r]};x.first=x.head=x.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:x.initial(e,e.length-t)};x.initial=function(e,t,n){return p.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))};x.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:x.rest(e,Math.max(0,e.length-t))};x.rest=x.tail=x.drop=function(e,t,n){return p.call(e,null==t||n?1:t)};x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n,i){for(var r=[],o=0,s=i||0,a=L(e);s<a;s++){var l=e[s];if(N(l)&&(x.isArray(l)||x.isArguments(l))){t||(l=A(l,t,n));var u=0,c=l.length;r.length+=c;for(;u<c;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};x.flatten=function(e,t){return A(e,t,!1)};x.without=function(e){return x.difference(e,p.call(arguments,1))};x.uniq=x.unique=function(e,t,n,i){if(!x.isBoolean(t)){i=n;n=t;t=!1}null!=n&&(n=E(n,i));for(var r=[],o=[],s=0,a=L(e);s<a;s++){var l=e[s],u=n?n(l,s,e):l;if(t){s&&o===u||r.push(l);o=u}else if(n){if(!x.contains(o,u)){o.push(u);r.push(l)}}else x.contains(r,l)||r.push(l)}return r};x.union=function(){return x.uniq(A(arguments,!0,!0))};x.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=L(e);i<r;i++){var o=e[i];if(!x.contains(t,o)){for(var s=1;s<n&&x.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t};x.difference=function(e){var t=A(arguments,!0,!0,1);return x.filter(e,function(e){return!x.contains(t,e)})};x.zip=function(){return x.unzip(arguments)};x.unzip=function(e){for(var t=e&&x.max(e,L).length||0,n=Array(t),i=0;i<t;i++)n[i]=x.pluck(e,i);return n};x.object=function(e,t){for(var n={},i=0,r=L(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};x.findIndex=i(1);x.findLastIndex=i(-1);x.sortedIndex=function(e,t,n,i){n=E(n,i,1);for(var r=n(t),o=0,s=L(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<r?o=a+1:s=a}return o};x.indexOf=r(1,x.findIndex,x.sortedIndex);x.lastIndexOf=r(-1,x.findLastIndex);x.range=function(e,t,n){if(null==t){t=e||0;e=0}n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r};var R=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=T(e.prototype),s=e.apply(o,r);return x.isObject(s)?s:o};x.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,p.call(arguments,1));if(!x.isFunction(e))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),i=function(){return R(e,i,t,this,n.concat(p.call(arguments)))};return i};x.partial=function(e){var t=p.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),s=0;s<r;s++)o[s]=t[s]===x?arguments[i++]:t[s];for(;i<arguments.length;)o.push(arguments[i++]);return R(e,n,this,this,o)};return n};x.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++){n=arguments[t];e[n]=x.bind(e[n],e)}return e};x.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);x.has(r,o)||(r[o]=e.apply(this,arguments));return r[o]};n.cache={};return n};x.delay=function(e,t){var n=p.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};x.defer=x.partial(x.delay,x,1);x.throttle=function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:x.now();s=null;o=e.apply(i,r);s||(i=r=null)};return function(){var u=x.now();a||n.leading!==!1||(a=u);var c=t-(u-a);i=this;r=arguments;if(c<=0||c>t){if(s){clearTimeout(s);s=null}a=u;o=e.apply(i,r);s||(i=r=null)}else s||n.trailing===!1||(s=setTimeout(l,c));return o}};x.debounce=function(e,t,n){var i,r,o,s,a,l=function(){var u=x.now()-s;if(u<t&&u>=0)i=setTimeout(l,t-u);else{i=null;if(!n){a=e.apply(o,r);i||(o=r=null)}}};return function(){o=this;r=arguments;s=x.now();var u=n&&!i;i||(i=setTimeout(l,t));if(u){a=e.apply(o,r);o=r=null}return a}};x.wrap=function(e,t){return x.partial(t,e)};x.negate=function(e){return function(){return!e.apply(this,arguments)}};x.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}};x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}};x.before=function(e,t){var n;return function(){--e>0&&(n=t.apply(this,arguments));e<=1&&(t=null);return n}};x.once=x.partial(x.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(e){if(!x.isObject(e))return[];if(m)return m(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);O&&o(e,t);return t};x.allKeys=function(e){if(!x.isObject(e))return[];var t=[];for(var n in e)t.push(n);O&&o(e,t);return t};x.values=function(e){for(var t=x.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i};x.mapObject=function(e,t,n){t=E(t,n);for(var i,r=x.keys(e),o=r.length,s={},a=0;a<o;a++){i=r[a];s[i]=t(e[i],i,e)}return s};x.pairs=function(e){for(var t=x.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i};x.invert=function(e){for(var t={},n=x.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t};x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()};x.extend=w(x.allKeys);x.extendOwn=x.assign=w(x.keys);x.findKey=function(e,t,n){t=E(t,n);for(var i,r=x.keys(e),o=0,s=r.length;o<s;o++){i=r[o];if(t(e[i],i,e))return i}};x.pick=function(e,t,n){var i,r,o={},s=e;if(null==s)return o;if(x.isFunction(t)){r=x.allKeys(s);i=_(t,n)}else{r=A(arguments,!1,!1,1);i=function(e,t,n){return t in n};s=Object(s)}for(var a=0,l=r.length;a<l;a++){var u=r[a],c=s[u];i(c,u,s)&&(o[u]=c)}return o};x.omit=function(e,t,n){if(x.isFunction(t))t=x.negate(t);else{var i=x.map(A(arguments,!1,!1,1),String);t=function(e,t){return!x.contains(i,t)}}return x.pick(e,t,n)};x.defaults=w(x.allKeys,!0);x.create=function(e,t){var n=T(e);t&&x.extendOwn(n,t);return n};x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e};x.tap=function(e,t){t(e);return e};x.isMatch=function(e,t){var n=x.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0};var k=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped);t instanceof x&&(t=t._wrapped);var r=h.call(e);if(r!==h.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(x.isFunction(s)&&s instanceof s&&x.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;n.push(e);i.push(t);if(o){l=e.length;if(l!==t.length)return!1;for(;l--;)if(!k(e[l],t[l],n,i))return!1}else{var u,c=x.keys(e);l=c.length;if(x.keys(t).length!==l)return!1;for(;l--;){u=c[l];if(!x.has(t,u)||!k(e[u],t[u],n,i))return!1}}n.pop();i.pop();return!0};x.isEqual=function(e,t){return k(e,t)};x.isEmpty=function(e){return null==e||(N(e)&&(x.isArray(e)||x.isString(e)||x.isArguments(e))?0===e.length:0===x.keys(e).length)};x.isElement=function(e){return!(!e||1!==e.nodeType)};x.isArray=g||function(e){return"[object Array]"===h.call(e)};x.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e};x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){x["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}});x.isArguments(arguments)||(x.isArguments=function(e){return x.has(e,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(e){return"function"==typeof e||!1});x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};x.isNaN=function(e){return x.isNumber(e)&&e!==+e};x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)};x.isNull=function(e){return null===e};x.isUndefined=function(e){return void 0===e};x.has=function(e,t){return null!=e&&d.call(e,t)};x.noConflict=function(){s._=a;return this};x.identity=function(e){return e};x.constant=function(e){return function(){return e}};x.noop=function(){};x.property=S;x.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}};x.matcher=x.matches=function(e){e=x.extendOwn({},e);return function(t){return x.isMatch(t,e)}};x.times=function(e,t,n){var i=Array(Math.max(0,e));t=_(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i};x.random=function(e,t){if(null==t){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};x.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=x.invert(M),j=function(e){var t=function(t){return e[t]},n="(?:"+x.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){e=null==e?"":""+e;return i.test(e)?e.replace(r,t):e}};x.escape=j(M);x.unescape=j(D);x.result=function(e,t,n){var i=null==e?void 0:e[t];void 0===i&&(i=n);return x.isFunction(i)?i.call(e):i};var B=0;x.uniqueId=function(e){var t=++B+"";return e?e+t:t};x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,G=function(e){return"\\"+U[e]};x.template=function(e,t,n){!t&&n&&(t=n);t=x.defaults({},t,x.templateSettings);var i=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,s,a){o+=e.slice(r,a).replace(F,G);r=a+t.length;n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='");return t});o+="';\n";t.variable||(o="with(obj||{}){\n"+o+"}\n");o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(a){a.source=o;throw a}var l=function(e){return s.call(this,e,x)},u=t.variable||"obj";l.source="function("+u+"){\n"+o+"}";return l};x.chain=function(e){var t=x(e);t._chain=!0;return t};var z=function(e,t){return e._chain?x(t).chain():t};x.mixin=function(e){x.each(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];f.apply(e,arguments);return z(this,n.apply(x,e))}})};x.mixin(x);x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];x.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);"shift"!==e&&"splice"!==e||0!==n.length||delete n[0];return z(this,n)}});x.each(["concat","join","slice"],function(e){var t=l[e];x.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}});x.prototype.value=function(){return this._wrapped};x.prototype.valueOf=x.prototype.toJSON=x.prototype.value;x.prototype.toString=function(){return""+this._wrapped};"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this)},{}],247:[function(e,t,n){(function(n){"use strict";function i(e){e=e||n.location||{};var t,i={},r=typeof e;if("blob:"===e.protocol)i=new s(unescape(e.pathname),{});else if("string"===r){i=new s(e,{});for(t in d)delete i[t]}else if("object"===r){for(t in e)t in d||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=p.test(e.href))}return i}function r(e){var t=f.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function o(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,r=n[i-1],o=!1,s=0;i--;)if("."===n[i])n.splice(i,1);else if(".."===n[i]){n.splice(i,1);s++}else if(s){0===i&&(o=!0);n.splice(i,1);s--}o&&n.unshift("");"."!==r&&".."!==r||n.push("");return n.join("/")}function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);var a,l,f,p,d,g,m=h.slice(),v=typeof t,y=this,b=0;if("object"!==v&&"string"!==v){n=t;t=null}n&&"function"!=typeof n&&(n=c.parse);t=i(t);l=r(e||"");a=!l.protocol&&!l.slashes;y.slashes=l.slashes||a&&t.slashes;y.protocol=l.protocol||t.protocol||"";e=l.rest;l.slashes||(m[2]=[/(.*)/,"pathname"]);for(;b<m.length;b++){p=m[b];f=p[0];g=p[1];if(f!==f)y[g]=e;else if("string"==typeof f){if(~(d=e.indexOf(f)))if("number"==typeof p[2]){y[g]=e.slice(0,d);e=e.slice(d+p[2])}else{y[g]=e.slice(d);e=e.slice(0,d)}}else if(d=f.exec(e)){y[g]=d[1];e=e.slice(0,d.index)}y[g]=y[g]||(a&&p[3]?t[g]||"":"");p[4]&&(y[g]=y[g].toLowerCase())}n&&(y.query=n(y.query));a&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=o(y.pathname,t.pathname));if(!u(y.port,y.protocol)){y.host=y.hostname;y.port=""}y.username=y.password="";if(y.auth){p=y.auth.split(":");y.username=p[0]||"";y.password=p[1]||""}y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null";y.href=y.toString()}function a(e,t,n){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||c.parse)(t));i[e]=t;break;case"port":i[e]=t;if(u(t,i.protocol))t&&(i.host=i.hostname+":"+t);else{i.host=i.hostname;i[e]=""}break;case"hostname":i[e]=t;i.port&&(t+=":"+i.port);i.host=t;break;case"host":i[e]=t;if(/:\d+$/.test(t)){t=t.split(":");i.port=t.pop();i.hostname=t.join(":")}else{i.hostname=t;i.port=""}break;case"protocol":i.protocol=t.toLowerCase();i.slashes=!n;break;case"pathname":i.pathname=t.length&&"/"!==t.charAt(0)?"/"+t:t;break;default:i[e]=t}for(var r=0;r<h.length;r++){var o=h[r];o[4]&&(i[o[1]]=i[o[1]].toLowerCase())}i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null";i.href=i.toString();return i}function l(e){e&&"function"==typeof e||(e=c.stringify);var t,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var r=i+(n.slashes?"//":"");if(n.username){r+=n.username;n.password&&(r+=":"+n.password);r+="@"}r+=n.host+n.pathname;t="object"==typeof n.query?e(n.query):n.query;t&&(r+="?"!==t.charAt(0)?"?"+t:t);n.hash&&(r+=n.hash);return r}var u=e("requires-port"),c=e("querystringify"),f=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,p=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,h=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};s.prototype={set:a,toString:l};s.extractProtocol=r;s.location=i;s.qs=c;t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:211,"requires-port":212}],248:[function(e,t,n){"use strict";function i(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}function r(e,t,n){if(e&&u.isObject(e)&&e instanceof i)return e;var r=new i;r.parse(e,t,n);return r}function o(e){u.isString(e)&&(e=r(e));return e instanceof i?e.format():i.prototype.format.call(e)}function s(e,t){return r(e,!1,!0).resolve(t)}function a(e,t){return e?r(e,!1,!0).resolveObject(t):t}var l=e("punycode"),u=e("./util");n.parse=r;n.resolve=s;n.resolveObject=a;n.format=o;n.Url=i;var c=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(h),g=["'"].concat(d),m=["%","/","?",";","#"].concat(g),v=["/","?","#"],y=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,x=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=e("querystring");i.prototype.parse=function(e,t,n){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),r=i!==-1&&i<e.indexOf("#")?"?":"#",o=e.split(r),s=/\\/g;o[0]=o[0].replace(s,"/");e=o.join(r);var a=e;a=a.trim();if(!n&&1===e.split("#").length){var f=p.exec(a);if(f){this.path=a;this.href=a;this.pathname=f[1];if(f[2]){this.search=f[2];t?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)}else if(t){this.search="";this.query={}}return this}}var h=c.exec(a);if(h){h=h[0];var d=h.toLowerCase();this.protocol=d;a=a.substr(h.length)}if(n||h||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===a.substr(0,2);if(S&&(!h||!E[h])){a=a.substr(2);this.slashes=!0}}if(!E[h]&&(S||h&&!w[h])){for(var C=-1,L=0;L<v.length;L++){var N=a.indexOf(v[L]);N!==-1&&(C===-1||N<C)&&(C=N)}var I,A;A=C===-1?a.lastIndexOf("@"):a.lastIndexOf("@",C);if(A!==-1){I=a.slice(0,A);a=a.slice(A+1);this.auth=decodeURIComponent(I)}C=-1;for(var L=0;L<m.length;L++){var N=a.indexOf(m[L]);N!==-1&&(C===-1||N<C)&&(C=N)}C===-1&&(C=a.length);this.host=a.slice(0,C);a=a.slice(C);this.parseHost();this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var O=this.hostname.split(/\./),L=0,P=O.length;L<P;L++){var k=O[L];if(k&&!k.match(b)){for(var M="",D=0,j=k.length;D<j;D++)M+=k.charCodeAt(D)>127?"x":k[D];if(!M.match(b)){var B=O.slice(0,L),q=O.slice(L+1),U=k.match(x);if(U){B.push(U[1]);q.unshift(U[2])}q.length&&(a="/"+q.join(".")+a);this.hostname=B.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase();R||(this.hostname=l.toASCII(this.hostname));var F=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+F;this.href+=this.host;if(R){this.hostname=this.hostname.substr(1,this.hostname.length-2);"/"!==a[0]&&(a="/"+a)}}if(!_[d])for(var L=0,P=g.length;L<P;L++){var z=g[L];if(a.indexOf(z)!==-1){var H=encodeURIComponent(z);H===z&&(H=escape(z));a=a.split(z).join(H)}}var V=a.indexOf("#");if(V!==-1){this.hash=a.substr(V);a=a.slice(0,V)}var W=a.indexOf("?");if(W!==-1){this.search=a.substr(W);this.query=a.substr(W+1);t&&(this.query=T.parse(this.query));a=a.slice(0,W)}else if(t){this.search="";this.query={}}a&&(this.pathname=a);w[d]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search){var F=this.pathname||"",Y=this.search||"";this.path=F+Y}this.href=this.format();return this};i.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";if(this.host)r=e+this.host;else if(this.hostname){r=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");this.port&&(r+=":"+this.port)}this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(o=T.stringify(this.query));var s=this.search||o&&"?"+o||"";t&&":"!==t.substr(-1)&&(t+=":");if(this.slashes||(!t||w[t])&&r!==!1){r="//"+(r||"");n&&"/"!==n.charAt(0)&&(n="/"+n)}else r||(r="");i&&"#"!==i.charAt(0)&&(i="#"+i);s&&"?"!==s.charAt(0)&&(s="?"+s);n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)});s=s.replace("#","%23");return t+r+n+s+i};i.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()};i.prototype.resolveObject=function(e){if(u.isString(e)){var t=new i;t.parse(e,!1,!0);e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}n.hash=e.hash;if(""===e.href){n.href=n.format();return n}if(e.slashes&&!e.protocol){for(var a=Object.keys(e),l=0;l<a.length;l++){var c=a[l];"protocol"!==c&&(n[c]=e[c])}w[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/");n.href=n.format();return n}if(e.protocol&&e.protocol!==n.protocol){if(!w[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var h=f[p];n[h]=e[h]}n.href=n.format();return n}n.protocol=e.protocol;if(e.host||E[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host="");e.hostname||(e.hostname="");""!==d[0]&&d.unshift("");d.length<2&&d.unshift("");n.pathname=d.join("/")}n.search=e.search;n.query=e.query;n.host=e.host||"";n.auth=e.auth;n.hostname=e.hostname||e.host;n.port=e.port;if(n.pathname||n.search){var g=n.pathname||"",m=n.search||"";
n.path=g+m}n.slashes=n.slashes||e.slashes;n.href=n.format();return n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||v||n.host&&e.pathname,x=b,_=n.pathname&&n.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],T=n.protocol&&!w[n.protocol];if(T){n.hostname="";n.port=null;n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host));n.host="";if(e.protocol){e.hostname=null;e.port=null;e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host));e.host=null}b=b&&(""===d[0]||""===_[0])}if(y){n.host=e.host||""===e.host?e.host:n.host;n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname;n.search=e.search;n.query=e.query;_=d}else if(d.length){_||(_=[]);_.pop();_=_.concat(d);n.search=e.search;n.query=e.query}else if(!u.isNullOrUndefined(e.search)){if(T){n.hostname=n.host=_.shift();var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");if(S){n.auth=S.shift();n.host=n.hostname=S.shift()}}n.search=e.search;n.query=e.query;u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:""));n.href=n.format();return n}if(!_.length){n.pathname=null;n.search?n.path="/"+n.search:n.path=null;n.href=n.format();return n}for(var C=_.slice(-1)[0],L=(n.host||e.host||_.length>1)&&("."===C||".."===C)||""===C,N=0,I=_.length;I>=0;I--){C=_[I];if("."===C)_.splice(I,1);else if(".."===C){_.splice(I,1);N++}else if(N){_.splice(I,1);N--}}if(!b&&!x)for(;N--;N)_.unshift("..");!b||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift("");L&&"/"!==_.join("/").substr(-1)&&_.push("");var A=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(T){n.hostname=n.host=A?"":_.length?_.shift():"";var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");if(S){n.auth=S.shift();n.host=n.hostname=S.shift()}}b=b||n.host&&_.length;b&&!A&&_.unshift("");if(_.length)n.pathname=_.join("/");else{n.pathname=null;n.path=null}u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:""));n.auth=e.auth||n.auth;n.slashes=n.slashes||e.slashes;n.href=n.format();return n};i.prototype.parseHost=function(){var e=this.host,t=f.exec(e);if(t){t=t[0];":"!==t&&(this.port=t.substr(1));e=e.substr(0,e.length-t.length)}e&&(this.hostname=e)}},{"./util":249,punycode:207,querystring:210}],249:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],250:[function(e,t,n){(function(e){function n(e,t){function n(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t);r=!0}return e.apply(this,arguments)}if(i("noDeprecation"))return e;var r=!1;return n}function i(t){try{if(!e.localStorage)return!1}catch(n){return!1}var i=e.localStorage[t];return null!=i&&"true"===String(i).toLowerCase()}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],251:[function(e,t,n){function i(e){function t(e){var t=m.substring(y).match(e);if(t){y+=t[0].length;return t[0]}return null}function n(e){e&&v.match(/\d+/)&&(e.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+v}});return e}function i(){t(/^\s*/)}function r(){i();for(var e,n=0,r=[],o=[r],a=r;e=t(/^(\()/)||t(/^(\))/)||t(/^(,)/)||t(s);){if("("===e){o.push(a);a=[];o[o.length-1].push(a);n++}else if(")"===e){if(0===a.length)return null;a=o.pop();if(!a)return null;n--;if(0===n)break}else if(","===e){a=[];o[o.length-1].push(a)}else{if(e.split(/\s/g).some(isNaN))return null;Array.prototype.push.apply(a,e.split(/\s/g).map(parseFloat))}i()}return 0!==n?null:r}function o(){for(var e,n,r=[];n=t(s)||t(/^(,)/);){if(","===n){r.push(e);e=[]}else if(!n.split(/\s/g).some(isNaN)){e||(e=[]);Array.prototype.push.apply(e,n.split(/\s/g).map(parseFloat))}i()}if(!e)return null;r.push(e);return r.length?r:null}function a(){if(!t(/^(point(\sz)?)/i))return null;i();if(!t(/^(\()/))return null;var e=o();if(!e)return null;i();return t(/^(\))/)?{type:"Point",coordinates:e[0]}:null}function l(){if(!t(/^(multipoint)/i))return null;i();var e=m.substring(m.indexOf("(")+1,m.length-1).replace(/\(/g,"").replace(/\)/g,"");m="MULTIPOINT ("+e+")";var n=r();if(!n)return null;i();return{type:"MultiPoint",coordinates:n}}function u(){if(!t(/^(multilinestring)/i))return null;i();var e=r();if(!e)return null;i();return{type:"MultiLineString",coordinates:e}}function c(){if(!t(/^(linestring(\sz)?)/i))return null;i();if(!t(/^(\()/))return null;var e=o();return e&&t(/^(\))/)?{type:"LineString",coordinates:e}:null}function f(){if(!t(/^(polygon(\sz)?)/i))return null;i();var e=r();return e?{type:"Polygon",coordinates:e}:null}function p(){if(!t(/^(multipolygon)/i))return null;i();var e=r();return e?{type:"MultiPolygon",coordinates:e}:null}function h(){var e,n=[];if(!t(/^(geometrycollection)/i))return null;i();if(!t(/^(\()/))return null;for(;e=d();){n.push(e);i();t(/^(,)/);i()}return t(/^(\))/)?{type:"GeometryCollection",geometries:n}:null}function d(){return a()||c()||f()||l()||u()||p()||h()}var g=e.split(";"),m=g.pop(),v=(g.shift()||"").split("=").pop(),y=0;return n(d())}function r(e){function t(e){return e.join(" ")}function n(e){return e.map(t).join(", ")}function i(e){return e.map(n).map(s).join(", ")}function o(e){return e.map(i).map(s).join(", ")}function s(e){return"("+e+")"}"Feature"===e.type&&(e=e.geometry);switch(e.type){case"Point":return"POINT ("+t(e.coordinates)+")";case"LineString":return"LINESTRING ("+n(e.coordinates)+")";case"Polygon":return"POLYGON ("+i(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+n(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+o(e.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+i(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(r).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}t.exports=i;t.exports.parse=i;t.exports.stringify=r;var o=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,s=new RegExp("^"+o.source+"(\\s"+o.source+"){1,}")},{}],252:[function(e,t,n){(function(t,i){var r=e("url"),o=e("child_process").spawn,s=e("fs");n.XMLHttpRequest=function(){"use strict";var n,a,l=this,u=e("http"),c=e("https"),f={},p=!1,h={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},d={},g={},m=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],v=["TRACE","TRACK","CONNECT"],y=!1,b=!1,x={};this.UNSENT=0;this.OPENED=1;this.HEADERS_RECEIVED=2;this.LOADING=3;this.DONE=4;this.readyState=this.UNSENT;this.onreadystatechange=null;this.responseText="";this.responseXML="";this.status=null;this.statusText=null;this.withCredentials=!1;var _=function(e){return p||e&&m.indexOf(e.toLowerCase())===-1},E=function(e){return e&&v.indexOf(e)===-1};this.open=function(e,t,n,i,r){this.abort();b=!1;if(!E(e))throw new Error("SecurityError: Request method not allowed");f={method:e,url:t.toString(),async:"boolean"!=typeof n||n,user:i||null,password:r||null};w(this.OPENED)};this.setDisableHeaderCheck=function(e){p=e};this.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(_(e)){if(y)throw new Error("INVALID_STATE_ERR: send flag is true");e=g[e.toLowerCase()]||e;g[e.toLowerCase()]=e;d[e]=d[e]?d[e]+", "+t:t}else console.warn('Refused to set unsafe header "'+e+'"')};this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&a&&a.headers&&a.headers[e.toLowerCase()]&&!b?a.headers[e.toLowerCase()]:null};this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||b)return"";var e="";for(var t in a.headers)"set-cookie"!==t&&"set-cookie2"!==t&&(e+=t+": "+a.headers[t]+"\r\n");return e.substr(0,e.length-2)};this.getRequestHeader=function(e){return"string"==typeof e&&g[e.toLowerCase()]?d[g[e.toLowerCase()]]:""};this.send=function(e){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(y)throw new Error("INVALID_STATE_ERR: send has already been called");var p,m=!1,v=!1,x=r.parse(f.url);switch(x.protocol){case"https:":m=!0;case"http:":p=x.hostname;break;case"file:":v=!0;break;case void 0:case null:case"":p="localhost";break;default:throw new Error("Protocol not supported.")}if(v){if("GET"!==f.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(f.async)s.readFile(x.pathname,"utf8",function(e,t){if(e)l.handleError(e);else{l.status=200;l.responseText=t;w(l.DONE)}});else try{this.responseText=s.readFileSync(x.pathname,"utf8");this.status=200;w(l.DONE)}catch(_){this.handleError(_)}}else{var E=x.port||(m?443:80),T=x.pathname+(x.search?x.search:"");for(var S in h)g[S.toLowerCase()]||(d[S]=h[S]);d.Host=p;m&&443===E||80===E||(d.Host+=":"+x.port);if(f.user){"undefined"==typeof f.password&&(f.password="");var C=new i(f.user+":"+f.password);d.Authorization="Basic "+C.toString("base64")}if("GET"===f.method||"HEAD"===f.method)e=null;else if(e){d["Content-Length"]=i.isBuffer(e)?e.length:i.byteLength(e);d["Content-Type"]||(d["Content-Type"]="text/plain;charset=UTF-8")}else"POST"===f.method&&(d["Content-Length"]=0);var L={host:p,port:E,path:T,method:f.method,headers:d,agent:!1,withCredentials:l.withCredentials};b=!1;if(f.async){var N=m?c.request:u.request;y=!0;l.dispatchEvent("readystatechange");var I=function D(e){a=e;if(301!==a.statusCode&&302!==a.statusCode&&303!==a.statusCode&&307!==a.statusCode){a.setEncoding("utf8");w(l.HEADERS_RECEIVED);l.status=a.statusCode;a.on("data",function(e){e&&(l.responseText+=e);y&&w(l.LOADING)});a.on("end",function(){if(y){w(l.DONE);y=!1}});a.on("error",function(e){l.handleError(e)})}else{f.url=a.headers.location;var t=r.parse(f.url);p=t.hostname;var i={hostname:t.hostname,port:t.port,path:t.path,method:303===a.statusCode?"GET":f.method,headers:d,withCredentials:l.withCredentials};n=N(i,D).on("error",A);n.end()}},A=function(e){l.handleError(e)};n=N(L,I).on("error",A);e&&n.write(e);n.end();l.dispatchEvent("loadstart")}else{var R=".node-xmlhttprequest-content-"+t.pid,O=".node-xmlhttprequest-sync-"+t.pid;s.writeFileSync(O,"","utf8");for(var P="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(m?"s":"")+".request;var options = "+JSON.stringify(L)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+R+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+O+"');});response.on('error', function(error) {fs.writeFileSync('"+R+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+O+"');});}).on('error', function(error) {fs.writeFileSync('"+R+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+O+"');});"+(e?"req.write('"+JSON.stringify(e).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",k=o(t.argv[0],["-e",P]);s.existsSync(O););var M=JSON.parse(s.readFileSync(R,"utf8"));k.stdin.end();s.unlinkSync(R);if(M.err)l.handleError(M.err);else{a=M.data;l.status=M.data.statusCode;l.responseText=M.data.text;w(l.DONE)}}}};this.handleError=function(e){this.status=0;this.statusText=e;this.responseText=e.stack;b=!0;w(this.DONE);this.dispatchEvent("error")};this.abort=function(){if(n){n.abort();n=null}d=h;this.status=0;this.responseText="";this.responseXML="";b=!0;if(this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||y)&&this.readyState!==this.DONE){y=!1;w(this.DONE)}this.readyState=this.UNSENT;this.dispatchEvent("abort")};this.addEventListener=function(e,t){e in x||(x[e]=[]);x[e].push(t)};this.removeEventListener=function(e,t){e in x&&(x[e]=x[e].filter(function(e){return e!==t}))};this.dispatchEvent=function(e){"function"==typeof l["on"+e]&&l["on"+e]();if(e in x)for(var t=0,n=x[e].length;t<n;t++)x[e][t].call(l)};var w=function(e){if(e==l.LOADING||l.readyState!==e){l.readyState=e;(f.async||l.readyState<l.OPENED||l.readyState===l.DONE)&&l.dispatchEvent("readystatechange");if(l.readyState===l.DONE&&!b){l.dispatchEvent("load");l.dispatchEvent("loadend")}}}}}).call(this,e("_process"),e("buffer").Buffer)},{_process:205,buffer:5,child_process:4,fs:4,http:230,https:63,url:248}],253:[function(e,t,n){function i(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}t.exports=i;var r=Object.prototype.hasOwnProperty},{}],254:[function(e,t,n){t.exports={_from:"yasgui-utils@^1.6.7",_id:"yasgui-utils@1.6.7",_inBundle:!1,_integrity:"sha1-K8/FoxVojeOuYFeIPZrjQrIF8mc=",_location:"/yasgui-utils",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"yasgui-utils@^1.6.7",name:"yasgui-utils",escapedName:"yasgui-utils",rawSpec:"^1.6.7",saveSpec:null,fetchSpec:"^1.6.7"},_requiredBy:["/","/yasgui-yasqe","/yasgui-yasr"],_resolved:"https://registry.npmjs.org/yasgui-utils/-/yasgui-utils-1.6.7.tgz",_shasum:"2bcfc5a315688de3ae6057883d9ae342b205f267",_spec:"yasgui-utils@^1.6.7",_where:"/home/lrd900/yasgui/yasgui",author:{name:"Laurens Rietveld"},bugs:{url:"https://github.com/YASGUI/Utils/issues"},bundleDependencies:!1,dependencies:{store:"^2.0.4"},deprecated:!1,description:"Utils for YASGUI libs",homepage:"https://github.com/YASGUI/Utils",licenses:[{type:"MIT",url:"http://yasgui.github.io/license.txt"}],main:"src/main.js",maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",url:"http://laurensrietveld.nl"}],name:"yasgui-utils",repository:{type:"git",url:"git://github.com/YASGUI/Utils.git"},version:"1.6.7"}},{}],255:[function(e,t,n){window.console=window.console||{log:function(){}};t.exports={storage:e("./storage.js"),svg:e("./svg.js"),version:{"yasgui-utils":e("../package.json").version},nestedExists:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=0;n<t.length;n++){if(!e||!e.hasOwnProperty(t[n]))return!1;e=e[t[n]]}return!0}}},{"../package.json":254,"./storage.js":256,"./svg.js":257}],256:[function(e,t,n){function i(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else e.number===-2147024882&&(t=!0);return t}var r=e("store"),o={day:function(){return 864e5},month:function(){30*o.day()},year:function(){12*o.month()}},s=t.exports={set:function(e,t,n,s){if(r.enabled&&e&&void 0!==t){"string"==typeof n&&(n=o[n]());t.documentElement&&(t=(new XMLSerializer).serializeToString(t.documentElement));try{r.set(e,{val:t,exp:n,time:(new Date).getTime()})}catch(a){a.quotaExceeded=i(a);if(!a.quotaExceeded||!s)throw a;s(a)}}},remove:function(e){r.enabled&&e&&r.remove(e)},removeAll:function(e){r.enabled&&(e?"function"==typeof e&&r.each(function(t,n){e(n,t)&&s.remove(n)}):r.clearAll())},get:function(e){if(!r.enabled)return null;if(e){var t=r.get(e);return t?t.exp&&(new Date).getTime()-t.time>t.exp?null:t.val:null}return null}}},{store:218}],257:[function(e,t,n){t.exports={draw:function(e,n){if(e){var i=t.exports.getElement(n);i&&(e.append?e.append(i):e.appendChild(i))}},getElement:function(e){if(e&&0==e.indexOf("<svg")){var t=new DOMParser,n=t.parseFromString(e,"text/xml"),i=n.documentElement,r=document.createElement("div");r.className="svgImg";r.appendChild(i);return r}return!1}}},{}],258:[function(e,t,n){"use strict";var i=e("jquery");i.deparam=function(e,t){var n={},r={"true":!0,"false":!1,"null":null};i.each(e.replace(/\+/g," ").split("&"),function(e,o){var s,a=o.split("="),l=decodeURIComponent(a[0]),u=n,c=0,f=l.split("]["),p=f.length-1;if(/\[/.test(f[0])&&/\]$/.test(f[p])){f[p]=f[p].replace(/\]$/,"");f=f.shift().split("[").concat(f);p=f.length-1}else p=0;if(2===a.length){s=decodeURIComponent(a[1]);t&&(s=s&&!isNaN(s)?+s:"undefined"===s?void 0:void 0!==r[s]?r[s]:s);if(p)for(;c<=p;c++){l=""===f[c]?u.length:f[c];u=u[l]=c<p?u[l]||(f[c+1]&&isNaN(f[c+1])?{}:[]):s}else i.isArray(n[l])?n[l].push(s):void 0!==n[l]?n[l]=[n[l],s]:n[l]=s}else l&&(n[l]=t?void 0:"")});return n}},{jquery:73}],259:[function(e,t,n){t.exports={table:{"*[&&,valueLogical]":{"&&":["[&&,valueLogical]","*[&&,valueLogical]"],AS:[],")":[],",":[],"||":[],";":[]},"*[,,expression]":{",":["[,,expression]","*[,,expression]"],")":[]},"*[,,objectPath]":{",":["[,,objectPath]","*[,,objectPath]"],".":[],";":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[,,object]":{",":["[,,object]","*[,,object]"],".":[],";":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"*[/,pathEltOrInverse]":{"/":["[/,pathEltOrInverse]","*[/,pathEltOrInverse]"],"|":[],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"*[;,?[or([verbPath,verbSimple]),objectList]]":{";":["[;,?[or([verbPath,verbSimple]),objectList]]","*[;,?[or([verbPath,verbSimple]),objectList]]"],".":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[;,?[verb,objectList]]":{";":["[;,?[verb,objectList]]","*[;,?[verb,objectList]]"],".":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"*[UNION,groupGraphPattern]":{UNION:["[UNION,groupGraphPattern]","*[UNION,groupGraphPattern]"],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],".":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"*[graphPatternNotTriples,?.,?triplesBlock]":{"{":["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],OPTIONAL:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],MINUS:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],GRAPH:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],SERVICE:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],FILTER:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],BIND:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],VALUES:["[graphPatternNotTriples,?.,?triplesBlock]","*[graphPatternNotTriples,?.,?triplesBlock]"],"}":[]},"*[quadsNotTriples,?.,?triplesTemplate]":{GRAPH:["[quadsNotTriples,?.,?triplesTemplate]","*[quadsNotTriples,?.,?triplesTemplate]"],"}":[]},"*[|,pathOneInPropertySet]":{"|":["[|,pathOneInPropertySet]","*[|,pathOneInPropertySet]"],")":[]},"*[|,pathSequence]":{"|":["[|,pathSequence]","*[|,pathSequence]"],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"*[||,conditionalAndExpression]":{"||":["[||,conditionalAndExpression]","*[||,conditionalAndExpression]"],AS:[],")":[],",":[],";":[]},"*dataBlockValue":{UNDEF:["dataBlockValue","*dataBlockValue"],IRI_REF:["dataBlockValue","*dataBlockValue"],TRUE:["dataBlockValue","*dataBlockValue"],FALSE:["dataBlockValue","*dataBlockValue"],PNAME_LN:["dataBlockValue","*dataBlockValue"],PNAME_NS:["dataBlockValue","*dataBlockValue"],STRING_LITERAL1:["dataBlockValue","*dataBlockValue"],STRING_LITERAL2:["dataBlockValue","*dataBlockValue"],STRING_LITERAL_LONG1:["dataBlockValue","*dataBlockValue"],STRING_LITERAL_LONG2:["dataBlockValue","*dataBlockValue"],INTEGER:["dataBlockValue","*dataBlockValue"],DECIMAL:["dataBlockValue","*dataBlockValue"],DOUBLE:["dataBlockValue","*dataBlockValue"],INTEGER_POSITIVE:["dataBlockValue","*dataBlockValue"],DECIMAL_POSITIVE:["dataBlockValue","*dataBlockValue"],DOUBLE_POSITIVE:["dataBlockValue","*dataBlockValue"],INTEGER_NEGATIVE:["dataBlockValue","*dataBlockValue"],DECIMAL_NEGATIVE:["dataBlockValue","*dataBlockValue"],DOUBLE_NEGATIVE:["dataBlockValue","*dataBlockValue"],"}":[],")":[]},"*datasetClause":{FROM:["datasetClause","*datasetClause"],WHERE:[],"{":[]},"*describeDatasetClause":{FROM:["describeDatasetClause","*describeDatasetClause"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],WHERE:[],"{":[],VALUES:[],$:[]},"*graphNode":{"(":["graphNode","*graphNode"],"[":["graphNode","*graphNode"],VAR1:["graphNode","*graphNode"],VAR2:["graphNode","*graphNode"],NIL:["graphNode","*graphNode"],IRI_REF:["graphNode","*graphNode"],TRUE:["graphNode","*graphNode"],FALSE:["graphNode","*graphNode"],BLANK_NODE_LABEL:["graphNode","*graphNode"],ANON:["graphNode","*graphNode"],PNAME_LN:["graphNode","*graphNode"],PNAME_NS:["graphNode","*graphNode"],STRING_LITERAL1:["graphNode","*graphNode"],STRING_LITERAL2:["graphNode","*graphNode"],STRING_LITERAL_LONG1:["graphNode","*graphNode"],STRING_LITERAL_LONG2:["graphNode","*graphNode"],INTEGER:["graphNode","*graphNode"],DECIMAL:["graphNode","*graphNode"],DOUBLE:["graphNode","*graphNode"],INTEGER_POSITIVE:["graphNode","*graphNode"],DECIMAL_POSITIVE:["graphNode","*graphNode"],DOUBLE_POSITIVE:["graphNode","*graphNode"],INTEGER_NEGATIVE:["graphNode","*graphNode"],DECIMAL_NEGATIVE:["graphNode","*graphNode"],DOUBLE_NEGATIVE:["graphNode","*graphNode"],")":[]},"*graphNodePath":{"(":["graphNodePath","*graphNodePath"],"[":["graphNodePath","*graphNodePath"],VAR1:["graphNodePath","*graphNodePath"],VAR2:["graphNodePath","*graphNodePath"],NIL:["graphNodePath","*graphNodePath"],IRI_REF:["graphNodePath","*graphNodePath"],TRUE:["graphNodePath","*graphNodePath"],FALSE:["graphNodePath","*graphNodePath"],BLANK_NODE_LABEL:["graphNodePath","*graphNodePath"],ANON:["graphNodePath","*graphNodePath"],PNAME_LN:["graphNodePath","*graphNodePath"],PNAME_NS:["graphNodePath","*graphNodePath"],STRING_LITERAL1:["graphNodePath","*graphNodePath"],STRING_LITERAL2:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath","*graphNodePath"],INTEGER:["graphNodePath","*graphNodePath"],DECIMAL:["graphNodePath","*graphNodePath"],DOUBLE:["graphNodePath","*graphNodePath"],INTEGER_POSITIVE:["graphNodePath","*graphNodePath"],DECIMAL_POSITIVE:["graphNodePath","*graphNodePath"],DOUBLE_POSITIVE:["graphNodePath","*graphNodePath"],INTEGER_NEGATIVE:["graphNodePath","*graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath","*graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath","*graphNodePath"],")":[]},"*groupCondition":{"(":["groupCondition","*groupCondition"],STR:["groupCondition","*groupCondition"],LANG:["groupCondition","*groupCondition"],LANGMATCHES:["groupCondition","*groupCondition"],DATATYPE:["groupCondition","*groupCondition"],BOUND:["groupCondition","*groupCondition"],IRI:["groupCondition","*groupCondition"],URI:["groupCondition","*groupCondition"],BNODE:["groupCondition","*groupCondition"],RAND:["groupCondition","*groupCondition"],ABS:["groupCondition","*groupCondition"],CEIL:["groupCondition","*groupCondition"],FLOOR:["groupCondition","*groupCondition"],ROUND:["groupCondition","*groupCondition"],CONCAT:["groupCondition","*groupCondition"],STRLEN:["groupCondition","*groupCondition"],UCASE:["groupCondition","*groupCondition"],LCASE:["groupCondition","*groupCondition"],ENCODE_FOR_URI:["groupCondition","*groupCondition"],CONTAINS:["groupCondition","*groupCondition"],STRSTARTS:["groupCondition","*groupCondition"],STRENDS:["groupCondition","*groupCondition"],STRBEFORE:["groupCondition","*groupCondition"],STRAFTER:["groupCondition","*groupCondition"],YEAR:["groupCondition","*groupCondition"],MONTH:["groupCondition","*groupCondition"],DAY:["groupCondition","*groupCondition"],HOURS:["groupCondition","*groupCondition"],MINUTES:["groupCondition","*groupCondition"],SECONDS:["groupCondition","*groupCondition"],TIMEZONE:["groupCondition","*groupCondition"],TZ:["groupCondition","*groupCondition"],NOW:["groupCondition","*groupCondition"],UUID:["groupCondition","*groupCondition"],STRUUID:["groupCondition","*groupCondition"],MD5:["groupCondition","*groupCondition"],SHA1:["groupCondition","*groupCondition"],SHA256:["groupCondition","*groupCondition"],SHA384:["groupCondition","*groupCondition"],SHA512:["groupCondition","*groupCondition"],COALESCE:["groupCondition","*groupCondition"],IF:["groupCondition","*groupCondition"],STRLANG:["groupCondition","*groupCondition"],STRDT:["groupCondition","*groupCondition"],SAMETERM:["groupCondition","*groupCondition"],ISIRI:["groupCondition","*groupCondition"],ISURI:["groupCondition","*groupCondition"],ISBLANK:["groupCondition","*groupCondition"],ISLITERAL:["groupCondition","*groupCondition"],ISNUMERIC:["groupCondition","*groupCondition"],VAR1:["groupCondition","*groupCondition"],VAR2:["groupCondition","*groupCondition"],SUBSTR:["groupCondition","*groupCondition"],REPLACE:["groupCondition","*groupCondition"],REGEX:["groupCondition","*groupCondition"],EXISTS:["groupCondition","*groupCondition"],NOT:["groupCondition","*groupCondition"],IRI_REF:["groupCondition","*groupCondition"],PNAME_LN:["groupCondition","*groupCondition"],PNAME_NS:["groupCondition","*groupCondition"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],HAVING:[],$:[],"}":[]},"*havingCondition":{"(":["havingCondition","*havingCondition"],STR:["havingCondition","*havingCondition"],LANG:["havingCondition","*havingCondition"],LANGMATCHES:["havingCondition","*havingCondition"],DATATYPE:["havingCondition","*havingCondition"],BOUND:["havingCondition","*havingCondition"],IRI:["havingCondition","*havingCondition"],URI:["havingCondition","*havingCondition"],BNODE:["havingCondition","*havingCondition"],RAND:["havingCondition","*havingCondition"],ABS:["havingCondition","*havingCondition"],CEIL:["havingCondition","*havingCondition"],FLOOR:["havingCondition","*havingCondition"],ROUND:["havingCondition","*havingCondition"],CONCAT:["havingCondition","*havingCondition"],STRLEN:["havingCondition","*havingCondition"],UCASE:["havingCondition","*havingCondition"],LCASE:["havingCondition","*havingCondition"],ENCODE_FOR_URI:["havingCondition","*havingCondition"],CONTAINS:["havingCondition","*havingCondition"],STRSTARTS:["havingCondition","*havingCondition"],STRENDS:["havingCondition","*havingCondition"],STRBEFORE:["havingCondition","*havingCondition"],STRAFTER:["havingCondition","*havingCondition"],YEAR:["havingCondition","*havingCondition"],MONTH:["havingCondition","*havingCondition"],DAY:["havingCondition","*havingCondition"],HOURS:["havingCondition","*havingCondition"],MINUTES:["havingCondition","*havingCondition"],SECONDS:["havingCondition","*havingCondition"],TIMEZONE:["havingCondition","*havingCondition"],TZ:["havingCondition","*havingCondition"],NOW:["havingCondition","*havingCondition"],UUID:["havingCondition","*havingCondition"],STRUUID:["havingCondition","*havingCondition"],MD5:["havingCondition","*havingCondition"],SHA1:["havingCondition","*havingCondition"],SHA256:["havingCondition","*havingCondition"],SHA384:["havingCondition","*havingCondition"],SHA512:["havingCondition","*havingCondition"],COALESCE:["havingCondition","*havingCondition"],IF:["havingCondition","*havingCondition"],STRLANG:["havingCondition","*havingCondition"],STRDT:["havingCondition","*havingCondition"],SAMETERM:["havingCondition","*havingCondition"],ISIRI:["havingCondition","*havingCondition"],ISURI:["havingCondition","*havingCondition"],ISBLANK:["havingCondition","*havingCondition"],ISLITERAL:["havingCondition","*havingCondition"],ISNUMERIC:["havingCondition","*havingCondition"],SUBSTR:["havingCondition","*havingCondition"],REPLACE:["havingCondition","*havingCondition"],REGEX:["havingCondition","*havingCondition"],EXISTS:["havingCondition","*havingCondition"],NOT:["havingCondition","*havingCondition"],IRI_REF:["havingCondition","*havingCondition"],PNAME_LN:["havingCondition","*havingCondition"],PNAME_NS:["havingCondition","*havingCondition"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],$:[],"}":[]},"*or([[(,*dataBlockValue,)],NIL])":{"(":["or([[(,*dataBlockValue,)],NIL])","*or([[(,*dataBlockValue,)],NIL])"],NIL:["or([[(,*dataBlockValue,)],NIL])","*or([[(,*dataBlockValue,)],NIL])"],"}":[]},"*or([[*,unaryExpression],[/,unaryExpression]])":{"*":["or([[*,unaryExpression],[/,unaryExpression]])","*or([[*,unaryExpression],[/,unaryExpression]])"],"/":["or([[*,unaryExpression],[/,unaryExpression]])","*or([[*,unaryExpression],[/,unaryExpression]])"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],";":[]},"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])":{"+":["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"-":["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_POSITIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],
DOUBLE_NEGATIVE:["or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],";":[]},"*or([baseDecl,prefixDecl])":{BASE:["or([baseDecl,prefixDecl])","*or([baseDecl,prefixDecl])"],PREFIX:["or([baseDecl,prefixDecl])","*or([baseDecl,prefixDecl])"],$:[],CONSTRUCT:[],DESCRIBE:[],ASK:[],INSERT:[],DELETE:[],SELECT:[],LOAD:[],CLEAR:[],DROP:[],ADD:[],MOVE:[],COPY:[],CREATE:[],WITH:[]},"*or([var,[(,expression,AS,var,)]])":{"(":["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"],VAR1:["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"],VAR2:["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"],WHERE:[],"{":[],FROM:[]},"*orderCondition":{ASC:["orderCondition","*orderCondition"],DESC:["orderCondition","*orderCondition"],VAR1:["orderCondition","*orderCondition"],VAR2:["orderCondition","*orderCondition"],"(":["orderCondition","*orderCondition"],STR:["orderCondition","*orderCondition"],LANG:["orderCondition","*orderCondition"],LANGMATCHES:["orderCondition","*orderCondition"],DATATYPE:["orderCondition","*orderCondition"],BOUND:["orderCondition","*orderCondition"],IRI:["orderCondition","*orderCondition"],URI:["orderCondition","*orderCondition"],BNODE:["orderCondition","*orderCondition"],RAND:["orderCondition","*orderCondition"],ABS:["orderCondition","*orderCondition"],CEIL:["orderCondition","*orderCondition"],FLOOR:["orderCondition","*orderCondition"],ROUND:["orderCondition","*orderCondition"],CONCAT:["orderCondition","*orderCondition"],STRLEN:["orderCondition","*orderCondition"],UCASE:["orderCondition","*orderCondition"],LCASE:["orderCondition","*orderCondition"],ENCODE_FOR_URI:["orderCondition","*orderCondition"],CONTAINS:["orderCondition","*orderCondition"],STRSTARTS:["orderCondition","*orderCondition"],STRENDS:["orderCondition","*orderCondition"],STRBEFORE:["orderCondition","*orderCondition"],STRAFTER:["orderCondition","*orderCondition"],YEAR:["orderCondition","*orderCondition"],MONTH:["orderCondition","*orderCondition"],DAY:["orderCondition","*orderCondition"],HOURS:["orderCondition","*orderCondition"],MINUTES:["orderCondition","*orderCondition"],SECONDS:["orderCondition","*orderCondition"],TIMEZONE:["orderCondition","*orderCondition"],TZ:["orderCondition","*orderCondition"],NOW:["orderCondition","*orderCondition"],UUID:["orderCondition","*orderCondition"],STRUUID:["orderCondition","*orderCondition"],MD5:["orderCondition","*orderCondition"],SHA1:["orderCondition","*orderCondition"],SHA256:["orderCondition","*orderCondition"],SHA384:["orderCondition","*orderCondition"],SHA512:["orderCondition","*orderCondition"],COALESCE:["orderCondition","*orderCondition"],IF:["orderCondition","*orderCondition"],STRLANG:["orderCondition","*orderCondition"],STRDT:["orderCondition","*orderCondition"],SAMETERM:["orderCondition","*orderCondition"],ISIRI:["orderCondition","*orderCondition"],ISURI:["orderCondition","*orderCondition"],ISBLANK:["orderCondition","*orderCondition"],ISLITERAL:["orderCondition","*orderCondition"],ISNUMERIC:["orderCondition","*orderCondition"],SUBSTR:["orderCondition","*orderCondition"],REPLACE:["orderCondition","*orderCondition"],REGEX:["orderCondition","*orderCondition"],EXISTS:["orderCondition","*orderCondition"],NOT:["orderCondition","*orderCondition"],IRI_REF:["orderCondition","*orderCondition"],PNAME_LN:["orderCondition","*orderCondition"],PNAME_NS:["orderCondition","*orderCondition"],VALUES:[],LIMIT:[],OFFSET:[],$:[],"}":[]},"*usingClause":{USING:["usingClause","*usingClause"],WHERE:[]},"*var":{VAR1:["var","*var"],VAR2:["var","*var"],")":[]},"*varOrIRIref":{VAR1:["varOrIRIref","*varOrIRIref"],VAR2:["varOrIRIref","*varOrIRIref"],IRI_REF:["varOrIRIref","*varOrIRIref"],PNAME_LN:["varOrIRIref","*varOrIRIref"],PNAME_NS:["varOrIRIref","*varOrIRIref"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],WHERE:[],"{":[],FROM:[],VALUES:[],$:[]},"+graphNode":{"(":["graphNode","*graphNode"],"[":["graphNode","*graphNode"],VAR1:["graphNode","*graphNode"],VAR2:["graphNode","*graphNode"],NIL:["graphNode","*graphNode"],IRI_REF:["graphNode","*graphNode"],TRUE:["graphNode","*graphNode"],FALSE:["graphNode","*graphNode"],BLANK_NODE_LABEL:["graphNode","*graphNode"],ANON:["graphNode","*graphNode"],PNAME_LN:["graphNode","*graphNode"],PNAME_NS:["graphNode","*graphNode"],STRING_LITERAL1:["graphNode","*graphNode"],STRING_LITERAL2:["graphNode","*graphNode"],STRING_LITERAL_LONG1:["graphNode","*graphNode"],STRING_LITERAL_LONG2:["graphNode","*graphNode"],INTEGER:["graphNode","*graphNode"],DECIMAL:["graphNode","*graphNode"],DOUBLE:["graphNode","*graphNode"],INTEGER_POSITIVE:["graphNode","*graphNode"],DECIMAL_POSITIVE:["graphNode","*graphNode"],DOUBLE_POSITIVE:["graphNode","*graphNode"],INTEGER_NEGATIVE:["graphNode","*graphNode"],DECIMAL_NEGATIVE:["graphNode","*graphNode"],DOUBLE_NEGATIVE:["graphNode","*graphNode"]},"+graphNodePath":{"(":["graphNodePath","*graphNodePath"],"[":["graphNodePath","*graphNodePath"],VAR1:["graphNodePath","*graphNodePath"],VAR2:["graphNodePath","*graphNodePath"],NIL:["graphNodePath","*graphNodePath"],IRI_REF:["graphNodePath","*graphNodePath"],TRUE:["graphNodePath","*graphNodePath"],FALSE:["graphNodePath","*graphNodePath"],BLANK_NODE_LABEL:["graphNodePath","*graphNodePath"],ANON:["graphNodePath","*graphNodePath"],PNAME_LN:["graphNodePath","*graphNodePath"],PNAME_NS:["graphNodePath","*graphNodePath"],STRING_LITERAL1:["graphNodePath","*graphNodePath"],STRING_LITERAL2:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath","*graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath","*graphNodePath"],INTEGER:["graphNodePath","*graphNodePath"],DECIMAL:["graphNodePath","*graphNodePath"],DOUBLE:["graphNodePath","*graphNodePath"],INTEGER_POSITIVE:["graphNodePath","*graphNodePath"],DECIMAL_POSITIVE:["graphNodePath","*graphNodePath"],DOUBLE_POSITIVE:["graphNodePath","*graphNodePath"],INTEGER_NEGATIVE:["graphNodePath","*graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath","*graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath","*graphNodePath"]},"+groupCondition":{"(":["groupCondition","*groupCondition"],STR:["groupCondition","*groupCondition"],LANG:["groupCondition","*groupCondition"],LANGMATCHES:["groupCondition","*groupCondition"],DATATYPE:["groupCondition","*groupCondition"],BOUND:["groupCondition","*groupCondition"],IRI:["groupCondition","*groupCondition"],URI:["groupCondition","*groupCondition"],BNODE:["groupCondition","*groupCondition"],RAND:["groupCondition","*groupCondition"],ABS:["groupCondition","*groupCondition"],CEIL:["groupCondition","*groupCondition"],FLOOR:["groupCondition","*groupCondition"],ROUND:["groupCondition","*groupCondition"],CONCAT:["groupCondition","*groupCondition"],STRLEN:["groupCondition","*groupCondition"],UCASE:["groupCondition","*groupCondition"],LCASE:["groupCondition","*groupCondition"],ENCODE_FOR_URI:["groupCondition","*groupCondition"],CONTAINS:["groupCondition","*groupCondition"],STRSTARTS:["groupCondition","*groupCondition"],STRENDS:["groupCondition","*groupCondition"],STRBEFORE:["groupCondition","*groupCondition"],STRAFTER:["groupCondition","*groupCondition"],YEAR:["groupCondition","*groupCondition"],MONTH:["groupCondition","*groupCondition"],DAY:["groupCondition","*groupCondition"],HOURS:["groupCondition","*groupCondition"],MINUTES:["groupCondition","*groupCondition"],SECONDS:["groupCondition","*groupCondition"],TIMEZONE:["groupCondition","*groupCondition"],TZ:["groupCondition","*groupCondition"],NOW:["groupCondition","*groupCondition"],UUID:["groupCondition","*groupCondition"],STRUUID:["groupCondition","*groupCondition"],MD5:["groupCondition","*groupCondition"],SHA1:["groupCondition","*groupCondition"],SHA256:["groupCondition","*groupCondition"],SHA384:["groupCondition","*groupCondition"],SHA512:["groupCondition","*groupCondition"],COALESCE:["groupCondition","*groupCondition"],IF:["groupCondition","*groupCondition"],STRLANG:["groupCondition","*groupCondition"],STRDT:["groupCondition","*groupCondition"],SAMETERM:["groupCondition","*groupCondition"],ISIRI:["groupCondition","*groupCondition"],ISURI:["groupCondition","*groupCondition"],ISBLANK:["groupCondition","*groupCondition"],ISLITERAL:["groupCondition","*groupCondition"],ISNUMERIC:["groupCondition","*groupCondition"],VAR1:["groupCondition","*groupCondition"],VAR2:["groupCondition","*groupCondition"],SUBSTR:["groupCondition","*groupCondition"],REPLACE:["groupCondition","*groupCondition"],REGEX:["groupCondition","*groupCondition"],EXISTS:["groupCondition","*groupCondition"],NOT:["groupCondition","*groupCondition"],IRI_REF:["groupCondition","*groupCondition"],PNAME_LN:["groupCondition","*groupCondition"],PNAME_NS:["groupCondition","*groupCondition"]},"+havingCondition":{"(":["havingCondition","*havingCondition"],STR:["havingCondition","*havingCondition"],LANG:["havingCondition","*havingCondition"],LANGMATCHES:["havingCondition","*havingCondition"],DATATYPE:["havingCondition","*havingCondition"],BOUND:["havingCondition","*havingCondition"],IRI:["havingCondition","*havingCondition"],URI:["havingCondition","*havingCondition"],BNODE:["havingCondition","*havingCondition"],RAND:["havingCondition","*havingCondition"],ABS:["havingCondition","*havingCondition"],CEIL:["havingCondition","*havingCondition"],FLOOR:["havingCondition","*havingCondition"],ROUND:["havingCondition","*havingCondition"],CONCAT:["havingCondition","*havingCondition"],STRLEN:["havingCondition","*havingCondition"],UCASE:["havingCondition","*havingCondition"],LCASE:["havingCondition","*havingCondition"],ENCODE_FOR_URI:["havingCondition","*havingCondition"],CONTAINS:["havingCondition","*havingCondition"],STRSTARTS:["havingCondition","*havingCondition"],STRENDS:["havingCondition","*havingCondition"],STRBEFORE:["havingCondition","*havingCondition"],STRAFTER:["havingCondition","*havingCondition"],YEAR:["havingCondition","*havingCondition"],MONTH:["havingCondition","*havingCondition"],DAY:["havingCondition","*havingCondition"],HOURS:["havingCondition","*havingCondition"],MINUTES:["havingCondition","*havingCondition"],SECONDS:["havingCondition","*havingCondition"],TIMEZONE:["havingCondition","*havingCondition"],TZ:["havingCondition","*havingCondition"],NOW:["havingCondition","*havingCondition"],UUID:["havingCondition","*havingCondition"],STRUUID:["havingCondition","*havingCondition"],MD5:["havingCondition","*havingCondition"],SHA1:["havingCondition","*havingCondition"],SHA256:["havingCondition","*havingCondition"],SHA384:["havingCondition","*havingCondition"],SHA512:["havingCondition","*havingCondition"],COALESCE:["havingCondition","*havingCondition"],IF:["havingCondition","*havingCondition"],STRLANG:["havingCondition","*havingCondition"],STRDT:["havingCondition","*havingCondition"],SAMETERM:["havingCondition","*havingCondition"],ISIRI:["havingCondition","*havingCondition"],ISURI:["havingCondition","*havingCondition"],ISBLANK:["havingCondition","*havingCondition"],ISLITERAL:["havingCondition","*havingCondition"],ISNUMERIC:["havingCondition","*havingCondition"],SUBSTR:["havingCondition","*havingCondition"],REPLACE:["havingCondition","*havingCondition"],REGEX:["havingCondition","*havingCondition"],EXISTS:["havingCondition","*havingCondition"],NOT:["havingCondition","*havingCondition"],IRI_REF:["havingCondition","*havingCondition"],PNAME_LN:["havingCondition","*havingCondition"],PNAME_NS:["havingCondition","*havingCondition"]},"+or([var,[(,expression,AS,var,)]])":{"(":["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"],VAR1:["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"],VAR2:["or([var,[(,expression,AS,var,)]])","*or([var,[(,expression,AS,var,)]])"]},"+orderCondition":{ASC:["orderCondition","*orderCondition"],DESC:["orderCondition","*orderCondition"],VAR1:["orderCondition","*orderCondition"],VAR2:["orderCondition","*orderCondition"],"(":["orderCondition","*orderCondition"],STR:["orderCondition","*orderCondition"],LANG:["orderCondition","*orderCondition"],LANGMATCHES:["orderCondition","*orderCondition"],DATATYPE:["orderCondition","*orderCondition"],BOUND:["orderCondition","*orderCondition"],IRI:["orderCondition","*orderCondition"],URI:["orderCondition","*orderCondition"],BNODE:["orderCondition","*orderCondition"],RAND:["orderCondition","*orderCondition"],ABS:["orderCondition","*orderCondition"],CEIL:["orderCondition","*orderCondition"],FLOOR:["orderCondition","*orderCondition"],ROUND:["orderCondition","*orderCondition"],CONCAT:["orderCondition","*orderCondition"],STRLEN:["orderCondition","*orderCondition"],UCASE:["orderCondition","*orderCondition"],LCASE:["orderCondition","*orderCondition"],ENCODE_FOR_URI:["orderCondition","*orderCondition"],CONTAINS:["orderCondition","*orderCondition"],STRSTARTS:["orderCondition","*orderCondition"],STRENDS:["orderCondition","*orderCondition"],STRBEFORE:["orderCondition","*orderCondition"],STRAFTER:["orderCondition","*orderCondition"],YEAR:["orderCondition","*orderCondition"],MONTH:["orderCondition","*orderCondition"],DAY:["orderCondition","*orderCondition"],HOURS:["orderCondition","*orderCondition"],MINUTES:["orderCondition","*orderCondition"],SECONDS:["orderCondition","*orderCondition"],TIMEZONE:["orderCondition","*orderCondition"],TZ:["orderCondition","*orderCondition"],NOW:["orderCondition","*orderCondition"],UUID:["orderCondition","*orderCondition"],STRUUID:["orderCondition","*orderCondition"],MD5:["orderCondition","*orderCondition"],SHA1:["orderCondition","*orderCondition"],SHA256:["orderCondition","*orderCondition"],SHA384:["orderCondition","*orderCondition"],SHA512:["orderCondition","*orderCondition"],COALESCE:["orderCondition","*orderCondition"],IF:["orderCondition","*orderCondition"],STRLANG:["orderCondition","*orderCondition"],STRDT:["orderCondition","*orderCondition"],SAMETERM:["orderCondition","*orderCondition"],ISIRI:["orderCondition","*orderCondition"],ISURI:["orderCondition","*orderCondition"],ISBLANK:["orderCondition","*orderCondition"],ISLITERAL:["orderCondition","*orderCondition"],ISNUMERIC:["orderCondition","*orderCondition"],SUBSTR:["orderCondition","*orderCondition"],REPLACE:["orderCondition","*orderCondition"],REGEX:["orderCondition","*orderCondition"],EXISTS:["orderCondition","*orderCondition"],NOT:["orderCondition","*orderCondition"],IRI_REF:["orderCondition","*orderCondition"],PNAME_LN:["orderCondition","*orderCondition"],PNAME_NS:["orderCondition","*orderCondition"]},"+varOrIRIref":{VAR1:["varOrIRIref","*varOrIRIref"],VAR2:["varOrIRIref","*varOrIRIref"],IRI_REF:["varOrIRIref","*varOrIRIref"],PNAME_LN:["varOrIRIref","*varOrIRIref"],PNAME_NS:["varOrIRIref","*varOrIRIref"]},"?.":{".":["."],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?DISTINCT":{DISTINCT:["DISTINCT"],"!":[],"+":[],"-":[],VAR1:[],VAR2:[],"(":[],STR:[],LANG:[],LANGMATCHES:[],DATATYPE:[],BOUND:[],IRI:[],URI:[],BNODE:[],RAND:[],ABS:[],CEIL:[],FLOOR:[],ROUND:[],CONCAT:[],STRLEN:[],UCASE:[],LCASE:[],ENCODE_FOR_URI:[],CONTAINS:[],STRSTARTS:[],STRENDS:[],STRBEFORE:[],STRAFTER:[],YEAR:[],MONTH:[],DAY:[],HOURS:[],MINUTES:[],SECONDS:[],TIMEZONE:[],TZ:[],NOW:[],UUID:[],STRUUID:[],MD5:[],SHA1:[],SHA256:[],SHA384:[],SHA512:[],COALESCE:[],IF:[],STRLANG:[],STRDT:[],SAMETERM:[],ISIRI:[],ISURI:[],ISBLANK:[],ISLITERAL:[],ISNUMERIC:[],TRUE:[],FALSE:[],COUNT:[],SUM:[],MIN:[],MAX:[],AVG:[],SAMPLE:[],GROUP_CONCAT:[],SUBSTR:[],REPLACE:[],REGEX:[],EXISTS:[],NOT:[],IRI_REF:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],PNAME_LN:[],PNAME_NS:[],"*":[]},"?GRAPH":{GRAPH:["GRAPH"],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT":{SILENT:["SILENT"],VAR1:[],VAR2:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT_1":{SILENT:["SILENT"],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?SILENT_2":{SILENT:["SILENT"],GRAPH:[],DEFAULT:[],NAMED:[],ALL:[]},"?SILENT_3":{SILENT:["SILENT"],GRAPH:[]},"?SILENT_4":{SILENT:["SILENT"],DEFAULT:[],GRAPH:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[]},"?WHERE":{WHERE:["WHERE"],"{":[]},"?[,,expression]":{",":["[,,expression]"],")":[]},"?[.,?constructTriples]":{".":["[.,?constructTriples]"],"}":[]},"?[.,?triplesBlock]":{".":["[.,?triplesBlock]"],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?[.,?triplesTemplate]":{".":["[.,?triplesTemplate]"],"}":[],GRAPH:[]},"?[;,SEPARATOR,=,string]":{";":["[;,SEPARATOR,=,string]"],")":[]},"?[;,update]":{";":["[;,update]"],$:[]},"?[AS,var]":{AS:["[AS,var]"],")":[]},"?[INTO,graphRef]":{INTO:["[INTO,graphRef]"],";":[],$:[]},"?[or([verbPath,verbSimple]),objectList]":{VAR1:["[or([verbPath,verbSimple]),objectList]"],VAR2:["[or([verbPath,verbSimple]),objectList]"],"^":["[or([verbPath,verbSimple]),objectList]"],a:["[or([verbPath,verbSimple]),objectList]"],"!":["[or([verbPath,verbSimple]),objectList]"],"(":["[or([verbPath,verbSimple]),objectList]"],IRI_REF:["[or([verbPath,verbSimple]),objectList]"],PNAME_LN:["[or([verbPath,verbSimple]),objectList]"],PNAME_NS:["[or([verbPath,verbSimple]),objectList]"],";":[],".":[],"]":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?[pathOneInPropertySet,*[|,pathOneInPropertySet]]":{a:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],"^":["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],IRI_REF:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],PNAME_LN:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],PNAME_NS:["[pathOneInPropertySet,*[|,pathOneInPropertySet]]"],")":[]},"?[update1,?[;,update]]":{INSERT:["[update1,?[;,update]]"],DELETE:["[update1,?[;,update]]"],LOAD:["[update1,?[;,update]]"],CLEAR:["[update1,?[;,update]]"],DROP:["[update1,?[;,update]]"],ADD:["[update1,?[;,update]]"],MOVE:["[update1,?[;,update]]"],COPY:["[update1,?[;,update]]"],CREATE:["[update1,?[;,update]]"],WITH:["[update1,?[;,update]]"],$:[]},"?[verb,objectList]":{a:["[verb,objectList]"],VAR1:["[verb,objectList]"],VAR2:["[verb,objectList]"],IRI_REF:["[verb,objectList]"],PNAME_LN:["[verb,objectList]"],PNAME_NS:["[verb,objectList]"],";":[],".":[],"]":[],"}":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"?argList":{NIL:["argList"],"(":["argList"],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],"*":[],"/":[],";":[]},"?constructTriples":{VAR1:["constructTriples"],VAR2:["constructTriples"],NIL:["constructTriples"],"(":["constructTriples"],"[":["constructTriples"],IRI_REF:["constructTriples"],TRUE:["constructTriples"],FALSE:["constructTriples"],BLANK_NODE_LABEL:["constructTriples"],ANON:["constructTriples"],PNAME_LN:["constructTriples"],PNAME_NS:["constructTriples"],STRING_LITERAL1:["constructTriples"],STRING_LITERAL2:["constructTriples"],STRING_LITERAL_LONG1:["constructTriples"],STRING_LITERAL_LONG2:["constructTriples"],INTEGER:["constructTriples"],DECIMAL:["constructTriples"],DOUBLE:["constructTriples"],INTEGER_POSITIVE:["constructTriples"],DECIMAL_POSITIVE:["constructTriples"],DOUBLE_POSITIVE:["constructTriples"],INTEGER_NEGATIVE:["constructTriples"],DECIMAL_NEGATIVE:["constructTriples"],DOUBLE_NEGATIVE:["constructTriples"],"}":[]},"?groupClause":{GROUP:["groupClause"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],HAVING:[],$:[],"}":[]},"?havingClause":{HAVING:["havingClause"],VALUES:[],LIMIT:[],OFFSET:[],ORDER:[],$:[],"}":[]},"?insertClause":{INSERT:["insertClause"],WHERE:[],USING:[]},"?limitClause":{LIMIT:["limitClause"],VALUES:[],$:[],"}":[]},"?limitOffsetClauses":{LIMIT:["limitOffsetClauses"],OFFSET:["limitOffsetClauses"],VALUES:[],$:[],"}":[]},"?offsetClause":{OFFSET:["offsetClause"],VALUES:[],$:[],"}":[]},"?or([DISTINCT,REDUCED])":{DISTINCT:["or([DISTINCT,REDUCED])"],REDUCED:["or([DISTINCT,REDUCED])"],"*":[],"(":[],VAR1:[],VAR2:[]},"?or([LANGTAG,[^^,iriRef]])":{LANGTAG:["or([LANGTAG,[^^,iriRef]])"],"^^":["or([LANGTAG,[^^,iriRef]])"],UNDEF:[],IRI_REF:[],TRUE:[],FALSE:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],a:[],VAR1:[],VAR2:[],"^":[],"!":[],"(":[],".":[],";":[],",":[],AS:[],")":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],"+":[],"-":[],"*":[],"/":[],"}":[],"[":[],NIL:[],BLANK_NODE_LABEL:[],ANON:[],"]":[],GRAPH:[],"{":[],OPTIONAL:[],MINUS:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[]},"?or([[*,unaryExpression],[/,unaryExpression]])":{"*":["or([[*,unaryExpression],[/,unaryExpression]])"],"/":["or([[*,unaryExpression],[/,unaryExpression]])"],"+":[],"-":[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[],AS:[],")":[],",":[],"||":[],"&&":[],"=":[],"!=":[],"<":[],">":[],"<=":[],">=":[],IN:[],NOT:[],";":[]},"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])":{"=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"!=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"<":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],">":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"<=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],">=":["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IN:["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOT:["or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],AS:[],")":[],",":[],"||":[],"&&":[],";":[]},"?orderClause":{ORDER:["orderClause"],VALUES:[],LIMIT:[],OFFSET:[],$:[],"}":[]},"?pathMod":{"*":["pathMod"],"?":["pathMod"],"+":["pathMod"],"{":["pathMod"],"|":[],"/":[],")":[],"(":[],"[":[],VAR1:[],VAR2:[],NIL:[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},"?triplesBlock":{VAR1:["triplesBlock"],VAR2:["triplesBlock"],NIL:["triplesBlock"],"(":["triplesBlock"],"[":["triplesBlock"],IRI_REF:["triplesBlock"],TRUE:["triplesBlock"],FALSE:["triplesBlock"],BLANK_NODE_LABEL:["triplesBlock"],ANON:["triplesBlock"],PNAME_LN:["triplesBlock"],PNAME_NS:["triplesBlock"],STRING_LITERAL1:["triplesBlock"],STRING_LITERAL2:["triplesBlock"],STRING_LITERAL_LONG1:["triplesBlock"],STRING_LITERAL_LONG2:["triplesBlock"],INTEGER:["triplesBlock"],DECIMAL:["triplesBlock"],DOUBLE:["triplesBlock"],INTEGER_POSITIVE:["triplesBlock"],DECIMAL_POSITIVE:["triplesBlock"],DOUBLE_POSITIVE:["triplesBlock"],INTEGER_NEGATIVE:["triplesBlock"],DECIMAL_NEGATIVE:["triplesBlock"],DOUBLE_NEGATIVE:["triplesBlock"],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},"?triplesTemplate":{VAR1:["triplesTemplate"],VAR2:["triplesTemplate"],NIL:["triplesTemplate"],"(":["triplesTemplate"],"[":["triplesTemplate"],IRI_REF:["triplesTemplate"],TRUE:["triplesTemplate"],FALSE:["triplesTemplate"],BLANK_NODE_LABEL:["triplesTemplate"],ANON:["triplesTemplate"],PNAME_LN:["triplesTemplate"],PNAME_NS:["triplesTemplate"],STRING_LITERAL1:["triplesTemplate"],STRING_LITERAL2:["triplesTemplate"],STRING_LITERAL_LONG1:["triplesTemplate"],STRING_LITERAL_LONG2:["triplesTemplate"],INTEGER:["triplesTemplate"],DECIMAL:["triplesTemplate"],DOUBLE:["triplesTemplate"],INTEGER_POSITIVE:["triplesTemplate"],DECIMAL_POSITIVE:["triplesTemplate"],DOUBLE_POSITIVE:["triplesTemplate"],INTEGER_NEGATIVE:["triplesTemplate"],DECIMAL_NEGATIVE:["triplesTemplate"],DOUBLE_NEGATIVE:["triplesTemplate"],"}":[],GRAPH:[]},"?whereClause":{WHERE:["whereClause"],"{":["whereClause"],ORDER:[],HAVING:[],GROUP:[],LIMIT:[],OFFSET:[],VALUES:[],$:[]},"[!=,numericExpression]":{"!=":["!=","numericExpression"]},"[&&,valueLogical]":{"&&":["&&","valueLogical"]},"[(,*dataBlockValue,)]":{"(":["(","*dataBlockValue",")"]},"[(,*var,)]":{"(":["(","*var",")"]},"[(,expression,)]":{"(":["(","expression",")"]},"[(,expression,AS,var,)]":{"(":["(","expression","AS","var",")"]},"[*,unaryExpression]":{"*":["*","unaryExpression"]},"[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]":{WHERE:["*datasetClause","WHERE","{","?triplesTemplate","}","solutionModifier"],FROM:["*datasetClause","WHERE","{","?triplesTemplate","}","solutionModifier"]},"[+,multiplicativeExpression]":{"+":["+","multiplicativeExpression"]},"[,,expression]":{",":[",","expression"]},"[,,integer,}]":{",":[",","integer","}"]},"[,,objectPath]":{",":[",","objectPath"]},"[,,object]":{",":[",","object"]},"[,,or([},[integer,}]])]":{",":[",","or([},[integer,}]])"]},"[-,multiplicativeExpression]":{"-":["-","multiplicativeExpression"]},"[.,?constructTriples]":{".":[".","?constructTriples"]},"[.,?triplesBlock]":{".":[".","?triplesBlock"]},"[.,?triplesTemplate]":{".":[".","?triplesTemplate"]},"[/,pathEltOrInverse]":{"/":["/","pathEltOrInverse"]},"[/,unaryExpression]":{"/":["/","unaryExpression"]},"[;,?[or([verbPath,verbSimple]),objectList]]":{";":[";","?[or([verbPath,verbSimple]),objectList]"]},"[;,?[verb,objectList]]":{";":[";","?[verb,objectList]"]},"[;,SEPARATOR,=,string]":{";":[";","SEPARATOR","=","string"]},"[;,update]":{";":[";","update"]},"[<,numericExpression]":{"<":["<","numericExpression"]},"[<=,numericExpression]":{"<=":["<=","numericExpression"]},"[=,numericExpression]":{"=":["=","numericExpression"]},"[>,numericExpression]":{">":[">","numericExpression"]},"[>=,numericExpression]":{">=":[">=","numericExpression"]},"[AS,var]":{AS:["AS","var"]},"[IN,expressionList]":{IN:["IN","expressionList"]},"[INTO,graphRef]":{INTO:["INTO","graphRef"]},"[NAMED,iriRef]":{NAMED:["NAMED","iriRef"]},"[NOT,IN,expressionList]":{NOT:["NOT","IN","expressionList"]},"[UNION,groupGraphPattern]":{UNION:["UNION","groupGraphPattern"]},"[^^,iriRef]":{"^^":["^^","iriRef"]},"[constructTemplate,*datasetClause,whereClause,solutionModifier]":{"{":["constructTemplate","*datasetClause","whereClause","solutionModifier"]},"[deleteClause,?insertClause]":{DELETE:["deleteClause","?insertClause"]},"[graphPatternNotTriples,?.,?triplesBlock]":{"{":["graphPatternNotTriples","?.","?triplesBlock"],OPTIONAL:["graphPatternNotTriples","?.","?triplesBlock"],MINUS:["graphPatternNotTriples","?.","?triplesBlock"],GRAPH:["graphPatternNotTriples","?.","?triplesBlock"],SERVICE:["graphPatternNotTriples","?.","?triplesBlock"],FILTER:["graphPatternNotTriples","?.","?triplesBlock"],BIND:["graphPatternNotTriples","?.","?triplesBlock"],VALUES:["graphPatternNotTriples","?.","?triplesBlock"]},"[integer,or([[,,or([},[integer,}]])],}])]":{INTEGER:["integer","or([[,,or([},[integer,}]])],}])"]},"[integer,}]":{INTEGER:["integer","}"]},"[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]":{INTEGER_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_POSITIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_NEGATIVE:["or([numericLiteralPositive,numericLiteralNegative])","?or([[*,unaryExpression],[/,unaryExpression]])"]},"[or([verbPath,verbSimple]),objectList]":{VAR1:["or([verbPath,verbSimple])","objectList"],VAR2:["or([verbPath,verbSimple])","objectList"],"^":["or([verbPath,verbSimple])","objectList"],a:["or([verbPath,verbSimple])","objectList"],"!":["or([verbPath,verbSimple])","objectList"],"(":["or([verbPath,verbSimple])","objectList"],IRI_REF:["or([verbPath,verbSimple])","objectList"],PNAME_LN:["or([verbPath,verbSimple])","objectList"],PNAME_NS:["or([verbPath,verbSimple])","objectList"]},"[pathOneInPropertySet,*[|,pathOneInPropertySet]]":{a:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],"^":["pathOneInPropertySet","*[|,pathOneInPropertySet]"],IRI_REF:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],PNAME_LN:["pathOneInPropertySet","*[|,pathOneInPropertySet]"],PNAME_NS:["pathOneInPropertySet","*[|,pathOneInPropertySet]"]},"[quadsNotTriples,?.,?triplesTemplate]":{GRAPH:["quadsNotTriples","?.","?triplesTemplate"]},"[update1,?[;,update]]":{INSERT:["update1","?[;,update]"],DELETE:["update1","?[;,update]"],LOAD:["update1","?[;,update]"],CLEAR:["update1","?[;,update]"],DROP:["update1","?[;,update]"],ADD:["update1","?[;,update]"],MOVE:["update1","?[;,update]"],COPY:["update1","?[;,update]"],CREATE:["update1","?[;,update]"],WITH:["update1","?[;,update]"]},"[verb,objectList]":{a:["verb","objectList"],VAR1:["verb","objectList"],VAR2:["verb","objectList"],IRI_REF:["verb","objectList"],PNAME_LN:["verb","objectList"],PNAME_NS:["verb","objectList"]},"[|,pathOneInPropertySet]":{"|":["|","pathOneInPropertySet"]},"[|,pathSequence]":{"|":["|","pathSequence"]},"[||,conditionalAndExpression]":{"||":["||","conditionalAndExpression"]},add:{ADD:["ADD","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},additiveExpression:{"!":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"+":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"-":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],VAR1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],
VAR2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],"(":["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LANG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LANGMATCHES:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DATATYPE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],BOUND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IRI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],URI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],BNODE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],RAND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ABS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CEIL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],FLOOR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ROUND:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CONCAT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRLEN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],UCASE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],LCASE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ENCODE_FOR_URI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],CONTAINS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRSTARTS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRENDS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRBEFORE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRAFTER:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],YEAR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MONTH:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DAY:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],HOURS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MINUTES:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SECONDS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TIMEZONE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TZ:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],NOW:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],UUID:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRUUID:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MD5:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA256:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA384:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SHA512:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],COALESCE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IF:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRLANG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRDT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SAMETERM:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISIRI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISURI:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISBLANK:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISLITERAL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],ISNUMERIC:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],TRUE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],FALSE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],COUNT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SUM:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MIN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],MAX:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],AVG:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SAMPLE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],GROUP_CONCAT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],SUBSTR:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],REPLACE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],REGEX:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],EXISTS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],NOT:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],IRI_REF:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL_LONG1:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],STRING_LITERAL_LONG2:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_POSITIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],INTEGER_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DECIMAL_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],DOUBLE_NEGATIVE:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],PNAME_LN:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"],PNAME_NS:["multiplicativeExpression","*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])"]},aggregate:{COUNT:["COUNT","(","?DISTINCT","or([*,expression])",")"],SUM:["SUM","(","?DISTINCT","expression",")"],MIN:["MIN","(","?DISTINCT","expression",")"],MAX:["MAX","(","?DISTINCT","expression",")"],AVG:["AVG","(","?DISTINCT","expression",")"],SAMPLE:["SAMPLE","(","?DISTINCT","expression",")"],GROUP_CONCAT:["GROUP_CONCAT","(","?DISTINCT","expression","?[;,SEPARATOR,=,string]",")"]},allowBnodes:{"}":[]},allowVars:{"}":[]},argList:{NIL:["NIL"],"(":["(","?DISTINCT","expression","*[,,expression]",")"]},askQuery:{ASK:["ASK","*datasetClause","whereClause","solutionModifier"]},baseDecl:{BASE:["BASE","IRI_REF"]},bind:{BIND:["BIND","(","expression","AS","var",")"]},blankNode:{BLANK_NODE_LABEL:["BLANK_NODE_LABEL"],ANON:["ANON"]},blankNodePropertyList:{"[":["[","propertyListNotEmpty","]"]},blankNodePropertyListPath:{"[":["[","propertyListPathNotEmpty","]"]},booleanLiteral:{TRUE:["TRUE"],FALSE:["FALSE"]},brackettedExpression:{"(":["(","expression",")"]},builtInCall:{STR:["STR","(","expression",")"],LANG:["LANG","(","expression",")"],LANGMATCHES:["LANGMATCHES","(","expression",",","expression",")"],DATATYPE:["DATATYPE","(","expression",")"],BOUND:["BOUND","(","var",")"],IRI:["IRI","(","expression",")"],URI:["URI","(","expression",")"],BNODE:["BNODE","or([[(,expression,)],NIL])"],RAND:["RAND","NIL"],ABS:["ABS","(","expression",")"],CEIL:["CEIL","(","expression",")"],FLOOR:["FLOOR","(","expression",")"],ROUND:["ROUND","(","expression",")"],CONCAT:["CONCAT","expressionList"],SUBSTR:["substringExpression"],STRLEN:["STRLEN","(","expression",")"],REPLACE:["strReplaceExpression"],UCASE:["UCASE","(","expression",")"],LCASE:["LCASE","(","expression",")"],ENCODE_FOR_URI:["ENCODE_FOR_URI","(","expression",")"],CONTAINS:["CONTAINS","(","expression",",","expression",")"],STRSTARTS:["STRSTARTS","(","expression",",","expression",")"],STRENDS:["STRENDS","(","expression",",","expression",")"],STRBEFORE:["STRBEFORE","(","expression",",","expression",")"],STRAFTER:["STRAFTER","(","expression",",","expression",")"],YEAR:["YEAR","(","expression",")"],MONTH:["MONTH","(","expression",")"],DAY:["DAY","(","expression",")"],HOURS:["HOURS","(","expression",")"],MINUTES:["MINUTES","(","expression",")"],SECONDS:["SECONDS","(","expression",")"],TIMEZONE:["TIMEZONE","(","expression",")"],TZ:["TZ","(","expression",")"],NOW:["NOW","NIL"],UUID:["UUID","NIL"],STRUUID:["STRUUID","NIL"],MD5:["MD5","(","expression",")"],SHA1:["SHA1","(","expression",")"],SHA256:["SHA256","(","expression",")"],SHA384:["SHA384","(","expression",")"],SHA512:["SHA512","(","expression",")"],COALESCE:["COALESCE","expressionList"],IF:["IF","(","expression",",","expression",",","expression",")"],STRLANG:["STRLANG","(","expression",",","expression",")"],STRDT:["STRDT","(","expression",",","expression",")"],SAMETERM:["SAMETERM","(","expression",",","expression",")"],ISIRI:["ISIRI","(","expression",")"],ISURI:["ISURI","(","expression",")"],ISBLANK:["ISBLANK","(","expression",")"],ISLITERAL:["ISLITERAL","(","expression",")"],ISNUMERIC:["ISNUMERIC","(","expression",")"],REGEX:["regexExpression"],EXISTS:["existsFunc"],NOT:["notExistsFunc"]},clear:{CLEAR:["CLEAR","?SILENT_2","graphRefAll"]},collection:{"(":["(","+graphNode",")"]},collectionPath:{"(":["(","+graphNodePath",")"]},conditionalAndExpression:{"!":["valueLogical","*[&&,valueLogical]"],"+":["valueLogical","*[&&,valueLogical]"],"-":["valueLogical","*[&&,valueLogical]"],VAR1:["valueLogical","*[&&,valueLogical]"],VAR2:["valueLogical","*[&&,valueLogical]"],"(":["valueLogical","*[&&,valueLogical]"],STR:["valueLogical","*[&&,valueLogical]"],LANG:["valueLogical","*[&&,valueLogical]"],LANGMATCHES:["valueLogical","*[&&,valueLogical]"],DATATYPE:["valueLogical","*[&&,valueLogical]"],BOUND:["valueLogical","*[&&,valueLogical]"],IRI:["valueLogical","*[&&,valueLogical]"],URI:["valueLogical","*[&&,valueLogical]"],BNODE:["valueLogical","*[&&,valueLogical]"],RAND:["valueLogical","*[&&,valueLogical]"],ABS:["valueLogical","*[&&,valueLogical]"],CEIL:["valueLogical","*[&&,valueLogical]"],FLOOR:["valueLogical","*[&&,valueLogical]"],ROUND:["valueLogical","*[&&,valueLogical]"],CONCAT:["valueLogical","*[&&,valueLogical]"],STRLEN:["valueLogical","*[&&,valueLogical]"],UCASE:["valueLogical","*[&&,valueLogical]"],LCASE:["valueLogical","*[&&,valueLogical]"],ENCODE_FOR_URI:["valueLogical","*[&&,valueLogical]"],CONTAINS:["valueLogical","*[&&,valueLogical]"],STRSTARTS:["valueLogical","*[&&,valueLogical]"],STRENDS:["valueLogical","*[&&,valueLogical]"],STRBEFORE:["valueLogical","*[&&,valueLogical]"],STRAFTER:["valueLogical","*[&&,valueLogical]"],YEAR:["valueLogical","*[&&,valueLogical]"],MONTH:["valueLogical","*[&&,valueLogical]"],DAY:["valueLogical","*[&&,valueLogical]"],HOURS:["valueLogical","*[&&,valueLogical]"],MINUTES:["valueLogical","*[&&,valueLogical]"],SECONDS:["valueLogical","*[&&,valueLogical]"],TIMEZONE:["valueLogical","*[&&,valueLogical]"],TZ:["valueLogical","*[&&,valueLogical]"],NOW:["valueLogical","*[&&,valueLogical]"],UUID:["valueLogical","*[&&,valueLogical]"],STRUUID:["valueLogical","*[&&,valueLogical]"],MD5:["valueLogical","*[&&,valueLogical]"],SHA1:["valueLogical","*[&&,valueLogical]"],SHA256:["valueLogical","*[&&,valueLogical]"],SHA384:["valueLogical","*[&&,valueLogical]"],SHA512:["valueLogical","*[&&,valueLogical]"],COALESCE:["valueLogical","*[&&,valueLogical]"],IF:["valueLogical","*[&&,valueLogical]"],STRLANG:["valueLogical","*[&&,valueLogical]"],STRDT:["valueLogical","*[&&,valueLogical]"],SAMETERM:["valueLogical","*[&&,valueLogical]"],ISIRI:["valueLogical","*[&&,valueLogical]"],ISURI:["valueLogical","*[&&,valueLogical]"],ISBLANK:["valueLogical","*[&&,valueLogical]"],ISLITERAL:["valueLogical","*[&&,valueLogical]"],ISNUMERIC:["valueLogical","*[&&,valueLogical]"],TRUE:["valueLogical","*[&&,valueLogical]"],FALSE:["valueLogical","*[&&,valueLogical]"],COUNT:["valueLogical","*[&&,valueLogical]"],SUM:["valueLogical","*[&&,valueLogical]"],MIN:["valueLogical","*[&&,valueLogical]"],MAX:["valueLogical","*[&&,valueLogical]"],AVG:["valueLogical","*[&&,valueLogical]"],SAMPLE:["valueLogical","*[&&,valueLogical]"],GROUP_CONCAT:["valueLogical","*[&&,valueLogical]"],SUBSTR:["valueLogical","*[&&,valueLogical]"],REPLACE:["valueLogical","*[&&,valueLogical]"],REGEX:["valueLogical","*[&&,valueLogical]"],EXISTS:["valueLogical","*[&&,valueLogical]"],NOT:["valueLogical","*[&&,valueLogical]"],IRI_REF:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL1:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL2:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL_LONG1:["valueLogical","*[&&,valueLogical]"],STRING_LITERAL_LONG2:["valueLogical","*[&&,valueLogical]"],INTEGER:["valueLogical","*[&&,valueLogical]"],DECIMAL:["valueLogical","*[&&,valueLogical]"],DOUBLE:["valueLogical","*[&&,valueLogical]"],INTEGER_POSITIVE:["valueLogical","*[&&,valueLogical]"],DECIMAL_POSITIVE:["valueLogical","*[&&,valueLogical]"],DOUBLE_POSITIVE:["valueLogical","*[&&,valueLogical]"],INTEGER_NEGATIVE:["valueLogical","*[&&,valueLogical]"],DECIMAL_NEGATIVE:["valueLogical","*[&&,valueLogical]"],DOUBLE_NEGATIVE:["valueLogical","*[&&,valueLogical]"],PNAME_LN:["valueLogical","*[&&,valueLogical]"],PNAME_NS:["valueLogical","*[&&,valueLogical]"]},conditionalOrExpression:{"!":["conditionalAndExpression","*[||,conditionalAndExpression]"],"+":["conditionalAndExpression","*[||,conditionalAndExpression]"],"-":["conditionalAndExpression","*[||,conditionalAndExpression]"],VAR1:["conditionalAndExpression","*[||,conditionalAndExpression]"],VAR2:["conditionalAndExpression","*[||,conditionalAndExpression]"],"(":["conditionalAndExpression","*[||,conditionalAndExpression]"],STR:["conditionalAndExpression","*[||,conditionalAndExpression]"],LANG:["conditionalAndExpression","*[||,conditionalAndExpression]"],LANGMATCHES:["conditionalAndExpression","*[||,conditionalAndExpression]"],DATATYPE:["conditionalAndExpression","*[||,conditionalAndExpression]"],BOUND:["conditionalAndExpression","*[||,conditionalAndExpression]"],IRI:["conditionalAndExpression","*[||,conditionalAndExpression]"],URI:["conditionalAndExpression","*[||,conditionalAndExpression]"],BNODE:["conditionalAndExpression","*[||,conditionalAndExpression]"],RAND:["conditionalAndExpression","*[||,conditionalAndExpression]"],ABS:["conditionalAndExpression","*[||,conditionalAndExpression]"],CEIL:["conditionalAndExpression","*[||,conditionalAndExpression]"],FLOOR:["conditionalAndExpression","*[||,conditionalAndExpression]"],ROUND:["conditionalAndExpression","*[||,conditionalAndExpression]"],CONCAT:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRLEN:["conditionalAndExpression","*[||,conditionalAndExpression]"],UCASE:["conditionalAndExpression","*[||,conditionalAndExpression]"],LCASE:["conditionalAndExpression","*[||,conditionalAndExpression]"],ENCODE_FOR_URI:["conditionalAndExpression","*[||,conditionalAndExpression]"],CONTAINS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRSTARTS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRENDS:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRBEFORE:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRAFTER:["conditionalAndExpression","*[||,conditionalAndExpression]"],YEAR:["conditionalAndExpression","*[||,conditionalAndExpression]"],MONTH:["conditionalAndExpression","*[||,conditionalAndExpression]"],DAY:["conditionalAndExpression","*[||,conditionalAndExpression]"],HOURS:["conditionalAndExpression","*[||,conditionalAndExpression]"],MINUTES:["conditionalAndExpression","*[||,conditionalAndExpression]"],SECONDS:["conditionalAndExpression","*[||,conditionalAndExpression]"],TIMEZONE:["conditionalAndExpression","*[||,conditionalAndExpression]"],TZ:["conditionalAndExpression","*[||,conditionalAndExpression]"],NOW:["conditionalAndExpression","*[||,conditionalAndExpression]"],UUID:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRUUID:["conditionalAndExpression","*[||,conditionalAndExpression]"],MD5:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA1:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA256:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA384:["conditionalAndExpression","*[||,conditionalAndExpression]"],SHA512:["conditionalAndExpression","*[||,conditionalAndExpression]"],COALESCE:["conditionalAndExpression","*[||,conditionalAndExpression]"],IF:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRLANG:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRDT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SAMETERM:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISIRI:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISURI:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISBLANK:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISLITERAL:["conditionalAndExpression","*[||,conditionalAndExpression]"],ISNUMERIC:["conditionalAndExpression","*[||,conditionalAndExpression]"],TRUE:["conditionalAndExpression","*[||,conditionalAndExpression]"],FALSE:["conditionalAndExpression","*[||,conditionalAndExpression]"],COUNT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SUM:["conditionalAndExpression","*[||,conditionalAndExpression]"],MIN:["conditionalAndExpression","*[||,conditionalAndExpression]"],MAX:["conditionalAndExpression","*[||,conditionalAndExpression]"],AVG:["conditionalAndExpression","*[||,conditionalAndExpression]"],SAMPLE:["conditionalAndExpression","*[||,conditionalAndExpression]"],GROUP_CONCAT:["conditionalAndExpression","*[||,conditionalAndExpression]"],SUBSTR:["conditionalAndExpression","*[||,conditionalAndExpression]"],REPLACE:["conditionalAndExpression","*[||,conditionalAndExpression]"],REGEX:["conditionalAndExpression","*[||,conditionalAndExpression]"],EXISTS:["conditionalAndExpression","*[||,conditionalAndExpression]"],NOT:["conditionalAndExpression","*[||,conditionalAndExpression]"],IRI_REF:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL1:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL2:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL_LONG1:["conditionalAndExpression","*[||,conditionalAndExpression]"],STRING_LITERAL_LONG2:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE_POSITIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],INTEGER_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DECIMAL_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],DOUBLE_NEGATIVE:["conditionalAndExpression","*[||,conditionalAndExpression]"],PNAME_LN:["conditionalAndExpression","*[||,conditionalAndExpression]"],PNAME_NS:["conditionalAndExpression","*[||,conditionalAndExpression]"]},constraint:{"(":["brackettedExpression"],STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["functionCall"],PNAME_LN:["functionCall"],PNAME_NS:["functionCall"]},constructQuery:{CONSTRUCT:["CONSTRUCT","or([[constructTemplate,*datasetClause,whereClause,solutionModifier],[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]])"]},constructTemplate:{"{":["{","?constructTriples","}"]},constructTriples:{VAR1:["triplesSameSubject","?[.,?constructTriples]"],VAR2:["triplesSameSubject","?[.,?constructTriples]"],NIL:["triplesSameSubject","?[.,?constructTriples]"],"(":["triplesSameSubject","?[.,?constructTriples]"],"[":["triplesSameSubject","?[.,?constructTriples]"],IRI_REF:["triplesSameSubject","?[.,?constructTriples]"],TRUE:["triplesSameSubject","?[.,?constructTriples]"],FALSE:["triplesSameSubject","?[.,?constructTriples]"],BLANK_NODE_LABEL:["triplesSameSubject","?[.,?constructTriples]"],ANON:["triplesSameSubject","?[.,?constructTriples]"],PNAME_LN:["triplesSameSubject","?[.,?constructTriples]"],PNAME_NS:["triplesSameSubject","?[.,?constructTriples]"],
STRING_LITERAL1:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL2:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL_LONG1:["triplesSameSubject","?[.,?constructTriples]"],STRING_LITERAL_LONG2:["triplesSameSubject","?[.,?constructTriples]"],INTEGER:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE:["triplesSameSubject","?[.,?constructTriples]"],INTEGER_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE_POSITIVE:["triplesSameSubject","?[.,?constructTriples]"],INTEGER_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"],DECIMAL_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"],DOUBLE_NEGATIVE:["triplesSameSubject","?[.,?constructTriples]"]},copy:{COPY:["COPY","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},create:{CREATE:["CREATE","?SILENT_3","graphRef"]},dataBlock:{NIL:["or([inlineDataOneVar,inlineDataFull])"],"(":["or([inlineDataOneVar,inlineDataFull])"],VAR1:["or([inlineDataOneVar,inlineDataFull])"],VAR2:["or([inlineDataOneVar,inlineDataFull])"]},dataBlockValue:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],UNDEF:["UNDEF"]},datasetClause:{FROM:["FROM","or([defaultGraphClause,namedGraphClause])"]},defaultGraphClause:{IRI_REF:["sourceSelector"],PNAME_LN:["sourceSelector"],PNAME_NS:["sourceSelector"]},delete1:{DATA:["DATA","quadDataNoBnodes"],WHERE:["WHERE","quadPatternNoBnodes"],"{":["quadPatternNoBnodes","?insertClause","*usingClause","WHERE","groupGraphPattern"]},deleteClause:{DELETE:["DELETE","quadPattern"]},describeDatasetClause:{FROM:["FROM","or([defaultGraphClause,namedGraphClause])"]},describeQuery:{DESCRIBE:["DESCRIBE","or([+varOrIRIref,*])","*describeDatasetClause","?whereClause","solutionModifier"]},disallowBnodes:{"}":[],GRAPH:[],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},disallowVars:{"}":[],GRAPH:[],VAR1:[],VAR2:[],NIL:[],"(":[],"[":[],IRI_REF:[],TRUE:[],FALSE:[],BLANK_NODE_LABEL:[],ANON:[],PNAME_LN:[],PNAME_NS:[],STRING_LITERAL1:[],STRING_LITERAL2:[],STRING_LITERAL_LONG1:[],STRING_LITERAL_LONG2:[],INTEGER:[],DECIMAL:[],DOUBLE:[],INTEGER_POSITIVE:[],DECIMAL_POSITIVE:[],DOUBLE_POSITIVE:[],INTEGER_NEGATIVE:[],DECIMAL_NEGATIVE:[],DOUBLE_NEGATIVE:[]},drop:{DROP:["DROP","?SILENT_2","graphRefAll"]},existsFunc:{EXISTS:["EXISTS","groupGraphPattern"]},expression:{"!":["conditionalOrExpression"],"+":["conditionalOrExpression"],"-":["conditionalOrExpression"],VAR1:["conditionalOrExpression"],VAR2:["conditionalOrExpression"],"(":["conditionalOrExpression"],STR:["conditionalOrExpression"],LANG:["conditionalOrExpression"],LANGMATCHES:["conditionalOrExpression"],DATATYPE:["conditionalOrExpression"],BOUND:["conditionalOrExpression"],IRI:["conditionalOrExpression"],URI:["conditionalOrExpression"],BNODE:["conditionalOrExpression"],RAND:["conditionalOrExpression"],ABS:["conditionalOrExpression"],CEIL:["conditionalOrExpression"],FLOOR:["conditionalOrExpression"],ROUND:["conditionalOrExpression"],CONCAT:["conditionalOrExpression"],STRLEN:["conditionalOrExpression"],UCASE:["conditionalOrExpression"],LCASE:["conditionalOrExpression"],ENCODE_FOR_URI:["conditionalOrExpression"],CONTAINS:["conditionalOrExpression"],STRSTARTS:["conditionalOrExpression"],STRENDS:["conditionalOrExpression"],STRBEFORE:["conditionalOrExpression"],STRAFTER:["conditionalOrExpression"],YEAR:["conditionalOrExpression"],MONTH:["conditionalOrExpression"],DAY:["conditionalOrExpression"],HOURS:["conditionalOrExpression"],MINUTES:["conditionalOrExpression"],SECONDS:["conditionalOrExpression"],TIMEZONE:["conditionalOrExpression"],TZ:["conditionalOrExpression"],NOW:["conditionalOrExpression"],UUID:["conditionalOrExpression"],STRUUID:["conditionalOrExpression"],MD5:["conditionalOrExpression"],SHA1:["conditionalOrExpression"],SHA256:["conditionalOrExpression"],SHA384:["conditionalOrExpression"],SHA512:["conditionalOrExpression"],COALESCE:["conditionalOrExpression"],IF:["conditionalOrExpression"],STRLANG:["conditionalOrExpression"],STRDT:["conditionalOrExpression"],SAMETERM:["conditionalOrExpression"],ISIRI:["conditionalOrExpression"],ISURI:["conditionalOrExpression"],ISBLANK:["conditionalOrExpression"],ISLITERAL:["conditionalOrExpression"],ISNUMERIC:["conditionalOrExpression"],TRUE:["conditionalOrExpression"],FALSE:["conditionalOrExpression"],COUNT:["conditionalOrExpression"],SUM:["conditionalOrExpression"],MIN:["conditionalOrExpression"],MAX:["conditionalOrExpression"],AVG:["conditionalOrExpression"],SAMPLE:["conditionalOrExpression"],GROUP_CONCAT:["conditionalOrExpression"],SUBSTR:["conditionalOrExpression"],REPLACE:["conditionalOrExpression"],REGEX:["conditionalOrExpression"],EXISTS:["conditionalOrExpression"],NOT:["conditionalOrExpression"],IRI_REF:["conditionalOrExpression"],STRING_LITERAL1:["conditionalOrExpression"],STRING_LITERAL2:["conditionalOrExpression"],STRING_LITERAL_LONG1:["conditionalOrExpression"],STRING_LITERAL_LONG2:["conditionalOrExpression"],INTEGER:["conditionalOrExpression"],DECIMAL:["conditionalOrExpression"],DOUBLE:["conditionalOrExpression"],INTEGER_POSITIVE:["conditionalOrExpression"],DECIMAL_POSITIVE:["conditionalOrExpression"],DOUBLE_POSITIVE:["conditionalOrExpression"],INTEGER_NEGATIVE:["conditionalOrExpression"],DECIMAL_NEGATIVE:["conditionalOrExpression"],DOUBLE_NEGATIVE:["conditionalOrExpression"],PNAME_LN:["conditionalOrExpression"],PNAME_NS:["conditionalOrExpression"]},expressionList:{NIL:["NIL"],"(":["(","expression","*[,,expression]",")"]},filter:{FILTER:["FILTER","constraint"]},functionCall:{IRI_REF:["iriRef","argList"],PNAME_LN:["iriRef","argList"],PNAME_NS:["iriRef","argList"]},graphGraphPattern:{GRAPH:["GRAPH","varOrIRIref","groupGraphPattern"]},graphNode:{VAR1:["varOrTerm"],VAR2:["varOrTerm"],NIL:["varOrTerm"],IRI_REF:["varOrTerm"],TRUE:["varOrTerm"],FALSE:["varOrTerm"],BLANK_NODE_LABEL:["varOrTerm"],ANON:["varOrTerm"],PNAME_LN:["varOrTerm"],PNAME_NS:["varOrTerm"],STRING_LITERAL1:["varOrTerm"],STRING_LITERAL2:["varOrTerm"],STRING_LITERAL_LONG1:["varOrTerm"],STRING_LITERAL_LONG2:["varOrTerm"],INTEGER:["varOrTerm"],DECIMAL:["varOrTerm"],DOUBLE:["varOrTerm"],INTEGER_POSITIVE:["varOrTerm"],DECIMAL_POSITIVE:["varOrTerm"],DOUBLE_POSITIVE:["varOrTerm"],INTEGER_NEGATIVE:["varOrTerm"],DECIMAL_NEGATIVE:["varOrTerm"],DOUBLE_NEGATIVE:["varOrTerm"],"(":["triplesNode"],"[":["triplesNode"]},graphNodePath:{VAR1:["varOrTerm"],VAR2:["varOrTerm"],NIL:["varOrTerm"],IRI_REF:["varOrTerm"],TRUE:["varOrTerm"],FALSE:["varOrTerm"],BLANK_NODE_LABEL:["varOrTerm"],ANON:["varOrTerm"],PNAME_LN:["varOrTerm"],PNAME_NS:["varOrTerm"],STRING_LITERAL1:["varOrTerm"],STRING_LITERAL2:["varOrTerm"],STRING_LITERAL_LONG1:["varOrTerm"],STRING_LITERAL_LONG2:["varOrTerm"],INTEGER:["varOrTerm"],DECIMAL:["varOrTerm"],DOUBLE:["varOrTerm"],INTEGER_POSITIVE:["varOrTerm"],DECIMAL_POSITIVE:["varOrTerm"],DOUBLE_POSITIVE:["varOrTerm"],INTEGER_NEGATIVE:["varOrTerm"],DECIMAL_NEGATIVE:["varOrTerm"],DOUBLE_NEGATIVE:["varOrTerm"],"(":["triplesNodePath"],"[":["triplesNodePath"]},graphOrDefault:{DEFAULT:["DEFAULT"],IRI_REF:["?GRAPH","iriRef"],PNAME_LN:["?GRAPH","iriRef"],PNAME_NS:["?GRAPH","iriRef"],GRAPH:["?GRAPH","iriRef"]},graphPatternNotTriples:{"{":["groupOrUnionGraphPattern"],OPTIONAL:["optionalGraphPattern"],MINUS:["minusGraphPattern"],GRAPH:["graphGraphPattern"],SERVICE:["serviceGraphPattern"],FILTER:["filter"],BIND:["bind"],VALUES:["inlineData"]},graphRef:{GRAPH:["GRAPH","iriRef"]},graphRefAll:{GRAPH:["graphRef"],DEFAULT:["DEFAULT"],NAMED:["NAMED"],ALL:["ALL"]},graphTerm:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],BLANK_NODE_LABEL:["blankNode"],ANON:["blankNode"],NIL:["NIL"]},groupClause:{GROUP:["GROUP","BY","+groupCondition"]},groupCondition:{STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["functionCall"],PNAME_LN:["functionCall"],PNAME_NS:["functionCall"],"(":["(","expression","?[AS,var]",")"],VAR1:["var"],VAR2:["var"]},groupGraphPattern:{"{":["{","or([subSelect,groupGraphPatternSub])","}"]},groupGraphPatternSub:{"{":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],OPTIONAL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],MINUS:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],GRAPH:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],SERVICE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],FILTER:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],BIND:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VALUES:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VAR1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],VAR2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],NIL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"(":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"[":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],IRI_REF:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],TRUE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],FALSE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],BLANK_NODE_LABEL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],ANON:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],PNAME_LN:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],PNAME_NS:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL_LONG1:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],STRING_LITERAL_LONG2:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE_POSITIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],INTEGER_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DECIMAL_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],DOUBLE_NEGATIVE:["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"],"}":["?triplesBlock","*[graphPatternNotTriples,?.,?triplesBlock]"]},groupOrUnionGraphPattern:{"{":["groupGraphPattern","*[UNION,groupGraphPattern]"]},havingClause:{HAVING:["HAVING","+havingCondition"]},havingCondition:{"(":["constraint"],STR:["constraint"],LANG:["constraint"],LANGMATCHES:["constraint"],DATATYPE:["constraint"],BOUND:["constraint"],IRI:["constraint"],URI:["constraint"],BNODE:["constraint"],RAND:["constraint"],ABS:["constraint"],CEIL:["constraint"],FLOOR:["constraint"],ROUND:["constraint"],CONCAT:["constraint"],STRLEN:["constraint"],UCASE:["constraint"],LCASE:["constraint"],ENCODE_FOR_URI:["constraint"],CONTAINS:["constraint"],STRSTARTS:["constraint"],STRENDS:["constraint"],STRBEFORE:["constraint"],STRAFTER:["constraint"],YEAR:["constraint"],MONTH:["constraint"],DAY:["constraint"],HOURS:["constraint"],MINUTES:["constraint"],SECONDS:["constraint"],TIMEZONE:["constraint"],TZ:["constraint"],NOW:["constraint"],UUID:["constraint"],STRUUID:["constraint"],MD5:["constraint"],SHA1:["constraint"],SHA256:["constraint"],SHA384:["constraint"],SHA512:["constraint"],COALESCE:["constraint"],IF:["constraint"],STRLANG:["constraint"],STRDT:["constraint"],SAMETERM:["constraint"],ISIRI:["constraint"],ISURI:["constraint"],ISBLANK:["constraint"],ISLITERAL:["constraint"],ISNUMERIC:["constraint"],SUBSTR:["constraint"],REPLACE:["constraint"],REGEX:["constraint"],EXISTS:["constraint"],NOT:["constraint"],IRI_REF:["constraint"],PNAME_LN:["constraint"],PNAME_NS:["constraint"]},inlineData:{VALUES:["VALUES","dataBlock"]},inlineDataFull:{NIL:["or([NIL,[(,*var,)]])","{","*or([[(,*dataBlockValue,)],NIL])","}"],"(":["or([NIL,[(,*var,)]])","{","*or([[(,*dataBlockValue,)],NIL])","}"]},inlineDataOneVar:{VAR1:["var","{","*dataBlockValue","}"],VAR2:["var","{","*dataBlockValue","}"]},insert1:{DATA:["DATA","quadData"],"{":["quadPattern","*usingClause","WHERE","groupGraphPattern"]},insertClause:{INSERT:["INSERT","quadPattern"]},integer:{INTEGER:["INTEGER"]},iriRef:{IRI_REF:["IRI_REF"],PNAME_LN:["prefixedName"],PNAME_NS:["prefixedName"]},iriRefOrFunction:{IRI_REF:["iriRef","?argList"],PNAME_LN:["iriRef","?argList"],PNAME_NS:["iriRef","?argList"]},limitClause:{LIMIT:["LIMIT","INTEGER"]},limitOffsetClauses:{LIMIT:["limitClause","?offsetClause"],OFFSET:["offsetClause","?limitClause"]},load:{LOAD:["LOAD","?SILENT_1","iriRef","?[INTO,graphRef]"]},minusGraphPattern:{MINUS:["MINUS","groupGraphPattern"]},modify:{WITH:["WITH","iriRef","or([[deleteClause,?insertClause],insertClause])","*usingClause","WHERE","groupGraphPattern"]},move:{MOVE:["MOVE","?SILENT_4","graphOrDefault","TO","graphOrDefault"]},multiplicativeExpression:{"!":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"+":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"-":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],VAR1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],VAR2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],"(":["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LANG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LANGMATCHES:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DATATYPE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],BOUND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IRI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],URI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],BNODE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],RAND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ABS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CEIL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],FLOOR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ROUND:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CONCAT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRLEN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],UCASE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],LCASE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ENCODE_FOR_URI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],CONTAINS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRSTARTS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRENDS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRBEFORE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRAFTER:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],YEAR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MONTH:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DAY:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],HOURS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MINUTES:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SECONDS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TIMEZONE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TZ:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],NOW:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],UUID:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRUUID:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MD5:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA256:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA384:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SHA512:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],COALESCE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IF:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRLANG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRDT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SAMETERM:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISIRI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISURI:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISBLANK:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISLITERAL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],ISNUMERIC:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],TRUE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],FALSE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],COUNT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SUM:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MIN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],MAX:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],AVG:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SAMPLE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],GROUP_CONCAT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],SUBSTR:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],REPLACE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],REGEX:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],EXISTS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],NOT:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],IRI_REF:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL_LONG1:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],STRING_LITERAL_LONG2:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_POSITIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],INTEGER_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DECIMAL_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],DOUBLE_NEGATIVE:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],PNAME_LN:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"],PNAME_NS:["unaryExpression","*or([[*,unaryExpression],[/,unaryExpression]])"]},namedGraphClause:{NAMED:["NAMED","sourceSelector"]},notExistsFunc:{NOT:["NOT","EXISTS","groupGraphPattern"]},numericExpression:{"!":["additiveExpression"],"+":["additiveExpression"],"-":["additiveExpression"],VAR1:["additiveExpression"],VAR2:["additiveExpression"],"(":["additiveExpression"],STR:["additiveExpression"],LANG:["additiveExpression"],LANGMATCHES:["additiveExpression"],DATATYPE:["additiveExpression"],BOUND:["additiveExpression"],IRI:["additiveExpression"],URI:["additiveExpression"],BNODE:["additiveExpression"],RAND:["additiveExpression"],ABS:["additiveExpression"],CEIL:["additiveExpression"],FLOOR:["additiveExpression"],ROUND:["additiveExpression"],CONCAT:["additiveExpression"],STRLEN:["additiveExpression"],UCASE:["additiveExpression"],LCASE:["additiveExpression"],ENCODE_FOR_URI:["additiveExpression"],CONTAINS:["additiveExpression"],STRSTARTS:["additiveExpression"],STRENDS:["additiveExpression"],STRBEFORE:["additiveExpression"],STRAFTER:["additiveExpression"],YEAR:["additiveExpression"],MONTH:["additiveExpression"],DAY:["additiveExpression"],HOURS:["additiveExpression"],MINUTES:["additiveExpression"],SECONDS:["additiveExpression"],TIMEZONE:["additiveExpression"],TZ:["additiveExpression"],NOW:["additiveExpression"],UUID:["additiveExpression"],STRUUID:["additiveExpression"],MD5:["additiveExpression"],SHA1:["additiveExpression"],SHA256:["additiveExpression"],SHA384:["additiveExpression"],SHA512:["additiveExpression"],COALESCE:["additiveExpression"],IF:["additiveExpression"],STRLANG:["additiveExpression"],STRDT:["additiveExpression"],SAMETERM:["additiveExpression"],ISIRI:["additiveExpression"],ISURI:["additiveExpression"],ISBLANK:["additiveExpression"],ISLITERAL:["additiveExpression"],ISNUMERIC:["additiveExpression"],TRUE:["additiveExpression"],FALSE:["additiveExpression"],COUNT:["additiveExpression"],SUM:["additiveExpression"],MIN:["additiveExpression"],MAX:["additiveExpression"],AVG:["additiveExpression"],SAMPLE:["additiveExpression"],GROUP_CONCAT:["additiveExpression"],SUBSTR:["additiveExpression"],REPLACE:["additiveExpression"],REGEX:["additiveExpression"],EXISTS:["additiveExpression"],NOT:["additiveExpression"],IRI_REF:["additiveExpression"],STRING_LITERAL1:["additiveExpression"],STRING_LITERAL2:["additiveExpression"],STRING_LITERAL_LONG1:["additiveExpression"],STRING_LITERAL_LONG2:["additiveExpression"],INTEGER:["additiveExpression"],DECIMAL:["additiveExpression"],DOUBLE:["additiveExpression"],INTEGER_POSITIVE:["additiveExpression"],DECIMAL_POSITIVE:["additiveExpression"],DOUBLE_POSITIVE:["additiveExpression"],INTEGER_NEGATIVE:["additiveExpression"],DECIMAL_NEGATIVE:["additiveExpression"],DOUBLE_NEGATIVE:["additiveExpression"],PNAME_LN:["additiveExpression"],PNAME_NS:["additiveExpression"]},numericLiteral:{INTEGER:["numericLiteralUnsigned"],DECIMAL:["numericLiteralUnsigned"],DOUBLE:["numericLiteralUnsigned"],INTEGER_POSITIVE:["numericLiteralPositive"],DECIMAL_POSITIVE:["numericLiteralPositive"],DOUBLE_POSITIVE:["numericLiteralPositive"],INTEGER_NEGATIVE:["numericLiteralNegative"],DECIMAL_NEGATIVE:["numericLiteralNegative"],DOUBLE_NEGATIVE:["numericLiteralNegative"]},numericLiteralNegative:{INTEGER_NEGATIVE:["INTEGER_NEGATIVE"],DECIMAL_NEGATIVE:["DECIMAL_NEGATIVE"],DOUBLE_NEGATIVE:["DOUBLE_NEGATIVE"]},numericLiteralPositive:{INTEGER_POSITIVE:["INTEGER_POSITIVE"],DECIMAL_POSITIVE:["DECIMAL_POSITIVE"],DOUBLE_POSITIVE:["DOUBLE_POSITIVE"]},numericLiteralUnsigned:{INTEGER:["INTEGER"],DECIMAL:["DECIMAL"],DOUBLE:["DOUBLE"]},object:{"(":["graphNode"],"[":["graphNode"],VAR1:["graphNode"],VAR2:["graphNode"],NIL:["graphNode"],IRI_REF:["graphNode"],TRUE:["graphNode"],FALSE:["graphNode"],BLANK_NODE_LABEL:["graphNode"],ANON:["graphNode"],PNAME_LN:["graphNode"],PNAME_NS:["graphNode"],STRING_LITERAL1:["graphNode"],STRING_LITERAL2:["graphNode"],STRING_LITERAL_LONG1:["graphNode"],STRING_LITERAL_LONG2:["graphNode"],INTEGER:["graphNode"],DECIMAL:["graphNode"],DOUBLE:["graphNode"],INTEGER_POSITIVE:["graphNode"],DECIMAL_POSITIVE:["graphNode"],DOUBLE_POSITIVE:["graphNode"],INTEGER_NEGATIVE:["graphNode"],DECIMAL_NEGATIVE:["graphNode"],DOUBLE_NEGATIVE:["graphNode"]},objectList:{"(":["object","*[,,object]"],"[":["object","*[,,object]"],VAR1:["object","*[,,object]"],VAR2:["object","*[,,object]"],NIL:["object","*[,,object]"],IRI_REF:["object","*[,,object]"],TRUE:["object","*[,,object]"],FALSE:["object","*[,,object]"],BLANK_NODE_LABEL:["object","*[,,object]"],ANON:["object","*[,,object]"],PNAME_LN:["object","*[,,object]"],PNAME_NS:["object","*[,,object]"],STRING_LITERAL1:["object","*[,,object]"],STRING_LITERAL2:["object","*[,,object]"],STRING_LITERAL_LONG1:["object","*[,,object]"],STRING_LITERAL_LONG2:["object","*[,,object]"],INTEGER:["object","*[,,object]"],DECIMAL:["object","*[,,object]"],DOUBLE:["object","*[,,object]"],INTEGER_POSITIVE:["object","*[,,object]"],DECIMAL_POSITIVE:["object","*[,,object]"],DOUBLE_POSITIVE:["object","*[,,object]"],INTEGER_NEGATIVE:["object","*[,,object]"],DECIMAL_NEGATIVE:["object","*[,,object]"],DOUBLE_NEGATIVE:["object","*[,,object]"]},objectListPath:{"(":["objectPath","*[,,objectPath]"],"[":["objectPath","*[,,objectPath]"],VAR1:["objectPath","*[,,objectPath]"],VAR2:["objectPath","*[,,objectPath]"],NIL:["objectPath","*[,,objectPath]"],IRI_REF:["objectPath","*[,,objectPath]"],TRUE:["objectPath","*[,,objectPath]"],FALSE:["objectPath","*[,,objectPath]"],BLANK_NODE_LABEL:["objectPath","*[,,objectPath]"],ANON:["objectPath","*[,,objectPath]"],PNAME_LN:["objectPath","*[,,objectPath]"],PNAME_NS:["objectPath","*[,,objectPath]"],STRING_LITERAL1:["objectPath","*[,,objectPath]"],STRING_LITERAL2:["objectPath","*[,,objectPath]"],STRING_LITERAL_LONG1:["objectPath","*[,,objectPath]"],STRING_LITERAL_LONG2:["objectPath","*[,,objectPath]"],INTEGER:["objectPath","*[,,objectPath]"],DECIMAL:["objectPath","*[,,objectPath]"],DOUBLE:["objectPath","*[,,objectPath]"],INTEGER_POSITIVE:["objectPath","*[,,objectPath]"],DECIMAL_POSITIVE:["objectPath","*[,,objectPath]"],DOUBLE_POSITIVE:["objectPath","*[,,objectPath]"],INTEGER_NEGATIVE:["objectPath","*[,,objectPath]"],DECIMAL_NEGATIVE:["objectPath","*[,,objectPath]"],DOUBLE_NEGATIVE:["objectPath","*[,,objectPath]"]},objectPath:{"(":["graphNodePath"],"[":["graphNodePath"],VAR1:["graphNodePath"],VAR2:["graphNodePath"],NIL:["graphNodePath"],IRI_REF:["graphNodePath"],TRUE:["graphNodePath"],FALSE:["graphNodePath"],BLANK_NODE_LABEL:["graphNodePath"],ANON:["graphNodePath"],PNAME_LN:["graphNodePath"],PNAME_NS:["graphNodePath"],STRING_LITERAL1:["graphNodePath"],STRING_LITERAL2:["graphNodePath"],STRING_LITERAL_LONG1:["graphNodePath"],STRING_LITERAL_LONG2:["graphNodePath"],INTEGER:["graphNodePath"],DECIMAL:["graphNodePath"],DOUBLE:["graphNodePath"],INTEGER_POSITIVE:["graphNodePath"],DECIMAL_POSITIVE:["graphNodePath"],DOUBLE_POSITIVE:["graphNodePath"],INTEGER_NEGATIVE:["graphNodePath"],DECIMAL_NEGATIVE:["graphNodePath"],DOUBLE_NEGATIVE:["graphNodePath"]},offsetClause:{OFFSET:["OFFSET","INTEGER"]},optionalGraphPattern:{OPTIONAL:["OPTIONAL","groupGraphPattern"]},"or([*,expression])":{"*":["*"],"!":["expression"],"+":["expression"],"-":["expression"],VAR1:["expression"],VAR2:["expression"],"(":["expression"],STR:["expression"],LANG:["expression"],LANGMATCHES:["expression"],DATATYPE:["expression"],BOUND:["expression"],IRI:["expression"],URI:["expression"],BNODE:["expression"],RAND:["expression"],ABS:["expression"],CEIL:["expression"],FLOOR:["expression"],ROUND:["expression"],CONCAT:["expression"],STRLEN:["expression"],UCASE:["expression"],LCASE:["expression"],ENCODE_FOR_URI:["expression"],CONTAINS:["expression"],STRSTARTS:["expression"],STRENDS:["expression"],STRBEFORE:["expression"],STRAFTER:["expression"],YEAR:["expression"],MONTH:["expression"],DAY:["expression"],HOURS:["expression"],MINUTES:["expression"],SECONDS:["expression"],TIMEZONE:["expression"],TZ:["expression"],NOW:["expression"],UUID:["expression"],STRUUID:["expression"],MD5:["expression"],SHA1:["expression"],SHA256:["expression"],SHA384:["expression"],SHA512:["expression"],COALESCE:["expression"],IF:["expression"],STRLANG:["expression"],STRDT:["expression"],SAMETERM:["expression"],ISIRI:["expression"],ISURI:["expression"],ISBLANK:["expression"],ISLITERAL:["expression"],ISNUMERIC:["expression"],TRUE:["expression"],FALSE:["expression"],COUNT:["expression"],SUM:["expression"],MIN:["expression"],MAX:["expression"],AVG:["expression"],SAMPLE:["expression"],GROUP_CONCAT:["expression"],SUBSTR:["expression"],REPLACE:["expression"],REGEX:["expression"],EXISTS:["expression"],NOT:["expression"],IRI_REF:["expression"],STRING_LITERAL1:["expression"],STRING_LITERAL2:["expression"],STRING_LITERAL_LONG1:["expression"],STRING_LITERAL_LONG2:["expression"],INTEGER:["expression"],DECIMAL:["expression"],DOUBLE:["expression"],INTEGER_POSITIVE:["expression"],DECIMAL_POSITIVE:["expression"],DOUBLE_POSITIVE:["expression"],INTEGER_NEGATIVE:["expression"],DECIMAL_NEGATIVE:["expression"],DOUBLE_NEGATIVE:["expression"],PNAME_LN:["expression"],PNAME_NS:["expression"]},"or([+or([var,[(,expression,AS,var,)]]),*])":{"(":["+or([var,[(,expression,AS,var,)]])"],VAR1:["+or([var,[(,expression,AS,var,)]])"],VAR2:["+or([var,[(,expression,AS,var,)]])"],"*":["*"]},"or([+varOrIRIref,*])":{VAR1:["+varOrIRIref"],VAR2:["+varOrIRIref"],IRI_REF:["+varOrIRIref"],PNAME_LN:["+varOrIRIref"],PNAME_NS:["+varOrIRIref"],"*":["*"]},"or([ASC,DESC])":{ASC:["ASC"],DESC:["DESC"]},"or([DISTINCT,REDUCED])":{DISTINCT:["DISTINCT"],REDUCED:["REDUCED"]},"or([LANGTAG,[^^,iriRef]])":{LANGTAG:["LANGTAG"],"^^":["[^^,iriRef]"]},"or([NIL,[(,*var,)]])":{NIL:["NIL"],"(":["[(,*var,)]"]},"or([[(,*dataBlockValue,)],NIL])":{"(":["[(,*dataBlockValue,)]"],NIL:["NIL"]},"or([[(,expression,)],NIL])":{"(":["[(,expression,)]"],NIL:["NIL"]},"or([[*,unaryExpression],[/,unaryExpression]])":{"*":["[*,unaryExpression]"],"/":["[/,unaryExpression]"]},"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])":{
"+":["[+,multiplicativeExpression]"],"-":["[-,multiplicativeExpression]"],INTEGER_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DECIMAL_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DOUBLE_POSITIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],INTEGER_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DECIMAL_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"],DOUBLE_NEGATIVE:["[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]"]},"or([[,,or([},[integer,}]])],}])":{",":["[,,or([},[integer,}]])]"],"}":["}"]},"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])":{"=":["[=,numericExpression]"],"!=":["[!=,numericExpression]"],"<":["[<,numericExpression]"],">":["[>,numericExpression]"],"<=":["[<=,numericExpression]"],">=":["[>=,numericExpression]"],IN:["[IN,expressionList]"],NOT:["[NOT,IN,expressionList]"]},"or([[constructTemplate,*datasetClause,whereClause,solutionModifier],[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]])":{"{":["[constructTemplate,*datasetClause,whereClause,solutionModifier]"],WHERE:["[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]"],FROM:["[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]"]},"or([[deleteClause,?insertClause],insertClause])":{DELETE:["[deleteClause,?insertClause]"],INSERT:["insertClause"]},"or([[integer,or([[,,or([},[integer,}]])],}])],[,,integer,}]])":{INTEGER:["[integer,or([[,,or([},[integer,}]])],}])]"],",":["[,,integer,}]"]},"or([baseDecl,prefixDecl])":{BASE:["baseDecl"],PREFIX:["prefixDecl"]},"or([defaultGraphClause,namedGraphClause])":{IRI_REF:["defaultGraphClause"],PNAME_LN:["defaultGraphClause"],PNAME_NS:["defaultGraphClause"],NAMED:["namedGraphClause"]},"or([inlineDataOneVar,inlineDataFull])":{VAR1:["inlineDataOneVar"],VAR2:["inlineDataOneVar"],NIL:["inlineDataFull"],"(":["inlineDataFull"]},"or([iriRef,[NAMED,iriRef]])":{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],NAMED:["[NAMED,iriRef]"]},"or([iriRef,a])":{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],a:["a"]},"or([numericLiteralPositive,numericLiteralNegative])":{INTEGER_POSITIVE:["numericLiteralPositive"],DECIMAL_POSITIVE:["numericLiteralPositive"],DOUBLE_POSITIVE:["numericLiteralPositive"],INTEGER_NEGATIVE:["numericLiteralNegative"],DECIMAL_NEGATIVE:["numericLiteralNegative"],DOUBLE_NEGATIVE:["numericLiteralNegative"]},"or([queryAll,updateAll])":{CONSTRUCT:["queryAll"],DESCRIBE:["queryAll"],ASK:["queryAll"],SELECT:["queryAll"],INSERT:["updateAll"],DELETE:["updateAll"],LOAD:["updateAll"],CLEAR:["updateAll"],DROP:["updateAll"],ADD:["updateAll"],MOVE:["updateAll"],COPY:["updateAll"],CREATE:["updateAll"],WITH:["updateAll"],$:["updateAll"]},"or([selectQuery,constructQuery,describeQuery,askQuery])":{SELECT:["selectQuery"],CONSTRUCT:["constructQuery"],DESCRIBE:["describeQuery"],ASK:["askQuery"]},"or([subSelect,groupGraphPatternSub])":{SELECT:["subSelect"],"{":["groupGraphPatternSub"],OPTIONAL:["groupGraphPatternSub"],MINUS:["groupGraphPatternSub"],GRAPH:["groupGraphPatternSub"],SERVICE:["groupGraphPatternSub"],FILTER:["groupGraphPatternSub"],BIND:["groupGraphPatternSub"],VALUES:["groupGraphPatternSub"],VAR1:["groupGraphPatternSub"],VAR2:["groupGraphPatternSub"],NIL:["groupGraphPatternSub"],"(":["groupGraphPatternSub"],"[":["groupGraphPatternSub"],IRI_REF:["groupGraphPatternSub"],TRUE:["groupGraphPatternSub"],FALSE:["groupGraphPatternSub"],BLANK_NODE_LABEL:["groupGraphPatternSub"],ANON:["groupGraphPatternSub"],PNAME_LN:["groupGraphPatternSub"],PNAME_NS:["groupGraphPatternSub"],STRING_LITERAL1:["groupGraphPatternSub"],STRING_LITERAL2:["groupGraphPatternSub"],STRING_LITERAL_LONG1:["groupGraphPatternSub"],STRING_LITERAL_LONG2:["groupGraphPatternSub"],INTEGER:["groupGraphPatternSub"],DECIMAL:["groupGraphPatternSub"],DOUBLE:["groupGraphPatternSub"],INTEGER_POSITIVE:["groupGraphPatternSub"],DECIMAL_POSITIVE:["groupGraphPatternSub"],DOUBLE_POSITIVE:["groupGraphPatternSub"],INTEGER_NEGATIVE:["groupGraphPatternSub"],DECIMAL_NEGATIVE:["groupGraphPatternSub"],DOUBLE_NEGATIVE:["groupGraphPatternSub"],"}":["groupGraphPatternSub"]},"or([var,[(,expression,AS,var,)]])":{VAR1:["var"],VAR2:["var"],"(":["[(,expression,AS,var,)]"]},"or([verbPath,verbSimple])":{"^":["verbPath"],a:["verbPath"],"!":["verbPath"],"(":["verbPath"],IRI_REF:["verbPath"],PNAME_LN:["verbPath"],PNAME_NS:["verbPath"],VAR1:["verbSimple"],VAR2:["verbSimple"]},"or([},[integer,}]])":{"}":["}"],INTEGER:["[integer,}]"]},orderClause:{ORDER:["ORDER","BY","+orderCondition"]},orderCondition:{ASC:["or([ASC,DESC])","brackettedExpression"],DESC:["or([ASC,DESC])","brackettedExpression"],"(":["constraint"],STR:["constraint"],LANG:["constraint"],LANGMATCHES:["constraint"],DATATYPE:["constraint"],BOUND:["constraint"],IRI:["constraint"],URI:["constraint"],BNODE:["constraint"],RAND:["constraint"],ABS:["constraint"],CEIL:["constraint"],FLOOR:["constraint"],ROUND:["constraint"],CONCAT:["constraint"],STRLEN:["constraint"],UCASE:["constraint"],LCASE:["constraint"],ENCODE_FOR_URI:["constraint"],CONTAINS:["constraint"],STRSTARTS:["constraint"],STRENDS:["constraint"],STRBEFORE:["constraint"],STRAFTER:["constraint"],YEAR:["constraint"],MONTH:["constraint"],DAY:["constraint"],HOURS:["constraint"],MINUTES:["constraint"],SECONDS:["constraint"],TIMEZONE:["constraint"],TZ:["constraint"],NOW:["constraint"],UUID:["constraint"],STRUUID:["constraint"],MD5:["constraint"],SHA1:["constraint"],SHA256:["constraint"],SHA384:["constraint"],SHA512:["constraint"],COALESCE:["constraint"],IF:["constraint"],STRLANG:["constraint"],STRDT:["constraint"],SAMETERM:["constraint"],ISIRI:["constraint"],ISURI:["constraint"],ISBLANK:["constraint"],ISLITERAL:["constraint"],ISNUMERIC:["constraint"],SUBSTR:["constraint"],REPLACE:["constraint"],REGEX:["constraint"],EXISTS:["constraint"],NOT:["constraint"],IRI_REF:["constraint"],PNAME_LN:["constraint"],PNAME_NS:["constraint"],VAR1:["var"],VAR2:["var"]},path:{"^":["pathAlternative"],a:["pathAlternative"],"!":["pathAlternative"],"(":["pathAlternative"],IRI_REF:["pathAlternative"],PNAME_LN:["pathAlternative"],PNAME_NS:["pathAlternative"]},pathAlternative:{"^":["pathSequence","*[|,pathSequence]"],a:["pathSequence","*[|,pathSequence]"],"!":["pathSequence","*[|,pathSequence]"],"(":["pathSequence","*[|,pathSequence]"],IRI_REF:["pathSequence","*[|,pathSequence]"],PNAME_LN:["pathSequence","*[|,pathSequence]"],PNAME_NS:["pathSequence","*[|,pathSequence]"]},pathElt:{a:["pathPrimary","?pathMod"],"!":["pathPrimary","?pathMod"],"(":["pathPrimary","?pathMod"],IRI_REF:["pathPrimary","?pathMod"],PNAME_LN:["pathPrimary","?pathMod"],PNAME_NS:["pathPrimary","?pathMod"]},pathEltOrInverse:{a:["pathElt"],"!":["pathElt"],"(":["pathElt"],IRI_REF:["pathElt"],PNAME_LN:["pathElt"],PNAME_NS:["pathElt"],"^":["^","pathElt"]},pathMod:{"*":["*"],"?":["?"],"+":["+"],"{":["{","or([[integer,or([[,,or([},[integer,}]])],}])],[,,integer,}]])"]},pathNegatedPropertySet:{a:["pathOneInPropertySet"],"^":["pathOneInPropertySet"],IRI_REF:["pathOneInPropertySet"],PNAME_LN:["pathOneInPropertySet"],PNAME_NS:["pathOneInPropertySet"],"(":["(","?[pathOneInPropertySet,*[|,pathOneInPropertySet]]",")"]},pathOneInPropertySet:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"],a:["a"],"^":["^","or([iriRef,a])"]},pathPrimary:{IRI_REF:["storeProperty","iriRef"],PNAME_LN:["storeProperty","iriRef"],PNAME_NS:["storeProperty","iriRef"],a:["storeProperty","a"],"!":["!","pathNegatedPropertySet"],"(":["(","path",")"]},pathSequence:{"^":["pathEltOrInverse","*[/,pathEltOrInverse]"],a:["pathEltOrInverse","*[/,pathEltOrInverse]"],"!":["pathEltOrInverse","*[/,pathEltOrInverse]"],"(":["pathEltOrInverse","*[/,pathEltOrInverse]"],IRI_REF:["pathEltOrInverse","*[/,pathEltOrInverse]"],PNAME_LN:["pathEltOrInverse","*[/,pathEltOrInverse]"],PNAME_NS:["pathEltOrInverse","*[/,pathEltOrInverse]"]},prefixDecl:{PREFIX:["PREFIX","PNAME_NS","IRI_REF"]},prefixedName:{PNAME_LN:["PNAME_LN"],PNAME_NS:["PNAME_NS"]},primaryExpression:{"(":["brackettedExpression"],STR:["builtInCall"],LANG:["builtInCall"],LANGMATCHES:["builtInCall"],DATATYPE:["builtInCall"],BOUND:["builtInCall"],IRI:["builtInCall"],URI:["builtInCall"],BNODE:["builtInCall"],RAND:["builtInCall"],ABS:["builtInCall"],CEIL:["builtInCall"],FLOOR:["builtInCall"],ROUND:["builtInCall"],CONCAT:["builtInCall"],STRLEN:["builtInCall"],UCASE:["builtInCall"],LCASE:["builtInCall"],ENCODE_FOR_URI:["builtInCall"],CONTAINS:["builtInCall"],STRSTARTS:["builtInCall"],STRENDS:["builtInCall"],STRBEFORE:["builtInCall"],STRAFTER:["builtInCall"],YEAR:["builtInCall"],MONTH:["builtInCall"],DAY:["builtInCall"],HOURS:["builtInCall"],MINUTES:["builtInCall"],SECONDS:["builtInCall"],TIMEZONE:["builtInCall"],TZ:["builtInCall"],NOW:["builtInCall"],UUID:["builtInCall"],STRUUID:["builtInCall"],MD5:["builtInCall"],SHA1:["builtInCall"],SHA256:["builtInCall"],SHA384:["builtInCall"],SHA512:["builtInCall"],COALESCE:["builtInCall"],IF:["builtInCall"],STRLANG:["builtInCall"],STRDT:["builtInCall"],SAMETERM:["builtInCall"],ISIRI:["builtInCall"],ISURI:["builtInCall"],ISBLANK:["builtInCall"],ISLITERAL:["builtInCall"],ISNUMERIC:["builtInCall"],SUBSTR:["builtInCall"],REPLACE:["builtInCall"],REGEX:["builtInCall"],EXISTS:["builtInCall"],NOT:["builtInCall"],IRI_REF:["iriRefOrFunction"],PNAME_LN:["iriRefOrFunction"],PNAME_NS:["iriRefOrFunction"],STRING_LITERAL1:["rdfLiteral"],STRING_LITERAL2:["rdfLiteral"],STRING_LITERAL_LONG1:["rdfLiteral"],STRING_LITERAL_LONG2:["rdfLiteral"],INTEGER:["numericLiteral"],DECIMAL:["numericLiteral"],DOUBLE:["numericLiteral"],INTEGER_POSITIVE:["numericLiteral"],DECIMAL_POSITIVE:["numericLiteral"],DOUBLE_POSITIVE:["numericLiteral"],INTEGER_NEGATIVE:["numericLiteral"],DECIMAL_NEGATIVE:["numericLiteral"],DOUBLE_NEGATIVE:["numericLiteral"],TRUE:["booleanLiteral"],FALSE:["booleanLiteral"],VAR1:["var"],VAR2:["var"],COUNT:["aggregate"],SUM:["aggregate"],MIN:["aggregate"],MAX:["aggregate"],AVG:["aggregate"],SAMPLE:["aggregate"],GROUP_CONCAT:["aggregate"]},prologue:{BASE:["*or([baseDecl,prefixDecl])"],PREFIX:["*or([baseDecl,prefixDecl])"],$:["*or([baseDecl,prefixDecl])"],CONSTRUCT:["*or([baseDecl,prefixDecl])"],DESCRIBE:["*or([baseDecl,prefixDecl])"],ASK:["*or([baseDecl,prefixDecl])"],INSERT:["*or([baseDecl,prefixDecl])"],DELETE:["*or([baseDecl,prefixDecl])"],SELECT:["*or([baseDecl,prefixDecl])"],LOAD:["*or([baseDecl,prefixDecl])"],CLEAR:["*or([baseDecl,prefixDecl])"],DROP:["*or([baseDecl,prefixDecl])"],ADD:["*or([baseDecl,prefixDecl])"],MOVE:["*or([baseDecl,prefixDecl])"],COPY:["*or([baseDecl,prefixDecl])"],CREATE:["*or([baseDecl,prefixDecl])"],WITH:["*or([baseDecl,prefixDecl])"]},propertyList:{a:["propertyListNotEmpty"],VAR1:["propertyListNotEmpty"],VAR2:["propertyListNotEmpty"],IRI_REF:["propertyListNotEmpty"],PNAME_LN:["propertyListNotEmpty"],PNAME_NS:["propertyListNotEmpty"],".":[],"}":[],GRAPH:[]},propertyListNotEmpty:{a:["verb","objectList","*[;,?[verb,objectList]]"],VAR1:["verb","objectList","*[;,?[verb,objectList]]"],VAR2:["verb","objectList","*[;,?[verb,objectList]]"],IRI_REF:["verb","objectList","*[;,?[verb,objectList]]"],PNAME_LN:["verb","objectList","*[;,?[verb,objectList]]"],PNAME_NS:["verb","objectList","*[;,?[verb,objectList]]"]},propertyListPath:{a:["propertyListNotEmpty"],VAR1:["propertyListNotEmpty"],VAR2:["propertyListNotEmpty"],IRI_REF:["propertyListNotEmpty"],PNAME_LN:["propertyListNotEmpty"],PNAME_NS:["propertyListNotEmpty"],".":[],"{":[],OPTIONAL:[],MINUS:[],GRAPH:[],SERVICE:[],FILTER:[],BIND:[],VALUES:[],"}":[]},propertyListPathNotEmpty:{VAR1:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],VAR2:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"^":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],a:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"!":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],"(":["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],IRI_REF:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],PNAME_LN:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"],PNAME_NS:["or([verbPath,verbSimple])","objectListPath","*[;,?[or([verbPath,verbSimple]),objectList]]"]},quadData:{"{":["{","disallowVars","quads","allowVars","}"]},quadDataNoBnodes:{"{":["{","disallowBnodes","disallowVars","quads","allowVars","allowBnodes","}"]},quadPattern:{"{":["{","quads","}"]},quadPatternNoBnodes:{"{":["{","disallowBnodes","quads","allowBnodes","}"]},quads:{GRAPH:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],VAR1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],VAR2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],NIL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"(":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"[":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],IRI_REF:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],TRUE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],FALSE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],BLANK_NODE_LABEL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],ANON:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],PNAME_LN:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],PNAME_NS:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL_LONG1:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],STRING_LITERAL_LONG2:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE_POSITIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],INTEGER_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DECIMAL_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],DOUBLE_NEGATIVE:["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"],"}":["?triplesTemplate","*[quadsNotTriples,?.,?triplesTemplate]"]},quadsNotTriples:{GRAPH:["GRAPH","varOrIRIref","{","?triplesTemplate","}"]},queryAll:{CONSTRUCT:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],DESCRIBE:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],ASK:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"],SELECT:["or([selectQuery,constructQuery,describeQuery,askQuery])","valuesClause"]},rdfLiteral:{STRING_LITERAL1:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL2:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL_LONG1:["string","?or([LANGTAG,[^^,iriRef]])"],STRING_LITERAL_LONG2:["string","?or([LANGTAG,[^^,iriRef]])"]},regexExpression:{REGEX:["REGEX","(","expression",",","expression","?[,,expression]",")"]},relationalExpression:{"!":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"+":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"-":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],VAR1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],VAR2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],"(":["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LANG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LANGMATCHES:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DATATYPE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],BOUND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IRI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],URI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],BNODE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],RAND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ABS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CEIL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],FLOOR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ROUND:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CONCAT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRLEN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],UCASE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],LCASE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ENCODE_FOR_URI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],CONTAINS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRSTARTS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRENDS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRBEFORE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRAFTER:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],YEAR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MONTH:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DAY:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],HOURS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MINUTES:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SECONDS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TIMEZONE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TZ:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOW:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],UUID:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRUUID:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MD5:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA256:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA384:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SHA512:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],COALESCE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IF:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRLANG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRDT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SAMETERM:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISIRI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISURI:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISBLANK:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISLITERAL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],ISNUMERIC:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],TRUE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],FALSE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],COUNT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SUM:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MIN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],MAX:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],AVG:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SAMPLE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],GROUP_CONCAT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],SUBSTR:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],REPLACE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],REGEX:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],EXISTS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],NOT:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],IRI_REF:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL_LONG1:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],STRING_LITERAL_LONG2:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],
DECIMAL:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DECIMAL_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE_POSITIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],INTEGER_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DECIMAL_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],DOUBLE_NEGATIVE:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],PNAME_LN:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"],PNAME_NS:["numericExpression","?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])"]},selectClause:{SELECT:["SELECT","?or([DISTINCT,REDUCED])","or([+or([var,[(,expression,AS,var,)]]),*])"]},selectQuery:{SELECT:["selectClause","*datasetClause","whereClause","solutionModifier"]},serviceGraphPattern:{SERVICE:["SERVICE","?SILENT","varOrIRIref","groupGraphPattern"]},solutionModifier:{LIMIT:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],OFFSET:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],ORDER:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],HAVING:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],GROUP:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],VALUES:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],$:["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"],"}":["?groupClause","?havingClause","?orderClause","?limitOffsetClauses"]},sourceSelector:{IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"]},sparql11:{$:["prologue","or([queryAll,updateAll])","$"],CONSTRUCT:["prologue","or([queryAll,updateAll])","$"],DESCRIBE:["prologue","or([queryAll,updateAll])","$"],ASK:["prologue","or([queryAll,updateAll])","$"],INSERT:["prologue","or([queryAll,updateAll])","$"],DELETE:["prologue","or([queryAll,updateAll])","$"],SELECT:["prologue","or([queryAll,updateAll])","$"],LOAD:["prologue","or([queryAll,updateAll])","$"],CLEAR:["prologue","or([queryAll,updateAll])","$"],DROP:["prologue","or([queryAll,updateAll])","$"],ADD:["prologue","or([queryAll,updateAll])","$"],MOVE:["prologue","or([queryAll,updateAll])","$"],COPY:["prologue","or([queryAll,updateAll])","$"],CREATE:["prologue","or([queryAll,updateAll])","$"],WITH:["prologue","or([queryAll,updateAll])","$"],BASE:["prologue","or([queryAll,updateAll])","$"],PREFIX:["prologue","or([queryAll,updateAll])","$"]},storeProperty:{VAR1:[],VAR2:[],IRI_REF:[],PNAME_LN:[],PNAME_NS:[],a:[]},strReplaceExpression:{REPLACE:["REPLACE","(","expression",",","expression",",","expression","?[,,expression]",")"]},string:{STRING_LITERAL1:["STRING_LITERAL1"],STRING_LITERAL2:["STRING_LITERAL2"],STRING_LITERAL_LONG1:["STRING_LITERAL_LONG1"],STRING_LITERAL_LONG2:["STRING_LITERAL_LONG2"]},subSelect:{SELECT:["selectClause","whereClause","solutionModifier","valuesClause"]},substringExpression:{SUBSTR:["SUBSTR","(","expression",",","expression","?[,,expression]",")"]},triplesBlock:{VAR1:["triplesSameSubjectPath","?[.,?triplesBlock]"],VAR2:["triplesSameSubjectPath","?[.,?triplesBlock]"],NIL:["triplesSameSubjectPath","?[.,?triplesBlock]"],"(":["triplesSameSubjectPath","?[.,?triplesBlock]"],"[":["triplesSameSubjectPath","?[.,?triplesBlock]"],IRI_REF:["triplesSameSubjectPath","?[.,?triplesBlock]"],TRUE:["triplesSameSubjectPath","?[.,?triplesBlock]"],FALSE:["triplesSameSubjectPath","?[.,?triplesBlock]"],BLANK_NODE_LABEL:["triplesSameSubjectPath","?[.,?triplesBlock]"],ANON:["triplesSameSubjectPath","?[.,?triplesBlock]"],PNAME_LN:["triplesSameSubjectPath","?[.,?triplesBlock]"],PNAME_NS:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL1:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL2:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL_LONG1:["triplesSameSubjectPath","?[.,?triplesBlock]"],STRING_LITERAL_LONG2:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE_POSITIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],INTEGER_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DECIMAL_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"],DOUBLE_NEGATIVE:["triplesSameSubjectPath","?[.,?triplesBlock]"]},triplesNode:{"(":["collection"],"[":["blankNodePropertyList"]},triplesNodePath:{"(":["collectionPath"],"[":["blankNodePropertyListPath"]},triplesSameSubject:{VAR1:["varOrTerm","propertyListNotEmpty"],VAR2:["varOrTerm","propertyListNotEmpty"],NIL:["varOrTerm","propertyListNotEmpty"],IRI_REF:["varOrTerm","propertyListNotEmpty"],TRUE:["varOrTerm","propertyListNotEmpty"],FALSE:["varOrTerm","propertyListNotEmpty"],BLANK_NODE_LABEL:["varOrTerm","propertyListNotEmpty"],ANON:["varOrTerm","propertyListNotEmpty"],PNAME_LN:["varOrTerm","propertyListNotEmpty"],PNAME_NS:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL1:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL2:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL_LONG1:["varOrTerm","propertyListNotEmpty"],STRING_LITERAL_LONG2:["varOrTerm","propertyListNotEmpty"],INTEGER:["varOrTerm","propertyListNotEmpty"],DECIMAL:["varOrTerm","propertyListNotEmpty"],DOUBLE:["varOrTerm","propertyListNotEmpty"],INTEGER_POSITIVE:["varOrTerm","propertyListNotEmpty"],DECIMAL_POSITIVE:["varOrTerm","propertyListNotEmpty"],DOUBLE_POSITIVE:["varOrTerm","propertyListNotEmpty"],INTEGER_NEGATIVE:["varOrTerm","propertyListNotEmpty"],DECIMAL_NEGATIVE:["varOrTerm","propertyListNotEmpty"],DOUBLE_NEGATIVE:["varOrTerm","propertyListNotEmpty"],"(":["triplesNode","propertyList"],"[":["triplesNode","propertyList"]},triplesSameSubjectPath:{VAR1:["varOrTerm","propertyListPathNotEmpty"],VAR2:["varOrTerm","propertyListPathNotEmpty"],NIL:["varOrTerm","propertyListPathNotEmpty"],IRI_REF:["varOrTerm","propertyListPathNotEmpty"],TRUE:["varOrTerm","propertyListPathNotEmpty"],FALSE:["varOrTerm","propertyListPathNotEmpty"],BLANK_NODE_LABEL:["varOrTerm","propertyListPathNotEmpty"],ANON:["varOrTerm","propertyListPathNotEmpty"],PNAME_LN:["varOrTerm","propertyListPathNotEmpty"],PNAME_NS:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL1:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL2:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL_LONG1:["varOrTerm","propertyListPathNotEmpty"],STRING_LITERAL_LONG2:["varOrTerm","propertyListPathNotEmpty"],INTEGER:["varOrTerm","propertyListPathNotEmpty"],DECIMAL:["varOrTerm","propertyListPathNotEmpty"],DOUBLE:["varOrTerm","propertyListPathNotEmpty"],INTEGER_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],DECIMAL_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],DOUBLE_POSITIVE:["varOrTerm","propertyListPathNotEmpty"],INTEGER_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],DECIMAL_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],DOUBLE_NEGATIVE:["varOrTerm","propertyListPathNotEmpty"],"(":["triplesNodePath","propertyListPath"],"[":["triplesNodePath","propertyListPath"]},triplesTemplate:{VAR1:["triplesSameSubject","?[.,?triplesTemplate]"],VAR2:["triplesSameSubject","?[.,?triplesTemplate]"],NIL:["triplesSameSubject","?[.,?triplesTemplate]"],"(":["triplesSameSubject","?[.,?triplesTemplate]"],"[":["triplesSameSubject","?[.,?triplesTemplate]"],IRI_REF:["triplesSameSubject","?[.,?triplesTemplate]"],TRUE:["triplesSameSubject","?[.,?triplesTemplate]"],FALSE:["triplesSameSubject","?[.,?triplesTemplate]"],BLANK_NODE_LABEL:["triplesSameSubject","?[.,?triplesTemplate]"],ANON:["triplesSameSubject","?[.,?triplesTemplate]"],PNAME_LN:["triplesSameSubject","?[.,?triplesTemplate]"],PNAME_NS:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL1:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL2:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL_LONG1:["triplesSameSubject","?[.,?triplesTemplate]"],STRING_LITERAL_LONG2:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE_POSITIVE:["triplesSameSubject","?[.,?triplesTemplate]"],INTEGER_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DECIMAL_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"],DOUBLE_NEGATIVE:["triplesSameSubject","?[.,?triplesTemplate]"]},unaryExpression:{"!":["!","primaryExpression"],"+":["+","primaryExpression"],"-":["-","primaryExpression"],VAR1:["primaryExpression"],VAR2:["primaryExpression"],"(":["primaryExpression"],STR:["primaryExpression"],LANG:["primaryExpression"],LANGMATCHES:["primaryExpression"],DATATYPE:["primaryExpression"],BOUND:["primaryExpression"],IRI:["primaryExpression"],URI:["primaryExpression"],BNODE:["primaryExpression"],RAND:["primaryExpression"],ABS:["primaryExpression"],CEIL:["primaryExpression"],FLOOR:["primaryExpression"],ROUND:["primaryExpression"],CONCAT:["primaryExpression"],STRLEN:["primaryExpression"],UCASE:["primaryExpression"],LCASE:["primaryExpression"],ENCODE_FOR_URI:["primaryExpression"],CONTAINS:["primaryExpression"],STRSTARTS:["primaryExpression"],STRENDS:["primaryExpression"],STRBEFORE:["primaryExpression"],STRAFTER:["primaryExpression"],YEAR:["primaryExpression"],MONTH:["primaryExpression"],DAY:["primaryExpression"],HOURS:["primaryExpression"],MINUTES:["primaryExpression"],SECONDS:["primaryExpression"],TIMEZONE:["primaryExpression"],TZ:["primaryExpression"],NOW:["primaryExpression"],UUID:["primaryExpression"],STRUUID:["primaryExpression"],MD5:["primaryExpression"],SHA1:["primaryExpression"],SHA256:["primaryExpression"],SHA384:["primaryExpression"],SHA512:["primaryExpression"],COALESCE:["primaryExpression"],IF:["primaryExpression"],STRLANG:["primaryExpression"],STRDT:["primaryExpression"],SAMETERM:["primaryExpression"],ISIRI:["primaryExpression"],ISURI:["primaryExpression"],ISBLANK:["primaryExpression"],ISLITERAL:["primaryExpression"],ISNUMERIC:["primaryExpression"],TRUE:["primaryExpression"],FALSE:["primaryExpression"],COUNT:["primaryExpression"],SUM:["primaryExpression"],MIN:["primaryExpression"],MAX:["primaryExpression"],AVG:["primaryExpression"],SAMPLE:["primaryExpression"],GROUP_CONCAT:["primaryExpression"],SUBSTR:["primaryExpression"],REPLACE:["primaryExpression"],REGEX:["primaryExpression"],EXISTS:["primaryExpression"],NOT:["primaryExpression"],IRI_REF:["primaryExpression"],STRING_LITERAL1:["primaryExpression"],STRING_LITERAL2:["primaryExpression"],STRING_LITERAL_LONG1:["primaryExpression"],STRING_LITERAL_LONG2:["primaryExpression"],INTEGER:["primaryExpression"],DECIMAL:["primaryExpression"],DOUBLE:["primaryExpression"],INTEGER_POSITIVE:["primaryExpression"],DECIMAL_POSITIVE:["primaryExpression"],DOUBLE_POSITIVE:["primaryExpression"],INTEGER_NEGATIVE:["primaryExpression"],DECIMAL_NEGATIVE:["primaryExpression"],DOUBLE_NEGATIVE:["primaryExpression"],PNAME_LN:["primaryExpression"],PNAME_NS:["primaryExpression"]},update:{INSERT:["prologue","?[update1,?[;,update]]"],DELETE:["prologue","?[update1,?[;,update]]"],LOAD:["prologue","?[update1,?[;,update]]"],CLEAR:["prologue","?[update1,?[;,update]]"],DROP:["prologue","?[update1,?[;,update]]"],ADD:["prologue","?[update1,?[;,update]]"],MOVE:["prologue","?[update1,?[;,update]]"],COPY:["prologue","?[update1,?[;,update]]"],CREATE:["prologue","?[update1,?[;,update]]"],WITH:["prologue","?[update1,?[;,update]]"],BASE:["prologue","?[update1,?[;,update]]"],PREFIX:["prologue","?[update1,?[;,update]]"],$:["prologue","?[update1,?[;,update]]"]},update1:{LOAD:["load"],CLEAR:["clear"],DROP:["drop"],ADD:["add"],MOVE:["move"],COPY:["copy"],CREATE:["create"],INSERT:["INSERT","insert1"],DELETE:["DELETE","delete1"],WITH:["modify"]},updateAll:{INSERT:["?[update1,?[;,update]]"],DELETE:["?[update1,?[;,update]]"],LOAD:["?[update1,?[;,update]]"],CLEAR:["?[update1,?[;,update]]"],DROP:["?[update1,?[;,update]]"],ADD:["?[update1,?[;,update]]"],MOVE:["?[update1,?[;,update]]"],COPY:["?[update1,?[;,update]]"],CREATE:["?[update1,?[;,update]]"],WITH:["?[update1,?[;,update]]"],$:["?[update1,?[;,update]]"]},usingClause:{USING:["USING","or([iriRef,[NAMED,iriRef]])"]},valueLogical:{"!":["relationalExpression"],"+":["relationalExpression"],"-":["relationalExpression"],VAR1:["relationalExpression"],VAR2:["relationalExpression"],"(":["relationalExpression"],STR:["relationalExpression"],LANG:["relationalExpression"],LANGMATCHES:["relationalExpression"],DATATYPE:["relationalExpression"],BOUND:["relationalExpression"],IRI:["relationalExpression"],URI:["relationalExpression"],BNODE:["relationalExpression"],RAND:["relationalExpression"],ABS:["relationalExpression"],CEIL:["relationalExpression"],FLOOR:["relationalExpression"],ROUND:["relationalExpression"],CONCAT:["relationalExpression"],STRLEN:["relationalExpression"],UCASE:["relationalExpression"],LCASE:["relationalExpression"],ENCODE_FOR_URI:["relationalExpression"],CONTAINS:["relationalExpression"],STRSTARTS:["relationalExpression"],STRENDS:["relationalExpression"],STRBEFORE:["relationalExpression"],STRAFTER:["relationalExpression"],YEAR:["relationalExpression"],MONTH:["relationalExpression"],DAY:["relationalExpression"],HOURS:["relationalExpression"],MINUTES:["relationalExpression"],SECONDS:["relationalExpression"],TIMEZONE:["relationalExpression"],TZ:["relationalExpression"],NOW:["relationalExpression"],UUID:["relationalExpression"],STRUUID:["relationalExpression"],MD5:["relationalExpression"],SHA1:["relationalExpression"],SHA256:["relationalExpression"],SHA384:["relationalExpression"],SHA512:["relationalExpression"],COALESCE:["relationalExpression"],IF:["relationalExpression"],STRLANG:["relationalExpression"],STRDT:["relationalExpression"],SAMETERM:["relationalExpression"],ISIRI:["relationalExpression"],ISURI:["relationalExpression"],ISBLANK:["relationalExpression"],ISLITERAL:["relationalExpression"],ISNUMERIC:["relationalExpression"],TRUE:["relationalExpression"],FALSE:["relationalExpression"],COUNT:["relationalExpression"],SUM:["relationalExpression"],MIN:["relationalExpression"],MAX:["relationalExpression"],AVG:["relationalExpression"],SAMPLE:["relationalExpression"],GROUP_CONCAT:["relationalExpression"],SUBSTR:["relationalExpression"],REPLACE:["relationalExpression"],REGEX:["relationalExpression"],EXISTS:["relationalExpression"],NOT:["relationalExpression"],IRI_REF:["relationalExpression"],STRING_LITERAL1:["relationalExpression"],STRING_LITERAL2:["relationalExpression"],STRING_LITERAL_LONG1:["relationalExpression"],STRING_LITERAL_LONG2:["relationalExpression"],INTEGER:["relationalExpression"],DECIMAL:["relationalExpression"],DOUBLE:["relationalExpression"],INTEGER_POSITIVE:["relationalExpression"],DECIMAL_POSITIVE:["relationalExpression"],DOUBLE_POSITIVE:["relationalExpression"],INTEGER_NEGATIVE:["relationalExpression"],DECIMAL_NEGATIVE:["relationalExpression"],DOUBLE_NEGATIVE:["relationalExpression"],PNAME_LN:["relationalExpression"],PNAME_NS:["relationalExpression"]},valuesClause:{VALUES:["VALUES","dataBlock"],$:[],"}":[]},"var":{VAR1:["VAR1"],VAR2:["VAR2"]},varOrIRIref:{VAR1:["var"],VAR2:["var"],IRI_REF:["iriRef"],PNAME_LN:["iriRef"],PNAME_NS:["iriRef"]},varOrTerm:{VAR1:["var"],VAR2:["var"],NIL:["graphTerm"],IRI_REF:["graphTerm"],TRUE:["graphTerm"],FALSE:["graphTerm"],BLANK_NODE_LABEL:["graphTerm"],ANON:["graphTerm"],PNAME_LN:["graphTerm"],PNAME_NS:["graphTerm"],STRING_LITERAL1:["graphTerm"],STRING_LITERAL2:["graphTerm"],STRING_LITERAL_LONG1:["graphTerm"],STRING_LITERAL_LONG2:["graphTerm"],INTEGER:["graphTerm"],DECIMAL:["graphTerm"],DOUBLE:["graphTerm"],INTEGER_POSITIVE:["graphTerm"],DECIMAL_POSITIVE:["graphTerm"],DOUBLE_POSITIVE:["graphTerm"],INTEGER_NEGATIVE:["graphTerm"],DECIMAL_NEGATIVE:["graphTerm"],DOUBLE_NEGATIVE:["graphTerm"]},verb:{VAR1:["storeProperty","varOrIRIref"],VAR2:["storeProperty","varOrIRIref"],IRI_REF:["storeProperty","varOrIRIref"],PNAME_LN:["storeProperty","varOrIRIref"],PNAME_NS:["storeProperty","varOrIRIref"],a:["storeProperty","a"]},verbPath:{"^":["path"],a:["path"],"!":["path"],"(":["path"],IRI_REF:["path"],PNAME_LN:["path"],PNAME_NS:["path"]},verbSimple:{VAR1:["var"],VAR2:["var"]},whereClause:{"{":["?WHERE","groupGraphPattern"],WHERE:["?WHERE","groupGraphPattern"]}},keywords:/^(GROUP_CONCAT|DATATYPE|BASE|PREFIX|SELECT|CONSTRUCT|DESCRIBE|ASK|FROM|NAMED|ORDER|BY|LIMIT|ASC|DESC|OFFSET|DISTINCT|REDUCED|WHERE|GRAPH|OPTIONAL|UNION|FILTER|GROUP|HAVING|AS|VALUES|LOAD|CLEAR|DROP|CREATE|MOVE|COPY|SILENT|INSERT|DELETE|DATA|WITH|TO|USING|NAMED|MINUS|BIND|LANGMATCHES|LANG|BOUND|SAMETERM|ISIRI|ISURI|ISBLANK|ISLITERAL|REGEX|TRUE|FALSE|UNDEF|ADD|DEFAULT|ALL|SERVICE|INTO|IN|NOT|IRI|URI|BNODE|RAND|ABS|CEIL|FLOOR|ROUND|CONCAT|STRLEN|UCASE|LCASE|ENCODE_FOR_URI|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|NOW|UUID|STRUUID|MD5|SHA1|SHA256|SHA384|SHA512|COALESCE|IF|STRLANG|STRDT|ISNUMERIC|SUBSTR|REPLACE|EXISTS|COUNT|SUM|MIN|MAX|AVG|SAMPLE|SEPARATOR|STR)/i,punct:/^(\*|a|\.|\{|\}|,|\(|\)|;|\[|\]|\|\||&&|=|!=|!|<=|>=|<|>|\+|-|\/|\^\^|\?|\||\^)/,startSymbol:"sparql11",acceptEmpty:!0}},{}],260:[function(e,t,n){"use strict";var i=e("codemirror");i.defineMode("sparql11",function(t,n){function i(e){var t=[],n=a[e];if(void 0!=n)for(var i in n)t.push(i.toString());else t.push(e);return t}function r(e,t){function n(){var n=null;if(t.inLiteral){var i=!1;n=e.match(G[t.inLiteral].contents.regex,!0,!1);if(n&&0==n[0].length){n=e.match(G[t.inLiteral].closing.regex,!0,!1);i=!0}if(n&&n[0].length>0){var r={quotePos:i?"end":"content",cat:U[t.inLiteral].CAT,style:G[t.inLiteral].complete.style,text:n[0],start:e.start};i&&(t.inLiteral=!1);return r}}for(var o in G){n=e.match(G[o].quotes.regex,!0,!1);if(n){var a;if(t.inLiteral){t.inLiteral=!1;a="end"}else{t.inLiteral=o;a="start"}return{cat:U[o].CAT,style:G[o].quotes.style,text:n[0],quotePos:a,start:e.start}}}for(var l=0;l<Z.length;++l){n=e.match(Z[l].regex,!0,!1);if(n)return{cat:Z[l].name,style:Z[l].style,text:n[0],start:e.start}}n=e.match(s.keywords,!0,!1);if(n)return{cat:e.current().toUpperCase(),style:"keyword",text:n[0],start:e.start};n=e.match(s.punct,!0,!1);if(n)return{cat:e.current(),style:"punc",text:n[0],start:e.start};n=e.match(/^.[A-Za-z0-9]*/,!0,!1);return{cat:"<invalid_token>",style:"error",text:n[0],start:e.start}}function r(){var n=e.column();t.errorStartPos=n;t.errorEndPos=n+c.text.length}function o(e){null==t.queryType&&("SELECT"!=e&&"CONSTRUCT"!=e&&"ASK"!=e&&"DESCRIBE"!=e&&"INSERT"!=e&&"DELETE"!=e&&"LOAD"!=e&&"CLEAR"!=e&&"CREATE"!=e&&"DROP"!=e&&"COPY"!=e&&"MOVE"!=e&&"ADD"!=e||(t.queryType=e))}function l(e){"prefixDecl"===e?t.inPrefixDecl=!0:t.inPrefixDecl=!1;switch(e){case"disallowVars":t.allowVars=!1;break;case"allowVars":t.allowVars=!0;break;case"disallowBnodes":t.allowBnodes=!1;break;case"allowBnodes":t.allowBnodes=!0;break;case"storeProperty":t.storeProperty=!0}}function u(e){return(t.allowVars||"var"!=e)&&(t.allowBnodes||"blankNode"!=e&&"blankNodePropertyList"!=e&&"blankNodePropertyListPath"!=e)}0==e.pos&&(t.possibleCurrent=t.possibleNext);var c=n();if("<invalid_token>"==c.cat){if(1==t.OK){t.OK=!1;r()}t.complete=!1;return c.style}if("WS"==c.cat||"COMMENT"==c.cat||c.quotePos&&"end"!=c.quotePos){t.possibleCurrent=t.possibleNext;return c.style}var f,p=!1,h=c.cat;if(!c.quotePos||"end"==c.quotePos)for(;t.stack.length>0&&h&&t.OK&&!p;){f=t.stack.pop();"var"===f&&c.text&&(t.variables[c.text]=c.text);if(a[f]){var d=a[f][h];if(void 0!=d&&u(f)){for(var g=d.length-1;g>=0;--g)t.stack.push(d[g]);l(f)}else{t.OK=!1;t.complete=!1;r();t.stack.push(f)}}else if(f==h){if(t.inPrefixDecl)if("PNAME_NS"===f&&c.text.length>0)t.currentPnameNs=c.text.slice(0,-1);else if(void 0!==t.currentPnameNs&&c.text.length>2){t.prefixes[t.currentPnameNs]=c.text.slice(1,-1);t.currentPnameNs=void 0}p=!0;o(f);for(var m=!0,v=t.stack.length;v>0;--v){var y=a[t.stack[v-1]];y&&y.$||(m=!1)}t.complete=m;if(t.storeProperty&&"punc"!=h.cat){t.lastProperty=c.text;t.storeProperty=!1}if(!t.inPrefixDecl&&("PNAME_NS"===h||"PNAME_LN"===h)){var b=c.text.indexOf(":");if(b>=0){var x=c.text.slice(0,b);if(!t.prefixes[x]&&["bif","xsd","sql"].indexOf(x)<0){t.OK=!1;r();t.errorMsg="Prefix '"+x+"' is not defined"}}}}else{t.OK=!1;t.complete=!1;r()}}if(!p&&t.OK){t.OK=!1;t.complete=!1;r()}t.possibleCurrent.indexOf("a")>=0&&(t.lastPredicateOffset=c.start);t.possibleCurrent=t.possibleNext;t.possibleNext=i(t.stack[t.stack.length-1]);return c.style}function o(e,n){if(e.inLiteral)return 0;if(e.stack.length&&"?[or([verbPath,verbSimple]),objectList]"==e.stack[e.stack.length-1])return e.lastPredicateOffset;var i=0,r=e.stack.length-1;if(/^[\}\]\)]/.test(n)){for(var o=n.substr(0,1);r>=0;--r)if(e.stack[r]==o){--r;break}}else{var s=$[e.stack[r]];if(s){i+=s;--r}}for(;r>=0;--r){var s=K[e.stack[r]];s&&(i+=s)}return i*t.indentUnit}var s=(t.indentUnit,e("./_tokenizer-table.js")),a=s.table,l='<[^<>"`|{}^\\\0- ]*>',u="[A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]",c=u+"|_",f="("+c+"|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])",p="("+c+"|[0-9])("+c+"|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])*",h="\\?"+p,d="\\$"+p,g="("+u+")((("+f+")|\\.)*("+f+"))?",m="[0-9A-Fa-f]",v="(%"+m+m+")",y="(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%])",b="("+v+"|"+y+")",x="("+c+"|:|[0-9]|"+b+")(("+f+"|\\.|:|"+b+")*("+f+"|:|"+b+"))?",_="_:("+c+"|[0-9])(("+f+"|\\.)*"+f+")?",E="("+g+")?:",w=E+x,T="@[a-zA-Z]+(-[a-zA-Z0-9]+)*",S="[eE][\\+-]?[0-9]+",C="[0-9]+",L="(([0-9]+\\.[0-9]*)|(\\.[0-9]+))",N="(([0-9]+\\.[0-9]*"+S+")|(\\.[0-9]+"+S+")|([0-9]+"+S+"))",I="\\+"+C,A="\\+"+L,R="\\+"+N,O="-"+C,P="-"+L,k="-"+N,M="\\\\[tbnrf\\\\\"']",D=m+"{4}",j="(\\\\u"+D+"|\\\\U00(10|0"+m+")"+D+")",B="'(([^\\x27\\x5C\\x0A\\x0D])|"+M+"|"+j+")*'",q='"(([^\\x22\\x5C\\x0A\\x0D])|'+M+"|"+j+')*"',U={SINGLE:{CAT:"STRING_LITERAL_LONG1",QUOTES:"'''",CONTENTS:"(('|'')?([^'\\\\]|"+M+"|"+j+"))*"},DOUBLE:{CAT:"STRING_LITERAL_LONG2",QUOTES:'"""',CONTENTS:'(("|"")?([^"\\\\]|'+M+"|"+j+"))*"}};for(var F in U)U[F].COMPLETE=U[F].QUOTES+U[F].CONTENTS+U[F].QUOTES;var G={};for(var F in U)G[F]={complete:{name:"STRING_LITERAL_LONG_"+F,regex:new RegExp("^"+U[F].COMPLETE),style:"string"},contents:{name:"STRING_LITERAL_LONG_"+F,regex:new RegExp("^"+U[F].CONTENTS),style:"string"},closing:{name:"STRING_LITERAL_LONG_"+F,regex:new RegExp("^"+U[F].CONTENTS+U[F].QUOTES),style:"string"},quotes:{name:"STRING_LITERAL_LONG_QUOTES_"+F,regex:new RegExp("^"+U[F].QUOTES),style:"string"}};var z="[\\x20\\x09\\x0D\\x0A]",H="#([^\\n\\r]*[\\n\\r]|[^\\n\\r]*$)",V="("+z+"|("+H+"))*",W="\\("+V+"\\)",Y="\\["+V+"\\]",Z=[{name:"WS",regex:new RegExp("^"+z+"+"),style:"ws"},{name:"COMMENT",regex:new RegExp("^"+H),style:"comment"},{name:"IRI_REF",regex:new RegExp("^"+l),style:"variable-3"},{name:"VAR1",regex:new RegExp("^"+h),style:"atom"},{name:"VAR2",regex:new RegExp("^"+d),style:"atom"},{name:"LANGTAG",regex:new RegExp("^"+T),style:"meta"},{name:"DOUBLE",regex:new RegExp("^"+N),style:"number"},{name:"DECIMAL",regex:new RegExp("^"+L),style:"number"},{name:"INTEGER",regex:new RegExp("^"+C),style:"number"},{name:"DOUBLE_POSITIVE",regex:new RegExp("^"+R),style:"number"},{name:"DECIMAL_POSITIVE",regex:new RegExp("^"+A),style:"number"},{name:"INTEGER_POSITIVE",regex:new RegExp("^"+I),style:"number"},{name:"DOUBLE_NEGATIVE",regex:new RegExp("^"+k),style:"number"},{name:"DECIMAL_NEGATIVE",regex:new RegExp("^"+P),style:"number"},{name:"INTEGER_NEGATIVE",regex:new RegExp("^"+O),style:"number"},{name:"STRING_LITERAL1",regex:new RegExp("^"+B),style:"string"},{name:"STRING_LITERAL2",regex:new RegExp("^"+q),style:"string"},{name:"NIL",regex:new RegExp("^"+W),style:"punc"},{name:"ANON",regex:new RegExp("^"+Y),style:"punc"},{name:"PNAME_LN",regex:new RegExp("^"+w),style:"string-2"},{name:"PNAME_NS",regex:new RegExp("^"+E),style:"string-2"},{name:"BLANK_NODE_LABEL",regex:new RegExp("^"+_),style:"string-2"}],$={"*[,, object]":3,"*[(,),object]":3,"*[(,),objectPath]":3,"*[/,pathEltOrInverse]":2,object:2,objectPath:2,objectList:2,objectListPath:2,storeProperty:2,pathMod:2,"?pathMod":2,propertyListNotEmpty:1,propertyList:1,propertyListPath:1,propertyListPathNotEmpty:1,"?[verb,objectList]":1},K={"}":1,"]":1,")":1,"{":-1,"(":-1,"[":-1};return{token:r,startState:function(e){return{tokenize:r,OK:!0,complete:s.acceptEmpty,errorStartPos:null,errorEndPos:null,queryType:null,possibleCurrent:i(s.startSymbol),possibleNext:i(s.startSymbol),allowVars:!0,allowBnodes:!0,storeProperty:!1,lastProperty:"",inLiteral:!1,stack:[s.startSymbol],lastPredicateOffset:t.indentUnit,prefixes:{},variables:{}}},indent:o,electricChars:"}])"}});i.defineMIME("application/x-sparql-query","sparql11")},{"./_tokenizer-table.js":259,codemirror:17}],261:[function(e,t,n){var i=t.exports=function(){this.words=0;this.prefixes=0;this.children=[]};i.prototype={insert:function(e,t){if(0!=e.length){var n,r,o=this;void 0===t&&(t=0);if(t!==e.length){o.prefixes++;n=e[t];void 0===o.children[n]&&(o.children[n]=new i);r=o.children[n];r.insert(e,t+1)}else o.words++}},remove:function(e,t){if(0!=e.length){var n,i,r=this;void 0===t&&(t=0);if(void 0!==r)if(t!==e.length){r.prefixes--;n=e[t];i=r.children[n];i.remove(e,t+1)}else r.words--}},update:function(e,t){if(0!=e.length&&0!=t.length){this.remove(e);this.insert(t)}},countWord:function(e,t){if(0==e.length)return 0;var n,i,r=this,o=0;void 0===t&&(t=0);if(t===e.length)return r.words;n=e[t];i=r.children[n];void 0!==i&&(o=i.countWord(e,t+1));return o},countPrefix:function(e,t){if(0==e.length)return 0;var n,i,r=this,o=0;void 0===t&&(t=0);if(t===e.length)return r.prefixes;var n=e[t];i=r.children[n];void 0!==i&&(o=i.countPrefix(e,t+1));return o},find:function(e){return 0!=e.length&&this.countWord(e)>0},getAllWords:function(e){var t,n,i=this,r=[];void 0===e&&(e="");if(void 0===i)return[];i.words>0&&r.push(e);for(t in i.children)if(i.children.hasOwnProperty(t)){n=i.children[t];r=r.concat(n.getAllWords(e+t))}return r},autoComplete:function(e,t){var n,i,r=this;if(0==e.length)return void 0===t?r.getAllWords(e):[];void 0===t&&(t=0);n=e[t];i=r.children[n];return void 0===i?[]:t===e.length-1?i.getAllWords(e):i.autoComplete(e,t+1)}}},{}],262:[function(e,t,n){t.exports={_from:"yasgui-yasqe@2.11.22",_id:"yasgui-yasqe@2.11.22",_inBundle:!1,_integrity:"sha512-8yNcjune6ONTJXJ2s6bZhRXBxyvuNErXjNAIQCbVyQbnG1feZBTR1SPjTKxkFWaCB/f0f19hmJPtcOkLOcOjUw==",_location:"/yasgui-yasqe",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"yasgui-yasqe@2.11.22",name:"yasgui-yasqe",escapedName:"yasgui-yasqe",rawSpec:"2.11.22",saveSpec:null,fetchSpec:"2.11.22"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/yasgui-yasqe/-/yasgui-yasqe-2.11.22.tgz",_shasum:"6da6cc234157924e986cc566f319b09519edd5f3",_spec:"yasgui-yasqe@2.11.22",_where:"/home/lrd900/yasgui/yasgui.opentriply",author:{name:"Laurens Rietveld"},bugs:{url:"https://github.com/YASGUI/YASQE/issues/"},bundleDependencies:!1,dependencies:{codemirror:"5.17.0",jquery:"^2.2.4",prettier:"^1.4.4","yasgui-utils":"^1.6.7"},deprecated:!1,description:"Yet Another SPARQL Query Editor",devDependencies:{"bootstrap-sass":"^3.3.7",browserify:"^13.1.0","browserify-shim":"^3.8.12","browserify-transform-tools":"^1.6.0",exorcist:"^0.4.0",gulp:"^3.9.1","gulp-autoprefixer":"^3.1.0","gulp-bump":"^2.2.0","gulp-concat":"^2.6.0","gulp-connect":"^4.2.0","gulp-cssimport":"^3.1.0","gulp-cssnano":"^2.1.2","gulp-embedlr":"^0.5.2","gulp-filter":"^4.0.0","gulp-git":"^2.4.1","gulp-jsvalidate":"^2.1.0","gulp-livereload":"^3.8.1","gulp-notify":"^2.2.0","gulp-rename":"^1.2.2","gulp-sass":"^2.3.2","gulp-sourcemaps":"^1.6.0","gulp-streamify":"1.0.2","gulp-tag-version":"^1.3.0","gulp-uglify":"^1.5.4","node-sass":"^3.8.0","require-dir":"^0.3.2","run-sequence":"^1.2.2","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~1.1.0","vinyl-transform":"1.0.0",watchify:"^3.7.0"},homepage:"http://yasqe.yasgui.org",keywords:["JavaScript","SPARQL","Editor","Semantic Web","Linked Data"],license:"MIT",main:"src/main.js",maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",url:"http://laurensrietveld.nl"}],name:"yasgui-yasqe",optionalShim:{codemirror:{require:"codemirror",global:"CodeMirror"},jquery:{require:"jquery",global:"jQuery"},"../../lib/codemirror":{require:"codemirror",global:"CodeMirror"}},repository:{type:"git",url:"git+https://github.com/YASGUI/YASQE.git"},scripts:{build:"gulp",dev:"gulp serve",major:"gulp major",minor:"gulp minor",patch:"gulp patch","update-interactive":"npm-check --skip-unused -u"},version:"2.11.22"}},{}],263:[function(e,t,n){"use strict";var i=e("jquery"),r=e("../utils.js"),o=e("yasgui-utils"),s=e("../../lib/trie.js");e("../main.js");t.exports=function(e,t){var n={},l={},u={};t.on("cursorActivity",function(e,t){p(!0)});t.on("change",function(){var e=[];for(var r in n)n[r].is(":visible")&&e.push(n[r]);if(e.length>0){var o=i(t.getWrapperElement()).find(".CodeMirror-vscrollbar"),s=0;o.is(":visible")&&(s=o.outerWidth());e.forEach(function(e){e.css("right",s)})}});var c=function(e,n){u[e.name]=new s;for(var i=0;i<n.length;i++)u[e.name].insert(n[i]);var a=r.getPersistencyId(t,e.persistent);a&&o.storage.set(a,n,"month",t.options.onQuotaExceeded)},f=function(e,n){var i=l[e]=new n(t,e);i.name=e;if(i.bulk){var s=function(e){e&&e instanceof Array&&e.length>0&&c(i,e)};if(i.get instanceof Array)s(i.get);else{var a=null,u=r.getPersistencyId(t,i.persistent);u&&(a=o.storage.get(u));a&&a.length>0?s(a):i.get instanceof Function&&(i.async?i.get(null,s):s(i.get()))}}},p=function(n){if(!t.somethingSelected()){var r=function(i){if(n&&(!i.autoShow||!i.bulk&&i.async))return!1;var r={closeCharacters:/(?=a)b/,completeSingle:!1};!i.bulk&&i.async&&(r.async=!0);var o=function(e,t){return h(i,t)};e.showHint(t,o,r);return!0};for(var o in l)if(i.inArray(o,t.options.autocompleters)!=-1){var s=l[o];if(s.isValidCompletionPosition)if(s.isValidCompletionPosition()){if(!s.callbacks||!s.callbacks.validPosition||s.callbacks.validPosition(t,s)!==!1){var a=r(s);if(a)break}}else s.callbacks&&s.callbacks.invalidPosition&&s.callbacks.invalidPosition(t,s)}}},h=function(e,n){var i=function(t){var n=t.autocompletionString||t.string,i=[];if(u[e.name])i=u[e.name].autoComplete(n);else if("function"==typeof e.get&&0==e.async)i=e.get(n);else if("object"==typeof e.get)for(var r=n.length,o=0;o<e.get.length;o++){
var s=e.get[o];s.slice(0,r)==n&&i.push(s)}return d(i,e,t)},r=t.getCompleteToken();e.preProcessToken&&(r=e.preProcessToken(r));if(r){if(e.bulk||!e.async)return i(r);var o=function(t){n(d(t,e,r))};e.get(r,o)}},d=function(n,i,r){for(var o=[],s=0;s<n.length;s++){var l=n[s];i.postProcessToken&&(l=i.postProcessToken(r,l));o.push({text:l,displayText:l,hint:a})}var u=t.getCursor(),c={completionToken:r.string,list:o,from:{line:u.line,ch:r.start},to:{line:u.line,ch:r.end}};if(i.callbacks)for(var f in i.callbacks)i.callbacks[f]&&e.on(c,f,i.callbacks[f]);return c};return{init:f,completers:l,notifications:{getEl:function(e){return i(n[e.name])},show:function(e,t){if(!t.autoshow){n[t.name]||(n[t.name]=i("<div class='completionNotification'></div>"));n[t.name].show().text("Press CTRL - <spacebar> to autocomplete").appendTo(i(e.getWrapperElement()))}},hide:function(e,t){n[t.name]&&n[t.name].hide()}},autoComplete:p,getTrie:function(e){return"string"==typeof e?u[e]:u[e.name]}}};var a=function(e,t,n){n.text!=e.getTokenAt(e.getCursor()).string&&e.replaceRange(n.text,t.from,t.to)}},{"../../lib/trie.js":261,"../main.js":272,"../utils.js":278,jquery:73,"yasgui-utils":255}],264:[function(e,t,n){"use strict";e("jquery");t.exports=function(n,i){return{isValidCompletionPosition:function(){return t.exports.isValidCompletionPosition(n)},get:function(t,i){return e("./utils").fetchFromLov(n,this,t,i)},preProcessToken:function(e){return t.exports.preProcessToken(n,e)},postProcessToken:function(e,i){return t.exports.postProcessToken(n,e,i)},async:!0,bulk:!1,autoShow:!1,persistent:i,callbacks:{validPosition:n.autocompleters.notifications.show,invalidPosition:n.autocompleters.notifications.hide}}};t.exports.isValidCompletionPosition=function(e){var t=e.getCompleteToken();if(0==t.string.indexOf("?"))return!1;var n=e.getCursor(),i=e.getPreviousNonWsToken(n.line,t);return"a"==i.string||("rdf:type"==i.string||("rdfs:domain"==i.string||"rdfs:range"==i.string))};t.exports.preProcessToken=function(t,n){return e("./utils.js").preprocessResourceTokenForCompletion(t,n)};t.exports.postProcessToken=function(t,n,i){return e("./utils.js").postprocessResourceTokenForCompletion(t,n,i)}},{"./utils":267,"./utils.js":267,jquery:73}],265:[function(e,t,n){"use strict";var i=e("jquery"),r={"string-2":"prefixed",atom:"var"};t.exports=function(e,n){e.on("change",function(){t.exports.appendPrefixIfNeeded(e,n)});return{isValidCompletionPosition:function(){return t.exports.isValidCompletionPosition(e)},get:function(e,n){i.get(t.exports.fetchFrom,function(e){var t=[];for(var i in e)if("bif"!=i){var r=i+": <"+e[i]+">";t.push(r)}t.sort();n(t)})},preProcessToken:function(n){return t.exports.preprocessPrefixTokenForCompletion(e,n)},async:!0,bulk:!0,autoShow:!0,persistent:n,callbacks:{pick:function(){e.collapsePrefixes(!1)}}}};t.exports.isValidCompletionPosition=function(e){var t=e.getCursor(),n=e.getTokenAt(t);if(e.getLine(t.line).length>t.ch)return!1;"ws"!=n.type&&(n=e.getCompleteToken());if(0==!n.string.indexOf("a")&&i.inArray("PNAME_NS",n.state.possibleCurrent)==-1)return!1;var r=e.getPreviousNonWsToken(t.line,n);return!(!r||"PREFIX"!=r.string.toUpperCase())};t.exports.preprocessPrefixTokenForCompletion=function(e,t){var n=e.getPreviousNonWsToken(e.getCursor().line,t);n&&n.string&&":"==n.string.slice(-1)&&(t={start:n.start,end:t.end,string:n.string+" "+t.string,state:t.state});return t};t.exports.appendPrefixIfNeeded=function(e,t){if(e.autocompleters.getTrie(t)&&e.options.autocompleters&&e.options.autocompleters.indexOf(t)!=-1){var n=e.getCursor(),i=e.getTokenAt(n);if("prefixed"==r[i.type]){var o=i.string.indexOf(":");if(o!==-1){var s=e.getPreviousNonWsToken(n.line,i).string.toUpperCase(),a=e.getTokenAt({line:n.line,ch:i.start});if("PREFIX"!=s&&("ws"==a.type||null==a.type)){var l=i.string.substring(0,o+1),u=e.getPrefixesFromQuery();if(null==u[l.slice(0,-1)]){var c=e.autocompleters.getTrie(t).autoComplete(l);c.length>0&&e.addPrefixes(c[0])}}}}}};t.exports.fetchFrom=(0===window.location.protocol.indexOf("http")?"//":"http://")+"prefix.cc/popular/all.file.json"},{jquery:73}],266:[function(e,t,n){"use strict";var i=e("jquery");t.exports=function(n,i){return{isValidCompletionPosition:function(){return t.exports.isValidCompletionPosition(n)},get:function(t,i){return e("./utils").fetchFromLov(n,this,t,i)},preProcessToken:function(e){return t.exports.preProcessToken(n,e)},postProcessToken:function(e,i){return t.exports.postProcessToken(n,e,i)},async:!0,bulk:!1,autoShow:!1,persistent:i,callbacks:{validPosition:n.autocompleters.notifications.show,invalidPosition:n.autocompleters.notifications.hide}}};t.exports.isValidCompletionPosition=function(e){var t=e.getCompleteToken();if(0==t.string.length)return!1;if(0==t.string.indexOf("?"))return!1;if(i.inArray("a",t.state.possibleCurrent)>=0)return!0;var n=e.getCursor(),r=e.getPreviousNonWsToken(n.line,t);return"rdfs:subPropertyOf"==r.string};t.exports.preProcessToken=function(t,n){return e("./utils.js").preprocessResourceTokenForCompletion(t,n)};t.exports.postProcessToken=function(t,n,i){return e("./utils.js").postprocessResourceTokenForCompletion(t,n,i)}},{"./utils":267,"./utils.js":267,jquery:73}],267:[function(e,t,n){"use strict";var i=e("jquery"),r=(e("./utils.js"),e("yasgui-utils")),o=function(e,t){var n=e.getPrefixesFromQuery();if(0==!t.string.indexOf("<")){t.tokenPrefix=t.string.substring(0,t.string.indexOf(":")+1);null!=n[t.tokenPrefix.slice(0,-1)]&&(t.tokenPrefixUri=n[t.tokenPrefix.slice(0,-1)])}t.autocompletionString=t.string.trim();if(0==!t.string.indexOf("<")&&t.string.indexOf(":")>-1)for(var i in n)if(t.tokenPrefix===i+":"){t.autocompletionString=n[i];t.autocompletionString+=t.string.substring(i.length+1);break}0==t.autocompletionString.indexOf("<")&&(t.autocompletionString=t.autocompletionString.substring(1));t.autocompletionString.indexOf(">",t.length-1)!==-1&&(t.autocompletionString=t.autocompletionString.substring(0,t.autocompletionString.length-1));return t},s=function(e,t,n){n=t.tokenPrefix&&t.autocompletionString&&t.tokenPrefixUri?t.tokenPrefix+n.substring(t.tokenPrefixUri.length):"<"+n+">";return n},a=0===window.location.protocol.indexOf("http")?"https://":"http://",l=function(t,n,o,s){if(!o||!o.string||0==o.string.trim().length){t.autocompleters.notifications.getEl(n).empty().append("Nothing to autocomplete yet!");return!1}var l=50,u={q:o.autocompletionString,page:1};"classes"==n.name?u.type="class":u.type="property";var c=[],f="",p=function(){f=a+"lov.linkeddata.es/dataset/lov/api/v2/autocomplete/terms?"+i.param(u)};p();var h=function(){u.page++;p()},d=function(){i.get(f,function(e){for(var r=0;r<e.results.length;r++)i.isArray(e.results[r].uri)&&e.results[r].uri.length>0?c.push(e.results[r].uri[0]):c.push(e.results[r].uri);if(c.length<e.total_results&&c.length<l){h();d()}else{c.length>0?t.autocompleters.notifications.hide(t,n):t.autocompleters.notifications.getEl(n).text("0 matches found...");s(c)}}).fail(function(e,i,r){t.autocompleters.notifications.getEl(n).empty().append("Failed fetching suggestions..")})};t.autocompleters.notifications.getEl(n).empty().append(i("<span>Fetchting autocompletions &nbsp;</span>")).append(i(r.svg.getElement(e("../imgs.js").loader)).addClass("notificationLoader"));d()};t.exports={fetchFromLov:l,preprocessResourceTokenForCompletion:o,postprocessResourceTokenForCompletion:s}},{"../imgs.js":271,"./utils.js":267,jquery:73,"yasgui-utils":255}],268:[function(e,t,n){"use strict";var i=e("jquery");t.exports=function(e){return{isValidCompletionPosition:function(){var t=e.getTokenAt(e.getCursor());if("ws"!=t.type){t=e.getCompleteToken(t);if(t&&("?"===t.string[0]||"$"===t.string[0]))return!0}return!1},get:function(t){if(0==t.trim().length)return[];var n={};i(e.getWrapperElement()).find(".cm-atom").each(function(){var e=this.innerHTML;if("?"===e[0]||"$"===e[0]){var r=i(this).next(),o=r.attr("class");o&&r.attr("class").indexOf("cm-atom")>=0&&(e+=r.text());if(e.length<=1)return;if(0!==e.indexOf(t))return;if(e==t)return;n[e]=!0}});var r=[];for(var o in n)r.push(o);r.sort();return r},async:!1,bulk:!1,autoShow:!0}}},{jquery:73}],269:[function(e,t,n){var i=e("./sparql.js"),r=e("jquery"),o=function(e){return"'"+e+"'"};t.exports={createCurlString:function(e,t){var n=i.getAjaxConfig(e,t),s=n.url;if(0!==n.url.indexOf("http")){var s=window.location.protocol+"//"+window.location.host;s+=0===n.url.indexOf("/")?n.url:window.location.pathname+n.url}var a=["curl",s,"-X",e.options.sparql.requestMethod];"POST"==e.options.sparql.requestMethod&&a.push("--data "+o(r.param(n.data)));for(var l in n.headers)a.push("-H "+o(l+": "+n.headers[l]));return a.join(" ")}}},{"./sparql.js":275,jquery:73}],270:[function(e,t,n){var i=e("jquery"),r=e("./main.js");r.defaults=i.extend(!0,{},r.defaults,{mode:"sparql11",value:"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nSELECT * WHERE {\n  ?sub ?pred ?obj .\n} \nLIMIT 10",highlightSelectionMatches:{showToken:/\w/},tabMode:"indent",lineNumbers:!0,lineWrapping:!0,backdrop:!1,foldGutter:{rangeFinder:new r.fold.combine(r.fold.brace,r.fold.prefix)},collapsePrefixesOnLoad:!1,gutters:["gutterErrorBar","CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,fixedGutter:!0,syntaxErrorCheck:!0,onQuotaExceeded:function(e){console.warn("Could not store in localstorage. Skipping..",e)},extraKeys:{"Ctrl-Space":r.autoComplete,"Cmd-Space":r.autoComplete,"Ctrl-D":r.deleteLine,"Ctrl-K":r.deleteLine,"Shift-Ctrl-K":r.deleteLine,"Cmd-D":r.deleteLine,"Cmd-K":r.deleteLine,"Ctrl-/":r.commentLines,"Cmd-/":r.commentLines,"Ctrl-Alt-Down":r.copyLineDown,"Ctrl-Alt-Up":r.copyLineUp,"Cmd-Alt-Down":r.copyLineDown,"Cmd-Alt-Up":r.copyLineUp,"Shift-Ctrl-F":r.doAutoFormat,"Shift-Cmd-F":r.doAutoFormat,"Ctrl-]":r.indentMore,"Cmd-]":r.indentMore,"Ctrl-[":r.indentLess,"Cmd-[":r.indentLess,"Ctrl-S":r.storeQuery,"Cmd-S":r.storeQuery,"Ctrl-Enter":r.executeQuery,"Cmd-Enter":r.executeQuery,F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}},cursorHeight:.9,createShareLink:r.createShareLink,createShortLink:null,consumeShareLink:r.consumeShareLink,persistent:function(e){return"yasqe_"+i(e.getWrapperElement()).closest("[id]").attr("id")+"_queryVal"},sparql:{queryName:function(e){return e.getQueryMode()},showQueryButton:!1,endpoint:"http://dbpedia.org/sparql",requestMethod:"POST",acceptHeaderGraph:"text/turtle,*/*;q=0.9",acceptHeaderSelect:"application/sparql-results+json,*/*;q=0.9",acceptHeaderUpdate:"text/plain,*/*;q=0.9",namedGraphs:[],defaultGraphs:[],args:[],headers:{},getQueryForAjax:null,callbacks:{beforeSend:null,complete:null,error:null,success:null},handlers:{}}})},{"./main.js":272,jquery:73}],271:[function(e,t,n){"use strict";t.exports={query:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><path d="M64.622 2.41H14.995c-6.627 0-12 5.374-12 12V64.31c0 6.627 5.373 12 12 12h49.627c6.627 0 12-5.373 12-12V14.41c0-6.627-5.373-12-12-12zM24.125 63.907V15.093L61 39.168 24.125 63.906z"/></svg>',queryInvalid:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 73.627 73.897"><path d="M61.627 0H12C5.373 0 0 5.373 0 12v49.897c0 6.627 5.373 12 12 12h49.627c6.627 0 12-5.373 12-12V12c0-6.628-5.373-12-12-12zM21.13 61.495V12.682l36.875 24.075L21.13 61.495z"/><path d="M66.13 65.904H49.77c-1.647 0-2.89-.58-3.5-1.636-.608-1.056-.49-2.422.334-3.848l8.18-14.167c.822-1.427 1.947-2.212 3.165-2.212s2.342.786 3.165 2.213l8.18 14.167c.824 1.426.942 2.792.333 3.848-.61 1.055-1.852 1.636-3.5 1.636zm-6.51-4.986c0-.85-.69-1.54-1.54-1.54-.85 0-1.54.69-1.54 1.54 0 .85.69 1.54 1.54 1.54.85 0 1.54-.69 1.54-1.54zm.04-9.266c0-.873-.708-1.58-1.58-1.58-.874 0-1.582.707-1.582 1.58l.374 5.61h.005c.054.62.568 1.108 1.202 1.108.586 0 1.075-.415 1.188-.968.01-.045.01-.093.014-.14h.01l.368-5.61z" fill="#a80"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" baseProfile="tiny" viewBox="0 0 100 100"><path fill-rule="evenodd" d="M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z"/></svg>',share:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M36.764 50c0 .308-.07.598-.088.905l32.247 16.12c2.76-2.34 6.293-3.798 10.195-3.798C87.89 63.227 95 70.337 95 79.11 95 87.89 87.89 95 79.118 95c-8.78 0-15.882-7.11-15.882-15.89 0-.317.07-.6.088-.906l-32.247-16.12c-2.77 2.33-6.293 3.79-10.195 3.79C12.11 65.873 5 58.77 5 50c0-8.78 7.11-15.89 15.882-15.89 3.902 0 7.427 1.467 10.195 3.796l32.247-16.12c-.018-.307-.088-.597-.088-.913C63.236 12.11 70.338 5 79.118 5 87.89 5 95 12.11 95 20.873c0 8.78-7.11 15.89-15.882 15.89-3.91 0-7.436-1.467-10.195-3.805L36.676 49.086c.017.308.088.598.088.914z"/></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 66.399998 66.399998"><g fill="red"><path d="M33.2 0C14.9 0 0 14.9 0 33.2c0 18.3 14.9 33.2 33.2 33.2 18.3 0 33.2-14.9 33.2-33.2C66.4 14.9 51.5 0 33.2 0zm0 59.4C18.7 59.4 7 47.6 7 33.2 7 18.7 18.8 7 33.2 7c14.4 0 26.2 11.8 26.2 26.2 0 14.4-11.8 26.2-26.2 26.2z"/><path d="M33.1 45.6c-1.4 0-2.5.5-3.5 1.5-.9 1-1.4 2.2-1.4 3.6 0 1.6.5 2.8 1.5 3.8 1 .9 2.1 1.3 3.4 1.3 1.3 0 2.4-.5 3.4-1.4 1-.9 1.5-2.2 1.5-3.7 0-1.4-.5-2.6-1.4-3.6-.9-1-2.1-1.5-3.5-1.5zM33.3 12.4c-1.5 0-2.8.5-3.7 1.6-.9 1-1.4 2.4-1.4 4.2 0 1.1.1 2.9.2 5.6l.8 13.1c.2 1.8.4 3.2.9 4.1.5 1.2 1.5 1.8 2.9 1.8 1.3 0 2.3-.7 2.9-1.9.5-1 .7-2.3.9-4l1.1-13.4c.1-1.3.2-2.5.2-3.8 0-2.2-.3-3.9-.8-5.1-.5-1-1.6-2.2-4-2.2z"/></g></svg>',fullscreen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 -10 100 100"><path d="M5-10v38.89L21.667 12.22 38.334 28.89l5.555-5.556L27.22 6.667 43.89-10H5zM105-10v38.89L88.333 12.22 71.667 28.89l-5.556-5.556L82.778 6.667 66.11-10H105zM5 90V51.11l16.667 16.667L38.334 51.11l5.555 5.557L27.22 73.333 43.89 90H5zM105 90V51.11L88.333 67.778 71.667 51.11l-5.556 5.557 16.667 16.666L66.11 90H105z" fill="#010101"/></svg>',smallscreen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 -10 100 100"><path d="M43.89 28.89V-10L27.22 6.667 10.555-10 5-4.445l16.667 16.667L5 28.89h38.89zM66.11 28.89V-10L82.78 6.667 99.444-10 105-4.445 88.334 12.222 105 28.89H66.11zM43.89 51.11V90L27.22 73.334 10.555 90 5 84.444l16.667-16.666L5 51.11h38.89zM66.11 51.11V90L82.78 73.334 99.444 90 105 84.444 88.334 67.778 105 51.11H66.11z" fill="#010101"/></svg>'}},{}],272:[function(e,t,n){"use strict";window.console=window.console||{log:function(){}};var i=e("jquery"),r=e("codemirror"),o=e("./utils.js"),s=e("yasgui-utils"),a=e("./imgs.js");e("../lib/deparam.js");e("codemirror/addon/fold/foldcode.js");e("codemirror/addon/fold/foldgutter.js");e("codemirror/addon/fold/xml-fold.js");e("codemirror/addon/fold/brace-fold.js");e("./prefixFold.js");e("codemirror/addon/hint/show-hint.js");e("codemirror/addon/search/searchcursor.js");e("codemirror/addon/edit/matchbrackets.js");e("codemirror/addon/runmode/runmode.js");e("codemirror/addon/display/fullscreen.js");e("../lib/grammar/tokenizer.js");var l=t.exports=function(e,t){var n=i("<div>",{"class":"yasqe"}).appendTo(i(e));t=u(t);var o=c(r(n[0],t));h(o);return o},u=function(e){var t=i.extend(!0,{},l.defaults,e);return t},c=function(t){t.autocompleters=e("./autocompleters/autocompleterBase.js")(l,t);t.options.autocompleters&&t.options.autocompleters.forEach(function(e){l.Autocompleters[e]&&t.autocompleters.init(e,l.Autocompleters[e])});t.emit=function(e,n){l.signal(t,e,n)};t.lastQueryDuration=null;t.getCompleteToken=function(n,i){return e("./tokenUtils.js").getCompleteToken(t,n,i)};t.getPreviousNonWsToken=function(n,i){return e("./tokenUtils.js").getPreviousNonWsToken(t,n,i)};t.getNextNonWsToken=function(n,i){return e("./tokenUtils.js").getNextNonWsToken(t,n,i)};t.collapsePrefixes=function(n){void 0===n&&(n=!0);t.foldCode(e("./prefixFold.js").findFirstPrefixLine(t),l.fold.prefix,n?"fold":"unfold")};var n=null,r=null;t.setBackdrop=function(e){if(t.options.backdrop||0===t.options.backdrop||"0"===t.options.backdrop){if(null===r){r=+t.options.backdrop;1===r&&(r=400)}n||(n=i("<div>",{"class":"backdrop"}).click(function(){i(this).hide()}).insertAfter(i(t.getWrapperElement())));e?n.show(r):n.hide(r)}};t.query=function(e){l.executeQuery(t,e)};t.getUrlArguments=function(e){return l.getUrlArguments(t,e)};t.getPrefixesFromQuery=function(){return e("./prefixUtils.js").getPrefixesFromQuery(t)};t.addPrefixes=function(n){return e("./prefixUtils.js").addPrefixes(t,n)};t.removePrefixes=function(n){return e("./prefixUtils.js").removePrefixes(t,n)};t.getVariablesFromQuery=function(){return i.map(t.getTokenAt({line:t.lastLine(),ch:t.getLine(t.lastLine()).length},!0).state.variables,function(e,t){return t})};t.getQueryWithValues=function(e){if(!e)return t.getValue();var n;if("string"==typeof e)n=e;else{Array.isArray(e)||(e=[e]);var i=e.reduce(function(e,t){for(var n in t)e[n]=n;return e},{}),r=[];for(var o in i)r.push(o);if(!r.length)return t.getValue();n="VALUES ("+r.join(" ")+") {\n";e.forEach(function(e){n+="( ";r.forEach(function(t){n+=e[t]||"UNDEF"});n+=" )\n"});n+="}\n"}if(!n)return t.getValue();var s="",a=!1,u=!1;l.runMode(t.getValue(),"sparql11",function(e,t,i,r,o){"keyword"===t&&"select"===e.toLowerCase()&&(u=!0);s+=e;if(u&&!a&&"punc"===t&&"{"===e){a=!0;s+="\n"+n}});return s};t.getValueWithoutComments=function(){var e="";l.runMode(t.getValue(),"sparql11",function(t,n){"comment"!=n&&(e+=t)});return e};t.getQueryType=function(){return t.queryType};t.getQueryMode=function(){var e=t.getQueryType();return"INSERT"==e||"DELETE"==e||"LOAD"==e||"CLEAR"==e||"CREATE"==e||"DROP"==e||"COPY"==e||"MOVE"==e||"ADD"==e?"update":"query"};t.setCheckSyntaxErrors=function(e){t.options.syntaxErrorCheck=e;m(t)};t.enableCompleter=function(e){f(t.options,e);l.Autocompleters[e]&&t.autocompleters.init(e,l.Autocompleters[e])};t.disableCompleter=function(e){p(t.options,e)};return t},f=function(e,t){e.autocompleters||(e.autocompleters=[]);e.autocompleters.push(t)},p=function(e,t){if("object"==typeof e.autocompleters){var n=i.inArray(t,e.autocompleters);if(n>=0){e.autocompleters.splice(n,1);p(e,t)}}},h=function(e){var t=o.getPersistencyId(e,e.options.persistent);if(t){var n=s.storage.get(t);n&&e.setValue(n)}l.drawButtons(e);e.on("blur",function(e,t){l.storeQuery(e)});e.on("change",function(e,t){m(e);l.updateQueryButton(e);l.positionButtons(e)});e.on("changes",function(){m(e);l.updateQueryButton(e);l.positionButtons(e)});e.on("cursorActivity",function(e,t){g(e)});e.prevQueryValid=!1;m(e);l.positionButtons(e);i(e.getWrapperElement()).on("mouseenter",".cm-atom",function(){var t=i(this).text();i(e.getWrapperElement()).find(".cm-atom").filter(function(){return i(this).text()===t}).addClass("matchingVar")}).on("mouseleave",".cm-atom",function(){i(e.getWrapperElement()).find(".matchingVar").removeClass("matchingVar")});if(e.options.consumeShareLink){e.options.consumeShareLink(e,d());window.addEventListener("hashchange",function(){e.options.consumeShareLink(e,d())})}e.options.collapsePrefixesOnLoad&&e.collapsePrefixes(!0)},d=function(){var e=null;window.location.hash.length>1&&(e=i.deparam(location.href.split("#")[1]));e&&"query"in e||!(window.location.search.length>1)||(e=i.deparam(window.location.search.substring(1)));return e},g=function(e){e.cursor=i(".CodeMirror-cursor");e.buttons&&e.buttons.is(":visible")&&e.cursor.length>0&&(o.elementsOverlap(e.cursor,e.buttons)?e.buttons.find("svg").attr("opacity","0.2"):e.buttons.find("svg").attr("opacity","1.0"))},m=function(t,n){t.queryValid=!0;t.clearGutter("gutterErrorBar");for(var r=null,o=0;o<t.lineCount();++o){var l=!1;t.prevQueryValid||(l=!0);var u=t.getTokenAt({line:o,ch:t.getLine(o).length},l),r=u.state;t.queryType=r.queryType;if(0==r.OK){if(!t.options.syntaxErrorCheck){i(t.getWrapperElement()).find(".sp-error").css("color","black");return}var c=s.svg.getElement(a.warning);r.errorMsg?e("./tooltip")(t,c,function(){return i("<div/>").text(u.state.errorMsg).html()}):r.possibleCurrent&&r.possibleCurrent.length>0&&e("./tooltip")(t,c,function(){var e=[];r.possibleCurrent.forEach(function(t){e.push("<strong style='text-decoration:underline'>"+i("<div/>").text(t).html()+"</strong>")});return"This line is invalid. Expected: "+e.join(", ")});c.style.marginTop="2px";c.style.marginLeft="2px";c.className="parseErrorIcon";t.setGutterMarker(o,"gutterErrorBar",c);t.queryValid=!1;break}}t.prevQueryValid=t.queryValid;if(n&&null!=r&&void 0!=r.stack){var f=r.stack,p=r.stack.length;p>1?t.queryValid=!1:1==p&&"solutionModifier"!=f[0]&&"?limitOffsetClauses"!=f[0]&&"?offsetClause"!=f[0]&&(t.queryValid=!1)}};i.extend(l,r);l.Autocompleters={};l.registerAutocompleter=function(e,t){l.Autocompleters[e]=t;f(l.defaults,e)};l.autoComplete=function(e){e.autocompleters.autoComplete(!1)};l.registerAutocompleter("prefixes",e("./autocompleters/prefixes.js"));l.registerAutocompleter("properties",e("./autocompleters/properties.js"));l.registerAutocompleter("classes",e("./autocompleters/classes.js"));l.registerAutocompleter("variables",e("./autocompleters/variables.js"));l.positionButtons=function(e){var t=i(e.getWrapperElement()).find(".CodeMirror-vscrollbar"),n=0;t.is(":visible")&&(n=t.outerWidth());e.buttons.is(":visible")&&e.buttons.css("right",n+4)};l.createShareLink=function(e){var t={};window.location.hash.length>1&&(t=i.deparam(window.location.hash.substring(1)));t.query=e.getValue();return t};l.getAsCurl=function(t,n){var i=e("./curl.js");return i.createCurlString(t,n)};l.consumeShareLink=function(e,t){t&&t.query&&e.setValue(t.query)};l.drawButtons=function(e){e.buttons=i("<div class='yasqe_buttons'></div>").appendTo(i(e.getWrapperElement()));if(e.options.createShareLink){var t=i(s.svg.getElement(a.share));t.click(function(n){n.stopPropagation();var r=i("<div class='yasqe_sharePopup'></div>").appendTo(e.buttons);i("html").click(function(){r&&r.remove()});r.click(function(e){e.stopPropagation()});var o=i("<input>").val(location.protocol+"//"+location.host+location.pathname+location.search+"#"+i.param(e.options.createShareLink(e)));o.focus(function(){var e=i(this);e.select();e.mouseup(function(){e.unbind("mouseup");return!1})});r.empty().append(i("<div>",{"class":"inputWrapper"}).append(o));if(e.options.createShortLink){r.addClass("enableShort");i("<button>Shorten</button>").addClass("yasqe_btn yasqe_btn-sm yasqe_btn-primary").click(function(){i(this).parent().find("button").attr("disabled","disabled");e.options.createShortLink(o.val(),function(e,t){if(e){o.remove();r.find(".inputWrapper").append(i("<span>",{"class":"shortlinkErr"}).text(e))}else o.val(t).focus()})}).appendTo(r)}i("<button>CURL</button>").addClass("yasqe_btn yasqe_btn-sm yasqe_btn-primary").click(function(){i(this).parent().find("button").attr("disabled","disabled");o.val(l.getAsCurl(e)).focus()}).appendTo(r);var s=t.position();r.css("top",s.top+t.outerHeight()+parseInt(r.css("padding-top"))+"px").css("left",s.left+t.outerWidth()-r.outerWidth()+"px");o.focus()}).addClass("yasqe_share").attr("title","Share your query").appendTo(e.buttons)}var n=i("<div>",{"class":"fullscreenToggleBtns"}).append(i(s.svg.getElement(a.fullscreen)).addClass("yasqe_fullscreenBtn").attr("title","Set editor full screen").click(function(){e.setOption("fullScreen",!0);e.emit("fullscreen-enter")})).append(i(s.svg.getElement(a.smallscreen)).addClass("yasqe_smallscreenBtn").attr("title","Set editor to normal size").click(function(){e.setOption("fullScreen",!1);e.emit("fullscreen-leave")}));e.buttons.append(n);if(e.options.sparql.showQueryButton){i("<div>",{"class":"yasqe_queryButton"}).click(function(){if(i(this).hasClass("query_busy")){e.xhr&&e.xhr.abort();l.updateQueryButton(e)}else e.query()}).appendTo(e.buttons);l.updateQueryButton(e)}};var v={busy:"loader",valid:"query",error:"queryInvalid"};l.updateQueryButton=function(e,t){var n=i(e.getWrapperElement()).find(".yasqe_queryButton");if(0!=n.length){if(!t){t="valid";e.queryValid===!1&&(t="error")}if(t!=e.queryStatus){n.empty().removeClass(function(e,t){return t.split(" ").filter(function(e){return 0==e.indexOf("query_")}).join(" ")});if("busy"==t){n.append(i("<div>",{"class":"loader"}));e.queryStatus=t}else if("valid"==t||"error"==t){n.addClass("query_"+t);s.svg.draw(n,a[v[t]]);e.queryStatus=t}}}};l.fromTextArea=function(e,t){t=u(t);var n=(i("<div>",{"class":"yasqe"}).insertBefore(i(e)).append(i(e)),c(r.fromTextArea(e,t)));h(n);return n};l.storeQuery=function(e){var t=o.getPersistencyId(e,e.options.persistent);t&&s.storage.set(t,e.getValue(),"month",e.options.onQuotaExceeded)};l.commentLines=function(e){for(var t=e.getCursor(!0).line,n=e.getCursor(!1).line,i=Math.min(t,n),r=Math.max(t,n),o=!0,s=i;s<=r;s++){var a=e.getLine(s);if(0==a.length||"#"!=a.substring(0,1)){o=!1;break}}for(var s=i;s<=r;s++)o?e.replaceRange("",{line:s,ch:0},{line:s,ch:1}):e.replaceRange("#",{line:s,ch:0})};l.copyLineUp=function(e){var t=e.getCursor(),n=e.lineCount();e.replaceRange("\n",{line:n-1,ch:e.getLine(n-1).length});for(var i=n;i>t.line;i--){var r=e.getLine(i-1);e.replaceRange(r,{line:i,ch:0},{line:i,ch:e.getLine(i).length})}};l.copyLineDown=function(e){l.copyLineUp(e);var t=e.getCursor();t.line++;e.setCursor(t)};l.doAutoFormat=function(e){e.somethingSelected()||e.execCommand("selectAll");var t={line:e.getCursor(!1).line,ch:e.getSelection().length};y(e,e.getCursor(!0),t)};var y=function(e,t,n){var i=e.indexFromPos(t),r=e.indexFromPos(n),o=b(e.getValue(),i,r);e.operation(function(){e.replaceRange(o,t,n);for(var r=e.posFromIndex(i).line,s=e.posFromIndex(i+o.length).line,a=r;a<=s;a++)e.indentLine(a,"smart")})},b=function(e,t,n){e=e.substring(t,n);var o=[["keyword","ws","prefixed","ws","uri"],["keyword","ws","uri"]],s=["{",".",";"],a=["}"],l=function(e,t){for(var n=0;n<o.length;n++)if(f.valueOf().toString()==o[n].valueOf().toString())return 1;for(var n=0;n<s.length;n++)if(e==s[n])return 1;for(var n=0;n<a.length;n++)if(""!=i.trim(c)&&e==a[n])return-1;return 0},u="",c="",f=[];r.runMode(e,"sparql11",function(e,t){f.push(t);var n=l(e,t);if(0!=n){if(1==n){u+=e+"\n";c=""}else{u+="\n"+e;c=e}f=[]}else{c+=e;u+=e}1==f.length&&"sp-ws"==f[0]&&(f=[])});return i.trim(u.replace(/\n\s*\n/g,"\n"))};e("./sparql.js"),e("./defaults.js");l.$=i;l.version={CodeMirror:r.version,YASQE:e("../package.json").version,jquery:i.fn.jquery,"yasgui-utils":s.version}},{"../lib/deparam.js":258,"../lib/grammar/tokenizer.js":260,"../package.json":262,"./autocompleters/autocompleterBase.js":263,"./autocompleters/classes.js":264,"./autocompleters/prefixes.js":265,"./autocompleters/properties.js":266,"./autocompleters/variables.js":268,"./curl.js":269,"./defaults.js":270,"./imgs.js":271,"./prefixFold.js":273,"./prefixUtils.js":274,"./sparql.js":275,"./tokenUtils.js":276,"./tooltip":277,"./utils.js":278,codemirror:17,"codemirror/addon/display/fullscreen.js":8,"codemirror/addon/edit/matchbrackets.js":9,"codemirror/addon/fold/brace-fold.js":10,"codemirror/addon/fold/foldcode.js":11,"codemirror/addon/fold/foldgutter.js":12,"codemirror/addon/fold/xml-fold.js":13,"codemirror/addon/hint/show-hint.js":14,"codemirror/addon/runmode/runmode.js":15,"codemirror/addon/search/searchcursor.js":16,jquery:73,"yasgui-utils":255}],273:[function(e,t,n){function i(e,t,n,i){n||(n=0);i||(i=e.getLine(t));i=i.toUpperCase();for(var o=n,a=0;;){var l=i.indexOf(s,o);if(l!=-1){if(1==a&&l<n)break;var u=e.getTokenTypeAt(r.Pos(t,l+1));if(!/^(comment|string)/.test(u))return l+1;o=l-1;if(o===a)break}else{if(1==a)break;a=1;o=i.length}}}var r=e("codemirror"),o=e("./tokenUtils.js"),s="PREFIX ";t.exports={findFirstPrefixLine:function(e){for(var t=e.lastLine(),n=0;n<=t;++n)if(i(e,n)>=0)return n}};r.registerHelper("fold","prefix",function(e,t){function n(){for(var t=!1,n=a-1;n>=0;n--)if(e.getLine(n).toUpperCase().indexOf(s)>=0){t=!0;break}return t}var a=t.line,l=e.getLine(a),u=function(t,n){var i=e.getTokenAt(r.Pos(t,n+1));if(!i||"keyword"!=i.type)return-1;var s=o.getNextNonWsToken(e,t,i.end+1);if(!s||"string-2"!=s.type)return-1;var a=o.getNextNonWsToken(e,t,s.end+1);return a&&"variable-3"==a.type?a.end:-1};if(!n()){var c=i(e,a,t.ch,l);if(null!=c){for(var f,p="{",h=!1,d=e.lastLine(),g=u(a,c),m=a,v=a;v<=d&&!h;++v)for(var y=e.getLine(v),b=v==a?c+1:0;;){!h&&y.indexOf(p)>=0&&(h=!0);var x=y.toUpperCase().indexOf(s,b);if(!(x>=0))break;if((f=u(v,x))>0){g=f;m=v;b=g}b++}return{from:r.Pos(a,c+s.length),to:r.Pos(m,g)}}}})},{"./tokenUtils.js":276,codemirror:17}],274:[function(e,t,n){"use strict";var i=function(e,t){var n=e.getPrefixesFromQuery();if("string"==typeof t)r(e,t);else for(var i in t)i in n||r(e,i+": <"+t[i]+">");e.collapsePrefixes(!1)},r=function(e,t){e.replaceRange("PREFIX "+t+"\n",{line:0,ch:0});e.collapsePrefixes(!1)},o=function(e,t){var n=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};for(var i in t)e.setValue(e.getValue().replace(new RegExp("PREFIX\\s*"+i+":\\s*"+n("<"+t[i]+">")+"\\s*","ig"),""));e.collapsePrefixes(!1)},s=function(e){return e.getTokenAt({line:e.lastLine(),ch:e.getLine(e.lastLine()).length},!0).state.prefixes};t.exports={addPrefixes:i,getPrefixesFromQuery:s,removePrefixes:o}},{}],275:[function(e,t,n){"use strict";var i=e("jquery"),r=e("./utils.js"),o=e("./main.js");o.getAjaxConfig=function(t,n){var r="function"==typeof n?n:null,a="object"==typeof n?n:{};t.options.sparql&&(a=i.extend({},t.options.sparql,a));a.handlers&&i.extend(!0,a.callbacks,a.handlers);if(a.endpoint&&0!=a.endpoint.length){var l=t.getQueryMode(),u={url:"function"==typeof a.endpoint?a.endpoint(t):a.endpoint,type:"update"==l?"POST":"function"==typeof a.requestMethod?a.requestMethod(t):a.requestMethod,headers:{Accept:s(t,a)}};a.xhrFields&&(u.xhrFields=a.xhrFields);var c=!1;if(a.callbacks)for(var f in a.callbacks)if(a.callbacks[f]){c=!0;u[f]=a.callbacks[f]}if("GET"===u.type){var p=!0;i.each(t.getUrlArguments(a),function(e,t){u.url+=(p?"?":"&")+t.name+"="+encodeURIComponent(t.value);p=!1})}else u.data=t.getUrlArguments(a);if(c||r){r&&(u.complete=r);a.headers&&!i.isEmptyObject(a.headers)&&i.extend(u.headers,a.headers);var h=new Date,d=function(){t.lastQueryDuration=new Date-h;o.updateQueryButton(t);t.setBackdrop(!1)},g=[function(){e("./main.js").signal(t,"queryFinish",arguments)},d];u.complete&&g.push(u.complete);u.complete=g;return u}}};o.executeQuery=function(e,t){o.signal(e,"query",e,t);o.updateQueryButton(e,"busy");e.setBackdrop(!0);e.xhr=i.ajax(o.getAjaxConfig(e,t))};o.getUrlArguments=function(e,t){var n=e.getQueryMode(),o=[{name:r.getString(e,e.options.sparql.queryName),value:t.getQueryForAjax?t.getQueryForAjax(e):e.getValue()}];if(t.namedGraphs&&t.namedGraphs.length>0)for(var s="query"==n?"named-graph-uri":"using-named-graph-uri ",a=0;a<t.namedGraphs.length;a++)o.push({name:s,value:t.namedGraphs[a]});if(t.defaultGraphs&&t.defaultGraphs.length>0)for(var s="query"==n?"default-graph-uri":"using-graph-uri ",a=0;a<t.defaultGraphs.length;a++)o.push({name:s,value:t.defaultGraphs[a]});t.args&&t.args.length>0&&i.merge(o,t.args);return o};var s=function(e,t){var n=null;if(!t.acceptHeader||t.acceptHeaderGraph||t.acceptHeaderSelect||t.acceptHeaderUpdate)if("update"==e.getQueryMode())n="function"==typeof t.acceptHeader?t.acceptHeaderUpdate(e):t.acceptHeaderUpdate;else{var i=e.getQueryType();n="DESCRIBE"==i||"CONSTRUCT"==i?"function"==typeof t.acceptHeaderGraph?t.acceptHeaderGraph(e):t.acceptHeaderGraph:"function"==typeof t.acceptHeaderSelect?t.acceptHeaderSelect(e):t.acceptHeaderSelect}else n="function"==typeof t.acceptHeader?t.acceptHeader(e):t.acceptHeader;return n};t.exports={getAjaxConfig:o.getAjaxConfig}},{"./main.js":272,"./utils.js":278,jquery:73}],276:[function(e,t,n){"use strict";var i=function(e,t,n){n||(n=e.getCursor());t||(t=e.getTokenAt(n));var r=e.getTokenAt({line:n.line,ch:t.start});if(null!=r.type&&"ws"!=r.type&&null!=t.type&&"ws"!=t.type){t.start=r.start;t.string=r.string+t.string;return i(e,t,{line:n.line,ch:r.start})}if(null!=t.type&&"ws"==t.type){t.start=t.start+1;t.string=t.string.substring(1);return t}return t},r=function(e,t,n){var i=e.getTokenAt({line:t,ch:n.start});null!=i&&"ws"==i.type&&(i=r(e,t,i));return i},o=function(e,t,n){void 0==n&&(n=1);
var i=e.getTokenAt({line:t,ch:n});return null==i||void 0==i||i.end<n?null:"ws"==i.type?o(e,t,i.end+1):i};t.exports={getPreviousNonWsToken:r,getCompleteToken:i,getNextNonWsToken:o}},{}],277:[function(e,t,n){"use strict";var i=e("jquery");e("./utils.js");t.exports=function(e,t,n){var r,t=i(t);t.hover(function(){"function"==typeof n&&(n=n());r=i("<div>").addClass("yasqe_tooltip").html(n).appendTo(t);o()},function(){i(".yasqe_tooltip").remove()});var o=function(){if(i(e.getWrapperElement()).offset().top>=r.offset().top){r.css("bottom","auto");r.css("top","26px")}}}},{"./utils.js":278,jquery:73}],278:[function(e,t,n){"use strict";var i=e("jquery"),r=function(e,t){var n=!1;try{void 0!==e[t]&&(n=!0)}catch(i){}return n},o=function(e,t){var n=null;t&&(n="string"==typeof t?t:t(e));return n},s=function(){function e(e){var t,n,r;t=i(e).offset();n=i(e).width();r=i(e).height();return[[t.left,t.left+n],[t.top,t.top+r]]}function t(e,t){var n,i;n=e[0]<t[0]?e:t;i=e[0]<t[0]?t:e;return n[1]>i[0]||n[0]===i[0]}return function(n,i){var r=e(n),o=e(i);return t(r[0],o[0])&&t(r[1],o[1])}}(),a=function(e,t){return"function"==typeof t?t(e):t};t.exports={keyExists:r,getPersistencyId:o,elementsOverlap:s,getString:a}},{jquery:73}],279:[function(e,t,n){var i,r=e("jquery"),o=r(document),s=r("head"),a=null,l=[],u=0,c="id",f="px",p="JColResizer",h=parseInt,d=Math,g=navigator.userAgent.indexOf("Trident/4.0")>0;try{i=sessionStorage}catch(m){}s.append("<style type='text/css'>  .JColResizer{table-layout:fixed;} .JColResizer td, .JColResizer th{overflow:hidden;padding-left:0!important; padding-right:0!important;}  .JCLRgrips{ height:0px; position:relative;} .JCLRgrip{margin-left:-5px; position:absolute; z-index:5; } .JCLRgrip .JColResizer{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;top:0px} .JCLRLastGrip{position:absolute; width:1px; } .JCLRgripDrag{ border-left:1px dotted black;\t}</style>");var v=function(e,t){var n=r(e);if(t.disable)return y(n);var i=n.id=n.attr(c)||p+u++;n.p=t.postbackSafe;if(n.is("table")&&!l[i]){n.addClass(p).attr(c,i).before('<div class="JCLRgrips"/>');n.opt=t;n.g=[];n.c=[];n.w=n.width();n.gc=n.prev();t.marginLeft&&n.gc.css("marginLeft",t.marginLeft);t.marginRight&&n.gc.css("marginRight",t.marginRight);n.cs=h(g?e.cellSpacing||e.currentStyle.borderSpacing:n.css("border-spacing"))||2;n.b=h(g?e.border||e.currentStyle.borderLeftWidth:n.css("border-left-width"))||1;l[i]=n;b(n)}},y=function(e){var t=e.attr(c),e=l[t];if(e&&e.is("table")){e.removeClass(p).gc.remove();delete l[t]}},b=function(e){var t=e.find(">thead>tr>th,>thead>tr>td");t.length||(t=e.find(">tbody>tr:first>th,>tr:first>th,>tbody>tr:first>td, >tr:first>td"));e.cg=e.find("col");e.ln=t.length;e.p&&i&&i[e.id]&&x(e,t);t.each(function(t){var n=r(this),i=r(e.gc.append('<div class="JCLRgrip"></div>')[0].lastChild);i.t=e;i.i=t;i.c=n;n.w=n.width();e.g.push(i);e.c.push(n);n.width(n.w).removeAttr("width");t<e.ln-1?i.bind("touchstart mousedown",S).append(e.opt.gripInnerHtml).append('<div class="'+p+'" style="cursor:'+e.opt.hoverCursor+'"></div>'):i.addClass("JCLRLastGrip").removeClass("JCLRgrip");i.data(p,{i:t,t:e.attr(c)})});e.cg.removeAttr("width");_(e);e.find("td, th").not(t).not("table th, table td").each(function(){r(this).removeAttr("width")})},x=function(e,t){var n,r=0,o=0,s=[];if(t){e.cg.removeAttr("width");if(e.opt.flush){i[e.id]="";return}n=i[e.id].split(";");for(;o<e.ln;o++){s.push(100*n[o]/n[e.ln]+"%");t.eq(o).css("width",s[o])}for(o=0;o<e.ln;o++)e.cg.eq(o).css("width",s[o])}else{i[e.id]="";for(;o<e.c.length;o++){n=e.c[o].width();i[e.id]+=n+";";r+=n}i[e.id]+=r}},_=function(e){e.gc.width(e.w);for(var t=0;t<e.ln;t++){var n=e.c[t];e.g[t].css({left:n.offset().left-e.offset().left+n.outerWidth(!1)+e.cs/2+f,height:e.opt.headerOnly?e.c[0].outerHeight(!1):e.outerHeight(!1)})}},E=function(e,t,n){var i=a.x-a.l,r=e.c[t],o=e.c[t+1],s=r.w+i,l=o.w-i;r.width(s+f);o.width(l+f);e.cg.eq(t).width(s+f);e.cg.eq(t+1).width(l+f);if(n){r.w=s;o.w=l}},w=function(e){if(a){var t=a.t;if(e.originalEvent.touches)var n=e.originalEvent.touches[0].pageX-a.ox+a.l;else var n=e.pageX-a.ox+a.l;var i=t.opt.minWidth,r=a.i,o=1.5*t.cs+i+t.b,s=r==t.ln-1?t.w-o:t.g[r+1].position().left-t.cs-i,l=r?t.g[r-1].position().left+t.cs+i:o;n=d.max(l,d.min(s,n));a.x=n;a.css("left",n+f);if(t.opt.liveDrag){E(t,r);_(t);var u=t.opt.onDrag;if(u){e.currentTarget=t[0];u(e)}}return!1}},T=function(e){o.unbind("touchend."+p+" mouseup."+p).unbind("touchmove."+p+" mousemove."+p);r("head :last-child").remove();if(a){a.removeClass(a.t.opt.draggingClass);var t=a.t,n=t.opt.onResize;if(a.x){E(t,a.i,!0);_(t);if(n){e.currentTarget=t[0];n(e)}}t.p&&i&&x(t);a=null}},S=function(e){var t=r(this).data(p),n=l[t.t],i=n.g[t.i];e.originalEvent.touches?i.ox=e.originalEvent.touches[0].pageX:i.ox=e.pageX;i.l=i.position().left;o.bind("touchmove."+p+" mousemove."+p,w).bind("touchend."+p+" mouseup."+p,T);s.append("<style type='text/css'>*{cursor:"+n.opt.dragCursor+"!important}</style>");i.addClass(n.opt.draggingClass);a=i;if(n.c[t.i].l)for(var u,c=0;c<n.ln;c++){u=n.c[c];u.l=!1;u.w=u.width()}return!1},C=function(){for(t in l){var e,t=l[t],n=0;t.removeClass(p);if(t.w!=t.width()){t.w=t.width();for(e=0;e<t.ln;e++)n+=t.c[e].w;for(e=0;e<t.ln;e++)t.c[e].css("width",d.round(1e3*t.c[e].w/n)/10+"%").l=!0}_(t.addClass(p))}};r(window).bind("resize."+p,C);r.fn.extend({colResizable:function(e){var t={draggingClass:"JCLRgripDrag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"e-resize",dragCursor:"e-resize",postbackSafe:!1,flush:!1,marginLeft:null,marginRight:null,disable:!1,onDrag:null,onResize:null},e=r.extend(t,e);return this.each(function(){v(this,e)})}})},{jquery:73}],280:[function(e,t,n){RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};var r=e("jquery");r.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(e,t){var n=/\./;if(isNaN(e))return e;if(n.test(e))return parseFloat(e);var i=parseInt(e);return isNaN(i)?null:i}},parsers:{parse:function(e,t){function n(){l=0;u="";if(t.start&&t.state.rowNum<t.start){a=[];t.state.rowNum++;t.state.colNum=1}else{if(void 0===t.onParseEntry)s.push(a);else{var e=t.onParseEntry(a,t.state);e!==!1&&s.push(e)}a=[];t.end&&t.state.rowNum>=t.end&&(c=!0);t.state.rowNum++;t.state.colNum=1}}function i(){if(void 0===t.onParseValue)a.push(u);else{var e=t.onParseValue(u,t.state);e!==!1&&a.push(e)}u="";l=0;t.state.colNum++}var r=t.separator,o=t.delimiter;t.state.rowNum||(t.state.rowNum=1);t.state.colNum||(t.state.colNum=1);var s=[],a=[],l=0,u="",c=!1,f=RegExp.escape(r),p=RegExp.escape(o),h=/(D|S|\n|\r|[^DS\r\n]+)/,d=h.source;d=d.replace(/S/g,f);d=d.replace(/D/g,p);h=RegExp(d,"gm");e.replace(h,function(e){if(!c)switch(l){case 0:if(e===r){u+="";i();break}if(e===o){l=1;break}if("\n"===e){i();n();break}if(/^\r$/.test(e))break;u+=e;l=3;break;case 1:if(e===o){l=2;break}u+=e;l=1;break;case 2:if(e===o){u+=e;l=1;break}if(e===r){i();break}if("\n"===e){i();n();break}if(/^\r$/.test(e))break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===r){i();break}if("\n"===e){i();n();break}if(/^\r$/.test(e))break;if(e===o)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}});if(0!==a.length){i();n()}return s},splitLines:function(e,t){function n(){s=0;if(t.start&&t.state.rowNum<t.start){a="";t.state.rowNum++}else{if(void 0===t.onParseEntry)o.push(a);else{var e=t.onParseEntry(a,t.state);e!==!1&&o.push(e)}a="";t.end&&t.state.rowNum>=t.end&&(l=!0);t.state.rowNum++}}var i=t.separator,r=t.delimiter;t.state.rowNum||(t.state.rowNum=1);var o=[],s=0,a="",l=!1,u=RegExp.escape(i),c=RegExp.escape(r),f=/(D|S|\n|\r|[^DS\r\n]+)/,p=f.source;p=p.replace(/S/g,u);p=p.replace(/D/g,c);f=RegExp(p,"gm");e.replace(f,function(e){if(!l)switch(s){case 0:if(e===i){a+=e;s=0;break}if(e===r){a+=e;s=1;break}if("\n"===e){n();break}if(/^\r$/.test(e))break;a+=e;s=3;break;case 1:if(e===r){a+=e;s=2;break}a+=e;s=1;break;case 2:var o=a.substr(a.length-1);if(e===r&&o===r){a+=e;s=1;break}if(e===i){a+=e;s=0;break}if("\n"===e){n();break}if("\r"===e)break;throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");case 3:if(e===i){a+=e;s=0;break}if("\n"===e){n();break}if("\r"===e)break;if(e===r)throw new Error("CSVDataError: Illegal quote [Row:"+t.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+t.state.rowNum+"]")}});""!==a&&n();return o},parseEntry:function(e,t){function n(){if(void 0===t.onParseValue)o.push(a);else{var e=t.onParseValue(a,t.state);e!==!1&&o.push(e)}a="";s=0;t.state.colNum++}var i=t.separator,r=t.delimiter;t.state.rowNum||(t.state.rowNum=1);t.state.colNum||(t.state.colNum=1);var o=[],s=0,a="";if(!t.match){var l=RegExp.escape(i),u=RegExp.escape(r),c=/(D|S|\n|\r|[^DS\r\n]+)/,f=c.source;f=f.replace(/S/g,l);f=f.replace(/D/g,u);t.match=RegExp(f,"gm")}e.replace(t.match,function(e){switch(s){case 0:if(e===i){a+="";n();break}if(e===r){s=1;break}if("\n"===e||"\r"===e)break;a+=e;s=3;break;case 1:if(e===r){s=2;break}a+=e;s=1;break;case 2:if(e===r){a+=e;s=1;break}if(e===i){n();break}if("\n"===e||"\r"===e)break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===i){n();break}if("\n"===e||"\r"===e)break;if(e===r)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}});n();return o}},toArray:function(e,t,n){var t=void 0!==t?t:{},i={};i.callback=void 0!==n&&"function"==typeof n&&n;i.separator="separator"in t?t.separator:r.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:r.csv.defaults.delimiter;var o=void 0!==t.state?t.state:{},t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,state:o},s=r.csv.parsers.parseEntry(e,t);if(!i.callback)return s;i.callback("",s)},toArrays:function(e,t,n){var t=void 0!==t?t:{},i={};i.callback=void 0!==n&&"function"==typeof n&&n;i.separator="separator"in t?t.separator:r.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:r.csv.defaults.delimiter;var o=[],t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,start:t.start,end:t.end,state:{rowNum:1,colNum:1}};o=r.csv.parsers.parse(e,t);if(!i.callback)return o;i.callback("",o)},toObjects:function(e,t,n){var t=void 0!==t?t:{},i={};i.callback=void 0!==n&&"function"==typeof n&&n;i.separator="separator"in t?t.separator:r.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:r.csv.defaults.delimiter;i.headers="headers"in t?t.headers:r.csv.defaults.headers;t.start="start"in t?t.start:1;i.headers&&t.start++;t.end&&i.headers&&t.end++;var o=[],s=[],t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,start:t.start,end:t.end,state:{rowNum:1,colNum:1},match:!1},a={delimiter:i.delimiter,separator:i.separator,start:1,end:1,state:{rowNum:1,colNum:1}},l=r.csv.parsers.splitLines(e,a),u=r.csv.toArray(l[0],t),o=r.csv.parsers.splitLines(e,t);t.state.colNum=1;u?t.state.rowNum=2:t.state.rowNum=1;for(var c=0,f=o.length;c<f;c++){var p=r.csv.toArray(o[c],t),h={};for(var d in u)h[u[d]]=p[d];s.push(h);t.state.rowNum++}if(!i.callback)return s;i.callback("",s)},fromArrays:function(e,t,n){var t=void 0!==t?t:{},o={};o.callback=void 0!==n&&"function"==typeof n&&n;o.separator="separator"in t?t.separator:r.csv.defaults.separator;o.delimiter="delimiter"in t?t.delimiter:r.csv.defaults.delimiter;o.escaper="escaper"in t?t.escaper:r.csv.defaults.escaper;o.experimental="experimental"in t&&t.experimental;if(!o.experimental)throw new Error("not implemented");var s=[];for(i in e)s.push(e[i]);if(!o.callback)return s;o.callback("",s)},fromObjects2CSV:function(e,t,n){var t=void 0!==t?t:{},o={};o.callback=void 0!==n&&"function"==typeof n&&n;o.separator="separator"in t?t.separator:r.csv.defaults.separator;o.delimiter="delimiter"in t?t.delimiter:r.csv.defaults.delimiter;o.experimental="experimental"in t&&t.experimental;if(!o.experimental)throw new Error("not implemented");var s=[];for(i in e)s.push(arrays[i]);if(!o.callback)return s;o.callback("",s)}};r.csvEntry2Array=r.csv.toArray;r.csv2Array=r.csv.toArrays;r.csv2Dictionary=r.csv.toObjects},{jquery:73}],281:[function(e,t,n){t.exports={_from:"yasgui-yasr@2.12.19",_id:"yasgui-yasr@2.12.19",_inBundle:!1,_integrity:"sha512-s6JNyrGKesvdwzt/evDxL8q22e9hC6AIwQZLsEJfH/rhISlIFNa92Ih2xNFiJQfinT7WbbcK8APj0pcQ4wg2Pg==",_location:"/yasgui-yasr",_phantomChildren:{ms:"2.0.0"},_requested:{type:"version",registry:!0,raw:"yasgui-yasr@2.12.19",name:"yasgui-yasr",escapedName:"yasgui-yasr",rawSpec:"2.12.19",saveSpec:null,fetchSpec:"2.12.19"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/yasgui-yasr/-/yasgui-yasr-2.12.19.tgz",_shasum:"852e1b847865d0da5ece2488c9ae019e77c7be4b",_spec:"yasgui-yasr@2.12.19",_where:"/home/lrd900/yasgui/yasgui.opentriply",author:{name:"Laurens Rietveld"},browserify:{transform:["browserify-shim"]},"browserify-shim":{google:"global:google"},bugs:{url:"https://github.com/YASGUI/YASR/issues/"},bundleDependencies:!1,dependencies:{"browserify-shim":"^3.8.12",codemirror:"^5.17.0",color:"^1.0.3",colorbrewer:"^1.0.0",colormap:"^2.3.0",d3:"^4.1.1","datatables.net":"^1.10.15","datatables.net-dt":"^1.10.15",debug:"^3.1.0",jquery:"^2.2.4","jquery-ui":"1.10.5",leaflet:"^1.2.0",lodash:"^4.16.1","npm-check":"^5.4.5",pivottable:"^2.1.0",wellknown:"^0.5.0","yasgui-utils":"^1.6.7"},deprecated:!1,description:"Yet Another SPARQL Resultset GUI",devDependencies:{"bootstrap-sass":"^3.3.7",browserify:"^13.1.0","browserify-transform-tools":"^1.6.0",exorcist:"^0.4.0",gulp:"^3.9.1","gulp-autoprefixer":"^3.1.0","gulp-bump":"^2.2.0","gulp-clean-css":"^2.0.12","gulp-concat":"^2.6.0","gulp-connect":"^4.2.0","gulp-cssimport":"^3.1.0","gulp-delete-lines":"0.0.7","gulp-embedlr":"^0.5.2","gulp-filter":"^4.0.0","gulp-git":"^2.4.1","gulp-html-replace":"^1.6.1","gulp-jsvalidate":"^2.1.0","gulp-livereload":"^3.8.1","gulp-minify-css":"1.2.4","gulp-notify":"^2.2.0","gulp-rename":"^1.2.2","gulp-sass":"^2.3.2","gulp-sourcemaps":"^1.6.0","gulp-streamify":"1.0.2","gulp-tag-version":"^1.3.0","gulp-uglify":"^1.5.4","node-sass":"^3.8.0","require-dir":"^0.3.2","run-sequence":"^1.2.2","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~1.1.0","vinyl-transform":"1.0.0",watchify:"^3.7.0","yasgui-yasqe":"^2.10.1"},homepage:"http://yasr.yasgui.org",keywords:["JavaScript","SPARQL","Editor","Semantic Web","Linked Data"],license:"MIT",main:"src/main.js",maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",url:"http://laurensrietveld.nl"}],name:"yasgui-yasr",optionalShim:{codemirror:{require:"codemirror",global:"CodeMirror"},jquery:{require:"jquery",global:"jQuery"},"../../lib/codemirror":{require:"codemirror",global:"CodeMirror"},datatables:{require:"datatables",global:"jQuery"},d3:{require:"d3",global:"d3"},"jquery-ui/sortable":{require:"jquery-ui/sortable",global:"jQuery"},pivottable:{require:"pivottable",global:"jQuery"}},repository:{type:"git",url:"git+https://github.com/YASGUI/YASR.git"},scripts:{build:"gulp",dev:"gulp serve",major:"gulp major",minor:"gulp minor",patch:"gulp patch","update-interactive":"npm-check --skip-unused -u"},version:"2.12.19"}},{}],282:[function(e,t,n){"use strict";t.exports=function(e){var t='"',n=",",i="\n",r=e.head.vars,o=e.results.bindings,s=function(){for(var e=0;e<r.length;e++)u(r[e]);f+=i},a=function(){for(var e=0;e<o.length;e++){l(o[e]);f+=i}},l=function(e){for(var t=0;t<r.length;t++){var n=r[t];u(e.hasOwnProperty(n)?e[n].value:"")}},u=function(e){if(c(e)){e.indexOf(t)>=0&&(e=e.replace(new RegExp(t,"g"),t+t));e=t+e+t}f+=" "+e+" "+n},c=function(e){var i=!1;e.match("[\\w|"+n+"|"+t+"]")&&(i=!0);return i},f="";s();a();return f}},{}],283:[function(e,t,n){"use strict";var i=e("jquery"),r=t.exports=function(t){var n=i("<div class='booleanResult'></div>"),r=function(){n.empty().appendTo(t.resultsContainer);var r=t.results.getBoolean(),o=null,s=null;if(r===!0){o="check";s="True"}else if(r===!1){o="cross";s="False"}else{n.width("140");s="Could not find boolean value in response"}o&&e("yasgui-utils").svg.draw(n,e("./imgs.js")[o]);i("<span></span>").text(s).appendTo(n)},o=function(){return t.results.getBoolean&&(t.results.getBoolean()===!0||0==t.results.getBoolean())};return{name:null,draw:r,hideFromSelection:!0,getPriority:10,canHandleResults:o}};r.version={"YASR-boolean":e("../package.json").version,jquery:i.fn.jquery}},{"../package.json":281,"./imgs.js":289,jquery:73,"yasgui-utils":255}],284:[function(e,t,n){"use strict";var i=e("jquery");t.exports={output:"table",useGoogleCharts:!0,outputPlugins:["table","error","boolean","rawResponse","pivot","gchart","leaflet"],pluginSettings:{table:{},error:{},"boolean":{},rawResponse:{},pivot:{},gchart:{},leaflet:{}},drawOutputSelector:!0,drawDownloadIcon:!0,uriTarget:"_blank",onQuotaExceeded:function(e){console.warn("Could not store in localstorage. Skipping..",e)},getUsedPrefixes:null,persistency:{prefix:function(e){return"yasr_"+i(e.container).closest("[id]").attr("id")+"_"},outputSelector:function(e){return"selector"},results:{id:function(e){return"results_"+i(e.container).closest("[id]").attr("id")},key:"results",maxSize:1e5}}}},{jquery:73}],285:[function(e,t,n){"use strict";var i=e("jquery"),r=t.exports=function(e){var t=i("<div class='errorResult'></div>"),n=i.extend(!0,{},r.defaults),o=function(){var e=null;if(n.tryQueryLink){var t=n.tryQueryLink();e=i("<button type='button'>",{"class":"yasr_btn yasr_tryQuery"}).text("Try query in new browser window").click(function(){window.open(t,"_blank");i(this).blur()})}return e},s=function(){var r=e.results.getException();t.empty().appendTo(e.resultsContainer);var s=i("<div>",{"class":"errorHeader"}).appendTo(t);if(0!==r.status){var a="Error";r.statusText&&r.statusText.length<100&&(a=r.statusText);a+=" (#"+r.status+")";s.append(i("<span>",{"class":"exception"}).text(a)).append(o());var l=null;r.responseText?l=r.responseText:"string"==typeof r&&(l=r);l&&t.append(i("<pre>").text(l))}else{s.append(o());t.append(i("<div>",{"class":"corsMessage"}).append(n.corsMessage))}},a=function(e){return e.results.getException()||!1};return{name:null,draw:s,getPriority:20,hideFromSelection:!0,canHandleResults:a}};r.defaults={corsMessage:"Unable to get response from endpoint",tryQueryLink:null}},{jquery:73}],286:[function(e,t,n){t.exports={GoogleTypeException:function(e,t){this.foundTypes=e;this.varName=t;this.toString=function(){var e="Conflicting data types found for variable "+this.varName+'. Assuming all values of this variable are "string".';e+=" To avoid this issue, cast the values in your SPARQL query to the intended xsd datatype";return e};this.toHtml=function(){var e="Conflicting data types found for variable <i>"+this.varName+'</i>. Assuming all values of this variable are "string".';e+=" As a result, several Google Charts will not render values of this particular variable.";e+=" To avoid this issue, cast the values in your SPARQL query to the intended xsd datatype";return e}}}},{}],287:[function(e,t,n){(function(n){var i=e("events").EventEmitter,r=(e("jquery"),!1),o=!1,s=function(){i.call(this);var e=this;this.init=function(){if(o||("undefined"!=typeof window?window.google:"undefined"!=typeof n?n.google:null)||r)("undefined"!=typeof window?window.google:"undefined"!=typeof n?n.google:null)?e.emit("initDone"):o&&e.emit("initError");else{r=!0;a((0===window.location.protocol.indexOf("http")?"//":"http://")+"google.com/jsapi",function(){r=!1;e.emit("initDone")});var t=100,i=6e3,s=+new Date,l=function(){if(!("undefined"!=typeof window?window.google:"undefined"!=typeof n?n.google:null))if(+new Date-s>i){o=!0;r=!1;e.emit("initError")}else setTimeout(l,t)};l()}};this.googleLoad=function(){var t=function(){("undefined"!=typeof window?window.google:"undefined"!=typeof n?n.google:null).load("visualization","1",{packages:["corechart","charteditor"],callback:function(){e.emit("done")}})};if(r){e.once("initDone",t);e.once("initError",function(){e.emit("error","Could not load google loader")})}else if("undefined"!=typeof window?window.google:"undefined"!=typeof n?n.google:null)t();else if(o)e.emit("error","Could not load google loader");else{e.once("initDone",t);e.once("initError",function(){e.emit("error","Could not load google loader")})}}},a=function(e,t){var n=document.createElement("script");n.type="text/javascript";n.readyState?n.onreadystatechange=function(){if("loaded"==n.readyState||"complete"==n.readyState){n.onreadystatechange=null;t()}}:n.onload=function(){t()};n.src=e;document.body.appendChild(n)};s.prototype=new i;t.exports=new s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{events:62,jquery:73}],288:[function(e,t,n){(function(n){"use strict";var i=e("jquery"),r=e("./utils.js"),o=(e("yasgui-utils"),t.exports=function(t){var s=i.extend(!0,{},o.defaults),a=t.container.closest("[id]").attr("id"),l=null,u=null,c=function(e){var r="undefined"!=typeof window?window.google:"undefined"!=typeof n?n.google:null;u=new r.visualization.ChartEditor;r.visualization.events.addListener(u,"ok",function(){var e;l=u.getChartWrapper();e=l.getDataTable();l.setDataTable(null);s.chartConfig=JSON.parse(l.toJSON());s.chartConfig.containerId&&delete s.chartConfig.containerId;t.store();l.setDataTable(e);var n=a+"_gchartWrapper",r=i("#"+n);l.setOption("width",r.width());l.setOption("height",r.height());l.draw();t.updateHeader()});e&&e()};return{name:"Google Chart",hideFromSelection:!1,priority:7,options:s,getPersistentSettings:function(){return{chartConfig:s.chartConfig,motionChartState:s.motionChartState}},setPersistentSettings:function(e){e.chartConfig&&(s.chartConfig=e.chartConfig);e.motionChartState&&(s.motionChartState=e.motionChartState)},canHandleResults:function(e){var t,n;return null!=(t=e.results)&&(n=t.getVariables())&&n.length>0},getDownloadInfo:function(){if(!t.results)return null;var e=t.resultsContainer.find("svg");if(e.length>0)return{getContent:function(){return e[0].outerHTML?e[0].outerHTML:i("<div>").append(e.clone()).html()},filename:"queryResults.svg",contentType:"image/svg+xml",buttonTitle:"Download SVG Image"};var n=t.resultsContainer.find(".google-visualization-table-table");return n.length>0?{getContent:function(){return n.tableToCsv()},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:void 0},getEmbedHtml:function(){if(!t.results)return null;var e=t.resultsContainer.find("svg").clone().removeAttr("height").removeAttr("width").css("height","").css("width","");if(0==e.length)return null;var n=e[0].outerHTML;n||(n=i("<div>").append(e.clone()).html());return'<div style="width: 800px; height: 600px;">\n'+n+"\n</div>"},draw:function(o){var f=i.extend(!0,{},s,o),p=function(){t.resultsContainer.empty();var n=a+"_gchartWrapper";t.resultsContainer.append(i("<button>",{"class":"openGchartBtn yasr_btn",type:"button"}).text("Chart Config").click(function(){u.openDialog(l)})).append(i("<div>",{id:n,"class":"gchartWrapper"}));var o=new google.visualization.DataTable,s=i.extend(!0,{},t.results.getAsJson());s.head.vars.forEach(function(n){var i="string";try{i=r.getGoogleTypeForBindings(s.results.bindings,n)}catch(a){if(!(a instanceof e("./exceptions.js").GoogleTypeException))throw a;t.warn(a.toHtml())}o.addColumn(i,n)});var c=null;t.options.getUsedPrefixes&&(c="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);s.results.bindings.forEach(function(e){var t=[];s.head.vars.forEach(function(n,i){t.push(r.castGoogleType(e[n],c,o.getColumnType(i)))});o.addRow(t)});if(f.chartConfig&&f.chartConfig.chartType){f.chartConfig.containerId=n;l=new google.visualization.ChartWrapper(f.chartConfig);if("MotionChart"===l.getChartType()&&f.motionChartState){l.setOption("state",f.motionChartState);google.visualization.events.addListener(l,"ready",function(){var e;e=l.getChart();google.visualization.events.addListener(e,"statechange",function(){f.motionChartState=e.getState();t.store()})})}l.setDataTable(o)}else l=new google.visualization.ChartWrapper({chartType:"Table",dataTable:o,containerId:n});var p=i("#"+n);l.setOption("width",p.width());l.setOption("height",p.height());l.draw();f.selectHandler&&"function"==typeof f.selectHandler&&google.visualization.events.addListener(l,"select",function(){f.selectHandler(l,s)});google.visualization.events.addListener(l,"ready",t.updateHeader)};("undefined"!=typeof window?window.google:"undefined"!=typeof n?n.google:null)&&("undefined"!=typeof window?window.google:"undefined"!=typeof n?n.google:null).visualization&&u?p():e("./gChartLoader.js").on("done",function(){c();p()}).on("error",function(){}).googleLoad()}}});o.defaults={height:"100%",width:"100%",persistencyId:"gchart",chartConfig:null,motionChartState:null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./exceptions.js":286,"./gChartLoader.js":287,"./utils.js":304,jquery:73,"yasgui-utils":255}],289:[function(e,t,n){"use strict";t.exports={cross:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g>\t<path d="M83.288,88.13c-2.114,2.112-5.575,2.112-7.689,0L53.659,66.188c-2.114-2.112-5.573-2.112-7.687,0L24.251,87.907   c-2.113,2.114-5.571,2.114-7.686,0l-4.693-4.691c-2.114-2.114-2.114-5.573,0-7.688l21.719-21.721c2.113-2.114,2.113-5.573,0-7.686   L11.872,24.4c-2.114-2.113-2.114-5.571,0-7.686l4.842-4.842c2.113-2.114,5.571-2.114,7.686,0L46.12,33.591   c2.114,2.114,5.572,2.114,7.688,0l21.721-21.719c2.114-2.114,5.573-2.114,7.687,0l4.695,4.695c2.111,2.113,2.111,5.571-0.003,7.686   L66.188,45.973c-2.112,2.114-2.112,5.573,0,7.686L88.13,75.602c2.112,2.111,2.112,5.572,0,7.687L83.288,88.13z"/></g></svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path fill="#000000" d="M14.301,49.982l22.606,17.047L84.361,4.903c2.614-3.733,7.76-4.64,11.493-2.026l0.627,0.462  c3.732,2.614,4.64,7.758,2.025,11.492l-51.783,79.77c-1.955,2.791-3.896,3.762-7.301,3.988c-3.405,0.225-5.464-1.039-7.508-3.084  L2.447,61.814c-3.263-3.262-3.263-8.553,0-11.814l0.041-0.019C5.75,46.718,11.039,46.718,14.301,49.982z"/></svg>',unsorted:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,-0.70898699,-0.70898699,0.70522156,97.988199,55.081205)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path7-9"     d="m 8.8748339,52.571766 16.9382111,-0.222584 4.050851,-0.06665 15.719154,-0.222166 0.27778,-0.04246 0.43276,0.0017 0.41632,-0.06121 0.37532,-0.0611 0.47132,-0.119342 0.27767,-0.08206 0.55244,-0.198047 0.19707,-0.08043 0.61095,-0.259721 0.0988,-0.05825 0.019,-0.01914 0.59303,-0.356548 0.11787,-0.0788 0.49125,-0.337892 0.17994,-0.139779 0.37317,-0.336871 0.21862,-0.219786 0.31311,-0.31479 0.21993,-0.259387 c 0.92402,-1.126057 1.55249,-2.512251 1.78961,-4.016904 l 0.0573,-0.25754 0.0195,-0.374113 0.0179,-0.454719 0.0175,-0.05874 -0.0169,-0.258049 -0.0225,-0.493503 -0.0398,-0.355569 -0.0619,-0.414201 -0.098,-0.414812 -0.083,-0.353334 L 53.23955,41.1484 53.14185,40.850967 52.93977,40.377742 52.84157,40.161628 34.38021,4.2507375 C 33.211567,1.9401875 31.035446,0.48226552 28.639484,0.11316952 l -0.01843,-0.01834 -0.671963,-0.07882 -0.236871,0.0042 L 27.335984,-4.7826577e-7 27.220736,0.00379952 l -0.398804,0.0025 -0.313848,0.04043 -0.594474,0.07724 -0.09611,0.02147 C 23.424549,0.60716252 21.216017,2.1142355 20.013025,4.4296865 L 0.93967491,40.894479 c -2.08310801,3.997178 -0.588125,8.835482 3.35080799,10.819749 1.165535,0.613495 2.43199,0.88731 3.675026,0.864202 l 0.49845,-0.02325 0.410875,0.01658 z M 9.1502369,43.934401 9.0136999,43.910011 27.164145,9.2564625 44.70942,43.42818 l -14.765289,0.214677 -4.031106,0.0468 -16.7627881,0.244744 z" /></svg>',sortDesc:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,-0.70898699,-0.70898699,0.70522156,97.988199,55.081205)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path9"     d="m 27.813273,0.12823506 0.09753,0.02006 c 2.39093,0.458209 4.599455,1.96811104 5.80244,4.28639004 L 52.785897,40.894525 c 2.088044,4.002139 0.590949,8.836902 -3.348692,10.821875 -1.329078,0.688721 -2.766603,0.943695 -4.133174,0.841768 l -0.454018,0.02 L 27.910392,52.354171 23.855313,52.281851 8.14393,52.061827 7.862608,52.021477 7.429856,52.021738 7.014241,51.959818 6.638216,51.900838 6.164776,51.779369 5.889216,51.699439 5.338907,51.500691 5.139719,51.419551 4.545064,51.145023 4.430618,51.105123 4.410168,51.084563 3.817138,50.730843 3.693615,50.647783 3.207314,50.310611 3.028071,50.174369 2.652795,49.833957 2.433471,49.613462 2.140099,49.318523 1.901127,49.041407 C 0.97781,47.916059 0.347935,46.528448 0.11153,45.021676 L 0.05352,44.766255 0.05172,44.371683 0.01894,43.936017 0,43.877277 0.01836,43.62206 0.03666,43.122889 0.0765,42.765905 0.13912,42.352413 0.23568,41.940425 0.32288,41.588517 0.481021,41.151945 0.579391,40.853806 0.77369,40.381268 0.876097,40.162336 19.338869,4.2542801 c 1.172169,-2.308419 3.34759,-3.76846504 5.740829,-4.17716604 l 0.01975,0.01985 0.69605,-0.09573 0.218437,0.0225 0.490791,-0.02132 0.39809,0.0046 0.315972,0.03973 0.594462,0.08149 z" /></svg>',
sortAsc:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,0.70898699,-0.70898699,-0.70522156,97.988199,58.704807)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path9"     d="m 27.813273,113.65778 0.09753,-0.0201 c 2.39093,-0.45821 4.599455,-1.96811 5.80244,-4.28639 L 52.785897,72.891487 c 2.088044,-4.002139 0.590949,-8.836902 -3.348692,-10.821875 -1.329078,-0.688721 -2.766603,-0.943695 -4.133174,-0.841768 l -0.454018,-0.02 -16.939621,0.223997 -4.055079,0.07232 -15.711383,0.220024 -0.281322,0.04035 -0.432752,-2.61e-4 -0.415615,0.06192 -0.376025,0.05898 -0.47344,0.121469 -0.27556,0.07993 -0.550309,0.198748 -0.199188,0.08114 -0.594655,0.274528 -0.114446,0.0399 -0.02045,0.02056 -0.59303,0.35372 -0.123523,0.08306 -0.486301,0.337172 -0.179243,0.136242 -0.375276,0.340412 -0.219324,0.220495 -0.293372,0.294939 -0.238972,0.277116 C 0.97781,65.869953 0.347935,67.257564 0.11153,68.764336 L 0.05352,69.019757 0.05172,69.414329 0.01894,69.849995 0,69.908735 l 0.01836,0.255217 0.0183,0.499171 0.03984,0.356984 0.06262,0.413492 0.09656,0.411988 0.0872,0.351908 0.158141,0.436572 0.09837,0.298139 0.194299,0.472538 0.102407,0.218932 18.462772,35.908054 c 1.172169,2.30842 3.34759,3.76847 5.740829,4.17717 l 0.01975,-0.0199 0.69605,0.0957 0.218437,-0.0225 0.490791,0.0213 0.39809,-0.005 0.315972,-0.0397 0.594462,-0.0815 z" /></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" baseProfile="tiny" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 100 100" xml:space="preserve"><g id="Captions"></g><g id="Your_Icon">\t<path fill-rule="evenodd" fill="#000000" d="M88,84v-2c0-2.961-0.859-4-4-4H16c-2.961,0-4,0.98-4,4v2c0,3.102,1.039,4,4,4h68   C87.02,88,88,87.039,88,84z M58,12H42c-5,0-6,0.941-6,6v22H16l34,34l34-34H64V18C64,12.941,62.939,12,58,12z"/></g></svg>',move:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_11656_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="753"     inkscape:window-height="480"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="287"     inkscape:window-y="249"     inkscape:window-maximized="0"     inkscape:current-layer="Layer_1" /><polygon     points="33,83 50,100 67,83 54,83 54,17 67,17 50,0 33,17 46,17 46,83 "          transform="translate(-7.962963,-10)" /><polygon     points="83,67 100,50 83,33 83,46 17,46 17,33 0,50 17,67 17,54 83,54 "          transform="translate(-7.962963,-10)" /></svg>',fullscreen:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"      x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_2186_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="640"     inkscape:window-height="480"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="0"     inkscape:current-layer="Layer_1" /><path     d="m -7.962963,-10 v 38.889 l 16.667,-16.667 16.667,16.667 5.555,-5.555 -16.667,-16.667 16.667,-16.667 h -38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 92.037037,-10 v 38.889 l -16.667,-16.667 -16.666,16.667 -5.556,-5.555 16.666,-16.667 -16.666,-16.667 h 38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="M -7.962963,90 V 51.111 l 16.667,16.666 16.667,-16.666 5.555,5.556 -16.667,16.666 16.667,16.667 h -38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="M 92.037037,90 V 51.111 l -16.667,16.666 -16.666,-16.666 -5.556,5.556 16.666,16.666 -16.666,16.667 h 38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /></svg>',smallscreen:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"      x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_2186_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="1855"     inkscape:window-height="1056"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="1"     inkscape:current-layer="Layer_1" /><path     d="m 30.926037,28.889 0,-38.889 -16.667,16.667 -16.667,-16.667 -5.555,5.555 16.667,16.667 -16.667,16.667 38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 53.148037,28.889 0,-38.889 16.667,16.667 16.666,-16.667 5.556,5.555 -16.666,16.667 16.666,16.667 -38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 30.926037,51.111 0,38.889 -16.667,-16.666 -16.667,16.666 -5.555,-5.556 16.667,-16.666 -16.667,-16.667 38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 53.148037,51.111 0,38.889 16.667,-16.666 16.666,16.666 5.556,-5.556 -16.666,-16.666 16.666,-16.667 -38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /></svg>'}},{}],290:[function(e,t,n){e("./tableToCsv.js")},{"./tableToCsv.js":291}],291:[function(e,t,n){"use strict";var i=e("jquery");i.fn.tableToCsv=function(e){var t="";e=i.extend({quote:'"',delimiter:",",lineBreak:"\n"},e);var n=function(t){var n=!1;t.match("[\\w|"+e.delimiter+"|"+e.quote+"]")&&(n=!0);return n},r=function(i){i.replace(e.quote,e.quote+e.quote);n(i)&&(i=e.quote+i+e.quote);t+=" "+i+" "+e.delimiter},o=function(n){n.forEach(function(e){r(e)});t+=e.lineBreak},s=i(this),a={},l=0;s.find("tr:first *").each(function(){i(this).attr("colspan")?l+=+i(this).attr("colspan"):l++});s.find("tr").each(function(e,t){for(var n=i(t),r=[],s=0,u=0;u<l;)if(a[u]){r.push(a[u].text);a[u].rowSpan--;a[u].rowSpan||(a[u]=null);u++}else{var c=n.find(":nth-child("+(s+1)+")");if(!c)break;for(var f=c.attr("colspan")||1,p=c.attr("rowspan")||1,h=0;h<f;h++){r.push(c.text());p>1&&(a[u]={rowSpan:p-1,text:c.text()});u++}s++}o(r)});return t}},{jquery:73}],292:[function(e,t,n){"use strict";function i(e,t){if(!(t>1||t<0)&&e.length){var n;u[e.toLowerCase()]?n=u[e.toLowerCase()]:p[e]&&(n=a({colormap:e}));if(n&&n.length){var i=Math.max(Math.round(t*n.length)-1,0);return n[i]}}}var r=e("jquery"),o=e("color"),s=e("wellknown"),a=e("colormap"),l=e("colorbrewer"),u={};for(var c in l){var f=[];r.each(l[c],function(e,t){t.length>f.length&&(f=t)});u[c.toLowerCase()]=f}var p=e("colormap/colorScale"),h=t.exports=function(e){var t=r.extend(!0,{},h.defaults),n=o(t.defaultColor),a=t.defaultStyle,l=function(e){var t=e.fill.lighten(.3).toString(),n=e.border.lighten(.3).toString(),i=""+Math.random();return'<svg xmlns="http://www.w3.org/2000/svg" width="25" height="40"><defs><linearGradient id="'+i+'c"><stop offset="0" stop-color="'+e.fill.toString()+'"/><stop offset="1" stop-color="'+t+'"/></linearGradient><linearGradient id="'+i+'d"><stop offset="0" stop-color="'+e.border.toString()+'"/><stop offset="1" stop-color="'+n+'"/></linearGradient><linearGradient xlink:href="#a" x1="351.1" y1="551.6" x2="351.1" y2="512.9" gradientUnits="userSpaceOnUse" gradientTransform="translate(-2.715)"/><linearGradient xlink:href="#a" x1="318.6" y1="550.1" x2="318.6" y2="512.4" gradientUnits="userSpaceOnUse" gradientTransform="translate(94.732,2.054)"/><linearGradient xlink:href="#a" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-1,0,0,1,731.268,2.054)" x1="318.6" y1="550.1" x2="318.6" y2="512.4"/><linearGradient xlink:href="#a" gradientUnits="userSpaceOnUse" gradientTransform="translate(94.232,2.054)" x1="318.6" y1="550.1" x2="318.6" y2="512.4"/><linearGradient xlink:href="#a" gradientUnits="userSpaceOnUse" gradientTransform="translate(-28.58,-0.437)" x1="445.3" y1="541.3" x2="445.3" y2="503.7"/><linearGradient xlink:href="#b" gradientUnits="userSpaceOnUse" gradientTransform="translate(63,-0.438)" x1="351.7" y1="522.8" x2="351.7" y2="503.7"/><linearGradient xlink:href="#a" gradientUnits="userSpaceOnUse" gradientTransform="translate(-28.58,-0.437)" x1="445.3" y1="541.3" x2="445.3" y2="503.7"/><linearGradient xlink:href="#b" gradientUnits="userSpaceOnUse" gradientTransform="translate(63,-0.438)" x1="351.7" y1="522.8" x2="351.7" y2="503.7"/><linearGradient xlink:href="#a" gradientUnits="userSpaceOnUse" gradientTransform="translate(-28.58,-0.437)" x1="445.3" y1="541.3" x2="445.3" y2="503.7"/><linearGradient xlink:href="#b" gradientUnits="userSpaceOnUse" gradientTransform="translate(63,-0.438)" x1="351.7" y1="522.8" x2="351.7" y2="503.7"/><linearGradient xlink:href="#a" gradientUnits="userSpaceOnUse" gradientTransform="translate(-432.796,-503.349)" x1="445.3" y1="541.3" x2="445.3" y2="503.7"/><linearGradient xlink:href="#b" gradientUnits="userSpaceOnUse" gradientTransform="translate(-341.216,-503.35)" x1="351.7" y1="522.8" x2="351.7" y2="503.7"/><linearGradient xlink:href="#a" gradientUnits="userSpaceOnUse" gradientTransform="translate(-28.846,-0.287)" x1="445.3" y1="541.3" x2="445.3" y2="503.7"/><linearGradient xlink:href="#b" gradientUnits="userSpaceOnUse" gradientTransform="translate(62.734,-0.288)" x1="351.7" y1="522.8" x2="351.7" y2="503.7"/></defs><rect y="4.5" x="6.3" height="14.5" width="12.6" fill="#fff"/><path d="M12.6 0.6C6 0.6 0.6 6.2 0.6 12.4c0 2.8 1.6 6.3 2.7 8.7l9.3 17.9 9.3-17.9c1.1-2.4 2.7-5.8 2.7-8.7 0-6.2-5.4-11.9-12-11.9zm0 7.2c2.6 0 4.7 2.1 4.7 4.7 0 2.6-2.1 4.7-4.7 4.7-2.6 0-4.7-2.1-4.7-4.7 0-2.6 2.1-4.7 4.7-4.7z" style="fill:url(#'+i+"c);stroke:url(#"+i+'d)"/><path d="m12.6 1.7c-5.9 0-10.9 5.2-10.9 10.8 0 2.4 1.4 5.8 2.6 8.3l0 0 8.3 16 8.3-16 0 0c1.1-2.4 2.6-5.7 2.6-8.2 0-5.5-4.9-10.7-10.9-10.7zm0 5c3.2 0 5.8 2.6 5.8 5.8 0 3.2-2.6 5.8-5.8 5.8-3.2 0-5.7-2.6-5.7-5.8 0-3.2 2.6-5.8 5.8-5.8z" style="fill:none;stroke-opacity:0.1;stroke:#fff"/></svg>'},u=function(){function u(n){n.on("dblclick",f);var i=t.formatPopup&&t.formatPopup(e,L,E,T);if(i){x=!0;n.bindPopup(i)}}var c=t.L,f=function(e){m.setView(e.latlng,15)},h=p();if(0===h.length)return r('<div class="leaflet">Nothing to draw</div>').appendTo(e.resultsContainer);var d=r('<div class="leaflet"/>').appendTo(e.resultsContainer),g=t.map;g||(g=t.maps[t.defaultMap||"osm"]);if(g){var m=new c.Map(d.get()[0],g(e,L)),v=t.defaultOverlay;v&&c.control.layers(null,v).addTo(m);if(t.clickBeforeInteract){m.scrollWheelZoom.disable();m.on("focus",function(){m.scrollWheelZoom.enable()});m.on("blur",function(){m.scrollWheelZoom.disable()})}for(var y=[],b=e.results.getBindings(),x=!1,_=0;_<h.length;_++)for(var E=h[_],w=0;w<b.length;w++){var T=b[w];if(T[E]&&T[E].value){var S=function(){var e=T[E+"Color"];if(e){var t=e.value,r=t.split(",");if(2===r.length){var s=i(r[0].trim(),r[1].trim());s&&(t=s)}try{return o(t)}catch(a){return o("grey")}}return n},C={fill:S()};C.border=C.fill.saturate(.2);var N=c.divIcon({iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-41],html:l(C)}),I=r.extend({},a,{icon:N,color:C.fill.toString()}),A=s(T[E].value);if(A){var R=c.geoJson(A,{style:I,pointToLayer:function(e,t){return c.marker(t,{icon:N})}}),O=t.formatPopup&&t.formatPopup(e,L,E,T);if(O){var P;R.getBounds?P=R.getBounds().getCenter():R.getLatLng&&(P=R.getLatLng());P&&u("Point"===A.type?R:c.marker(P,{icon:N}).addTo(m))}y.push(R)}else console.error("Failed to read WKT value: "+T[E].value)}}if(y.length)try{var k=new c.featureGroup(y).addTo(m);m.fitBounds(k.getBounds())}catch(M){throw M}if(!x&&t.missingPopupMsg){var D=null;"string"==typeof t.missingPopupMsg?D=t.missingPopupMsg:"function"==typeof t.missingPopupMsg&&(D=t.missingPopupMsg(e,L,h));D&&e.resultsContainer.prepend(r('<div className="geoHint">').html(D))}}else console.error("Could not find leaflet configuration for map "+t.defaultMap)},c=["POINT","POLYGON","LINESTRING","MULTIPOINT","MULTILINESTRING","MULTIPOLYGON"],f=function(e){e=e.trim().toUpperCase();for(var t=0;t<c.length;t++)if(0===e.indexOf(c[t])){if(!s(e)){console.error("Failed to parse WKT value "+e);continue}return!0}return!1},p=function(){if(!e.results)return[];var t=e.results.getBindings();if(!t||0===t.length)return[];for(var n=[],i=[],r=0;r<t.length;r++){var o=t[r];for(var s in o)if(i.indexOf(s)===-1&&o[s].value){i.push(s);f(o[s].value)&&n.push(s)}if(i.length===e.results.getVariables().length)break}return n},d=function(){return p().length>0};return{draw:u,name:"Geo",canHandleResults:d,getPriority:2}},d={osm:function(e,t){return{layers:[new t.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'})]}},nlmaps:function(e,t){return{layers:[new t.tileLayer("https://geodata.nationaalgeoregister.nl/tiles/service/wmts/brtachtergrondkaart/EPSG:3857/{z}/{x}/{y}.png",{attribution:'NLMaps | Kaartgegevens © Kadaster | <a href="http://www.verbeterdekaart.nl/" target="_blank">verbeter de kaart</a>'})]}},chmaps:function(e,t){var n="https://wmts10.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",i='Map data &copy; <a href="https://www.swisstopo.admin.ch/">swisstopo</a> , ',r=new t.tileLayer(n,{id:"stopo.light",attribution:i,minZoom:4,maxZoom:19});return{layers:[r],crs:t.CRS.EPSG3857,continuousWorld:!0,worldCopyJump:!1}}};h.defaults={maps:d,L:e("leaflet"),formatPopup:function(e,t,n,i){var r=i[n+"Label"];if(r&&r.value)return"uri"===r.type?'<a href="'+r.value+'" target="_blank">'+r.value+"</a>":r.value},missingPopupMsg:function(e,t,n){if(n&&n.length)return"<small>Tip: Add a label variable prefixed with the geo variable name to show popups on the map. E.g. <code>"+n[0]+"Label</code>. Or, append <code>Color</code> to change the color of the shape or marker.</small>"},disabledTitle:"Query for geo variables in WKT format to plot them on a map",defaultColor:"#2e6c97",clickBeforeInteract:!1,defaultStyle:{},defaultOverlay:null,defaultMap:"osm"};h.version={leaflet:h.defaults.L.version}},{color:25,colorbrewer:26,colormap:28,"colormap/colorScale":27,jquery:73,leaflet:74,wellknown:251}],293:[function(e,t,n){"use strict";var i=e("jquery"),r=e("events").EventEmitter,o=e("yasgui-utils");console=console||{log:function(){}};e("./jquery/extendJquery.js");var s=function(n,s,a){r.call(this);var l=this;l.options=i.extend(!0,{},t.exports.defaults,s);s&&s.outputPlugins&&(l.options.outputPlugins=s.outputPlugins);l.container=i("<div class='yasr'></div>").appendTo(n);l.header=i("<div class='yasr_header'></div>").appendTo(l.container);l.resultsContainer=i("<div class='yasr_results'></div>").appendTo(l.container);l.storage=o.storage;var u=null;l.getPersistencyId=function(e){null===u&&(u=!(!l.options.persistency||!l.options.persistency.prefix)&&("string"==typeof l.options.persistency.prefix?l.options.persistency.prefix:l.options.persistency.prefix(l)));return u&&null!=e?u+("string"==typeof e?e:e(l)):null};l.options.useGoogleCharts&&e("./gChartLoader.js").once("initError",function(){l.options.useGoogleCharts=!1}).init();l.plugins={};for(var c in t.exports.plugins)(l.options.useGoogleCharts||"gchart"!=c)&&(l.plugins[c]=new t.exports.plugins[c](l));l.updateHeader=function(){var e=l.header.find(".yasr_downloadIcon").removeAttr("title"),t=l.header.find(".yasr_embedBtn"),n=l.plugins[l.options.output];if(n){var i=n.getDownloadInfo?n.getDownloadInfo():null;if(i){i.buttonTitle&&e.attr("title",i.buttonTitle);e.prop("disabled",!1);e.find("path").each(function(){this.style.fill="black"})}else{e.prop("disabled",!0).prop("title","Download not supported for this result representation");e.find("path").each(function(){this.style.fill="gray"})}var r=null;n.getEmbedHtml&&(r=n.getEmbedHtml());r&&r.length>0?t.show():t.hide()}};l.draw=function(e){if(!l.results)return!1;e||(e=l.options.output);var t=null,n=-1,r=[];for(var o in l.plugins)if(l.plugins[o].canHandleResults(l)){var s=l.plugins[o].getPriority;"function"==typeof s&&(s=s(l));if(null!=s&&void 0!=s&&s>n){n=s;t=o}}else r.push(o);p(r);var a=null;e in l.plugins&&l.plugins[e].canHandleResults(l)?a=e:t&&(a=t);if(a){if(l.options.output!==a){l.options.output=a;f()}i(l.resultsContainer).empty();l.emit("draw",l,l.plugins[a]);l.plugins[a].draw(l.options.pluginSettings[a]||{});l.emit("drawn",l,l.plugins[a]);l.updateHeader();return!0}l.updateHeader();return!1};var f=function(){var e=l.header.find(".yasr_btnGroup .yasr_btn").removeClass("selected");e.filter(".select_"+l.options.output).addClass("selected")},p=function(e){l.header.find(".yasr_btnGroup .yasr_btn").removeClass("disabled").removeAttr("disabled");e.forEach(function(e){var n;t.exports.plugins[e]&&t.exports.plugins[e].defaults&&(n=t.exports.plugins[e].defaults.disabledTitle);l.header.find(".yasr_btnGroup .select_"+e).addClass("disabled").attr("title",n||"").attr("disabled",!0)})};l.somethingDrawn=function(){return!l.resultsContainer.is(":empty")};l.setResponse=function(t,n,i){try{l.results=e("./parsers/wrapper.js")(t,n,i)}catch(r){console.log(r);l.results={getException:function(){return r}}}l.draw();var s=l.getPersistencyId(l.options.persistency.results.key);s&&(!l.results.getException()&&l.results.getOriginalResponseAsString&&l.results.getOriginalResponseAsString().length<l.options.persistency.results.maxSize?o.storage.set(s,l.results.getAsStoreObject(),"month",l.options.onQuotaExceeded):o.storage.remove(s))};var h=null,d=null,g=null;l.warn=function(e){if(!h){h=i("<div>",{"class":"toggableWarning"}).prependTo(l.container).hide();d=i("<span>",{"class":"toggleWarning"}).html("&times;").click(function(){h.hide(400)}).appendTo(h);g=i("<span>",{"class":"toggableMsg"}).appendTo(h)}g.empty();e instanceof i?g.append(e):g.html(e);h.show(400)};var m=null,v=function(){if(null===m){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;m=e&&Blob}return m},y=null,b=function(t){var n=function(){var e=i('<div class="yasr_btnGroup"></div>');i.each(t.options.outputPlugins,function(n,r){var o=t.plugins[r];if(o&&!o.hideFromSelection){var s=o.name||r,a=i("<button type='button' class='yasr_btn'></button>").text(s).addClass("select_"+r).click(function(){e.find("button.selected").removeClass("selected");i(this).addClass("selected");t.options.output=r;t.store();h&&h.hide(400);t.draw()}).appendTo(e);t.options.output==r&&a.addClass("selected")}});e.children().length>1&&t.header.append(e)},r=function(){var n=function(e,t){var n=null,i=window.URL||window.webkitURL||window.mozURL||window.msURL;if(i&&Blob){var r=new Blob([e],{type:t});n=i.createObjectURL(r)}return n},r=i("<button type='button' class='yasr_btn yasr_downloadIcon btn_icon'></button>").append(e("yasgui-utils").svg.getElement(e("./imgs.js").download)).click(function(){var r=t.plugins[t.options.output];if(r&&r.getDownloadInfo){var o=r.getDownloadInfo(),s=n(o.getContent(),o.contentType?o.contentType:"text/plain"),a=i("<a></a>",{href:s,download:o.filename});e("./utils.js").fireClick(a)}});t.header.append(r)},o=function(){var n=i("<button type='button' class='yasr_btn btn_fullscreen btn_icon'></button>").append(e("yasgui-utils").svg.getElement(e("./imgs.js").fullscreen)).click(function(){t.container.addClass("yasr_fullscreen");t.draw();t.emit("fullscreen-enter",t)});t.header.append(n)},s=function(){var n=i("<button type='button' class='yasr_btn btn_smallscreen btn_icon'></button>").append(e("yasgui-utils").svg.getElement(e("./imgs.js").smallscreen)).click(function(){t.container.removeClass("yasr_fullscreen");t.draw();t.emit("fullscreen-leave",t)});t.header.append(n)},a=function(){y=i("<button type='button'>",{"class":"yasr_btn yasr_embedBtn",title:"Get HTML snippet to embed results on a web page"}).text("</>").click(function(e){var n=t.plugins[t.options.output];if(n&&n.getEmbedHtml){var r=n.getEmbedHtml();e.stopPropagation();var o=i("<div class='yasr_embedPopup'></div>").appendTo(t.header);i("html").click(function(){o&&o.remove()});o.click(function(e){e.stopPropagation()});var s=i("<textarea>").val(r);s.focus(function(){var e=i(this);e.select();e.mouseup(function(){e.unbind("mouseup");return!1})});o.empty().append(s);var a=y.position(),l=a.top+y.outerHeight()+"px",u=Math.max(a.left+y.outerWidth()-o.outerWidth(),0)+"px";o.css("top",l).css("left",u)}});t.header.append(y)};o();s();t.options.drawOutputSelector&&n();t.options.drawDownloadIcon&&v()&&r();a()},x=null;l.store=function(){x||(x=l.getPersistencyId("main"));x&&o.storage.set(x,l.getPersistentSettings(),null,l.options.onQuotaExceeded)};l.load=function(){x||(x=l.getPersistencyId("main"));l.setPersistentSettings(o.storage.get(x))};l.setPersistentSettings=function(e){if(e){e.output&&(l.options.output=e.output);for(var t in e.plugins)l.plugins[t]&&l.plugins[t].setPersistentSettings&&l.plugins[t].setPersistentSettings(e.plugins[t])}};l.getPersistentSettings=function(){var e={output:l.options.output,plugins:{}};for(var t in l.plugins)l.plugins[t].getPersistentSettings&&(e.plugins[t]=l.plugins[t].getPersistentSettings());return e};l.load();b(l);if(!a&&l.options.persistency&&l.options.persistency.results){var _,E=l.getPersistencyId(l.options.persistency.results.key);E&&(_=o.storage.get(E));if(!_&&l.options.persistency.results.id){var w="string"==typeof l.options.persistency.results.id?l.options.persistency.results.id:l.options.persistency.results.id(l);if(w){_=o.storage.get(w);_&&o.storage.remove(w)}}_&&(i.isArray(_)?l.setResponse.apply(this,_):l.setResponse(_))}a&&l.setResponse(a);l.updateHeader();return l};s.prototype=new r;t.exports=function(e,t,n){return new s(e,t,n)};t.exports.plugins={};t.exports.registerOutput=function(e,n){t.exports.plugins[e]=n};t.exports.defaults=e("./defaults.js");t.exports.version={YASR:e("../package.json").version,jquery:i.fn.jquery,"yasgui-utils":e("yasgui-utils").version};t.exports.$=i;try{t.exports.registerOutput("boolean",e("./boolean.js"))}catch(a){console.warn(a)}try{t.exports.registerOutput("rawResponse",e("./rawResponse.js"))}catch(a){console.warn(a)}try{t.exports.registerOutput("leaflet",e("./leaflet.js"))}catch(a){console.warn(a)}try{t.exports.registerOutput("table",e("./table.js"))}catch(a){console.warn(a)}try{t.exports.registerOutput("error",e("./error.js"))}catch(a){console.warn(a)}try{t.exports.registerOutput("pivot",e("./pivot.js"))}catch(a){console.warn(a)}try{t.exports.registerOutput("gchart",e("./gchart.js"))}catch(a){console.warn(a)}},{"../package.json":281,"./boolean.js":283,"./defaults.js":284,"./error.js":285,"./gChartLoader.js":287,"./gchart.js":288,"./imgs.js":289,"./jquery/extendJquery.js":290,"./leaflet.js":292,"./parsers/wrapper.js":299,"./pivot.js":301,"./rawResponse.js":302,"./table.js":303,"./utils.js":304,events:62,jquery:73,"yasgui-utils":255}],294:[function(e,t,n){"use strict";e("jquery"),t.exports=function(t){return e("./dlv.js")(t,",")}},{"./dlv.js":295,jquery:73}],295:[function(e,t,n){"use strict";var i=e("jquery");e("../../lib/jquery.csv-0.71.js");t.exports=function(e,t,n){n=n||{};var r={},o=i.csv.toArrays(e,{separator:t}),s=function(e){return 0==e.indexOf("http")?"uri":null},a=function(){if(2==o.length&&1==o[0].length&&1==o[1].length&&"boolean"==o[0][0]&&("1"==o[1][0]||"0"==o[1][0])){r["boolean"]="1"==o[1][0];return!0}return!1},l=function(){if(o.length>0&&o[0].length>0){r.head={vars:o[0].map(function(e){return n.mapVariable?n.mapVariable(e):e})};return!0}return!1},u=function(){if(o.length>1){r.results={bindings:[]};for(var e=1;e<o.length;e++){for(var t={},i=0;i<o[e].length;i++){var a=r.head.vars[i];if(a){var l=n.mapValue?n.mapValue(o[e][i]):o[e][i],u=s(l);t[a]={value:l};u&&(t[a].type=u)}}r.results.bindings.push(t)}return!0}return!1},c=a();if(!c){var f=l();f&&u()}return r}},{"../../lib/jquery.csv-0.71.js":280,jquery:73}],296:[function(e,t,n){"use strict";var i=(e("jquery"),e("lodash/map")),r=e("lodash/reduce"),o=function(e){if("object"==typeof e){"bnode"==e.type&&(e.value=e.value.slice(2));return e}return 0==e.indexOf("_:")?{type:"bnode",value:e.slice(2)}:{type:"uri",value:e}};t.exports=function(e){if(e){var t=!1,n=i(e,function(e,n){return i(e,function(e,r){return i(e,function(e){if(e.graphs){t=!0;return i(e.graphs,function(t){return[o(n),o(r),o(e),o(t)]})}return[o(n),o(r),o(e)]})})}),s=r(n,function(e,t){return e.concat(t)},[]);s=r(s,function(e,t){return e.concat(t)},[]);var a;if(t){s=r(s,function(e,t){return e.concat(t)},[]);a=s.map(function(e){return{subject:e[0],predicate:e[1],object:e[2],context:e[3]}})}else a=s.map(function(e){return{subject:e[0],predicate:e[1],object:e[2]}});var l=t?["subject","predicate","object","context"]:["subject","predicate","object"];return{head:{vars:l},results:{bindings:a}}}return!1}},{jquery:73,"lodash/map":193,"lodash/reduce":196}],297:[function(e,t,n){"use strict";e("jquery"),t.exports=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return!1}return"object"==typeof e&&e.constructor==={}.constructor&&e}},{jquery:73}],298:[function(e,t,n){"use strict";e("jquery"),t.exports=function(t){return e("./dlv.js")(t,"\t",{mapVariable:function(e){return"?"===e[0]?e.substring(1):e},mapValue:function(e){return"<"===e[0]&&">"===e[e.length-1]?e.substring(1,e.length-1):e}})}},{"./dlv.js":295,jquery:73}],299:[function(e,t,n){"use strict";e("jquery"),t.exports=function(t,n,i){var r={xml:e("./xml.js"),json:e("./json.js"),tsv:e("./tsv.js"),csv:e("./csv.js"),graphJson:e("./graphJson.js")},o=null,s=null,a=null,l=null,u=null,c=function(){if("object"==typeof t){if(t.exception)u=t.exception;else if(void 0!=t.status&&(t.status>=300||0===t.status)){u={status:t.status};"string"==typeof i&&(u.errorString=i);t.responseText&&(u.responseText=t.responseText);t.statusText&&(u.statusText=t.statusText)}if(t.contentType)o=t.contentType.toLowerCase();else if(t.getResponseHeader&&t.getResponseHeader("content-type")){var e=t.getResponseHeader("content-type").trim().toLowerCase();e.length>0&&(o=e)}t.response?s=t.response:n||i||(s=t)}u||s||(s=t.responseText?t.responseText:t)},f=function(){if(a)return a;if(a===!1||u)return!1;var e=function(){if(o)if(o.indexOf("json")>-1){try{o.indexOf("sparql-results+json")>-1?a=r.json(s):o.indexOf("application/rdf+json")>-1&&(a=r.graphJson(r.json(s)))}catch(e){u=e}l="json"}else if(o.indexOf("xml")>-1){try{a=r.xml(s)}catch(e){u=e}l="xml"}else if(o.indexOf("csv")>-1){try{a=r.csv(s)}catch(e){u=e}l="csv"}else if(o.indexOf("tab-separated")>-1){try{a=r.tsv(s)}catch(e){u=e}l="tsv"}},t=function(){a=r.json(s);if(a)l="json";else try{a=r.xml(s);a&&(l="xml")}catch(e){}};e();a||t();a||(a=!1);return a},p=function(){var e=f();return e&&"head"in e?e.head.vars:null},h=function(){var e=f();return e&&"results"in e?e.results.bindings:null},d=function(){var e=f();return e&&"boolean"in e?e["boolean"]:null},g=function(){return s},m=function(){var e="";"string"==typeof s?e=s:"json"==l?e=JSON.stringify(s,void 0,2):"xml"==l&&(e=(new XMLSerializer).serializeToString(s));return e},v=function(){return u},y=function(){null==l&&f();return l},b=function(){var e={};if(t.status){e.status=t.status;e.responseText=t.responseText;e.statusText=t.statusText;e.contentType=o}else e=t;var r=n,s=void 0;"string"==typeof i&&(s=i);return[e,r,s]};c();a=f();return{getAsStoreObject:b,getAsJson:f,getOriginalResponse:g,getOriginalResponseAsString:m,getOriginalContentType:function(){return o},getVariables:p,getBindings:h,getBoolean:d,getType:y,getException:v}}},{"./csv.js":294,"./graphJson.js":296,"./json.js":297,"./tsv.js":298,"./xml.js":300,jquery:73}],300:[function(e,t,n){"use strict";var i=e("jquery");t.exports=function(e){var t=function(e){s.head={};for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if("variable"==n.nodeName){s.head.vars||(s.head.vars=[]);var i=n.getAttribute("name");i&&s.head.vars.push(i)}}},n=function(e){s.results={};s.results.bindings=[];
for(var t=0;t<e.childNodes.length;t++){for(var n=e.childNodes[t],i=null,r=0;r<n.childNodes.length;r++){var o=n.childNodes[r];if("binding"==o.nodeName){var a=o.getAttribute("name");if(a){i=i||{};i[a]={};for(var l=0;l<o.childNodes.length;l++){var u=o.childNodes[l],c=u.nodeName;if("#text"!=c){i[a].type=c;i[a].value=u.innerHTML;var f=u.getAttribute("datatype");f&&(i[a].datatype=f)}}}}}i&&s.results.bindings.push(i)}},r=function(e){"true"==e.innerHTML?s["boolean"]=!0:s["boolean"]=!1},o=null;"string"==typeof e?o=i.parseXML(e):i.isXMLDoc(e)&&(o=e);var e=null;if(!(o.childNodes.length>0))return null;e=o.childNodes[0];for(var s={},a=0;a<e.childNodes.length;a++){var l=e.childNodes[a];"head"==l.nodeName&&t(l);"results"==l.nodeName&&n(l);"boolean"==l.nodeName&&r(l)}return s}},{jquery:73}],301:[function(e,t,n){"use strict";var i=e("jquery"),r=e("./utils.js"),o=e("yasgui-utils"),s=e("./imgs.js");e("jquery-ui/sortable");e("pivottable");if(!i.fn.pivotUI)throw new Error("Pivot lib not loaded");var a=t.exports=function(t){var n=i.extend(!0,{},a.defaults);if(n.useD3Chart){try{var l=e("d3");l&&e("pivottable/dist/d3_renderers.js")}catch(u){}i.pivotUtilities.d3_renderers&&i.extend(!0,i.pivotUtilities.renderers,i.pivotUtilities.d3_renderers)}var c,f=null,p=function(){var e=t.results.getVariables();if(!n.mergeLabelsWithUris)return e;var i=[];f="string"==typeof n.mergeLabelsWithUris?n.mergeLabelsWithUris:"Label";e.forEach(function(t){t.indexOf(f,t.length-f.length)!==-1&&e.indexOf(t.substring(0,t.length-f.length))>=0||i.push(t)});return i},h=function(e){var n=p(),i=null;t.options.getUsedPrefixes&&(i="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);t.results.getBindings().forEach(function(t){var o={};n.forEach(function(e){if(e in t){var n=t[e].value;f&&t[e+f]?n=t[e+f].value:"uri"==t[e].type&&(n=r.uriToPrefixed(i,n));o[e]=n}else o[e]=null});e(o)})},d=function(e){if(e){if(t.results){var n=t.results.getVariables(),r=!0;e.cols.forEach(function(e){n.indexOf(e)<0&&(r=!1)});r&&pivotOptionse.rows.forEach(function(e){n.indexOf(e)<0&&(r=!1)});if(!r){e.cols=[];e.rows=[]}i.pivotUtilities.renderers[settings.rendererName]||delete e.rendererName}}else e={};return e},g=function(){var r=function(){var e=function(e){n.pivotTable.cols=e.cols;n.pivotTable.rows=e.rows;n.pivotTable.rendererName=e.rendererName;n.pivotTable.aggregatorName=e.aggregatorName;n.pivotTable.vals=e.vals;t.store();e.rendererName.toLowerCase().indexOf(" chart")>=0?r.show():r.hide();t.updateHeader()},r=i("<button type='button'>",{"class":"openPivotGchart yasr_btn"}).text("Chart Config").click(function(){c.find('div[dir="ltr"]').dblclick()}).appendTo(t.resultsContainer);c=i("<div>",{"class":"pivotTable"}).appendTo(i(t.resultsContainer));n.pivotTable.onRefresh=function(){var t=n.pivotTable.onRefresh;return function(n){e(n);t&&t(n)}}();window.pivot=c.pivotUI(h,n.pivotTable);var a=i(o.svg.getElement(s.move));c.find(".pvtTriangle").replaceWith(a);i(".pvtCols").prepend(i("<div>",{"class":"containerHeader"}).text("Columns"));i(".pvtRows").prepend(i("<div>",{"class":"containerHeader"}).text("Rows"));i(".pvtUnused").prepend(i("<div>",{"class":"containerHeader"}).text("Available Variables"));i(".pvtVals").prepend(i("<div>",{"class":"containerHeader"}).text("Cells"));setTimeout(t.updateHeader,400)};t.options.useGoogleCharts&&n.useGoogleCharts&&!i.pivotUtilities.gchart_renderers?e("./gChartLoader.js").on("done",function(){try{e("pivottable/dist/gchart_renderers.js");i.extend(!0,i.pivotUtilities.renderers,i.pivotUtilities.gchart_renderers)}catch(t){n.useGoogleCharts=!1}r()}).on("error",function(){console.log("could not load gchart");n.useGoogleCharts=!1;r()}).googleLoad():r()},m=function(){return t.results&&t.results.getVariables&&t.results.getVariables()&&t.results.getVariables().length>0},v=function(){if(!t.results)return null;var e=t.resultsContainer.find(".pvtRendererArea svg");if(e.length>0)return{getContent:function(){return e[0].outerHTML?e[0].outerHTML:i("<div>").append(e.clone()).html()},filename:"queryResults.svg",contentType:"image/svg+xml",buttonTitle:"Download SVG Image"};var n=t.resultsContainer.find(".pvtRendererArea table");return n.length>0?{getContent:function(){return n.tableToCsv()},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:void 0},y=function(){if(!t.results)return null;var e=t.resultsContainer.find(".pvtRendererArea svg").clone().removeAttr("height").removeAttr("width").css("height","").css("width","");if(0==e.length)return null;var n=e[0].outerHTML;n||(n=i("<div>").append(e.clone()).html());return'<div style="width: 800px; height: 600px;">\n'+n+"\n</div>"};return{getPersistentSettings:function(){return{pivotTable:n.pivotTable}},setPersistentSettings:function(e){e.pivotTable&&(n.pivotTable=d(e.pivotTable))},getDownloadInfo:v,getEmbedHtml:y,options:n,draw:g,name:"Pivot Table",canHandleResults:m,getPriority:4}};a.defaults={mergeLabelsWithUris:!1,useGoogleCharts:!0,useD3Chart:!0,persistencyId:"pivot",pivotTable:{}};a.version={"YASR-rawResponse":e("../package.json").version,jquery:i.fn.jquery}},{"../package.json":281,"./gChartLoader.js":287,"./imgs.js":289,"./utils.js":304,d3:60,jquery:73,"jquery-ui/sortable":71,pivottable:203,"pivottable/dist/d3_renderers.js":201,"pivottable/dist/gchart_renderers.js":202,"yasgui-utils":255}],302:[function(e,t,n){"use strict";var i=e("jquery"),r=e("codemirror");e("codemirror/addon/fold/foldcode.js");e("codemirror/addon/fold/foldgutter.js");e("codemirror/addon/fold/xml-fold.js");e("codemirror/addon/fold/brace-fold.js");e("codemirror/addon/edit/matchbrackets.js");e("codemirror/mode/xml/xml.js");e("codemirror/mode/javascript/javascript.js");var o=t.exports=function(e){var t=i.extend(!0,{},o.defaults),n=null,s=function(){var i=t.CodeMirror;i.value=e.results.getOriginalResponseAsString();var o=e.results.getType();if(o){"json"==o&&(o={name:"javascript",json:!0});i.mode=o}n=r(e.resultsContainer.get()[0],i);n.on("fold",function(){n.refresh()});n.on("unfold",function(){n.refresh()})},a=function(){if(!e.results)return!1;if(!e.results.getOriginalResponseAsString)return!1;var t=e.results.getOriginalResponseAsString();return!((!t||0==t.length)&&e.results.getException())},l=function(){if(!e.results)return null;var t=e.results.getOriginalContentType(),n=e.results.getType();return{getContent:function(){return e.results.getOriginalResponse()},filename:"queryResults"+(n?"."+n:""),contentType:t?t:"text/plain",buttonTitle:"Download response"}};return{draw:s,name:"Response",canHandleResults:a,getPriority:2,getDownloadInfo:l}};o.defaults={CodeMirror:{readOnly:!0,lineNumbers:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}};o.version={"YASR-rawResponse":e("../package.json").version,jquery:i.fn.jquery,CodeMirror:r.version}},{"../package.json":281,codemirror:17,"codemirror/addon/edit/matchbrackets.js":9,"codemirror/addon/fold/brace-fold.js":10,"codemirror/addon/fold/foldcode.js":11,"codemirror/addon/fold/foldgutter.js":12,"codemirror/addon/fold/xml-fold.js":13,"codemirror/mode/javascript/javascript.js":18,"codemirror/mode/xml/xml.js":19,jquery:73}],303:[function(e,t,n){"use strict";var i=e("jquery"),r=e("yasgui-utils"),o=e("./utils.js"),s=e("./imgs.js");e("datatables.net")();e("../lib/colResizable-1.4.js");var a=t.exports=function(t){var n=null,o={name:"Table",getPriority:10},l=o.options=i.extend(!0,{},a.defaults),u=l.persistency?t.getPersistencyId(l.persistency.tableLength):null,f=function(){var e=[],n=t.results.getBindings(),i=t.results.getVariables(),r=null;t.options.getUsedPrefixes&&(r="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);for(var s=0;s<n.length;s++){var a=[];a.push("");for(var u=n[s],c=0;c<i.length;c++){var f=i[c];f in u&&l.getCellContent?a.push(l.getCellContent(t,o,u,f,{rowId:s,colId:c,usedPrefixes:r})):a.push("")}e.push(a)}return e},p=(t.getPersistencyId("eventId")||"yasr_"+i(t.container).closest("[id]").attr("id"),function(){n.on("order.dt",function(){h()});u&&n.on("length.dt",function(e,n,i){r.storage.set(u,i,"month",t.options.onQuotaExceeded)});i.extend(!0,l.callbacks,l.handlers);n.delegate("td","click",function(e){if(l.callbacks&&l.callbacks.onCellClick){var t=l.callbacks.onCellClick(this,e);if(t===!1)return!1}}).delegate("td","mouseenter",function(e){l.callbacks&&l.callbacks.onCellMouseEnter&&l.callbacks.onCellMouseEnter(this,e);var t=i(this);l.fetchTitlesFromPreflabel&&void 0===t.attr("title")&&0==t.text().trim().indexOf("http")&&c(t)}).delegate("td","mouseleave",function(e){l.callbacks&&l.callbacks.onCellMouseLeave&&l.callbacks.onCellMouseLeave(this,e)})});o.draw=function(){n=i('<table cellpadding="0" cellspacing="0" border="0" class="resultsTable"></table>');i(t.resultsContainer).html(n);var e=l.datatable;e.data=f();e.columns=l.getColumns(t,o);var s=r.storage.get(u);s&&(e.pageLength=s);n.DataTable(i.extend(!0,{},e));h();p();n.colResizable()};var h=function(){var e={sorting:"unsorted",sorting_asc:"sortAsc",sorting_desc:"sortDesc"};n.find(".sortIcons").remove();for(var t in e){var o=i("<div class='sortIcons'></div>");r.svg.draw(o,s[e[t]]);n.find("th."+t).append(o)}};o.canHandleResults=function(){return t.results&&t.results.getVariables&&t.results.getVariables()&&t.results.getVariables().length>0};o.getDownloadInfo=function(){return t.results?{getContent:function(){return e("./bindingsToCsv.js")(t.results.getAsJson())},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:null};return o},l=function(e,t,n){var i=o.escapeHtmlEntities(n.value);if(n["xml:lang"])i='"'+i+'"<sup>@'+n["xml:lang"]+"</sup>";else if(n.datatype){var r="http://www.w3.org/2001/XMLSchema#",s=n.datatype;s=0===s.indexOf(r)?"xsd:"+s.substring(r.length):"&lt;"+s+"&gt;";i='"'+i+'"<sup>^^'+s+"</sup>"}return i},u=function(e,t,n,i,r){var o=n[i],s=null;if("uri"==o.type){var a=null,u=o.value,c=u;if(r.usedPrefixes)for(var f in r.usedPrefixes)if(0==c.indexOf(r.usedPrefixes[f])){c=f+":"+u.substring(r.usedPrefixes[f].length);break}if(t.options.mergeLabelsWithUris){var p="string"==typeof t.options.mergeLabelsWithUris?t.options.mergeLabelsWithUris:"Label";if(n[i+p]){c=l(e,t,n[i+p]);a=u}}s="<a "+(a?"title='"+u+"' ":"")+"class='uri' target='"+e.options.uriTarget+"' href='"+u+"'>"+c+"</a>"}else s="<span class='nonUri'>"+l(e,t,o)+"</span>";return"<div>"+s+"</div>"},c=function(e){var t=function(){e.attr("title","")};i.get("//preflabel.org/api/v1/label/"+encodeURIComponent(e.text())+"?silent=true").success(function(n){"object"==typeof n&&n.label?e.attr("title",n.label):"string"==typeof n&&n.length>0?e.attr("title",n):t()}).fail(t)};a.defaults={getCellContent:u,persistency:{tableLength:"tableLength"},getColumns:function(e,t){var n=function(n){if(!t.options.mergeLabelsWithUris)return!0;var i="string"==typeof t.options.mergeLabelsWithUris?t.options.mergeLabelsWithUris:"Label";return!(n.indexOf(i,n.length-i.length)!==-1&&e.results.getVariables().indexOf(n.substring(0,n.length-i.length))>=0)},i=[];i.push({title:""});e.results.getVariables().forEach(function(e){i.push({title:"<span>"+e+"</span>",visible:n(e)})});return i},fetchTitlesFromPreflabel:"https:"!==window.location.protocol,mergeLabelsWithUris:!1,callbacks:{onCellMouseEnter:null,onCellMouseLeave:null,onCellClick:null},datatable:{autoWidth:!0,dom:'<"dtTopHeader"ilf>rtip',order:[],pageLength:50,lengthMenu:[[10,50,100,1e3,-1],[10,50,100,1e3,"All"]],lengthChange:!0,pagingType:"full_numbers",drawCallback:function(e){for(var t=0;t<e.aiDisplay.length;t++)i("td:eq(0)",e.aoData[e.aiDisplay[t]].nTr).html(t+1);var n=!1;i(e.nTableWrapper).find(".paginate_button").each(function(){i(this).attr("class").indexOf("current")==-1&&i(this).attr("class").indexOf("disabled")==-1&&(n=!0)});n?i(e.nTableWrapper).find(".dataTables_paginate").show():i(e.nTableWrapper).find(".dataTables_paginate").hide()},columnDefs:[{width:"32px",orderable:!1,targets:0}]}};a.version={"YASR-table":e("../package.json").version,jquery:i.fn.jquery,"jquery-datatables":i.fn.DataTable.version}},{"../lib/colResizable-1.4.js":279,"../package.json":281,"./bindingsToCsv.js":282,"./imgs.js":289,"./utils.js":304,"datatables.net":61,jquery:73,"yasgui-utils":255}],304:[function(e,t,n){"use strict";var i=e("jquery"),r=e("./exceptions.js").GoogleTypeException;t.exports={escapeHtmlEntities:function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},uriToPrefixed:function(e,t){if(e)for(var n in e)if(0==t.indexOf(e[n])){t=n+":"+t.substring(e[n].length);break}return t},getGoogleTypeForBinding:function(e){if(null==e)return null;if(null==e.type||"typed-literal"!==e.type&&"literal"!==e.type)return"string";switch(e.datatype){case"http://www.w3.org/2001/XMLSchema#double":case"http://www.w3.org/2001/XMLSchema#float":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":return"number";case"http://www.w3.org/2001/XMLSchema#date":return"date";case"http://www.w3.org/2001/XMLSchema#dateTime":return"datetime";case"http://www.w3.org/2001/XMLSchema#time":return"timeofday";default:return"string"}},getGoogleTypeForBindings:function(e,n){var i={},o=0;e.forEach(function(e){var r=t.exports.getGoogleTypeForBinding(e[n]);if(null!=r){if(!(r in i)){i[r]=0;o++}i[r]++}});if(0==o)return"string";if(1!=o)throw new r(i,n);for(var s in i)return s},castGoogleType:function(e,n,i){if(null==e)return null;if("string"==i||null==e.type||"typed-literal"!==e.type&&"literal"!==e.type)return(e.type="uri")?t.exports.uriToPrefixed(n,e.value):e.value;switch(e.datatype){case"http://www.w3.org/2001/XMLSchema#float":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":return Number(e.value);case"http://www.w3.org/2001/XMLSchema#double":return Number(parseFloat(e.value));case"http://www.w3.org/2001/XMLSchema#date":var r=o(e.value);if(r)return r;case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#time":return new Date(e.value);default:return e.value}},fireClick:function(e){e&&e.each(function(e,t){var n=i(t);if(document.dispatchEvent){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,1,1,1,1,1,!1,!1,!1,!1,0,n[0]);n[0].dispatchEvent(r)}else document.fireEvent&&n[0].click()})}};var o=function(e){var t=new Date(e.replace(/(\d)([\+-]\d{2}:\d{2})/,"$1Z$2"));return isNaN(t)?null:t}},{"./exceptions.js":286,jquery:73}],305:[function(e,t,n){t.exports={name:"yasgui",description:"Yet Another SPARQL GUI",version:"2.7.29",main:"src/main.js",license:"MIT",author:"Laurens Rietveld",homepage:"http://yasgui.org",scripts:{dev:"gulp serve",build:"gulp",patch:"gulp patch",minor:"gulp minor",major:"gulp major","upgrade-interactive":"npm-check --skip-unused -u"},devDependencies:{brfs:"^1.4.3",browserify:"^13.1.0","browserify-transform-tools":"^1.6.0",connect:"^3.4.1",exorcist:"^0.4.0",gulp:"~3.9.1","gulp-autoprefixer":"^3.1.0","gulp-bump":"^2.2.0","gulp-clean-css":"^2.0.12","gulp-concat":"^2.6.0","gulp-connect":"^4.2.0","gulp-delete-lines":"0.0.7","gulp-embedlr":"^0.5.2","gulp-filter":"^4.0.0","gulp-git":"^2.4.1","gulp-jsvalidate":"^2.1.0","gulp-livereload":"^3.8.1","gulp-notify":"^2.2.0","gulp-rename":"^1.2.2","gulp-sass":"^2.3.2","gulp-sourcemaps":"^1.6.0","gulp-streamify":"1.0.2","gulp-tag-version":"^1.3.0","gulp-uglify":"^1.5.4","node-sass":"^3.8.0","require-dir":"^0.3.2","run-sequence":"^1.2.2","stream-browserify":"^2.0.1","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~1.1.0","vinyl-transform":"1.0.0",watchify:"^3.7.0"},bugs:"https://github.com/YASGUI/YASGUI/issues/",keywords:["JavaScript","SPARQL","Editor","Semantic Web","Linked Data"],maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",web:"http://laurensrietveld.nl"}],repository:{type:"git",url:"https://github.com/YASGUI/YASGUI.git"},dependencies:{"blueimp-md5":"^2.7.0","bootstrap-contextmenu":"^1.0.0","bootstrap-sass":"^3.3.7","browserify-shim":"^3.8.12",jquery:"^2.2.4","jquery-ui":"^1.10.5",microplugin:"0.0.3",minimist:"^1.2.0","npm-check":"^5.4.5","promise-polyfill":"^6.0.2",selectize:"^0.12.4",store:"^2.0.4",underscore:"^1.8.3","url-parse":"^1.1.8","yasgui-utils":"^1.6.7","yasgui-yasqe":"^2.11.22","yasgui-yasr":"^2.12.19"},"browserify-shim":{jQuery:"jquery"},optionalShim:{codemirror:{require:"codemirror",global:"CodeMirror"},jquery:{require:"jquery",global:"jQuery"},jQuery:{require:"jquery",global:"jQuery"},"../../lib/codemirror":{require:"codemirror",global:"CodeMirror"},"../lib/DataTables/media/js/jquery.dataTables.js":{require:"datatables",global:"jQuery"}}}},{}],306:[function(e,t,n){"use strict";var i=e("jquery"),r=e("./main.js");t.exports={persistencyPrefix:function(e){return"yasgui_"+i(e.wrapperElement).closest("[id]").attr("id")+"_"},allowYasqeResize:!0,api:{corsProxy:null,collections:null},tracker:{googleAnalyticsId:null,askConsent:!0},onQuotaExceeded:function(e){console.warn("Could not store in localstorage. Skipping..",e)},endpoint:null,endpointInput:function(e,t,n,i,r){return n("<select>").appendTo(i).endpointCombi(e,{value:t.sparql.endpoint,onChange:r})},yasqe:i.extend(!0,{},{height:300,sparql:{endpoint:r.YASQE.defaults.sparql.endpoint,acceptHeaderGraph:r.YASQE.defaults.sparql.acceptHeaderGraph,acceptHeaderSelect:r.YASQE.defaults.sparql.acceptHeaderSelect,args:r.YASQE.defaults.sparql.args,defaultGraphs:r.YASQE.defaults.sparql.defaultGraphs,namedGraphs:r.YASQE.defaults.sparql.namedGraphs,requestMethod:r.YASQE.defaults.sparql.requestMethod,headers:r.YASQE.defaults.sparql.headers}}),yasr:r.YASR.defaults,tabs:[{yasqe:t.exports.yasqe,yasr:t.exports.yasr}],catalogueEndpoints:[{endpoint:"http://biolit.rkbexplorer.com/sparql",title:"A Short Biographical Dictionary of English Literature (RKBExplorer)"},{endpoint:"http://aemet.linkeddata.es/sparql",title:"AEMET metereological dataset"},{endpoint:"http://aksw.org/sparql",title:"aksw.org Research Group dataset"},{endpoint:"http://data.allie.dbcls.jp/sparql",title:"Allie Abbreviation And Long Form Database in Life Science"},{endpoint:"http://vocabulary.semantic-web.at/PoolParty/sparql/AustrianSkiTeam",title:"Alpine Ski Racers of Austria"},{endpoint:"http://semanticweb.cs.vu.nl/europeana/sparql/",title:"Amsterdam Museum as Linked Open Data in the Europeana Data Model"},{endpoint:"http://opendata.aragon.es/sparql",title:"AragoDBPedia"},{endpoint:"http://data.archiveshub.ac.uk/sparql",title:"Archives Hub Linked Data"},{endpoint:"http://www.auth.gr/sparql",title:"Aristotle University"},{endpoint:"http://sparql.jesandco.org:8890/sparql",title:"ASN:US"},{endpoint:"http://acm.rkbexplorer.com/sparql/",title:"Association for Computing Machinery (ACM) (RKBExplorer)"},{endpoint:"http://lab.environment.data.gov.au/sparql",title:"Australian Climate Observations Reference Network - Surface Air Temperature Dataset"},{endpoint:"http://abs.270a.info/sparql",title:"Australian Bureau of Statistics (ABS) Linked Data"},{endpoint:"http://lod.b3kat.de/sparql",title:"B3Kat - Library Union Catalogues of Bavaria, Berlin and Brandenburg"},{endpoint:"http://bis.270a.info/sparql",title:"Bank for International Settlements (BIS) Linked Data"},{endpoint:"http://www.open-biomed.org.uk/sparql/endpoint/bdgp_20081030",title:"Bdgp"},{endpoint:"http://affymetrix.bio2rdf.org/sparql",title:"Bio2RDF::Affymetrix"},{endpoint:"http://biomodels.bio2rdf.org/sparql",title:"Bio2RDF::Biomodels"},{endpoint:"http://bioportal.bio2rdf.org/sparql",title:"Bio2RDF::Bioportal"},{endpoint:"http://clinicaltrials.bio2rdf.org/sparql",title:"Bio2RDF::Clinicaltrials"},{endpoint:"http://ctd.bio2rdf.org/sparql",title:"Bio2RDF::Ctd"},{endpoint:"http://dbsnp.bio2rdf.org/sparql",title:"Bio2RDF::Dbsnp"},{endpoint:"http://drugbank.bio2rdf.org/sparql",title:"Bio2RDF::Drugbank"},{endpoint:"http://genage.bio2rdf.org/sparql",title:"Bio2RDF::Genage"},{endpoint:"http://gendr.bio2rdf.org/sparql",title:"Bio2RDF::Gendr"},{endpoint:"http://goa.bio2rdf.org/sparql",title:"Bio2RDF::Goa"},{endpoint:"http://hgnc.bio2rdf.org/sparql",title:"Bio2RDF::Hgnc"},{endpoint:"http://homologene.bio2rdf.org/sparql",title:"Bio2RDF::Homologene"},{endpoint:"http://inoh.bio2rdf.org/sparql",title:"Bio2RDF::INOH"},{endpoint:"http://interpro.bio2rdf.org/sparql",title:"Bio2RDF::Interpro"},{endpoint:"http://iproclass.bio2rdf.org/sparql",title:"Bio2RDF::Iproclass"},{endpoint:"http://irefindex.bio2rdf.org/sparql",title:"Bio2RDF::Irefindex"},{endpoint:"http://biopax.kegg.bio2rdf.org/sparql",title:"Bio2RDF::KEGG::BioPAX"},{endpoint:"http://linkedspl.bio2rdf.org/sparql",title:"Bio2RDF::Linkedspl"},{endpoint:"http://lsr.bio2rdf.org/sparql",title:"Bio2RDF::Lsr"},{endpoint:"http://mesh.bio2rdf.org/sparql",title:"Bio2RDF::Mesh"},{endpoint:"http://mgi.bio2rdf.org/sparql",title:"Bio2RDF::Mgi"},{endpoint:"http://ncbigene.bio2rdf.org/sparql",title:"Bio2RDF::Ncbigene"},{endpoint:"http://ndc.bio2rdf.org/sparql",title:"Bio2RDF::Ndc"},{endpoint:"http://netpath.bio2rdf.org/sparql",title:"Bio2RDF::NetPath"},{endpoint:"http://omim.bio2rdf.org/sparql",title:"Bio2RDF::Omim"},{endpoint:"http://orphanet.bio2rdf.org/sparql",title:"Bio2RDF::Orphanet"},{endpoint:"http://pharmgkb.bio2rdf.org/sparql",title:"Bio2RDF::Pharmgkb"},{endpoint:"http://biopax.pharmgkb.bio2rdf.org/sparql",title:"Bio2RDF::PharmGKB::BioPAX"},{endpoint:"http://pid.bio2rdf.org/sparql",title:"Bio2RDF::PID"},{endpoint:"http://pubchem.bio2rdf.org/sparql",title:"Bio2RDF::PubChem"},{endpoint:"http://rhea.bio2rdf.org/sparql",title:"Bio2RDF::Rhea"},{endpoint:"http://sabiork.bio2rdf.org/sparql",title:"Bio2RDF::Sabiork"},{endpoint:"http://sgd.bio2rdf.org/sparql",title:"Bio2RDF::Sgd"},{endpoint:"http://sider.bio2rdf.org/sparql",title:"Bio2RDF::Sider"},{endpoint:"http://spike.bio2rdf.org/sparql",title:"Bio2RDF::SPIKE"},{endpoint:"http://taxonomy.bio2rdf.org/sparql",title:"Bio2RDF::Taxonomy"},{endpoint:"http://wikipathways.bio2rdf.org/sparql",title:"Bio2RDF::Wikipathways"},{endpoint:"http://wormbase.bio2rdf.org/sparql",title:"Bio2RDF::Wormbase"},{endpoint:"https://www.ebi.ac.uk/rdf/services/biomodels/sparql",title:"BioModels RDF"},{endpoint:"https://www.ebi.ac.uk/rdf/services/biosamples/sparql",title:"BioSamples RDF"},{endpoint:"http://helheim.deusto.es/bizkaisense/sparql",title:"BizkaiSense"},{endpoint:"http://budapest.rkbexplorer.com/sparql/",title:"Budapest University of Technology and Economics (RKBExplorer)"},{endpoint:"http://bfs.270a.info/sparql",title:"Bundesamt für Statistik (BFS) - Swiss Federal Statistical Office (FSO) Linked Data"},{endpoint:"http://opendata-bundestag.de/sparql",title:"BundestagNebeneinkuenfte"},{endpoint:"https://www.ebi.ac.uk/rdf/services/chembl/sparql",title:"ChEMBL RDF"},{endpoint:"http://chebi.bio2rdf.org/sparql",title:"Chemical Entities of Biological Interest (ChEBI)"},{endpoint:"http://citeseer.rkbexplorer.com/sparql/",title:"CiteSeer (Research Index) (RKBExplorer)"},{endpoint:"http://data.colinda.org/endpoint.php",title:"COLINDA - Conference Linked Data"},{endpoint:"http://cordis.rkbexplorer.com/sparql/",title:"Community R&amp;D Information Service (CORDIS) (RKBExplorer)"},{endpoint:"http://semantic.ckan.net/sparql/",title:"Comprehensive Knowledge Archive Network"},{endpoint:"http://vocabulary.wolterskluwer.de/PoolParty/sparql/court",title:"Courts thesaurus"},{endpoint:"http://crm.rkbexplorer.com/sparql",title:"crm"},{endpoint:"http://crtm.linkeddata.es/sparql",title:"CRTM"},{endpoint:"http://data.fundacionctic.org/sparql",title:"CTIC Public Dataset Catalogs"},{endpoint:"http://cultura.linkeddata.es/sparql",title:"CulturaLinkedData"},{endpoint:"http://data.open.ac.uk/query",title:"data.open.ac.uk, Linked Data from the Open University"},{endpoint:"http://datos.bcn.cl/sparql",title:"Datos.bcn.cl"},{endpoint:"http://datos.bne.es/sparql",title:"datos.bne.es"},{endpoint:"http://dblp.rkbexplorer.com/sparql/",title:"DBLP Computer Science Bibliography (RKBExplorer)"},{endpoint:"http://dblp.l3s.de/d2r/sparql",title:"DBLP in RDF (L3S)"},{endpoint:"http://kaiko.getalp.org/sparql",title:"dbnary"},{endpoint:"http://dbpedia.org/sparql",title:"DBpedia"},{endpoint:"http://eu.dbpedia.org/sparql",title:"DBpedia in Basque"},{endpoint:"http://nl.dbpedia.org/sparql",title:"DBpedia in Dutch"},{endpoint:"http://fr.dbpedia.org/sparql",title:"DBpedia in French"},{endpoint:"http://de.dbpedia.org/sparql",title:"DBpedia in German"},{endpoint:"http://ja.dbpedia.org/sparql",title:"DBpedia in Japanese"},{endpoint:"http://pt.dbpedia.org/sparql",title:"DBpedia in Portuguese"},{endpoint:"http://es.dbpedia.org/sparql",title:"DBpedia in Spanish"},{endpoint:"http://live.dbpedia.org/sparql",title:"DBpedia-Live"},{endpoint:"http://dbtune.org/musicbrainz/sparql",title:"DBTune.org Musicbrainz D2R Server"},{endpoint:"http://deepblue.rkbexplorer.com/sparql/",title:"Deep Blue (RKBExplorer)"},{endpoint:"http://deploy.rkbexplorer.com/sparql/",title:"DEPLOY (RKBExplorer)"},{endpoint:"http://dewey.info/sparql.php",title:"Dewey Decimal Classification (DDC)"},{endpoint:"http://digitaleconomy.rkbexplorer.com/sparql",title:"digitaleconomy"},{endpoint:"http://rdf.disgenet.org/sparql/",title:"DisGeNET"},{endpoint:"http://italy.rkbexplorer.com/sparql",title:"Diverse Italian ReSIST Partner Institutions (RKBExplorer)"},{endpoint:"http://dotac.rkbexplorer.com/sparql/",title:"dotAC (RKBExplorer)"},{endpoint:"http://dutchshipsandsailors.nl/data/sparql/",title:"Dutch Ships and Sailors "},{endpoint:"http://semanticweb.cs.vu.nl/dss/sparql/",title:"Dutch Ships and Sailors "},{endpoint:"http://www.eclap.eu/sparql",title:"ECLAP"},{endpoint:"http://services.data.gov.uk/education/sparql",title:"education.data.gov.uk"},{endpoint:"http://kent.zpr.fer.hr:8080/educationalProgram/sparql",title:"Educational programs - SISVU"},{endpoint:"http://webenemasuno.linkeddata.es/sparql",title:"El Viajero's tourism dataset"},{endpoint:"http://www.ida.liu.se/projects/semtech/openrdf-sesame/repositories/energy",title:"Energy efficiency assessments and improvements"},{endpoint:"http://enipedia.tudelft.nl/sparql",title:"Enipedia - Energy Industry Data"},{endpoint:"http://environment.data.gov.uk/sparql/bwq/query",title:"Environment Agency Bathing Water Quality"},{endpoint:"http://foreign.rkbexplorer.com/sparql/",title:"ePrints Harvest (RKBExplorer)"},{endpoint:"http://eprints.rkbexplorer.com/sparql/",title:"ePrints3 Institutional Archive Collection (RKBExplorer)"},{endpoint:"http://epsrc.rkbexplorer.com/sparql",title:"epsrc"},{endpoint:"http://era.rkbexplorer.com/sparql/",title:"ERA - Australian Research Council publication ratings (RKBExplorer)"},{endpoint:"http://ecb.270a.info/sparql",title:"European Central Bank (ECB) Linked Data"},{endpoint:"http://eventmedia.eurecom.fr/sparql",title:"EventMedia"},{endpoint:"http://factforge.net/sparql",title:"Fact Forge"},{endpoint:"http://frb.270a.info/sparql",title:"Federal Reserve Board (FRB) Linked Data"},{endpoint:"http://www.open-biomed.org.uk/sparql/endpoint/flyatlas",title:"flyatlas"},{endpoint:"http://www.open-biomed.org.uk/sparql/endpoint/flybase",title:"Flybase"},{endpoint:"http://www.open-biomed.org.uk/sparql/endpoint/flyted",title:"Flyted"},{endpoint:"http://fao.270a.info/sparql",title:"Food and Agriculture Organization of the United Nations (FAO) Linked Data"},{endpoint:"http://data.linkedu.eu/forge/query",title:"FORGE Course information"},{endpoint:"http://ft.rkbexplorer.com/sparql/",title:"France Telecom Recherche et Développement (RKBExplorer)"},{endpoint:"http://lisbon.rkbexplorer.com/sparql",title:"Fundação da Faculdade de Ciencas da Universidade de Lisboa (RKBExplorer)"},{endpoint:"http://www.ebi.ac.uk/rdf/services/atlas/sparql",title:"Gene Expression Atlas RDF"},{endpoint:"http://geo.linkeddata.es/sparql",title:"GeoLinkedData"},{endpoint:"http://resource.geolba.ac.at/PoolParty/sparql/tectonicunit",title:"Geological Survey of Austria (GBA) - Thesaurus"},{endpoint:"http://resource.geolba.ac.at/PoolParty/sparql/lithology",title:"Geological Survey of Austria (GBA) - Thesaurus"},{endpoint:"http://resource.geolba.ac.at/PoolParty/sparql/GeologicTimeScale",title:"Geological Survey of Austria (GBA) - Thesaurus"},{endpoint:"http://resource.geolba.ac.at/PoolParty/sparql/GeologicUnit",title:"Geological Survey of Austria (GBA) - Thesaurus"},{endpoint:"http://vocabulary.wolterskluwer.de/PoolParty/sparql/arbeitsrecht",title:"German labor law thesaurus"},{endpoint:"http://data.globalchange.gov/sparql",title:"Global Change Information System"},{endpoint:"http://wordnet.okfn.gr:8890/sparql/",title:"Greek Wordnet"},{endpoint:"http://healthdata.tw.rpi.edu/sparql",title:"HealthData.gov Platform (HDP) on the Semantic Web"},{endpoint:"http://lod.hebis.de/sparql",title:"HeBIS - Bibliographic Resources of the Library Union Catalogues of Hessen and parts of the Rhineland Palatinate"},{endpoint:"http://helheim.deusto.es/hedatuz/sparql",title:"Hedatuz"},{endpoint:"http://greek-lod.auth.gr/fire-brigade/sparql",title:"Hellenic Fire Brigade"},{endpoint:"http://greek-lod.auth.gr/police/sparql",title:"Hellenic Police"},{endpoint:"http://beta.sparql.uniprot.org"},{endpoint:"http://bnb.data.bl.uk/sparql"},{endpoint:"http://cr.eionet.europa.eu/sparql"},{endpoint:"http://data.oceandrilling.org/sparql"},{endpoint:"http://data.ox.ac.uk/sparql/"},{endpoint:"http://data.rism.info/sparql"},{endpoint:"http://dati.camera.it/sparql"},{endpoint:"http://europeana.ontotext.com/sparql"},{endpoint:"http://heritagedata.org/live/sparql"},{endpoint:"http://lod.xdams.org/sparql"},{endpoint:"http://logd.tw.rpi.edu/sparql"},{endpoint:"http://mlode.nlp2rdf.org/sparql"},{endpoint:"http://opendatacommunities.org/sparql"},{endpoint:"http://semantic.eea.europa.eu/sparql"},{endpoint:"http://sparql.data.southampton.ac.uk/"},{endpoint:"http://visualdataweb.infor.uva.es/sparql"},{endpoint:"http://vocab.getty.edu/sparql"},{endpoint:"http://setaria.oszk.hu/sparql",title:"Hungarian National Library (NSZL) catalog"},{endpoint:"http://semanticweb.cs.vu.nl/iati/sparql/",title:"IATI as Linked Data"},{endpoint:"http://ibm.rkbexplorer.com/sparql/",title:"IBM Research GmbH (RKBExplorer)"},{endpoint:"http://www.icane.es/opendata/sparql",title:"ICANE"},{endpoint:"http://ichoose.tw.rpi.edu/sparql",title:"ichoose"},{endpoint:"http://ieee.rkbexplorer.com/sparql/",title:"IEEE Papers (RKBExplorer)"},{endpoint:"http://ieeevis.tw.rpi.edu/sparql",title:"IEEE VIS Source Data"},{endpoint:"http://www.imagesnippets.com/sparql/images",title:"Imagesnippets Image Descriptions"},{endpoint:"http://purl.org/twc/hub/sparql",title:"Instance Hub (all)"},{endpoint:"http://eurecom.rkbexplorer.com/sparql/",title:"Institut Eurécom (RKBExplorer)"},{endpoint:"http://imf.270a.info/sparql",title:"International Monetary Fund (IMF) Linked Data"},{endpoint:"http://iserve.kmi.open.ac.uk/iserve/sparql",title:"iServe: Linked Services Registry"},{endpoint:"http://www.rechercheisidore.fr/sparql",title:"Isidore"},{endpoint:"http://kdata.kr/sparql/endpoint.jsp",title:"kdata"},{endpoint:"http://sparql.kupkb.org/sparql",title:"Kidney and Urinary Pathway Knowledge Base"},{endpoint:"http://kisti.rkbexplorer.com/sparql/",title:"Korean Institute of Science Technology and Information (RKBExplorer)"},{endpoint:"http://lod.kaist.ac.kr/sparql",title:"Korean Traditional Recipes"},{endpoint:"http://laas.rkbexplorer.com/sparql/",title:"LAAS-CNRS (RKBExplorer)"},{endpoint:"http://smartcity.linkeddata.es/sparql",title:"LCC (Leeds City Council Energy Consumption Linked Data)"},{endpoint:"http://data.linkededucation.org/request/lak-conference/sparql",
title:"Learning Analytics and Knowledge (LAK) Dataset"},{endpoint:"http://sparql.reegle.info/",title:"Linked Clean Energy Data (reegle.info)"},{endpoint:"http://sparql.contextdatacloud.org",title:"Linked Crowdsourced Data"},{endpoint:"http://linkedlifedata.com/sparql",title:"Linked Life Data"},{endpoint:"http://data.logainm.ie/sparql",title:"Linked Logainm"},{endpoint:"http://data.linkedmdb.org/sparql",title:"Linked Movie DataBase"},{endpoint:"http://data.aalto.fi/sparql",title:"Linked Open Aalto Data Service"},{endpoint:"http://dbmi-icode-01.dbmi.pitt.edu/linkedSPLs/sparql",title:"Linked Structured Product Labels"},{endpoint:"http://linkedgeodata.org/sparql/",title:"LinkedGeoData"},{endpoint:"http://linkedspending.aksw.org/sparql",title:"LinkedSpending: OpenSpending becomes Linked Open Data"},{endpoint:"http://helheim.deusto.es/linkedstats/sparql",title:"LinkedStats"},{endpoint:"http://linkedu.eu/catalogue/sparql/",title:"LinkedUp Catalogue of Educational Datasets"},{endpoint:"http://www.linklion.org:8890/sparql",title:"LinkLion - A Link Repository for the Web of Data"},{endpoint:"http://id.sgcb.mcu.es/sparql",title:"Lista de  Encabezamientos de Materia as Linked Open Data"},{endpoint:"http://lod.ac/bdls/sparql",title:"LODAC BDLS"},{endpoint:"http://lofd.tw.rpi.edu/sparql",title:"lofd"},{endpoint:"http://sparql.msc2010.org",title:"Mathematics Subject Classification"},{endpoint:"http://doc.metalex.eu:8000/sparql/",title:"MetaLex Document Server"},{endpoint:"http://onto.mondis.cz/openrdf-sesame/repositories/mondis-record-owlim",title:"MONDIS"},{endpoint:"http://apps.morelab.deusto.es/labman/sparql",title:"MORElab"},{endpoint:"http://rdf.muninn-project.org/sparql",title:"Muninn World War I"},{endpoint:"http://lod.sztaki.hu/sparql",title:"National Digital Data Archive of Hungary (partial)"},{endpoint:"http://nsf.rkbexplorer.com/sparql/",title:"National Science Foundation (RKBExplorer)"},{endpoint:"http://data.nobelprize.org/sparql",title:"Nobel Prizes"},{endpoint:"http://data.lenka.no/sparql",title:"Norwegian geo-divisions"},{endpoint:"http://onto.beef.org.pl/sparql",title:"OntoBeef"},{endpoint:"http://oai.rkbexplorer.com/sparql/",title:"Open Archive Initiative Harvest over OAI-PMH (RKBExplorer)"},{endpoint:"http://data.linkedu.eu/ocw/query",title:"Open Courseware Consortium metadata in RDF"},{endpoint:"http://opendata.ccd.uniroma2.it/LMF/sparql/select",title:"Open Data @ Tor Vergata"},{endpoint:"http://data.cnr.it/sparql-proxy/",title:"Open Data from the Italian National Research Council"},{endpoint:"http://data.utpl.edu.ec/ecuadorresearch/lod/sparql",title:"Open Data of Ecuador"},{endpoint:"http://vocabulary.semantic-web.at/PoolParty/sparql/OpenData",title:"Open Data Thesaurus"},{endpoint:"http://en.openei.org/sparql",title:"OpenEI - Open Energy Info"},{endpoint:"http://lod.openlinksw.com/sparql",title:"OpenLink Software LOD Cache"},{endpoint:"http://sparql.openmobilenetwork.org",title:"OpenMobileNetwork"},{endpoint:"http://apps.ideaconsult.net:8080/ontology",title:"OpenTox"},{endpoint:"http://gov.tso.co.uk/coins/sparql",title:"OpenUpLabs COINS"},{endpoint:"http://gov.tso.co.uk/dclg/sparql",title:"OpenUpLabs DCLG"},{endpoint:"http://os.services.tso.co.uk/geo/sparql",title:"OpenUpLabs Geographic"},{endpoint:"http://gov.tso.co.uk/legislation/sparql",title:"OpenUpLabs Legislation"},{endpoint:"http://gov.tso.co.uk/transport/sparql",title:"OpenUpLabs Transport"},{endpoint:"http://os.rkbexplorer.com/sparql/",title:"Ordnance Survey (RKBExplorer)"},{endpoint:"http://data.organic-edunet.eu/sparql",title:"Organic Edunet Linked Open Data"},{endpoint:"http://oecd.270a.info/sparql",title:"Organisation for Economic Co-operation and Development (OECD) Linked Data"},{endpoint:"http://spatial.ucd.ie/lod/sparql",title:"OSM Semantic Network"},{endpoint:"http://data.linkedu.eu/don/query",title:"OUNL DSpace in RDF"},{endpoint:"https://data.ox.ac.uk/sparql/",title:"OxPoints (University of Oxford)"},{endpoint:"http://ld.panlex.org/sparql",title:"PanLex"},{endpoint:"http://linked-data.org/sparql",title:"Phonetics Information Base and Lexicon (PHOIBLE)"},{endpoint:"http://data.linkedu.eu/prod/query",title:"PROD - JISC Project Directory in RDF"},{endpoint:"http://provenanceweb.org/sparql",title:"provenanceweb"},{endpoint:"http://linked.opendata.cz/sparql",title:"Publications of Charles University in Prague"},{endpoint:"http://linkeddata4.dia.fi.upm.es:8907/sparql",title:"RDFLicense"},{endpoint:"https://www.ebi.ac.uk/rdf/services/reactome/sparql",title:"Reactome RDF"},{endpoint:"http://services.data.gov.uk/reference/sparql",title:"reference.data.gov.uk"},{endpoint:"http://rae2001.rkbexplorer.com/sparql/",title:"Research Assessment Exercise 2001 (RKBExplorer)"},{endpoint:"http://courseware.rkbexplorer.com/sparql/",title:"Resilient Computing Courseware (RKBExplorer)"},{endpoint:"http://curriculum.rkbexplorer.com/sparql/",title:"ReSIST MSc in Resilient Computing Curriculum (RKBExplorer)"},{endpoint:"http://wiki.rkbexplorer.com/sparql/",title:"ReSIST Project Wiki (RKBExplorer)"},{endpoint:"http://resex.rkbexplorer.com/sparql/",title:"ReSIST Resilience Mechanisms (RKBExplorer.com)"},{endpoint:"http://risks.rkbexplorer.com/sparql/",title:"RISKS Digest (RKBExplorer)"},{endpoint:"http://foreign.rkbexplorer.com/sparql",title:"rkb-explorer-foreign"},{endpoint:"http://ruian.linked.opendata.cz/sparql",title:"RUIAN - Register of territorial identification, addresses and real estates of the Czech Republic"},{endpoint:"http://link.informatics.stonybrook.edu/sparql/",title:"RxNorm"},{endpoint:"http://biordf.net/sparql",title:"SADI Semantic Web Services framework registry"},{endpoint:"http://southampton.rkbexplorer.com/sparql/",title:"School of Electronics and Computer Science, University of Southampton (RKBExplorer)"},{endpoint:"http://seek.rkbexplorer.com/sparql/",title:"SEEK-AT-WD ICT tools for education - Web-Share"},{endpoint:"http://serendipity.utpl.edu.ec/lod/sparql",title:"Serendipity"},{endpoint:"http://data.linkedu.eu/slidewiki/query",title:"Slidewiki (RDF/SPARQL)"},{endpoint:"http://smartlink.open.ac.uk/smartlink/sparql",title:"SmartLink: Linked Services Non-Functional Properties"},{endpoint:"http://socialarchive.iath.virginia.edu/sparql/eac",title:"Social Networks and Archival Context Fall 2011"},{endpoint:"http://socialarchive.iath.virginia.edu/sparql/snac-viaf",title:"Social Networks and Archival Context Fall 2011"},{endpoint:"http://vocabulary.semantic-web.at/PoolParty/sparql/semweb",title:"Social Semantic Web Thesaurus"},{endpoint:"http://linguistic.linkeddata.es/sparql",title:"Spanish Linguistic Datasets"},{endpoint:"http://crashmap.okfn.gr:8890/sparql",title:"Statistics on Fatal Traffic Accidents in greek roads"},{endpoint:"http://services.data.gov.uk/statistics/sparql",title:"statistics.data.gov.uk"},{endpoint:"http://crime.rkbexplorer.com/sparql/",title:"Street level crime reports for England and Wales"},{endpoint:"http://zbw.eu/beta/sparql/stw/query",title:"STW Thesaurus for Economics"},{endpoint:"http://symbolicdata.org:8890/sparql",title:"SymbolicData"},{endpoint:"http://agalpha.mathbiol.org/repositories/tcga",title:"TCGA Roadmap"},{endpoint:"http://www.open-biomed.org.uk/sparql/endpoint/tcm",title:"TCMGeneDIT Dataset"},{endpoint:"http://darmstadt.rkbexplorer.com/sparql/",title:"Technische Universität Darmstadt (RKBExplorer)"},{endpoint:"http://data.linkededucation.org/request/ted/sparql",title:"TED Talks"},{endpoint:"http://linguistic.linkeddata.es/terminesp/sparql-editor",title:"Terminesp Linked Data"},{endpoint:"http://academia6.poolparty.biz/PoolParty/sparql/Tesauro-Materias-BUPM",title:"Tesauro materias BUPM"},{endpoint:"http://apps.morelab.deusto.es/teseo/sparql",title:"Teseo"},{endpoint:"http://ring.ciard.net/sparql1",title:"The CIARD RING"},{endpoint:"http://digitale.bncf.firenze.sbn.it/openrdf-workbench/repositories/NS/query",title:"Thesaurus BNCF"},{endpoint:"http://lod.gesis.org/thesoz/sparql",title:"TheSoz Thesaurus for the Social Sciences (GESIS)"},{endpoint:"http://linkeddata.ge.imati.cnr.it:8890/sparql",title:"ThIST"},{endpoint:"http://tour-pedia.org/sparql",title:"Tourpedia"},{endpoint:"http://tkm.kiom.re.kr/ontology/sparql",title:"Traditional Korean Medicine Ontology"},{endpoint:"http://transparency.270a.info/sparql",title:"Transparency International Linked Data"},{endpoint:"http://services.data.gov.uk/transport/sparql",title:"transport.data.gov.uk"},{endpoint:"http://opendap.tw.rpi.edu/sparql",title:"twc-opendap"},{endpoint:"http://jisc.rkbexplorer.com/sparql/",title:"UK JISC (RKBExplorer)"},{endpoint:"http://unlocode.rkbexplorer.com/sparql/",title:"UN/LOCODE (RKBExplorer)"},{endpoint:"http://uis.270a.info/sparql",title:"UNESCO Institute for Statistics (UIS) Linked Data"},{endpoint:"http://skos.um.es/sparql/",title:"UNESCO Thesaurus"},{endpoint:"http://data.linkedu.eu/kis1112/query",title:"UNISTAT-KIS 2011/2012 in RDF (Key Information Set - UK Universities)"},{endpoint:"http://data.linkedu.eu/kis/query",title:"UNISTAT-KIS in RDF (Key Information Set - UK Universities)"},{endpoint:"http://data.utpl.edu.ec/utpl/lod/sparql",title:"Universidad Técnica Particular de Loja - Linked Open Data"},{endpoint:"http://roma.rkbexplorer.com/sparql/",title:'Università degli studi di Roma "La Sapienza" (RKBExplorer)'},{endpoint:"http://pisa.rkbexplorer.com/sparql/",title:"Università di Pisa (RKBExplorer)"},{endpoint:"http://ulm.rkbexplorer.com/sparql/",title:"Universität Ulm (RKBExplorer)"},{endpoint:"http://irit.rkbexplorer.com/sparql/",title:"Université Paul Sabatier - Toulouse 3 (RKB Explorer)"},{endpoint:"http://resrev.ilrt.bris.ac.uk/data-server-workshop/sparql",title:"University of Bristol"},{endpoint:"http://data.linkedu.eu/hud/query",title:"University of Huddersfield -- Circulation and Recommendation Data"},{endpoint:"http://newcastle.rkbexplorer.com/sparql/",title:"University of Newcastle upon Tyne (RKBExplorer)"},{endpoint:"http://linkeddata.uriburner.com/sparql",title:"URIBurner"},{endpoint:"http://semanticweb.cs.vu.nl/verrijktkoninkrijk/sparql/",title:"Verrijkt Koninkrijk"},{endpoint:"http://kaunas.rkbexplorer.com/sparql",title:"Vytautas Magnus University, Kaunas (RKBExplorer)"},{endpoint:"http://webscience.rkbexplorer.com/sparql",title:"Web Science Conference (RKBExplorer)"},{endpoint:"http://webconf.rkbexplorer.com/sparql",title:"webconf"},{endpoint:"http://sparql.wikipathways.org/",title:"WikiPathways"},{endpoint:"http://wiktionary.dbpedia.org/sparql",title:"wiktionary.dbpedia.org"},{endpoint:"http://www.opmw.org/sparql",title:"Wings workflow provenance dataset"},{endpoint:"http://wordnet.rkbexplorer.com/sparql/",title:"WordNet (RKBExplorer)"},{endpoint:"http://worldbank.270a.info/sparql",title:"World Bank Linked Data"},{endpoint:"http://ldf.fi/ww1lod/sparql",title:"World War 1 as Linked Open Data"},{endpoint:"http://diwis.imis.athena-innovation.gr:8181/sparql",title:"xxxxx"}]}},{"./main.js":313,jquery:73}],307:[function(e,t,n){t.exports=e("./main.js")},{"./main.js":313}],308:[function(e,t,n){"use strict";t.exports={yasgui:'<svg   xmlns:osb="http://www.openswatchbook.org/uri/2009/osb"   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   viewBox="0 0 603.99 522.51"   width="100%"   height="100%"      version="1.1"   inkscape:version="0.48.4 r9939"   sodipodi:docname="test.svg">  <defs     >    <linearGradient              osb:paint="solid">      <stop         style="stop-color:#3b3b3b;stop-opacity:1;"         offset="0"          />    </linearGradient>    <inkscape:path-effect       effect="skeletal"              is_visible="true"       pattern="M 0,5 C 0,2.24 2.24,0 5,0 7.76,0 10,2.24 10,5 10,7.76 7.76,10 5,10 2.24,10 0,7.76 0,5 z"       copytype="single_stretched"       prop_scale="1"       scale_y_rel="false"       spacing="0"       normal_offset="0"       tang_offset="0"       prop_units="false"       vertical_pattern="false"       fuse_tolerance="0" />    <inkscape:path-effect       effect="spiro"              is_visible="true" />    <inkscape:path-effect       effect="skeletal"              is_visible="true"       pattern="M 0,5 C 0,2.24 2.24,0 5,0 7.76,0 10,2.24 10,5 10,7.76 7.76,10 5,10 2.24,10 0,7.76 0,5 z"       copytype="single_stretched"       prop_scale="1"       scale_y_rel="false"       spacing="0"       normal_offset="0"       tang_offset="0"       prop_units="false"       vertical_pattern="false"       fuse_tolerance="0" />    <inkscape:path-effect       effect="spiro"              is_visible="true" />  </defs>  <sodipodi:namedview          pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1.0"     inkscape:pageopacity="0.0"     inkscape:pageshadow="2"     inkscape:zoom="0.35"     inkscape:cx="-469.55507"     inkscape:cy="840.5292"     inkscape:document-units="px"     inkscape:current-layer="layer1"     showgrid="false"     inkscape:window-width="1855"     inkscape:window-height="1056"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="1"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0" />  <metadata     >    <rdf:RDF>      <cc:Work         rdf:about="">        <dc:format>image/svg+xml</dc:format>        <dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />        <dc:title />      </cc:Work>    </rdf:RDF>  </metadata>  <g     inkscape:label="Layer 1"     inkscape:groupmode="layer"          transform="translate(-50.966817,-280.33262)">    <rect       style="fill:#3b3b3b;fill-opacity:1;stroke:none"              width="40.000004"       height="478.57324"       x="-374.48849"       y="103.99496"       transform="matrix(-2.679181e-4,-0.99999996,0.99999993,-3.6684387e-4,0,0)" />    <rect       style="fill:#3b3b3b;fill-opacity:1;stroke:none"              width="40.000004"       height="560"       x="651.37634"       y="-132.06581"       transform="matrix(0.74639582,0.66550228,-0.66550228,0.74639582,0,0)" />    <path       sodipodi:type="arc"       style="fill:#ffffff;fill-opacity:1;stroke:#3b3b3b;stroke-width:61.04665375;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"              sodipodi:cx="455.71429"       sodipodi:cy="513.79077"       sodipodi:rx="144.28572"       sodipodi:ry="161.42857"       d="m 600.00002,513.79077 c 0,89.15454 -64.59892,161.42858 -144.28573,161.42858 -79.6868,0 -144.28572,-72.27404 -144.28572,-161.42858 0,-89.15454 64.59892,-161.42857 144.28572,-161.42857 79.68681,0 144.28573,72.27403 144.28573,161.42857 z"       transform="matrix(0.28877887,0,0,0.25811209,92.132758,620.67568)" />    <path       sodipodi:type="arc"       style="fill:#ffffff;fill-opacity:1;stroke:#3b3b3b;stroke-width:61.04665375;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"              sodipodi:cx="455.71429"       sodipodi:cy="513.79077"       sodipodi:rx="144.28572"       sodipodi:ry="161.42857"       d="m 600.00002,513.79077 c 0,89.15454 -64.59892,161.42858 -144.28573,161.42858 -79.6868,0 -144.28572,-72.27404 -144.28572,-161.42858 0,-89.15454 64.59892,-161.42857 144.28572,-161.42857 79.68681,0 144.28573,72.27403 144.28573,161.42857 z"       transform="matrix(0.28877887,0,0,0.25811209,457.84706,214.96137)" />    <path       sodipodi:type="arc"       style="fill:#ffffff;fill-opacity:1;stroke:#3b3b3b;stroke-width:61.04665375;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"              sodipodi:cx="455.71429"       sodipodi:cy="513.79077"       sodipodi:rx="144.28572"       sodipodi:ry="161.42857"       d="m 600.00002,513.79077 c 0,89.15454 -64.59892,161.42858 -144.28573,161.42858 -79.6868,0 -144.28572,-72.27404 -144.28572,-161.42858 0,-89.15454 64.59892,-161.42857 144.28572,-161.42857 79.68681,0 144.28573,72.27403 144.28573,161.42857 z"       transform="matrix(0.28877887,0,0,0.25811209,-30.152972,219.81853)" />    <g       transform="matrix(0.68747304,-0.7262099,0.7262099,0.68747304,0,0)"       inkscape:transform-center-x="239.86342"       inkscape:transform-center-y="-26.958107"       style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#3b3b3b;fill-opacity:1;stroke:none;font-family:Sans"       >      <path         d="m -320.16655,490.61871 33.2,0 -32.4,75.4 0,64.6 -32.2,0 0,-64.6 -32.4,-75.4 33.2,0 15.2,43 15.4,-43 0,0"         style="font-size:200px;font-variant:normal;font-stretch:normal;letter-spacing:20px;fill:#3b3b3b;font-family:RR Beaver;-inkscape-font-specification:RR Beaver"          />      <path         d="m -177.4603,630.61871 -32.2,0 -21.6,-80.4 -21.6,80.4 -32.2,0 37.4,-140 0.4,0 32,0 0.4,0 37.4,140 0,0"         style="font-size:200px;font-variant:normal;font-stretch:normal;letter-spacing:20px;fill:#3b3b3b;font-family:RR Beaver;-inkscape-font-specification:RR Beaver"          />      <path         d="m -84.835303,544.41871 c 5.999926,9e-5 11.59992,1.13342 16.8,3.4 5.19991,2.26675 9.733238,5.40008 13.6,9.4 3.866564,3.86674 6.933228,8.40007 9.2,13.6 2.266556,5.20006 3.399889,10.80005 3.4,16.8 -1.11e-4,6.00004 -1.133444,11.60003 -3.4,16.8 -2.266772,5.20002 -5.333436,9.73335 -9.2,13.6 -3.866762,3.86668 -8.40009,6.93334 -13.6,9.2 -5.20008,2.26667 -10.800074,3.4 -16.8,3.4 l -64.599997,0 0,-32.2 64.599997,0 c 3.066595,-0.1333 5.599926,-1.19996 7.6,-3.2 2.133255,-2.13329 3.199921,-4.66662 3.2,-7.6 -7.9e-5,-3.06662 -1.066745,-5.59995 -3.2,-7.6 -2.000074,-2.13328 -4.533405,-3.19994 -7.6,-3.2 l -21.599997,0 c -6.00004,6e-5 -11.60004,-1.13328 -16.8,-3.4 -5.20003,-2.2666 -9.73336,-5.33327 -13.6,-9.2 -3.86668,-3.99993 -6.93335,-8.59992 -9.2,-13.8 -2.26667,-5.19991 -3.40001,-10.79991 -3.4,-16.8 -10e-6,-5.99989 1.13333,-11.59989 3.4,-16.8 2.26665,-5.19988 5.33332,-9.73321 9.2,-13.6 3.86664,-3.86653 8.39997,-6.9332 13.6,-9.2 5.19996,-2.26652 10.79996,-3.39986 16.8,-3.4 l 42.999997,0 0,32.4 -42.999997,0 c -3.06671,1.1e-4 -5.66671,1.06678 -7.8,3.2 -2.00004,2.00011 -3.00004,4.46677 -3,7.4 -4e-5,3.06676 0.99996,5.66676 3,7.8 2.13329,2.00009 4.73329,3.00009 7.8,3 l 21.599997,0 0,0"         style="font-size:200px;font-variant:normal;font-stretch:normal;letter-spacing:20px;fill:#3b3b3b;font-family:RR Beaver;-inkscape-font-specification:RR Beaver"          />    </g>    <g       style="font-size:40px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Theorem NBP;-inkscape-font-specification:Theorem NBP"       >      <path         d="m 422.17683,677.02126 36.55,0 -5.44,27.54 -1.87,9.18 c -1.0201,5.10003 -2.94677,9.86003 -5.78,14.28 -2.83343,4.42002 -6.23343,8.27335 -10.2,11.56 -3.85342,3.28667 -8.21675,5.89334 -13.09,7.82 -4.76007,1.92667 -9.69007,2.89 -14.79,2.89 l -18.36,0 c -5.10004,0 -9.69003,-0.96333 -13.77,-2.89 -3.96669,-1.92666 -7.31002,-4.53333 -10.03,-7.82 -2.60668,-3.28665 -4.42002,-7.13998 -5.44,-11.56 -1.02001,-4.41997 -1.02001,-9.17997 0,-14.28 l 9.18,-45.9 c 1.01998,-5.09991 2.94664,-9.85991 5.78,-14.28 2.8333,-4.4199 6.17663,-8.27323 10.03,-11.56 3.96662,-3.28656 8.32995,-5.89322 13.09,-7.82 4.87328,-1.92655 9.85994,-2.88988 14.96,-2.89 l 18.36,0 c 5.09991,1.2e-4 9.63324,0.96345 13.6,2.89 4.0799,1.92678 7.42323,4.53344 10.03,7.82 2.71989,3.28677 4.58989,7.1401 5.61,11.56 1.01988,4.42009 1.01988,9.18009 0,14.28 l -27.37,0 c 0.45325,-2.49325 -9e-5,-4.58991 -1.36,-6.29 -1.36009,-1.81324 -3.34342,-2.71991 -5.95,-2.72 l -18.36,0 c -2.60673,9e-5 -4.98672,0.90676 -7.14,2.72 -2.15339,1.70009 -3.45672,3.79675 -3.91,6.29 l -9.18,45.9 c -0.45337,2.49337 -4e-5,4.6467 1.36,6.46 1.35996,1.81336 3.34329,2.72003 5.95,2.72 l 18.36,0 c 2.6066,3e-5 4.98659,-0.90664 7.14,-2.72 2.15326,-1.8133 3.45659,-3.96663 3.91,-6.46 l 1.87,-9.18 -9.18,0 5.44,-27.54"         style="font-size:170px;font-style:italic;font-weight:bold;letter-spacing:20px;fill:#c80000;font-family:RR Beaver;-inkscape-font-specification:RR Beaver Bold Italic"          />      <path         d="m 569.69808,713.74126 c -1.0201,5.10003 -2.94677,9.86003 -5.78,14.28 -2.83343,4.42002 -6.23343,8.27335 -10.2,11.56 -3.85342,3.28667 -8.21675,5.89334 -13.09,7.82 -4.76007,1.92667 -9.69007,2.89 -14.79,2.89 l -18.36,0 c -5.10004,0 -9.69003,-0.96333 -13.77,-2.89 -3.96669,-1.92666 -7.31002,-4.53333 -10.03,-7.82 -2.60668,-3.28665 -4.42002,-7.13998 -5.44,-11.56 -1.02001,-4.41997 -1.02001,-9.17997 0,-14.28 l 16.49,-82.45 27.37,0 -16.49,82.45 c -0.45337,2.49337 -4e-5,4.6467 1.36,6.46 1.35996,1.81336 3.34329,2.72003 5.95,2.72 l 18.36,0 c 2.6066,3e-5 4.98659,-0.90664 7.14,-2.72 2.15326,-1.8133 3.45659,-3.96663 3.91,-6.46 l 16.49,-82.45 27.37,0 -16.49,82.45"         style="font-size:170px;font-style:italic;font-weight:bold;letter-spacing:20px;fill:#c80000;font-family:RR Beaver;-inkscape-font-specification:RR Beaver Bold Italic"          />      <path         d="m 613.00933,631.29126 27.37,0 -23.8,119 -27.37,0 23.8,-119 0,0"         style="font-size:170px;font-style:italic;font-weight:bold;letter-spacing:20px;fill:#c80000;font-family:RR Beaver;-inkscape-font-specification:RR Beaver Bold Italic"          />    </g>    <path       sodipodi:type="arc"       style="fill:#ffffff;fill-opacity:1;stroke:#3b3b3b;stroke-width:61.04665375;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"              sodipodi:cx="455.71429"       sodipodi:cy="513.79077"       sodipodi:rx="144.28572"       sodipodi:ry="161.42857"       d="m 600.00002,513.79077 c 0,89.15454 -64.59892,161.42858 -144.28573,161.42858 -79.6868,0 -144.28572,-72.27404 -144.28572,-161.42858 0,-89.15454 64.59892,-161.42857 144.28572,-161.42857 79.68681,0 144.28573,72.27403 144.28573,161.42857 z"       transform="matrix(0.4331683,0,0,0.38716814,381.83246,155.72497)" />  </g></svg>',cross:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g>\t<path d="M83.288,88.13c-2.114,2.112-5.575,2.112-7.689,0L53.659,66.188c-2.114-2.112-5.573-2.112-7.687,0L24.251,87.907   c-2.113,2.114-5.571,2.114-7.686,0l-4.693-4.691c-2.114-2.114-2.114-5.573,0-7.688l21.719-21.721c2.113-2.114,2.113-5.573,0-7.686   L11.872,24.4c-2.114-2.113-2.114-5.571,0-7.686l4.842-4.842c2.113-2.114,5.571-2.114,7.686,0L46.12,33.591   c2.114,2.114,5.572,2.114,7.688,0l21.721-21.719c2.114-2.114,5.573-2.114,7.687,0l4.695,4.695c2.111,2.113,2.111,5.571-0.003,7.686   L66.188,45.973c-2.112,2.114-2.112,5.573,0,7.686L88.13,75.602c2.112,2.111,2.112,5.572,0,7.687L83.288,88.13z"/></g></svg>',plus:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"      x="0px"   y="0px"   viewBox="5 -10 59.259258 79.999999"   enable-background="new 0 0 100 100"   xml:space="preserve"   height="100%"   width="100%"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_79066_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="1855"     inkscape:window-height="1056"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="6.675088"     inkscape:cx="46.670641"     inkscape:cy="16.037704"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="1"     inkscape:current-layer="Your_Icon" /><g          transform="translate(-23.47037,-20)"><g       ><g         ><g            /></g><g          /></g></g><path     d="M 67.12963,22.5 H 42.129629 v -25 c 0,-4.142 -3.357,-7.5 -7.5,-7.5 -4.141999,0 -7.5,3.358 -7.5,7.5 v 25 H 2.1296295 c -4.142,0 -7.5,3.358 -7.5,7.5 0,4.143 3.358,7.5 7.5,7.5 H 27.129629 v 25 c 0,4.143 3.358001,7.5 7.5,7.5 4.143,0 7.5,-3.357 7.5,-7.5 v -25 H 67.12963 c 4.143,0 7.5,-3.357 7.5,-7.5 0,-4.142 -3.357,-7.5 -7.5,-7.5 z"          inkscape:connector-curvature="0"     style="fill:#000000" /></svg>',crossMark:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"  viewBox="3.75 -7.5 43.041089 57.023436"   version="1.1"      inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_96505_cc.svg">  <metadata     >    <rdf:RDF>      <cc:Work         rdf:about="">        <dc:format>image/svg+xml</dc:format>        <dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />      </cc:Work>    </rdf:RDF>  </metadata>  <defs      />  <sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="1855"     inkscape:window-height="1056"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="37.14799"     inkscape:cy="24.652776"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="1"     inkscape:current-layer="svg2" />  <g          transform="translate(-13.01266,-18.5625)">    <path       style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"       d="M 67.335938,21.40625 60.320312,11.0625 C 50.757812,17.542969 43.875,22.636719 38.28125,27.542969 32.691406,22.636719 25.808594,17.546875 16.242188,11.0625 L 9.230469,21.40625 C 18.03125,27.375 24.3125,31.953125 29.398438,36.351562 23.574219,42.90625 18.523438,50.332031 11.339844,61.183594 l 10.421875,6.902344 C 28.515625,57.886719 33.144531,51.046875 38.28125,45.160156 c 5.140625,5.886719 9.765625,12.726563 16.523438,22.925782 L 65.226562,61.183594 C 58.039062,50.335938 52.988281,42.90625 47.167969,36.351562 52.25,31.953125 58.53125,27.375 67.335938,21.40625 z m 0,0"              inkscape:connector-curvature="0" />  </g></svg>',checkMark:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   viewBox="3.75 -7.5 48.269674 56.308594"   version="1.1"      inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_96848_cc.svg">  <metadata     >    <rdf:RDF>      <cc:Work         rdf:about="">        <dc:format>image/svg+xml</dc:format>        <dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />      </cc:Work>    </rdf:RDF>  </metadata>  <defs      />  <sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="1855"     inkscape:window-height="1056"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="40.78518"     inkscape:cy="24.259259"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="1"     inkscape:current-layer="svg2" />  <g          transform="translate(-9.3300051,-18.878906)">    <path       style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"       d="M 27.160156,67.6875 4.632812,45.976562 l 8.675782,-9 11.503906,11.089844 c 7.25,-10.328125 22.84375,-29.992187 40.570312,-36.6875 l 4.414063,11.695313 C 49.894531,30.59375 31.398438,60.710938 31.214844,61.015625 z m 0,0"              inkscape:connector-curvature="0" />  </g></svg>',checkCrossMark:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   viewBox="3.75 -7.5 49.752653 49.990111"   version="1.1"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_96848_cc.svg">  <metadata     >    <rdf:RDF>      <cc:Work         rdf:about="">        <dc:format>image/svg+xml</dc:format>        <dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />      </cc:Work>    </rdf:RDF>  </metadata>  <defs      />  <sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="1855"     inkscape:window-height="1056"     showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="41.024355"     inkscape:cy="53.698163"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="1"     inkscape:current-layer="svg2"      />  <g     transform="matrix(0.59034297,0,0,0.59034297,12.298561,2.5312719)"     >    <path       style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"       d="M 27.160156,67.6875 4.632812,45.976562 l 8.675782,-9 11.503906,11.089844 c 7.25,-10.328125 22.84375,-29.992187 40.570312,-36.6875 l 4.414063,11.695313 C 49.894531,30.59375 31.398438,60.710938 31.214844,61.015625 z m 0,0"       inkscape:connector-curvature="0"        />  </g>  <g     transform="matrix(0.46036177,0,0,0.46036177,-0.49935505,-12.592753)"     >    <path       style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"       d="M 67.335938,21.40625 60.320312,11.0625 C 50.757812,17.542969 43.875,22.636719 38.28125,27.542969 32.691406,22.636719 25.808594,17.546875 16.242188,11.0625 L 9.230469,21.40625 C 18.03125,27.375 24.3125,31.953125 29.398438,36.351562 23.574219,42.90625 18.523438,50.332031 11.339844,61.183594 l 10.421875,6.902344 C 28.515625,57.886719 33.144531,51.046875 38.28125,45.160156 c 5.140625,5.886719 9.765625,12.726563 16.523438,22.925782 L 65.226562,61.183594 C 58.039062,50.335938 52.988281,42.90625 47.167969,36.351562 52.25,31.953125 58.53125,27.375 67.335938,21.40625 z m 0,0"       inkscape:connector-curvature="0"        />  </g></svg>'}},{}],309:[function(e,t,n){"use strict";var i=e("jquery"),r=e("selectize"),o=e("yasgui-utils");r.define("allowRegularTextInput",function(e){var t=this;this.onMouseDown=function(){var e=t.onMouseDown;return function(n){if(t.$dropdown.is(":visible")){n.stopPropagation();n.preventDefault()}else{e.apply(this,arguments);var i=this.getValue();this.clear(!0);this.setTextboxValue(i);this.refreshOptions(!0)}}}()});i.fn.endpointCombi=function(e,t){var n=function(t){e.corsEnabled||(e.corsEnabled={});t in e.corsEnabled||i.ajax({url:t+"?query="+encodeURIComponent("ASK {?x ?y ?z}"),complete:function(n){e.corsEnabled[t]=n.status>0}})},r=function(t){var n=null;
e.persistencyPrefix&&(n=e.persistencyPrefix+"endpoint_"+t);var i=[];for(var r in a[0].selectize.options){var s=a[0].selectize.options[r];if(s.optgroup==t){var l={endpoint:s.endpoint};s.text&&(l.label=s.text);i.push(l)}}o.storage.set(n,i,null,e.options.onQuotaExceeded)},s=function(t,n){var i=null;e.persistencyPrefix&&(i=e.persistencyPrefix+"endpoint_"+n);var r=o.storage.get(i);if(r)return t(r,n);if("catalogue"==n&&e.options.catalogueEndpoints){if("function"==typeof e.options.catalogueEndpoints)return e.options.catalogueEndpoints(e,function(r){r&&o.storage.set(i,r,null,e.options.onQuotaExceeded);t(r,n)});if("object"==typeof e.options.catalogueEndpoints){r=e.options.catalogueEndpoints;o.storage.set(i,r,null,e.options.onQuotaExceeded);t(r,n)}}},a=this,l=function(){a.showAll=!0},u={selectize:{plugins:["allowRegularTextInput"],create:function(e,t){t({endpoint:e,optgroup:"own"})},onBlur:l,createOnBlur:!0,onItemAdd:function(i,r){l();t.onChange&&t.onChange(i);e.options.api.corsProxy&&n(i)},onOptionRemove:function(e){r("own");r("catalogue")},optgroups:[{value:"own",label:"History"},{value:"catalogue",label:"Catalogue"}],optgroupOrder:["own","catalogue"],sortField:"endpoint",valueField:"endpoint",labelField:"endpoint",searchField:["endpoint","text"],score:function(e){return a.showAll?function(){a.showAll=!1;return 1}:this.getScoreFunction(e)},render:{option:function(e,t){var n='<a href="javascript:void(0)"  class="close pull-right" tabindex="-1" title="Remove from '+("own"==e.optgroup?"history":"catalogue")+'">&times;</a>',i='<div class="endpointUrl">'+t(e.endpoint)+"</div>",r="";e.text&&(r='<div class="endpointTitle">'+t(e.text)+"</div>");return'<div class="endpointOptionRow">'+n+i+r+"</div>"}}}};t=t?i.extend(!0,{},u,t):u;this.addClass("endpointText form-control");this.selectize(t.selectize);a[0].selectize.$dropdown.off("mousedown","[data-selectable]");a[0].selectize.$dropdown.on("mousedown","[data-selectable]",function(e){var t,n,r=a[0].selectize;if(e.preventDefault){e.preventDefault();e.stopPropagation()}n=i(e.currentTarget);if(i(e.target).hasClass("close")){a[0].selectize.removeOption(n.attr("data-value"));a[0].selectize.refreshOptions()}else if(n.hasClass("create"))r.createItem();else{t=n.attr("data-value");if("undefined"!=typeof t){r.lastQuery=null;r.setTextboxValue("");r.addItem(t);!r.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&r.setActiveOption(r.getOption(t))}}});var c=function(e,t){t.optgroup&&r(t.optgroup)},f=function(e,t){if(e){a[0].selectize.off("option_add",c);e.forEach(function(e){a[0].selectize.addOption({endpoint:e.endpoint,text:e.title,optgroup:t})});a[0].selectize.on("option_add",c)}};s(f,"catalogue");s(f,"own");if(t.value){t.value in a[0].selectize.options||a[0].selectize.addOption({endpoint:t.value,optgroup:"own"});a[0].selectize.addItem(t.value)}return this}},{jquery:73,selectize:214,"yasgui-utils":255}],310:[function(e,t,n){e("jquery-ui/resizable.js");e("./outsideclick.js");e("./tab.js");e("./endpointCombi.js");e("jquery-ui/position");e("jquery-ui/sortable")},{"./endpointCombi.js":309,"./outsideclick.js":311,"./tab.js":312,"jquery-ui/position":69,"jquery-ui/resizable.js":70,"jquery-ui/sortable":71}],311:[function(e,t,n){"use strict";var i=e("jquery");i.fn.onOutsideClick=function(e,t){t=i.extend({skipFirst:!1,allowedElements:i()},t);var n=i(this),r=function(o){var s=function(e){return!e.is(o.target)&&0===e.has(o.target).length};if(s(n)&&s(t.allowedElements))if(t.skipFirst)t.skipFirst=!1;else{e();i(document).off("mousedown",r)}};i(document).mousedown(r);return this}},{jquery:73}],312:[function(e,t,n){function i(e){return this.each(function(){var t=r(this),n=t.data("bs.tab");n||t.data("bs.tab",n=new o(this));"string"==typeof e&&n[e]()})}var r=e("jquery"),o=function(e){this.element=r(e)};o.VERSION="3.3.1";o.TRANSITION_DURATION=150;o.prototype.show=function(){var e=this.element,t=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(!n){n=e.attr("href");n=n&&n.replace(/.*(?=#[^\s]*$)/,"")}if(!e.parent("li").hasClass("active")){var i=t.find(".active:last a"),o=r.Event("hide.bs.tab",{relatedTarget:e[0]}),s=r.Event("show.bs.tab",{relatedTarget:i[0]});i.trigger(o);e.trigger(s);if(!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=r(n);this.activate(e.closest("li"),t);this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]});e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}};o.prototype.activate=function(e,t,n){function i(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);if(a){e[0].offsetWidth;e.addClass("in")}else e.removeClass("fade");e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);n&&n()}var s=t.find("> .active"),a=n&&r.support.transition&&(s.length&&s.hasClass("fade")||!!t.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i();s.removeClass("in")};var s=r.fn.tab;r.fn.tab=i;r.fn.tab.Constructor=o;r.fn.tab.noConflict=function(){r.fn.tab=s;return this};var a=function(e){e.preventDefault();i.call(r(this),"show")};r(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',a).on("click.bs.tab.data-api",'[data-toggle="pill"]',a)},{jquery:73}],313:[function(e,t,n){"use strict";var i=e("jquery"),r=e("events").EventEmitter,o=e("yasgui-utils"),s=(e("./imgs.js"),e("./stories.js")),a=e("blueimp-md5");e("./jquery/extendJquery.js");var l=function(e){var n='Endpoint is not <a href="http://enable-cors.org/" target="_blank">CORS-enabled</a>';e.api.corsProxy&&(n='Endpoint is not accessible from the YASGUI server and website, and the endpoint is not <a href="http://enable-cors.org/" target="_blank">CORS-enabled</a>');t.exports.YASR.plugins.error.defaults.corsMessage=i("<div>").append(i("<p>").append("Unable to get response from endpoint. Possible reasons:")).append(i("<ul>").append(i("<li>").text("Incorrect endpoint URL")).append(i("<li>").text("Endpoint is down")).append(i("<li>").html(n)))},u=function(n,s){r.call(this);var u=this;u.wrapperElement=i('<div class="yasgui"></div>').appendTo(i(n));u.options=i.extend(!0,{},t.exports.defaults,s);l(u.options);u.history=[];u.persistencyPrefix=null;if(u.options.persistencyPrefix){u.persistencyPrefix="function"==typeof u.options.persistencyPrefix?u.options.persistencyPrefix(u):u.options.persistencyPrefix;u.persistencyPrefix=a(u.persistencyPrefix)}if(u.persistencyPrefix){var c=o.storage.get(u.persistencyPrefix+"history");c&&(u.history=c)}u.store=function(){u.persistentOptions&&o.storage.set(u.persistencyPrefix,u.persistentOptions,null,u.options.onQuotaExceeded)};var f=function(){var e=o.storage.get(u.persistencyPrefix);e||(e={});return e};u.persistentOptions=f();u.persistentOptions.tabManager&&(u.persistentOptions=u.persistentOptions.tabManager);var p=u.persistentOptions;u.tabs={};var h,d=null,g=null,m=function(e,t){e||(e="Query");t||(t=0);var n=e+(t>0?" "+t:"");v(n)&&(n=m(e,t+1));return n},v=function(e){for(var t in u.tabs)if(u.tabs[t].persistentOptions.name==e)return!0;return!1},y=function(){return Math.random().toString(36).substring(7)},b=function(){return i('<div><input type="text"></div>').keydown(function(e){27==e.which||27==e.keyCode?i(this).closest("li").removeClass("rename"):13!=e.which&&13!=e.keyCode||_(i(this).closest("li"))})},x=function(e){var t=e.find("span").text();e.addClass("rename");e.find("input").val(t).focus();e.onOutsideClick(function(){_(e)})},_=function(e,t){var n=e.find('a[role="tab"]').attr("aria-controls"),i=t||e.find("input").val();e.find("span").text(i);p.tabs[n].name=i;u.store();e.removeClass("rename")},E=function(e,t){_(h.find('a[role="tab"][aria-controls='+e+"]").parent(),t)};u.renameTab=E;u.init=function(){d=i("<div>",{role:"tabpanel"}).appendTo(u.wrapperElement);h=i("<ul>",{"class":"nav nav-tabs mainTabs",role:"tablist"}).appendTo(d);u.$tabsParent=h;var t=i("<a>",{role:"addTab"}).click(function(e){S()}).text("+");h.append(i("<li>",{role:"presentation"}).append(t));u.$tabPanesParent=i("<div>",{"class":"tab-content"}).appendTo(d);if(!p||i.isEmptyObject(p)){p={tabOrder:[],tabs:{},selected:null};u.options.tabs.forEach(function(e){var t=y();p.selected||(p.selected=t);p.tabOrder.push(t);p.tabs[t]=i.extend(!0,{},{id:t},e)});u.persistentOptions=p;u.store()}var n=e("./shareLink.js").getOptionsFromUrl();if(n){var r=y();n.id=r;p.tabs[r]=n;p.tabOrder.push(r);p.selected=r;u.once("ready",function(){if(p.tabs[r].yasr.outputSettings){var e=u.current().yasr.plugins[p.tabs[r].yasr.output];e.options&&i.extend(e.options,p.tabs[r].yasr.outputSettings);delete p.tabs[r].yasr.outputSettings}u.current().query()})}p.tabOrder.forEach(S);h.sortable({placeholder:"tab-sortable-highlight",items:'li:has([data-toggle="tab"])',forcePlaceholderSize:!0,update:function(){var e=[];h.find('a[data-toggle="tab"]').each(function(){e.push(i(this).attr("aria-controls"))});p.tabOrder=e;u.store()}});g=i("<div>",{"class":"tabDropDown"}).appendTo(u.wrapperElement);var o=i("<ul>",{"class":"dropdown-menu",role:"menu"}).appendTo(g),s=function(e,t){var n=i("<li>",{role:"presentation"}).appendTo(o);e?n.append(i("<a>",{role:"menuitem",href:"#"}).text(e)).click(function(e){g.hide();e.preventDefault();t&&t(g.attr("target-tab"))}):n.addClass("divider")};s("Add new Tab",function(e){S()});s("Rename",function(e){x(h.find('a[href="#'+e+'"]').parent())});s("Copy",function(e){var t=y(),n=i.extend(!0,{},p.tabs[e]);n.id=t;p.tabs[t]=n;S(t);w(t)});s();s("Close",T);s("Close others",function(e){h.find('a[role="tab"]').each(function(){var t=i(this).attr("aria-controls");t!=e&&T(t)})});s("Close all",function(){h.find('a[role="tab"]').each(function(){T(i(this).attr("aria-controls"))})})};var w=function(e){h.find('a[aria-controls="'+e+'"]').tab("show");return u.current()};u.selectTab=w;var T=function(e){u.tabs[e].destroy();delete u.tabs[e];delete p.tabs[e];var t=p.tabOrder.indexOf(e);t>-1&&p.tabOrder.splice(t,1);var n=null;p.tabOrder[t]?n=t:p.tabOrder[t-1]&&(n=t-1);null!==n&&w(p.tabOrder[n]);h.find('a[href="#'+e+'"]').closest("li").remove();i("#"+e).remove();u.store();return u.current()};u.closeTab=T;var S=function(t){var n=!t;t||(t=y());"tabs"in p||(p.tabs={});var r=null;p.tabs[t]&&p.tabs[t].name&&(r=p.tabs[t].name);r||(r=m());var o=u.options.endpoint;!o&&u.current()&&u.current().getEndpoint()&&(o=u.current().getEndpoint());var s=i("<a>",{href:"#"+t,"aria-controls":t,role:"tab","data-toggle":"tab"}).click(function(e){e.preventDefault();i(this).tab("show");u.tabs[t].yasqe&&u.tabs[t].yasqe.refresh()}).on("shown.bs.tab",function(e){p.selected=i(this).attr("aria-controls");u.tabs[t].onShow();u.store()}).append(i("<div>",{"class":"loader"})).append(i("<span>").text(r)).append(i("<button>",{"class":"close",type:"button"}).text("x").click(function(){T(t)})),a=i("<li>",{role:"presentation"}).append(s).append(b()).dblclick(function(){var e=i(this);x(e)}).mousedown(function(e){2==e.which&&T(t)}).bind("contextmenu",function(e){e.preventDefault();g.show().onOutsideClick(function(){g.hide()},{allowedElements:i(this).closest("li")}).addClass("open").attr("target-tab",a.find('a[role="tab"]').attr("aria-controls")).position({my:"left top-3",at:"left bottom",of:i(this)})});h.find('li:has(a[role="addTab"])').before(a);n&&p.tabOrder.push(t);var l=e("./tab.js"),c={id:t,name:r,yasqe:u.options.yasqe,yasr:u.options.yasr};o&&(c.yasqe={sparql:{endpoint:o}});u.tabs[t]=new l(u,c);if(n||p.selected==t){u.tabs[t].beforeShow();s.tab("show")}return u.tabs[t]};u.current=function(){return u.tabs[p.selected]};u.addTab=S;u.init();u.tracker=e("./tracker.js")(u);u.emit("ready");return u};u.prototype=new r;t.exports=function(e,t){return new u(e,t)};t.exports.sparqlStories=s;t.exports.stories=s;t.exports.shouldResetStorage=function(){return document.location.search.substring(1).split("&").indexOf("_resetYasgui")>=0};t.exports.shouldResetStorage()&&o.storage.removeAll();t.exports.YASQE=e("./yasqe.js");t.exports.YASR=e("./yasr.js");t.exports.version={YASGUI:e("../package.json").version,jquery:i.fn.jquery,"yasgui-utils":e("yasgui-utils").version,YASQE:t.exports.YASQE.version,YASR:t.exports.YASR.version};t.exports.$=i;t.exports.defaults=e("./defaults.js")},{"../package.json":305,"./defaults.js":306,"./imgs.js":308,"./jquery/extendJquery.js":310,"./shareLink.js":314,"./stories.js":315,"./tab.js":316,"./tracker.js":318,"./yasqe.js":320,"./yasr.js":321,"blueimp-md5":2,events:62,jquery:73,"yasgui-utils":255}],314:[function(e,t,n){var i=e("jquery"),r=e("url-parse"),o=function(e){var t=[];if(e&&e.length>0)for(var n=e.split("&"),i=0;i<n.length;i++){var r=n[i].split("="),o=r[0],s=r[1];if(o.length>0&&s&&s.length>0){s=s.replace(/\+/g," ");s=decodeURIComponent(s);t.push({name:r[0],value:s})}}return t},s=function(e){var t=!1;e||(t=!0);var n=r(e||window.location.href),i=[];if(n.hash.length>1){i=o(n.hash.split("#")[1]);t&&(window.location.hash="")}else n.query.length>1&&(i=o(n.query.substring(1)));return i};t.exports={getShortLinkHandler:function(e){return function(t,n){i.ajax({url:e.options.api.urlShortener,data:{url:t},error:function(e,t,i){n(e.responseText)},success:function(e){n(null,e)}})}},getCreateLinkHandler:function(e){return function(){var t=[{name:"query",value:e.yasqe.getValue()},{name:"contentTypeConstruct",value:e.persistentOptions.yasqe.sparql.acceptHeaderGraph},{name:"contentTypeSelect",value:e.persistentOptions.yasqe.sparql.acceptHeaderSelect},{name:"endpoint",value:e.persistentOptions.yasqe.sparql.endpoint},{name:"requestMethod",value:e.persistentOptions.yasqe.sparql.requestMethod},{name:"tabTitle",value:e.persistentOptions.name},{name:"headers",value:JSON.stringify(e.persistentOptions.yasqe.sparql.headers)}];e.persistentOptions.yasqe.sparql.args.forEach(function(e){t.push(e)});e.persistentOptions.yasqe.sparql.namedGraphs.forEach(function(e){t.push({name:"namedGraph",value:e})});e.persistentOptions.yasqe.sparql.defaultGraphs.forEach(function(e){t.push({name:"defaultGraph",value:e})});t.push({name:"outputFormat",value:e.yasr.options.output});if(e.yasr.plugins[e.yasr.options.output].getPersistentSettings){var n=e.yasr.plugins[e.yasr.options.output].getPersistentSettings();"object"==typeof n&&(n=JSON.stringify(n));t.push({name:"outputSettings",value:n})}if(window.location.hash.length>1){var i=[];t.forEach(function(e){i.push(e.name)});var r=o(window.location.hash.substring(1));r.forEach(function(e){i.indexOf(e.name)==-1&&t.push(e)})}return t}},getOptionsFromUrl:function(e){var t={yasqe:{sparql:{}},yasr:{}},n=s(e),r=!1;n.forEach(function(e){if("query"==e.name){r=!0;t.yasqe.value=e.value}else if("outputFormat"==e.name){var n=e.value;"simpleTable"==n&&(n="table");t.yasr.output=n}else if("outputSettings"==e.name)t.yasr.outputSettings=JSON.parse(e.value);else if("contentTypeConstruct"==e.name)t.yasqe.sparql.acceptHeaderGraph=e.value;else if("contentTypeSelect"==e.name)t.yasqe.sparql.acceptHeaderSelect=e.value;else if("endpoint"==e.name)t.yasqe.sparql.endpoint=e.value;else if("requestMethod"==e.name)t.yasqe.sparql.requestMethod=e.value;else if("tabTitle"==e.name)t.name=e.value;else if("namedGraph"==e.name){t.yasqe.sparql.namedGraphs||(t.yasqe.sparql.namedGraphs=[]);t.yasqe.sparql.namedGraphs.push(e.value)}else if("defaultGraph"==e.name){t.yasqe.sparql.defaultGraphs||(t.yasqe.sparql.defaultGraphs=[]);t.yasqe.sparql.defaultGraphs.push(e.value)}else if("headers"==e.name){t.yasqe.sparql.headers||(t.yasqe.sparql.headers={});var o=JSON.parse(e.value);i.isPlainObject(o)&&(t.yasqe.sparql.headers=o)}else{t.yasqe.sparql.args||(t.yasqe.sparql.args=[]);t.yasqe.sparql.args.push(e)}});return r?t:null}}},{jquery:73,"url-parse":247}],315:[function(e,t,n){var i={URL_LINK:"data-query",SPARQL_REF:"data-query-sparql",ENDPOINT:"data-query-endpoint",OUTPUT:"data-query-output"},r=e("jquery"),o=e("./shareLink"),s=e("promise-polyfill");s._unhandledRejectionFn=function(e){};var a=e("url-parse");t.exports=function(e){function t(e){var t={queryRef:void 0,yasguiOptions:{yasqe:{value:void 0,sparql:{endpoint:void 0}},yasr:{output:void 0}}},n=e.parents().toArray();n.push(e[0]);n.forEach(function(e){var n=r(e);n.attr(i.SPARQL_REF)&&(t.queryRef=n.attr(i.SPARQL_REF));n.attr(i.ENDPOINT)&&(t.yasguiOptions.yasqe.sparql.endpoint=n.attr(i.ENDPOINT));n.attr(i.OUTPUT)&&(t.yasguiOptions.yasr.output=n.attr(i.OUTPUT))});return t}function n(e){var n=e.attr(i.URL_LINK),a=s.resolve({});n&&(a=f(n).then(o.getOptionsFromUrl).then(function(e){if(e.yasr.outputSettings&&e.yasr.output){e.yasr.pluginSettings||(e.yasr.pluginSettings={});e.yasr.pluginSettings[e.yasr.output]=e.yasr.outputSettings}return u(e,n)}));var l,c=t(e),p=c.queryRef?s.resolve().then(function(){return r.get(c.queryRef)}):s.resolve(void 0);return a.then(function(e){l=r.extend(!0,e,c.yasguiOptions);return p}).then(function(e){e&&(l.yasqe.value=e);return l})}function l(t,i,o){i||(i=0);var a=r(t);return n(a).then(function(t){i||c(a);window.$el=a;var n=YASGUI(a,r.extend(t,{persistencyPrefix:function(){return"yasgui_stories_"+t.yasqe.value+t.yasqe.sparql.endpoint+t.yasr.output+o+Math.random()},onQuotaExceeded:function(){console.log("On quota exceeded!");if(!YASGUI.shouldResetStorage()){var e=window.location.search;e+=(e.length>0?"&":"?")+"_resetYasgui";window.location.search=e}}},e||{}));a.extend({yasgui:n});window.yasgui.push(a.yasgui);return n.current().yasr.results?s.resolve(a.yasgui):new s(function(e,t){n.current().yasqe.options.sparql.callbacks.error=t;n.current().yasqe.options.sparql.callbacks.success=function(){e(a.yasgui)};n.current().query()})},function(e){if(i<3){console.warn("failed request, retrying");return l(t,i+1)}console.error(e)})}function u(e,t){if(e&&e.yasqe&&e.yasqe.sparql&&e.yasqe.sparql.endpoint&&0!==e.yasqe.sparql.endpoint.indexOf("http")){var n=a(t),i=a(e.yasqe.sparql.endpoint);n.set("hash",i.hash);n.set("query",i.query);n.set("pathname",i.pathname);e.yasqe.sparql.endpoint=n.href}return e}function c(e,t){e.empty();e.addClass("hideTabs").addClass("stories");void 0===e.attr("data-showQuery")&&e.addClass("hideYasqe");r("<button>").addClass("btn btn-info").text((e.hasClass("hideYasqe")?"Show":"Hide")+" query").click(function(){if(e.hasClass("hideYasqe")){r(this).text("Hide query");e.removeClass("hideYasqe");e.yasgui.current().yasqe.refresh()}else{r(this).text("Show query");e.addClass("hideYasqe")}}).appendTo(e)}function f(e){if(e.indexOf("/short")>=0){e.indexOf("/url")<0&&(e+="/url");return s.resolve().then(function(){return r.get(e)})}return s.resolve(e)}r(document).ready(function(){function e(){n>=t.length||l(t[n],0,n).then(function(){n++;e()})}window.yasgui=[];var t=r("["+i.URL_LINK+"]"),n=0;e()})}},{"./shareLink":314,jquery:73,"promise-polyfill":206,"url-parse":247}],316:[function(e,t,n){"use strict";var i=e("jquery"),r=e("events").EventEmitter,o=(e("./utils.js"),e("yasgui-utils")),s=e("underscore"),a=e("./main.js");t.exports=function(e,t){return new l(e,t)};var l=function(t,n){r.call(this);n||(n={});n.yasqe||(n.yasqe={});n.yasr||(n.yasr={});var l=n.id;t.persistentOptions.tabs[l]=i.extend(!0,{},{yasqe:a.defaults.yasqe,yasr:a.defaults.yasr},n,t.persistentOptions.tabs[l]||{});var u=t.persistentOptions.tabs[l],c=this;c.persistentOptions=u;var f,p=e("./tabPaneMenu.js")(t,c),h=i("<div>",{id:u.id,style:"position:relative","class":"tab-pane",role:"tabpanel"}).appendTo(t.$tabPanesParent),d=i("<div>",{"class":"wrapper"}).appendTo(h),g=i("<div>",{"class":"controlbar"}).appendTo(d),m=(p.initWrapper().appendTo(h),function(){i("<button>",{type:"button","class":"menuButton btn btn-default"}).on("click",function(e){if(h.hasClass("menu-open")){h.removeClass("menu-open");p.store()}else{p.updateWrapper();h.addClass("menu-open");i(".menu-slide,.menuButton").onOutsideClick(function(){h.removeClass("menu-open");p.store()})}}).append(i("<span>",{"class":"icon-bar"})).append(i("<span>",{"class":"icon-bar"})).append(i("<span>",{"class":"icon-bar"})).appendTo(g);f=i("<div>",{"class":"endpointWrapper"}).appendTo(g);c.updateEndpointWidget()}),v=i("<div>",{id:"yasqe_"+u.id}).appendTo(d),y=i("<div>",{id:"yasq_"+u.id}).appendTo(d),b={createShareLink:e("./shareLink").getCreateLinkHandler(c),onQuotaExceeded:t.options.onQuotaExceeded};t.options.api.urlShortener&&(b.createShortLink=e("./shareLink").getShortLinkHandler(t));var x=function(){u.yasqe.value=c.yasqe.getValue();var e=null;c.yasr.results.getBindings()&&(e=c.yasr.results.getBindings().length);var n={options:i.extend(!0,{},u),resultSize:e};delete n.options.name;t.history.unshift(n);var r=50;t.history.length>r&&(t.history=t.history.slice(0,r));t.persistencyPrefix&&o.storage.set(t.persistencyPrefix+"history",t.history,null,t.options.onQuotaExceeded)};c.setPersistentInYasqe=function(){if(c.yasqe){i.extend(c.yasqe.options.sparql,u.yasqe.sparql);u.yasqe.value&&c.yasqe.setValue(u.yasqe.value)}};i.extend(b,u.yasqe);var _=function(){if(!c.yasr){c.yasqe||E();var e=function(){return u.yasqe.sparql.endpoint+"?"+i.param(c.yasqe.getUrlArguments(u.yasqe.sparql))};a.YASR.plugins.error.defaults.tryQueryLink=e;c.yasr=new a.YASR(y[0],i.extend({getUsedPrefixes:c.yasqe.getPrefixesFromQuery},u.yasr,{onQuotaExceeded:t.options.onQuotaExceeded}));c.yasr.on("drawn",function(e,t){if(c.yasqe.lastQueryDuration&&"Table"==t.name&&e===c.yasr){var n=c.yasr.resultsContainer.find(".dataTables_info");if(n.length>0){var i=n.first().text();n.text(i+" (in "+c.yasqe.lastQueryDuration/1e3+" seconds)")}}});c.yasr.on("fullscreen-enter",function(e){t.wrapperElement.addClass("hasFullScreen")});c.yasr.on("fullscreen-leave",function(e){t.wrapperElement.removeClass("hasFullScreen")})}};c.query=function(e){c.yasqe.query(e)};c.close=function(){t.closeTab(l)};c.rename=function(e){t.renameTab(l,e)};c.setQuery=function(e){u.yasqe.value=e;c.yasqe.setValue(e);t.store()};c.updateEndpointWidget=function(){if(t.options.endpointInput&&"function"==typeof t.options.endpointInput){f.empty();t.options.endpointInput(t,u.yasqe,i,f,function(e){c.setEndpoint(e,!0)})}};c.setEndpoint=function(e,n){u.yasqe.sparql.endpoint=e;c.refreshYasqe();t.store();n||c.updateEndpointWidget()};var E=function(){if(!c.yasqe){m();a.YASQE.defaults.extraKeys["Ctrl-Enter"]=function(){c.yasqe.query.apply(this,arguments)};a.YASQE.defaults.extraKeys["Cmd-Enter"]=function(){c.yasqe.query.apply(this,arguments)};c.yasqe=a.YASQE(v[0],b);c.yasqe.setSize("100%",u.yasqe.height);c.yasqe.on("blur",function(e){u.yasqe.value=e.getValue();t.store()});c.yasqe.on("query",function(){t.$tabsParent.find('a[href="#'+l+'"]').closest("li").addClass("querying");t.emit("query",t,c)});c.yasqe.on("queryFinish",function(){t.$tabsParent.find('a[href="#'+l+'"]').closest("li").removeClass("querying");t.emit("queryFinish",t,c)});var e=null;c.yasqe.options.sparql.callbacks.beforeSend=function(){e=+new Date};c.yasqe.options.sparql.callbacks.complete=function(){var n=+new Date;t.tracker.track(u.yasqe.sparql.endpoint,c.yasqe.getValueWithoutComments(),n-e);c.yasr.setResponse.apply(this,arguments);x()};c.yasqe.on("fullscreen-enter",function(e){t.wrapperElement.addClass("hasFullScreen")});c.yasqe.on("fullscreen-leave",function(e){t.wrapperElement.removeClass("hasFullScreen")});c.yasqe.query=function(){var e={};e=i.extend(!0,e,c.yasqe.options.sparql);if(t.options.api.corsProxy&&t.corsEnabled)if(t.corsEnabled[u.yasqe.sparql.endpoint])a.YASQE.executeQuery(c.yasqe,e);else{e.args.push({name:"endpoint",value:e.endpoint});e.args.push({name:"requestMethod",value:e.requestMethod});e.requestMethod="POST";e.endpoint=t.options.api.corsProxy;a.YASQE.executeQuery(c.yasqe,e)}else a.YASQE.executeQuery(c.yasqe,e)}}};c.onShow=function(){E();c.yasqe.refresh();_();if(t.options.allowYasqeResize){i(c.yasqe.getWrapperElement()).resizable({minHeight:150,handles:"s",resize:function(){s.debounce(function(){c.yasqe.setSize("100%",i(this).height());c.yasqe.refresh()},500)},stop:function(){u.yasqe.height=i(this).height();c.yasqe.refresh();t.store()}});i(c.yasqe.getWrapperElement()).find(".ui-resizable-s").click(function(){i(c.yasqe.getWrapperElement()).css("height","auto");u.yasqe.height="auto";t.store()})}a.YASQE.positionButtons(c.yasqe)};c.beforeShow=function(){E()};c.refreshYasqe=function(){if(c.yasqe){i.extend(!0,c.yasqe.options,c.persistentOptions.yasqe);c.persistentOptions.yasqe.value&&c.yasqe.setValue(c.persistentOptions.yasqe.value)}};c.destroy=function(){c.yasr||(c.yasr=a.YASR(y[0],{outputPlugins:[]},""));o.storage.removeAll(function(e,t){return 0==e.indexOf(c.yasr.getPersistencyId(""))})};c.getEndpoint=function(){var e=null;o.nestedExists(c.persistentOptions,"yasqe","sparql","endpoint")&&(e=c.persistentOptions.yasqe.sparql.endpoint);return e};return c};l.prototype=new r},{"./main.js":313,"./shareLink":314,"./tabPaneMenu.js":317,"./utils.js":319,events:62,jquery:73,underscore:246,"yasgui-utils":255}],317:[function(e,t,n){"use strict";var i=e("jquery"),r=e("./imgs.js"),o=(e("selectize"),e("yasgui-utils"));t.exports=function(e,t){var n,s,a,l,u,c,f,p,h=null,d=null,g=null,m=null,v=null,y=function(){h=i("<nav>",{"class":"menu-slide",id:"navmenu"});h.append(i(o.svg.getElement(r.yasgui)).addClass("yasguiLogo").attr("title","About YASGUI").click(function(){window.open("http://about.yasgui.org","_blank")}));d=i("<div>",{role:"tabpanel"}).appendTo(h);g=i("<ul>",{"class":"nav nav-pills tabPaneMenuTabs",role:"tablist"}).appendTo(d);m=i("<div>",{"class":"tab-content"}).appendTo(d);var y=i("<li>",{role:"presentation"}).appendTo(g),b="yasgui_reqConfig_"+t.persistentOptions.id;y.append(i("<a>",{href:"#"+b,"aria-controls":b,role:"tab","data-toggle":"tab"}).text("Configure Request").click(function(e){e.preventDefault();i(this).tab("show")}));var x=i("<div>",{id:b,role:"tabpanel","class":"tab-pane requestConfig container-fluid"}).appendTo(m),_=i("<div>",{"class":"reqRow"}).appendTo(x);i("<div>",{"class":"rowLabel"}).appendTo(_).append(i("<span>").text("Request Method"));n=i("<button>",{"class":"btn btn-default ","data-toggle":"button"}).text("POST").click(function(){n.addClass("active");s.removeClass("active")});s=i("<button>",{"class":"btn btn-default","data-toggle":"button"}).text("GET").click(function(){s.addClass("active");n.removeClass("active")});i("<div>",{"class":"btn-group col-md-8",role:"group"}).append(s).append(n).appendTo(_);var E=i("<div>",{"class":"reqRow"}).appendTo(x);i("<div>",{"class":"rowLabel"}).appendTo(E).text("Accept Headers");a=i("<select>",{"class":"acceptHeader"}).append(i("<option>",{value:"application/sparql-results+json"}).text("JSON")).append(i("<option>",{value:"application/sparql-results+xml"}).text("XML")).append(i("<option>",{value:"text/csv"}).text("CSV")).append(i("<option>",{value:"text/tab-separated-values"}).text("TSV"));i("<div>",{"class":"col-md-4",role:"group"}).append(i("<label>").text("Ask / Select").append(a)).appendTo(E);a.selectize();l=i("<select>",{"class":"acceptHeader"}).append(i("<option>",{value:"text/turtle"}).text("Turtle")).append(i("<option>",{value:"application/rdf+json"}).text("JSON")).append(i("<option>",{value:"application/rdf+xml"}).text("RDF-XML")).append(i("<option>",{value:"application/trig"}).text("TriG")).append(i("<option>",{value:"application/n-triples"}).text("N-Triples")).append(i("<option>",{value:"application/n-quads"}).text("N-Quads")).append(i("<option>",{value:"text/csv"}).text("CSV")).append(i("<option>",{value:"text/tab-separated-values"}).text("TSV"));i("<div>",{"class":"col-md-4",role:"group"}).append(i("<label>").text("Construct / Describe").append(l)).appendTo(E);l.selectize();var w=i("<div>",{"class":"reqRow"}).appendTo(x);i("<div>",{"class":"rowLabel"}).appendTo(w).text("URL Arguments");u=i("<div>",{"class":"col-md-8",role:"group"}).appendTo(w);var T=i("<div>",{"class":"reqRow"}).appendTo(x);i("<div>",{"class":"rowLabel"}).appendTo(T).text("HTTP Headers");c=i("<div>",{"class":"col-md-8",role:"group"}).appendTo(T);var S=i("<div>",{"class":"reqRow"}).appendTo(x);i("<div>",{"class":"rowLabel"}).appendTo(S).text("Default graphs");f=i("<div>",{"class":"col-md-8",role:"group"}).appendTo(S);var C=i("<div>",{"class":"reqRow"}).appendTo(x);i("<div>",{"class":"rowLabel"}).appendTo(C).text("Named graphs");p=i("<div>",{"class":"col-md-8",role:"group"}).appendTo(C);var y=i("<li>",{role:"presentation"}).appendTo(g),L="yasgui_history_"+t.persistentOptions.id;y.append(i("<a>",{href:"#"+L,"aria-controls":L,role:"tab","data-toggle":"tab"}).text("History").click(function(e){e.preventDefault();i(this).tab("show")}));var N=i("<div>",{id:L,role:"tabpanel","class":"tab-pane history container-fluid"}).appendTo(m);v=i("<ul>",{"class":"list-group"}).appendTo(N);if(e.options.api.collections){var y=i("<li>",{role:"presentation"}).appendTo(g),I="yasgui_collections_"+t.persistentOptions.id;y.append(i("<a>",{href:"#"+I,"aria-controls":I,role:"tab","data-toggle":"tab"}).text("Collections").click(function(e){e.preventDefault();i(this).tab("show")}));var x=i("<div>",{id:I,role:"tabpanel","class":"tab-pane collections container-fluid"}).appendTo(m)}return h},b=function(e,t,n,r){for(var o=i("<div>",{"class":"textInputsRow"}),s=0;s<t;s++){var a=r&&r[s]?r[s]:"";i("<input>",{type:"text"}).val(a).keyup(function(){var n=!1;e.find(".textInputsRow:last input").each(function(e,t){i(t).val().trim().length>0&&(n=!0)});n&&b(e,t,!0)}).css("width",92/t+"%").appendTo(o)}o.append(i("<button>",{"class":"close",type:"button"}).text("x").click(function(){i(this).closest(".textInputsRow").remove()}));n?o.hide().appendTo(e).show("fast"):o.appendTo(e)},x=function(){0==h.find(".tabPaneMenuTabs li.active").length&&h.find(".tabPaneMenuTabs a:first").tab("show");var r=t.persistentOptions.yasqe;"POST"==r.sparql.requestMethod.toUpperCase()?n.addClass("active"):s.addClass("active");l[0].selectize.setValue(r.sparql.acceptHeaderGraph);a[0].selectize.setValue(r.sparql.acceptHeaderSelect);u.empty();r.sparql.args&&r.sparql.args.length>0&&r.sparql.args.forEach(function(e){var t=[e.name,e.value];b(u,2,!1,t)});b(u,2,!1);c.empty();i.isEmptyObject(r.sparql.headers)||i.each(r.sparql.headers,function(e,t){b(c,2,!1,[e,t])});b(c,2,!1);f.empty();r.sparql.defaultGraphs&&r.sparql.defaultGraphs.length>0&&b(f,1,!1,r.sparql.defaultGraphs);b(f,1,!1);p.empty();r.sparql.namedGraphs&&r.sparql.namedGraphs.length>0&&b(p,1,!1,r.sparql.namedGraphs);b(p,1,!1);v.empty();0==e.history.length?v.append(i("<a>",{"class":"list-group-item disabled",href:"#"}).text("No items in history yet").click(function(e){e.preventDefault()})):e.history.forEach(function(t){var n=t.options.yasqe.sparql.endpoint;t.resultSize&&(n+=" ("+t.resultSize+" results)");v.append(i("<a>",{"class":"list-group-item",href:"#",title:t.options.yasqe.value}).text(n).click(function(n){var r=e.tabs[t.options.id];i.extend(!0,r.persistentOptions,t.options);r.refreshYasqe();e.store();h.closest(".tab-pane").removeClass("menu-open");n.preventDefault()}))})},_=function(){var r=t.persistentOptions.yasqe.sparql;n.hasClass("active")?r.requestMethod="POST":s.hasClass("active")&&(r.requestMethod="GET");r.acceptHeaderGraph=l[0].selectize.getValue();r.acceptHeaderSelect=a[0].selectize.getValue();var o=[];u.find("div").each(function(e,t){var n=[];i(t).find("input").each(function(e,t){n.push(i(t).val())});n[0]&&n[0].trim().length>0&&o.push({name:n[0],value:n[1]?n[1]:""})});r.args=o;var h={};c.find("div").each(function(e,t){var n=[];i(t).find("input").each(function(e,t){n.push(i(t).val())});n[0]&&n[0].trim().length>0&&(h[n[0]]=n[1]?n[1]:"")});r.headers=h;var d=[];f.find("div").each(function(e,t){var n=[];i(t).find("input").each(function(e,t){n.push(i(t).val())});n[0]&&n[0].trim().length>0&&d.push(n[0])});r.defaultGraphs=d;var g=[];p.find("div").each(function(e,t){var n=[];i(t).find("input").each(function(e,t){n.push(i(t).val())});n[0]&&n[0].trim().length>0&&g.push(n[0])});r.namedGraphs=g;e.store();t.setPersistentInYasqe()};return{initWrapper:y,updateWrapper:x,store:_}}},{"./imgs.js":308,jquery:73,selectize:214,"yasgui-utils":255}],318:[function(e,t,n){var i=e("yasgui-utils"),r=e("./imgs.js"),o=e("jquery");t.exports=function(e){var t=!!e.options.tracker.googleAnalyticsId,n=!0,s="yasgui_"+o(e.wrapperElement).closest("[id]").attr("id")+"_trackerId",a=function(){
var e=i.storage.get(s);if(null===e)u();else{e=+e;if(0===e){t=!1;n=!1}else if(1===e){t=!0;n=!1}else if(2==e){t=!0;n=!0}}},l=function(){if(e.options.tracker.googleAnalyticsId){a();(function(e,t,n,i,r,o,s){e.GoogleAnalyticsObject=r;e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date;o=t.createElement(n),s=t.getElementsByTagName(n)[0];o.async=1;o.src=i;s.parentNode.insertBefore(o,s)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create",e.options.tracker.googleAnalyticsId,"auto");ga("send","pageview")}},u=function(){var t=o("<div>",{"class":"consentWindow"}).appendTo(e.wrapperElement),n=function(){t.hide(400)},l=function(e){var t="no";2==e?t="yes":1==e&&(t="yes/no");c("consent",t);i.storage.set(s,e);a()};t.append(o("<div>",{"class":"consentMsg"}).html("We track user actions (including used endpoints and queries). This data is solely used for research purposes and to get insight into how users use the site. <i>We would appreciate your consent!</i>"));o("<div>",{"class":"buttons"}).appendTo(t).append(o("<button>",{type:"button","class":"btn btn-default"}).append(o(i.svg.getElement(r.checkMark)).height(11).width(11)).append(o("<span>").text(" Yes, allow")).click(function(){l(2);n()})).append(o("<button>",{type:"button","class":"btn btn-default"}).append(o(i.svg.getElement(r.checkCrossMark)).height(13).width(13)).append(o("<span>").html(" Yes, track site usage, but not<br>the queries/endpoints I use")).click(function(){l(1);n()})).append(o("<button>",{type:"button","class":"btn btn-default"}).append(o(i.svg.getElement(r.crossMark)).height(9).width(9)).append(o("<span>").text(" No, disable tracking")).click(function(){l(0);n()})).append(o("<button>",{type:"button","class":"btn btn-default"}).text("Ask me later").click(function(){n()}))},c=function(e,n,i,r,o){t&&ga&&ga("send","event",e,n,i,r,{nonInteraction:!!o})};l();return{enabled:t,track:c,drawConsentWindow:u}}},{"./imgs.js":308,jquery:73,"yasgui-utils":255}],319:[function(e,t,n){e("jquery");t.exports={escapeHtmlEntities:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;"},n=function(e){return t[e]||e};return e.replace(/[&<>]/g,n)}}},{jquery:73}],320:[function(e,t,n){var i=e("jquery"),r=t.exports=e("yasgui-yasqe");r.defaults=i.extend(!0,r.defaults,{persistent:null,consumeShareLink:null,createShareLink:null,sparql:{showQueryButton:!0,acceptHeaderGraph:"text/turtle",acceptHeaderSelect:"application/sparql-results+json"}})},{jquery:73,"yasgui-yasqe":272}],321:[function(e,t,n){e("jquery"),e("./main.js"),t.exports=e("yasgui-yasr")},{"./main.js":313,jquery:73,"yasgui-yasr":293}]},{},[307])(307)});
//# sourceMappingURL=yasgui.min.js.map

;
//# sourceMappingURL=scripts.js.map